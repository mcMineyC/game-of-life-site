window.h||(window.h=!0,function(){function Ia(a,b,c,d){a.addEventListener?a.addEventListener(b,c,d):a.attachEvent("on"+b,c)}function qc(a,b,c){this.dataType=a;this.name=c;this.elements=b;this.size=b*ra.no(a);this.ao=1}function gb(){this.i=[];this.m=this.s=this.l=this.o=0}function lb(a,b,c,d,f){this.D=f;this.F=a;this.K=b;this.Y=c;this.message="";this.v=a;this.B=b;this.W=c;this.i="";this.u=this.s=!1;this.h=d;this.P=!1;this.C=this.startTime=0;this.m="rgb(32,255,255)";this.A="white";this.l=0;this.M=!1;
this.ba=this.X="black";this.T=!1;this.o=1}function rc(a,b,c,d){this.name=a;this.width=b;this.height=c;this.ao=d}function rb(a,b){this.i=b;this.A=a;this.height=this.width=0;this.F=this.s=this.C=this.m=this.l=null;this.v=[];this.o=!0;this.K=this.O=4294967295;this.M=this.P=0;this.re=!1;this.u=1}function Wa(a,b,c,d,f,e,k,g,l,p,n,q,m,r,u,t,v,A,w){this.id=a;this.ra=w;this.R=null;this.F=-1;this.G=this.fa=!1;this.v=b;this.caller=c;this.h=A;this.x=f;this.y=e;this.Z=f;this.O=e;this.position=d;this.width=k;
this.height=g;this.M=k;this.ja=g;this.type=q;this.orientation=m;m===da.us&&(this.orientation=k>=g?da.qe:da.vertical);this.V=this.orientation;this.lower=l;this.s=p;q===da.Xl?this.current=[n,n]:this.current=n;this.ta=r;this.wb=u;this.sa=t;this.ca=v;this.ha=!1;this.na=this.ma=-1;this.i=da.iy;this.B=!0;this.K=this.locked=!1;this.m=[];if(this.type===da.list)for(a=0;a<l.length;a+=1)this.m[a]=!1;this.$=[];this.ia=0;this.mc=w.mc;this.u=w.W;if(q===da.list)for(this.P=[],a=0;a<l.length;a+=1)this.P[a]=this.mc;
this.A=w.da;this.X=w.P;this.Y=w.ea;this.da=w.pa;this.ka=w.ha;this.pa=w.ra;this.C=w.fa;this.T=w.qa;this.W=w.ba;this.ba=w.la;this.border=w.border;this.fontSize=parseInt(w.X.substring(0,w.X.indexOf("px")),10);this.oa=w.X.substring(w.X.indexOf("px")+3);this.la=null}function Va(a,b,c,d,f,e){this.U=a;this.h=f;this.C=this.s=1;this.X=e;this.locked=this.G=!1;this.B=this.v=-1;this.ca=this.A=!1;this.ua=this.ta=-1;this.wa=6;this.oa=b;this.u=[];this.o=0;this.mc="";this.W=0;this.da="";this.P=0;this.ea="";this.pa=
0;this.ha="";this.ra=0;this.fa="";this.qa=0;this.ba="";this.border=this.la=0;this.V=da.us;this.M=this.K=-1;this.O=this.ka=null;this.Z=c;this.caller=d;this.Y=null;this.ja=this.ia=this.sa="auto"}function Ja(a,b,c,d,f,e){var k=this,g=0;this.Ga=1;this.rc=xa.rc;this.Ma=this.Va=!0;this.Ta=this.Ua=40;this.v=0;this.qa=this.ra=this.xa=-1;this.Y=!1;this.caller=f;this.ta=this.W=this.cb=this.ba=!1;this.eb=4;this.pb=e;this.o=this.ia=!1;this.ha=!0;this.ya=!1;this.M=1;this.wa=8;this.La="rgb(32,255,255)";this.mc=
"black";this.Aa=.7;this.Ka="#000000";this.A="white";this.Fb=1;this.ib=this.lb=this.mb=0;this.bb="rgb(0,240,32)";this.Gb=.7;this.Fa="blue";this.Nb=.7;this.$="grey";this.Mb=1;this.Ba="rgb(32,255,255)";this.border=this.ab=1;this.fb=function(l){return function(){l.ec(l)}}(this);this.Kb=d;this.P=a;this.s=b;this.ea=!1;this.V=this.T=-1;this.u=!1;this.O=this.C=this.Z=this.K=this.m=this.l=-1;this.h=this.ma=null;this.sa=c;this.F=this.B=!1;this.Ea=performance.now();this.pa=0;this.Na=[];this.Qa=[];this.gq=[];
for(g=0;5>g;g+=1)this.Na[g]=0,this.Qa[g]=0,this.gq[g]=0;this.ka=null;this.i=!1;this.notification=new lb(25,100,25,b,this);this.notification.m=this.A;this.notification.A=this.A;this.Pa=performance.now();this.Da=this.Za=!1;this.oa=[];this.da=this.la=0;Ia(a,"mousedown",function(l){k.Tb(k,l)},!1);Ia(a,"mousemove",function(l){k.Ub(k,l)},!1);Ia(a,"mouseup",function(l){k.Xb(k,l)},!1);Ia(a,"mouseover",function(l){k.Wb(k,l)},!1);Ia(a,"mouseout",function(l){k.Vb(k,l)},!1);Ia(a,"touchstart",function(l){k.ua(k,
l)},!1);Ia(a,"touchmove",function(l){k.ua(k,l)},!1);Ia(a,"touchend",function(l){k.ua(k,l)},!1);Ia(a,"touchcancel",function(l){k.ua(k,l)},!1);this.Bb()}function hc(a,b,c,d,f,e){this.qo=a;this.ro=b;this.width=c;this.height=d;this.qG=f;this.sD=e}function ua(){this.time=0;this.ba=this.Na=this.va=!1;this.ic="none";this.Pa=22;this.Qa=6;this.xa=8;this.N="";this.Qb="0123456789xyz";this.Ob="0123";this.Rb="0123456789";this.Ec=this.Dc="0123456";this.Cc="0123456789";this.Fc="0123";this.ge=1038;this.ke=7157;this.he=
5454;this.ie=2741;this.$d=3775;this.je=4420;this.le="0123";this.Bc="0123456omp-";this.Kc="01234";this.Ac=["ce","ceaikn","ceaiknjqry","ceaiknjqrytwz"];this.Rd=[[[6,36,160,192,72,10],[132,96,136,66,12,34],[68,40,130]],[[38,164,224,200,74,14],[44,162,196,104,138,70,100,168,194,76,42,134],[140,98]],[[166,228,232,202,78,46],[172,226,204,106,142,102],[108,170,198]]];this.hb=" ce ceaikn ceaiknjqry ceaiknjqrytwz ceaiknjqry ceaikn ce ".split(" ");this.gb="  omp omp omp  ".split(" ");this.Kd=[0,2,6,10,13,10,
6,2,0];this.Md=[[0],[0,1],[2,0,1,3,4,5],[2,0,1,3,6,4,5,7,8,9],[2,0,1,3,6,4,5,7,8,10,11,9,12],[2,0,1,3,6,4,5,7,8,9],[2,0,1,3,4,5],[0,1],[0]];this.ce=[[1,2],[5,10,3,40,33,68],[69,42,11,7,98,13,14,70,41,97],[325,170,15,45,99,71,106,102,43,101,105,78,108]];this.Z=new Uint32Array(256);this.Nb=new Uint8Array(8192);this.Mb=new Uint8Array(8192);this.o=new Uint8Array(512);this.qa=new Uint8Array(512);this.Zd=new Uint16Array(512);this.ij=this.$a=!1;this.Ea="l";this.Da="le";this.Fa="lv";this.cb="li";this.eb=
"lo";this.bb="lb";this.fb="lr";this.Ma="h";this.Gb="ht";this.ib="v";this.Ia=!1;this.Fb=0;this.lb=!1;this.Wa=this.Va=0;this.Ga=!1;this.i=this.Ta=this.Ua=this.h=0;this.m=1;this.X=2;this.P=3;this.V=4;this.W=5;this.Y=6;this.F=7;this.O=8;this.T=9;this.B=11;this.v=12;this.K=13;this.u=14;this.s=16;this.M=17;this.ea=this.fa=Ba.fq;this.da=0;this.ja=1;this.ka=2;this.sa=3;this.ta=4;this.ra=5;this.ua=6;this.na=0;this.oa=1;this.$=!1;this.ha=[];this.ha[Ba.Si]="vonneumann";this.ha[Ba.Bg]="moore";this.ha[Ba.Ag]=
"hexagonal";this.ha[Ba.yj]="onedimensional";this.ya=[];this.ya[Ba.Si]=5;this.ya[Ba.Bg]=9;this.ya[Ba.Ag]=7;this.ya[Ba.yj]=3;this.ia=[];this.ia[Ba.Si]=["none","rotate4","rotate4reflect","reflect_horizontal","permute"];this.ia[Ba.Bg]="none rotate4 rotate8 rotate4reflect rotate8reflect reflect_horizontal permute".split(" ");this.ia[Ba.Ag]="none rotate2 rotate3 rotate6 rotate6reflect permute".split(" ");this.ia[Ba.yj]=["none","reflect","permute"];this.Aa=[];this.Aa[Ba.Si]=[[[0,1,2,3,4,5],[0,2,3,4,1,5],
[0,3,4,1,2,5],[0,4,1,2,3,5]],[[0,1,2,3,4,5],[0,2,3,4,1,5],[0,3,4,1,2,5],[0,4,1,2,3,5],[0,4,3,2,1,5],[0,3,2,1,4,5],[0,2,1,4,3,5],[0,1,4,3,2,5]],[[0,1,2,3,4,5],[0,1,4,3,2,5]]];this.Aa[Ba.Bg]=[[[0,1,2,3,4,5,6,7,8,9],[0,3,4,5,6,7,8,1,2,9],[0,5,6,7,8,1,2,3,4,9],[0,7,8,1,2,3,4,5,6,9]],[[0,1,2,3,4,5,6,7,8,9],[0,2,3,4,5,6,7,8,1,9],[0,3,4,5,6,7,8,1,2,9],[0,4,5,6,7,8,1,2,3,9],[0,5,6,7,8,1,2,3,4,9],[0,6,7,8,1,2,3,4,5,9],[0,7,8,1,2,3,4,5,6,9],[0,8,1,2,3,4,5,6,7,9]],[[0,1,2,3,4,5,6,7,8,9],[0,3,4,5,6,7,8,1,2,9],
[0,5,6,7,8,1,2,3,4,9],[0,7,8,1,2,3,4,5,6,9],[0,1,8,7,6,5,4,3,2,9],[0,7,6,5,4,3,2,1,8,9],[0,5,4,3,2,1,8,7,6,9],[0,3,2,1,8,7,6,5,4,9]],[[0,1,2,3,4,5,6,7,8,9],[0,2,3,4,5,6,7,8,1,9],[0,3,4,5,6,7,8,1,2,9],[0,4,5,6,7,8,1,2,3,9],[0,5,6,7,8,1,2,3,4,9],[0,6,7,8,1,2,3,4,5,9],[0,7,8,1,2,3,4,5,6,9],[0,8,1,2,3,4,5,6,7,9],[0,8,7,6,5,4,3,2,1,9],[0,7,6,5,4,3,2,1,8,9],[0,6,5,4,3,2,1,8,7,9],[0,5,4,3,2,1,8,7,6,9],[0,4,3,2,1,8,7,6,5,9],[0,3,2,1,8,7,6,5,4,9],[0,2,1,8,7,6,5,4,3,9],[0,1,8,7,6,5,4,3,2,9]],[[0,1,2,3,4,5,
6,7,8,9],[0,1,8,7,6,5,4,3,2,9]]];this.Aa[Ba.yj]=[[[0,1,2,3],[0,2,1,3]]];this.Aa[Ba.Ag]=[[[0,1,2,3,4,5,6,7],[0,4,5,6,1,2,3,7]],[[0,1,2,3,4,5,6,7],[0,3,4,5,6,1,2,7],[0,5,6,1,2,3,4,7]],[[0,1,2,3,4,5,6,7],[0,2,3,4,5,6,1,7],[0,3,4,5,6,1,2,7],[0,4,5,6,1,2,3,7],[0,5,6,1,2,3,4,7],[0,6,1,2,3,4,5,7]],[[0,1,2,3,4,5,6,7],[0,2,3,4,5,6,1,7],[0,3,4,5,6,1,2,7],[0,4,5,6,1,2,3,7],[0,5,6,1,2,3,4,7],[0,6,1,2,3,4,5,7],[0,6,5,4,3,2,1,7],[0,5,4,3,2,1,6,7],[0,4,3,2,1,6,5,7],[0,3,2,1,6,5,4,7],[0,2,1,6,5,4,3,7],[0,1,6,5,4,
3,2,7]]];this.C=!1;this.Za=""}function kb(a,b){this.S=null;this.U=b;this.Ta="";this.mb=!1;this.Ua=this.Va=this.Na=-1;b=a.lastIndexOf(".");-1!==b&&(a=a.substring(0,b));this.name=a;this.Fa=this.ya=0;this.ba=this.M=this.l=-1;this.Ba=this.Aa=0;this.Mb=this.Gb=!1;this.Kb=!0;this.Qa=this.P=this.h=this.Ea="";this.ga=this.La=this.O=this.B=this.F=this.fa=this.ja=this.ea=!1;this.sa=this.U.na;this.o=!1;this.X=this.U.da;this.pa=-1;this.Y=this.ka=!1;this.v=-1;this.va=1;this.na=this.Qb=this.Rb=this.Tb=this.Ub=
this.da=this.W=this.Z=this.K=-1;this.YA=this.Ca=!1;this.u=-1;this.Ka=this.Ja=this.V=this.C=null;this.fb=this.i=this.m=-1;this.xa=this.wa=1;this.ia="";this.oa=-1;this.$="";this.Bb=this.Ab=null;this.height=this.width=0;this.ca=this.T=null;this.ra=this.s=this.title="";this.Ob=[];this.lb=[];this.ib=[];this.Za="";this.A=2;this.Ma=0;this.qa=this.ua=!1;this.pb=this.vb="";this.la=-1;this.Nb=!1;this.ta=this.Pa=this.cb=this.hb=this.eb=-1;this.ha=this.Ia=null;this.Ga=this.gb=0;this.Da=this.ab=this.bb=null;this.Wa=
[];this.ma=null}function Sa(a,b,c,d){this.H=a;this.I=b;this.J=c;this.L=d}function sb(a,b,c){this.s=b;this.l=a.s[b];this.m=a.m[b];this.o=a.o[b];this.O=a.B[b];this.K=a.A[b];this.u=null;c&&(this.u=a.u[b]);this.i=new Sa(0,0,0,0);this.h=new Sa(0,0,0,0);this.C=this.A=this.M=this.counter=this.B=this.v=this.F=0;this.U=a}function db(a,b){this.S=a;this.h=[];this.l=[];this.s=[];this.m=[];this.o=[];this.B=[];this.A=[];this.u=[];this.C=0;this.i=-1;this.M=b;this.v=null}function Ea(a,b,c){this.S=a;this.g=b;this.U=
c;this.l=this.o=1;this.X=2;this.B=a.h(ra.Ra,0,"HROT.births");this.v=a.h(ra.Ra,0,"HROT.survivals");this.ba=a.h(ra.Ra,0,"HROT.altBirths");this.ca=a.h(ra.Ra,0,"HROT.altSurvivals");this.type=c.i;this.Nl=Array.matrix(ra.Ra,1,1,0,a,"HROT.neighbourhood");this.fa=a.h(ra.Mo,0,"HROT.neighbourList");this.h=Array.matrix(ra.Id,1,1,0,a,"HROT.counts");this.F=a.h(ra.kc,0,"HROT.widths");this.ma=a.h(ra.Ra,0,"HROT.colUsed");this.s=a.h(ra.Fp,0,"HROT.weightedNeighbourhood");this.A=null;this.Z=this.$=-1;this.ea=this.u=
this.m=this.P=0;this.ja=!1;this.K="";this.ka=-1;this.C=!1;this.O=new tb;this.O.re(Date.now().toString());this.W=a.h(ra.$c,0,"HROT.birthChances");this.T=a.h(ra.$c,0,"HROT.suvivalChances");this.M=a.h(ra.$c,0,"HROT.immunityChances");this.V=!1;this.Y=this.ia=this.ha=-1}function ic(a,b){this.i=a;this.h=b}function Ma(a,b,c,d,f,e,k,g,l){this.name=a;this.tk=!1;this.A=10;this.s=this.o=0;this.u=d;this.i=c;this.h=b;this.v=f;this.m=e;this.l=k;this.C=g;this.F=!1;this.B=l;-1===this.m.i.h&&(this.F=!0);128<=(this.u.h+
this.u.l+this.u.i)/3?(this.o=G.aE,this.s=G.$D):(this.o=G.jt,this.s=G.it)}function S(a,b,c){this.h=a;this.l=b;this.i=c}function va(a,b){this.h=a;this.i=b}function pa(a,b,c,d,f,e,k){this.U=e;this.view=k;this.li=!1;this.th=this.Qf=this.sh=this.Ff=this.je=this.Pf=this.$e=this.Ze=this.zd=null;this.Dd=!1;this.Ic=document.createElement("canvas");this.Ic.width=1;this.Ic.height=1;this.Gf=this.Ic.getContext("2d",{willReadFrequently:!0});this.Mc=[];this.ej=0;this.uh=8;this.fc=0;this.Mg=this.Ng="";this.Sd=[];
this.Ce=-1;this.Hj=!1;this.Vc=this.fb=0;this.si=10;this.ri="";this.Kg=this.Yf=this.nf=0;this.ke=null;this.Wd=this.bc=this.Eh=0;this.Ka=null;this.Dk=this.Ek=this.Yh=this.ci=this.gg=0;this.$h=!0;this.S=new gb;this.Ge=[];this.Xb=!1;this.Sf=!0;this.Ec=!1;this.Kj=this.mi=this.oi=this.ni=this.Lg=this.Se=this.nc=this.Xg=this.kg=this.jg=this.ad=null;this.zh=new tb;this.zh.re(Date.now().toString());this.o=!1;this.wd=8;this.Ah=2;this.cj=0;this.Mf=-1;this.Hc=this.Ac=this.We=this.Ue=null;this.sd=[];this.Yb=null;
this.kh=this.Sc=this.rd=0;this.Te=!1;this.Ee=this.ac=this.rf=this.zi=this.de=null;this.ic=this.xf=0;this.De=this.Zg=null;this.Lf=this.Qc=-1;this.qf=this.cg=this.Vd=null;this.dd=!0;this.fd=this.lb=this.gb=this.Fb=this.bb=!1;this.bg=0;this.Ti=[];this.Ui=[];this.Wi=[];this.Xi=[];this.Mi=[];this.Pi=[];this.Qi=[];this.Ri=[];this.Th=[];this.Uh=[];this.Vh=[];this.Wh=[];this.Yi=[];this.Zi=[];this.$i=[];this.aj=[];this.Ye=[];this.xh=this.yh="";this.Zb=255;this.ec=null;this.oc=this.S.h(ra.Ra,65536,"Life.bitCounts16");
this.Mm();this.Jf=this.Ef=this.Dc=null;this.oa=this.ua=this.nd=this.Kf=this.Pg=this.Zf=this.eg=0;this.Ga=1;this.K=this.M=this.C=-1;this.Nd=this.Md=0;this.rh=this.Nf=!1;this.Of=!0;this.Ie=G.Ey;this.Mb=[];this.Nb=[];this.Mb[0]=this.S.h(ra.Id,I.Yl,"Life.boundaryX0");this.Nb[0]=this.S.h(ra.Id,I.Yl,"Life.boundaryY0");this.yd=0;this.xd=4294967295;this.qh="rgb(255,255,255)";this.ie=4286611584;this.ii="rgb(0,255,0)";this.bi="rgb(255,0,0)";this.ji="rgb(255,128,0)";this.i=this.Z=this.da=!1;this.Kd=-1;this.W=
!1;this.mh=this.U.da;this.ga=!1;this.jh=this.U.na;this.bd=this.Qg=this.ta=!1;this.h=-1;this.A=this.l=this.F=!1;this.ih=this.u=0;this.yc=this.Ca=!1;this.Fc=new db(this.S,this.oc);this.ff=I.rp;this.Ta=this.Ba=!1;this.pi=this.cb=this.na=this.v=null;this.nh=new Sa(0,0,0,0);this.Xh=new Sa(0,0,0,0);this.Na=null;this.gk=new Sa(0,0,0,0);this.hk=new Sa(0,0,0,0);this.width=d;this.height=f;this.ba=this.width>>4;this.ea=this.height>>4;this.bj=null;this.displayWidth=b;this.displayHeight=c;this.$=this.ma=this.s=
0;this.Ya=I.Ya;this.Af=I.Af;this.pe=I.pe;this.Ih=I.Ih;this.za=1;this.pb=-1;this.Ad=1;this.me=30;this.Jb=this.angle=this.counter=this.ge=this.Kb=0;this.zoom=6;this.ca=this.fa=0;this.Wb=.1;this.qa=0;this.P=1;this.Ub=this.Tb=0;this.sa=.1;this.tc=Ka.tc;this.la=[];this.od=this.hf=this.Rd=this.Bd=this.Xe=this.Hd=this.cd=this.Pc=this.ve=this.yf=this.ze=this.ce=this.Df=this.$d=this.Ld=this.Tc=null;this.ib=-1;this.$f=this.Cc=this.Xc=this.Cn=null;this.ha=a;this.ya=this.Aa=0;this.Ua=this.Va=this.xa=this.Ed=
this.grid=this.X=this.O=null;this.Ch=this.S.h(ra.kc,this.displayWidth,"Life.blankPixelRow");this.Dh=this.S.h(ra.Ra,(this.width-1>>3)+1,"Life.blankRow");this.he=this.S.h(ra.Ha,(this.width-1>>4)+1,"Life.blankRow16");this.Qa=this.S.h(ra.Ha,this.ba>>4,"Life.blankTileRow");this.pa=this.S.h(ra.Ra,this.width,"Life.blankColourRow");this.Uc=this.Zd=this.Gd=this.Kc=this.B=this.ra=this.Fe=this.dg=this.mb=this.Da=this.wa=this.we=this.Ea=this.va=this.ef=this.Y=this.m=null;this.ka=this.S.h(ra.Ra,256,"Life.redChannel");
this.ja=this.S.h(ra.Ra,256,"Life.greenChannel");this.ia=this.S.h(ra.Ra,256,"Life.blueChannel");this.Ma=this.S.h(ra.kc,256,"Life.pixelColours");this.Je=this.Fa=null;this.Yd=0;this.cc=!1;this.gf=0;this.hb=-1;this.Ud=this.eb=this.df=this.Td=this.Og=this.Wf=this.mf=this.Vf=null;this.Hf=this.S.h(ra.Ha,2*(this.Af+1)<<8,"Life.colourLookup16");this.hj=this.S.h(ra.Ha,2*(this.Af+1)<<9,"Life.colourLookup17");this.jj=this.S.h(ra.Ra,2048,"Life.colourReset");this.vb=G.jt;this.md=-1;this.zc=G.it;this.Cd=-1;this.La=
10;this.pc=!0;this.gl=10;this.ig=this.Rf=this.Wa=this.Ia=null;this.T=8192;this.Em=[0,0,48];this.Cm=[255,255,255];this.Am=[255,255,255];this.Gm=[0,255,0];this.Im=[255,0,0];this.jd=[0,0,48];this.hd=[255,255,255];this.gd=[255,255,255];this.kd=[0,255,0];this.ld=[255,0,0];this.V=new Ea(this.S,this,e);this.coords=this.S.h(ra.$c,1,"Life.coords");this.Vb=this.S.h(ra.kc,1,"Life.cellColours");this.Bb=0}function Na(a,b){for(var c=0,d=0,f=a.length,e,k=!1,g=!1,l=!1,p=0,n=new Uint32Array(f),q=new Uint16Array(f),
m=new Uint32Array(f),r=0,u=0;c<f;){e=a.charCodeAt(c);switch(e){case 32:case 13:case 9:case 123:case 125:!g&&k&&(n[p]=d,q[p]=c-d,m[p]=(r<<1)+1&u,p+=1,k=!1);break;case 44:b?!g&&k&&(n[p]=d,q[p]=c-d,m[p]=(r<<1)+1&u,p+=1,k=!1):k||(k=!0,u=0,g=!1,d=c);break;case 10:k&&(n[p]=d,q[p]=c-d,m[p]=(r<<1)+1&u,p+=1,k=!1);g=!1;b&&(0<p&&"\n"!==a[n[p-1]]&&(n[p]=c,q[p]=1,m[p]=0,p+=1),l=!1);break;case 58:case 61:b?g||(k&&(n[p]=d,q[p]=c-d,m[p]=(r<<1)+1&u,p+=1,k=!1),n[p]=c,q[p]=1,m[p]=0,p+=1):k||(k=!0,u=0,g=!1,d=c);break;
case 34:b?g||(l=!l,k||(k=!0,d=c)):k||(k=!0,u=0,d=c);break;case 35:b?l||g||(k&&(n[p]=d,q[p]=c-d,m[p]=(r<<1)+1&u,p+=1,k=!1),g=!0):k||(k=!0,u=0,g=!1,d=c);break;default:g||(k?48<=e&&57>=e?(r=10*r+e-48,1073741824<=r&&(u=0)):u=0:(k=!0,d=c,48<=e&&57>=e?(u=-1,r=e-48):u=0))}c+=1}k&&(n[p]=d,q[p]=c-d,m[p]=(r<<1)+1&u,p+=1);this.o=n.slice(0,p);this.A=q.slice(0,p);this.C=m.slice(0,p);this.current=0;this.source=a}function hb(a){this.U=a;this.l=this.wg=this.On=!1;this.h=Ta.tu;this.i=Ta.mp;this.Lb=this.jc=-1;this.Jb=
this.angle=this.y=this.x=0;this.depth=this.za=this.zoom=1;this.Gc=0;this.Rc=G.Nc;this.step=1;this.qd=this.wc=0;this.oe="";this.m=this.tk=this.Pq=this.Jj=this.Ij=this.Gj=this.Rq=this.GA=this.vp=this.Lh=this.Rh=this.te=this.Ve=this.ue=this.$g=this.fh=this.ee=this.Dg=this.ug=this.Oe=this.jf=this.grid=this.Ak=this.Gg=this.Fg=this.Eg=this.Ke=!1}function sc(a,b,c,d,f,e,k,g,l,p,n,q,m,r,u,t,v,A){this.C=A;this.coords=a;this.s=b;this.zoom=c;this.ob=d;this.Ib=f;this.o=e;this.alpha=k;this.size=g;this.h=l;this.m=
p;this.i=n;this.angle=q;this.u=m;this.B=r;this.l=u;this.v=t;this.A=v;-1E3===this.Ib&&-1E3===this.ob&&(this.ob=this.zoom/4,this.Ib=4*this.zoom)}function tc(a,b,c,d,f,e,k,g,l,p,n,q,m,r,u,t,v,A,w,z,D){this.O=D;this.B=a;this.F=b;this.C=c;this.K=d;this.zoom=f;this.ob=e;this.Ib=k;this.s=g;this.alpha=l;this.size=p;this.M=n;this.h=q;this.m=m;this.i=r;this.angle=u;this.o=t;this.A=v;this.l=A;this.u=w;this.v=z;-1E3===this.Ib&&-1E3===this.ob&&(this.ob=this.zoom/4,this.Ib=4*this.zoom)}function uc(a,b,c,d,f,e,
k,g,l,p,n,q,m,r,u,t,v,A,w,z){this.A=w;this.message="";this.h=this.l=this.m=this.C=this.s=-1;this.x=a;this.y=b;this.zoom=c;this.ob=d;this.Ib=f;this.u=e;this.alpha=k;this.size=g;this.T=l;this.i=p;this.B=n;this.o=q;this.angle=m;this.F=r;this.O=u;this.v=t;this.K=v;this.M=A;-1E3===this.Ib&&-1E3===this.ob&&(this.ob=this.zoom/4,this.Ib=4*this.zoom);this.P=z}function Aa(){this.h=[];this.i=[];this.m=[];this.o=[];this.s=[];this.current=new hb(this);this.$=new hb(this);this.F=new hb(this);this.M=!1;this.u=0;
this.K=this.P=!1}function ab(a,b){var c=this,d=a.getElementsByTagName("div")[0];this.s=!1;this.i=-1;this.o=1;this.l=a;this.view=b;this.D=b.D;this.top=this.left=0;""!==a.style.left&&(this.left=parseInt(a.style.left,10));""!==a.style.top&&(this.top=parseInt(a.style.top,10));this.h=this.m=!1;this.v=this.u=-1;this.B=0;Ia(d,"mousedown",function(f){c.V(c,f)},!1);Ia(document,"mousemove",function(f){c.W(c,f)},!1);Ia(document,"mouseup",function(f){c.X(c,f)},!1);Ia(d,"touchstart",function(f){c.A(c,f)},!1);
Ia(d,"touchmove",function(f){c.A(c,f)},!1);Ia(d,"touchend",function(f){c.A(c,f)},!1);Ia(window,"resize",function(){c.P(c)},!1)}function tb(){this.key=new Uint8Array(256);this.i=this.h=0}function Pb(a,b){this.vq=a;this.x=b.h(ra.$c,0,"Stars.x");this.y=b.h(ra.$c,0,"Stars.y");this.z=b.h(ra.$c,0,"Stars.z");this.h=new S(255,255,255);this.i=new tb;this.i.re(Date.now().toString());this.sin=b.h(ra.$c,0,"Stars.sin");this.cos=b.h(ra.$c,0,"Stars.cos");this.l=Math.PI/180;this.s=180/Math.PI;this.S=b;this.m=!1}
function Qb(a){this.buffer=a;this.i=0;this.m=8*this.buffer.length}function vc(a,b,c,d,f,e,k){this.name=a;this.pattern=b;this.UF=c;this.width=d;this.height=f;this.map=k}function ea(a){var b;this.Nk=this.Mk=this.Ie=null;this.zx="";this.me=!1;this.Wk=this.Uk=this.Vk=this.Tk=this.wv=this.wu=this.gv=this.lu=0;this.u=Ka.Ds?G.gD:G.mD;this.C=Ka.Ds?G.mF:G.VC;this.Vt=this.an=this.ir=this.lm=this.Io=this.uv=this.cg=!1;this.uh=this.th=this.vh=!0;this.Ug=0;this.gB=this.eB=!0;this.rc=xa.rc;this.Gd=0;this.xx="";
this.Dl=this.Yr=this.Wn=this.Yf=this.Fb=-1;this.Me=[];this.tq=this.Zi=this.Hm=this.zr=this.ap=this.dn=!1;this.U=new ua;this.Rb=!1;this.bo=this.ko=this.$n=this.ji=this.Sg=this.Tg=this.pm=this.hi=this.fo=this.mm=this.li=this.ki=this.nm=this.qb=this.ii=this.$r="";this.gb=!1;this.xl=this.kk=this.di=this.pk=this.sl=this.Gn=this.En=this.xn=this.sn=this.bi=this.Or=this.yr=this.ci=this.Qr=this.Gr=this.Mr=this.Kr=this.Ir=this.Er=this.Ar=this.mk=this.Ee=null;this.we=1;this.$k=this.cl=G.Fq;this.jj=50;this.zm=
this.xm=this.bl=!1;this.Uf=this.Ue=this.Te=-1;this.Vc=[];this.Kd=[];this.Ws=!1;this.Qo=this.nt=this.zs=this.yt=this.gs=null;this.gk=18;this.Zh="18px "+G.Py;this.rf="18px "+G.Ew;this.vi=window.devicePixelRatio?window.devicePixelRatio:1;this.Df=!0;this.gn=this.Wb=this.rd=this.Ye=this.ge=this.Xe=this.Ze=this.cf=this.$e=this.he=!1;this.Ua=[];for(b=0;b<=G.Ni;b+=1)this.Ua[b]=null;this.Jc=this.Bc=this.mb=0;this.ic=G.yq;this.wd=this.Bo=!1;this.ba=null;this.qa=!1;this.ca=new Sa(0,0,0,0);this.Qb=new Sa(0,0,
0,0);this.F=new tb;this.F.re(Date.now().toString());this.Ab=50;this.vA=this.pA=0;this.Sc=this.P=!1;this.Pf=2;this.Ob=[];this.Vg=this.ka=0;this.nh=[];this.Ka=0;this.xj=[];this.tj=0;this.ke=[];this.ke[G.Cp]=[1,0,0,1];this.ke[G.iw]=[-1,0,0,-1];this.ke[G.jw]=[-1,0,0,1];this.ke[G.kw]=[1,0,0,-1];this.ke[G.nw]=[0,1,1,0];this.ke[G.ow]=[0,-1,-1,0];this.ke[G.mw]=[0,-1,1,0];this.ke[G.lw]=[0,1,-1,0];this.Xd=[];this.mj=[];this.Ld=[];this.Tc=[];this.Pa=G.co;this.Je=0;this.Ok=-1;this.si=[];this.tt=this.et=this.Ud=
0;this.km=!1;this.Td=-1;this.Rn=!1;this.Na=this.Sf=this.Nf=this.Rf=this.Of=0;this.l=null;this.rm=0;this.Pr=!0;this.Ub=0;this.Re=1;this.Xf=this.Ur=this.Vd=this.Yg=!1;this.Zb=7;this.Bh=!0;this.zc=this.yc=0;this.zg=this.Hx=this.na=this.ni=63;this.Pg=this.tf=this.Rl=this.Wl=this.Fe=this.Ul=this.Ol=this.Zl=this.Ll=this.Qg=this.gm=this.cm=this.Ss=!1;this.ia=0;this.Be=null;this.Y=this.ea=0;this.Hn=!1;this.sa=this.ta=-999999;this.ph=-1;this.kj=Date.now().toString();this.lj=this.dl=this.Fk=this.Rv=!1;this.Bd=
G.tg;this.$d=!0;this.Da=!1;this.nd=!0;this.Va=G.Fy;this.Yb=!1;this.element=a;this.Ia=!1;this.Fh=this.ig=this.jg=this.wh=this.Om=this.Im=this.Mm=this.Km=0;this.Kb=this.Hh=this.cb=this.Eh=!1;this.dd=!0;this.Ad=this.Ce=!1;this.Ga=0;this.Dk=!1;this.nc=this.ac=0;this.fc=!1;this.N="";this.X=this.V=0;this.lr=this.jr=this.$i=this.dk=this.Th=this.aj=this.nf=this.mr=this.kr=this.Zf=this.Kf=this.Ch=this.bg=this.$f=this.Ac=-1;this.mo=this.bn=!1;this.Sl=this.Ec=-1;this.mh=!1;this.du=0;this.Ut=!0;this.zo=this.fa=
this.Sd=!1;this.ih=0;this.ad=this.kd=!1;this.Pc=this.Qc=null;this.Jh=G.Jh;this.ye=null;this.Kh=G.Kh;this.zd=[96,96,96];this.Gf=[128,128,128];this.Jf=[0,255,0];this.If=[255,0,0];this.lf=[255,128,0];this.fw=null;this.sd="";this.Fd=!0;this.Dc=this.$a=this.hb=!1;this.Md=null;this.td=!1;this.o=1;this.gj=0;this.Ta=this.Wr=!1;this.m=new Aa;this.Ge="";this.cs=-1;this.ec=this.Aa=!1;this.M=1;this.Vs=this.Wg=0;this.Ic=G.NE;this.od=this.bc=this.bb=this.Ma=this.vb=-1;this.Qk=this.bj="";this.Fo=this.dj=this.B=
this.A=0;this.cj=null;this.Tf=this.xa=this.W=this.Ek="";this.Hf=this.ua=!1;this.pa=[-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1];this.Um=this.Sm=-1;this.gw=G.lz;this.Qv=G.Hp;this.Aw=G.lA;this.wm="";this.AB=0;this.Qe=[];this.st=!1;this.O=null;this.Qm=[];this.Tb=[];this.s=this.$=0;this.pj=!1;this.oi=100;this.Ba=10;this.i=[64,200,290,530,700];this.xc=!1;this.v=[];this.qn=[];this.qm=[];this.jc=-1;this.Gb=!1;this.Lb=-1;this.on=this.Mj=this.hc=this.Mb=
this.La=this.wi=this.yo=this.Ja=this.bd=this.jd=this.K=this.eb=this.wa=!1;this.g=null;this.elapsedTime=0;this.displayWidth=640;this.displayHeight=512;this.Mf=640;this.Lf=512;this.Jo=!1;this.Zq=640;this.ej=!0;this.dg=this.gr=this.md=this.Hb=this.hj=!1;this.Wf=this.gg=this.pd=this.da=this.sf=this.$j=this.zh=this.Pd=this.vj=null;this.Dh=[];this.bx=0;this.ma=this.Qa=this.sj=this.qj=this.Rk=this.Uc=this.uf=this.Qj=this.Ik=this.Lk=this.Kk=this.Jk=this.Di=this.Ai=this.il=this.ml=this.fk=this.ek=this.ri=
this.Yj=this.bk=this.Xg=this.Wd=this.yh=this.oc=this.Ed=this.ra=this.$b=this.qg=this.Ae=this.ze=this.cd=this.Kc=this.Hd=this.Se=this.We=this.ib=this.mf=this.Bj=this.ed=this.qf=this.sm=this.om=this.Fm=this.Lm=this.Vl=this.Uh=this.yl=this.hn=this.Dm=this.en=this.cn=this.Hk=this.Yk=this.rj=this.$h=this.ld=this.ck=this.um=this.Pk=this.Pi=this.yd=this.Am=this.Xj=this.Em=this.fv=this.Jv=this.vv=this.Co=this.Gm=this.ct=this.mn=this.Lw=this.Nw=this.ai=this.fl=this.el=this.vs=this.pl=this.Bs=this.Bw=this.Hl=
this.Hj=this.Fl=this.rh=this.gi=this.ei=this.fi=this.ql=this.Dd=this.un=this.Xb=this.wr=this.De=this.Mi=this.Go=this.Qn=this.Cd=this.xh=this.ce=this.Gi=this.Hi=this.Gk=this.Xk=this.ve=this.vf=this.zt=this.qh=this.df=this.pf=this.Al=this.Yi=this.Nj=this.jh=this.Ef=this.Ff=this.Tj=this.Uj=this.rl=this.Vj=this.He=this.fd=this.de=this.gd=this.Xh=this.Hg=this.Wh=this.Yh=this.Kj=this.hk=this.jk=this.ik=this.Vm=this.Il=this.Ml=this.rn=this.hd=this.hr=this.eg=this.xf=this.Fc=this.kh=this.Kg=this.Mg=this.Lg=
this.Jg=this.Mn=this.Pn=this.Nn=this.Jn=this.Sr=this.Ig=this.zl=this.Og=this.El=this.Ng=this.Cl=this.mi=this.pi=this.pc=this.Zk=this.Jw=this.Wi=this.nj=this.fb=this.ab=this.Fa=this.dc=this.Wa=this.oa=this.nn=this.Ww=this.$w=this.Tw=this.Yw=null;this.Hc=this.Rg=-1;this.yi=0;this.ja=this.Ea=this.Yd=null;this.Z=G.Nc;this.h=this.D=null;this.pb=this.va=this.Xi=this.Ti=0;this.$m=this.ZA=1;this.Wm=G.Nc;this.Ui=this.Ym=1;this.Iw=.1;this.Kw=!1;this.ln=-1;this.Bb=this.ya=this.Qz=this.Pw=0;this.oj=1;this.ie=
this.ha=this.Ow=this.Mw=this.ar=!1;this.Vb=G.Hy;this.vr=this.xr=this.tr=this.zj=0;this.pn=this.xi=!1;this.Zd=this.Br=0;this.Za=this.uc=!1;this.Sk=-1}async function wc(a,b,c){try{const d=await navigator.clipboard.readText();a.RB(d,b,c)}catch(d){a.NB(b,c)}}async function xc(){return xa.jy}function Rb(a,b,c,d,f){var e,k=b.parentNode,g=null;for(e=0;e<xa.Oc.length&&!g;)xa.Oc[e][0].tabIndex===b.tabIndex?g=xa.Oc[e][1]:e+=1;g||(g=new ea(f),g.td=d,Ca.ep&&!d&&(g.Ic=c&-8,g.Ic<G.Yc&&(g.Ic=G.Yc)),b.tabIndex=xa.Oc.length+
1,"none"===k.style.display&&(xa.jo=new ab(k,g)),g.kF(b),xa.Oc[xa.Oc.length]=[b,g,xa.jo]);d||g.oh(a,!1)}function yc(){var a=document.getElementsByTagName("meta"),b,c;for(b=0;b<a.length;b+=1){var d=a[b];if(d.name===Ca.tagName&&(Ca.ot=!1,Ca.ep=!1,d=d.content,(c=d.match(/\S+/g))&&2<=c.length&&7>=c.length))for(Ca.Wp=c[0],Ca.eo=c[1],d=2;d<c.length;d+=1)switch(c[d]){case Ca.dE:Ca.ot=!0;break;case Ca.FE:Ca.ep=!0;break;case Ca.aF:Ca.kb=!0;break;case Ca.ED:Ca.fullScreen=!0;break;default:if("/"===c[d][0])Ca.Hv=
c[d];else if("."===c[d][0]||"?"===c[d][0])Ca.wA=c[d];else{var f=c[d];!isNaN(parseFloat(f))&&isFinite(Number(f))&&(Ca.zq=parseFloat(f)|0)}}}}function jc(a){a=a.parentNode;for(var b=!1;!b;)"div"!==a.localName||a.className!==Ca.Wp&&a.className!==Ca.Xp||(b=!0),b||(a=a.parentNode);return a}function Sb(){var a=xa.Oq(),b=a[1],c=a[2];a[0].parentNode.style.display="none";c.m=!1;b.Hb&&(b.$b.current=b.vd(G.ne,!0,b))}function kc(a){Sb();a.stopPropagation&&a.stopPropagation();a.preventDefault();return!1}function Bb(a){for(a=
a.innerHTML;-1!==a.indexOf("&amp;")||-1!==a.indexOf("&lt;")||-1!==a.indexOf("&gt;")||-1!==a.indexOf("&nbsp;");)a=a.replace(/&lt;/gi,"<").replace(/&gt;/gi,">").replace(/&amp;/gi,"&").replace(/&nbsp;/gi," ");a=a.replace(/<br *\/>/gi,"\n").replace(/<br>/gi,"\n").replace(/&nbsp;/gi," ").replace(/<span class="posthilit">/gi,"").replace(/<\/span>/gi,"").replace(/<font><\/font>/gi,"").trim();a=a.replace(/\n[ \t]+/g,"\n");""===a&&(a="!");return a}function ub(a){var b=jc(a);a=b.getElementsByTagName(Ca.eo)[0];
if(b=b.getElementsByTagName("canvas")[0])if(b=xa.zD(b.tabIndex))a.innerHTML=a.value,a=Bb(a),b.qb="",b.g.Zg=null,b.Uq(b),b.D.notification.clear(!0,!0),b.D.notification.clear(!1,!0),b.oh(a,!1)}function lc(a){var b=28,c=18,d=xa.Oq()[2];a.Qo.style.transform="scale("+a.we+","+a.we+")";a.Qo.style.transformOrigin="top left";a.resize();d.m=!0;d.P(d);1!==a.h.C&&(b=b*a.h.C|0,c=c*a.h.C|0,a.gs.style.height=b+"px",a.gs.style.fontSize=c+"px",a.nt.style.height=b+"px",a.nt.style.fontSize=c+"px",a.zs.style.height=
b+"px",a.zs.style.fontSize=c+"px",a.yt.style.height=b+"px",a.yt.style.lineHeight=b+"px");a.ja.canvas.focus();a.ja.canvas.blur();return a.tq=!1}function Cb(a){var b=jc(a);b=b.getElementsByTagName(Ca.eo)[0];a=Bb(b);var c=xa.Oq(),d;if(c)(d=c[2])&&d.reset(),d=c[1],d.element=b,d.Uq(d);else{c=document.createElement("canvas");c.width=G.Yc;c.height=G.vk+80;c.style.display="block";c.contentEditable="false";var f=document.createElement("a");f.setAttribute("href","#");f.innerHTML="&nbsp;X&nbsp;";f.style.textDecoration=
"none";f.style.fontFamily="Lucida Grande,Verdana,Helvetica,Arial,sans-serif";f.style.color="#FFFFFF";f.style.backgroundColor="#C75050";f.style.cssFloat="right";f.style.height="28px";f.style.fontSize="18px";var e=document.createElement("a");e.innerHTML="&nbsp;X&nbsp;";e.style.textDecoration="none";e.style.fontFamily="Lucida Grande,Verdana,Helvetica,Arial,sans-serif";e.style.visibility="hidden";e.style.cssFloat="left";e.style.height="28px";e.style.fontSize="18px";var k=document.createElement("div");
k.style.textAlign="center";k.style.color="rgb(83,100,130)";k.style.fontFamily="Arial, Verdana, Helvetica, sans-serif";k.style.fontSize="18px";k.style.height="28px";var g=document.createTextNode(G.So);k.style.cursor="default";k.appendChild(g);Ia(f,"click",kc,!1);Ia(f,"touchend",kc,!1);var l=document.createElement("div");l.style.display="none";l.style.position="fixed";l.style.border="1px solid rgb(128,128,128)";l.style.zIndex="101";l.style.left="2048px";l.style.top="0px";l.style.textAlign="right";l.style.boxShadow=
"0px 0px 3px 3px rgba(0,0,0,.3), 12px 12px 8px rgba(0,0,0,.5)";l.style.margin="1px";var p=document.createElement("div");p.className=Ca.Xp;p.style.backgroundColor="#FFFFFF";p.style.height="28px";p.style.lineHeight="28px";p.style.margin="0px";p.style.border="0px";p.appendChild(e);p.appendChild(f);p.appendChild(k);l.appendChild(p);l.appendChild(c);document.body.appendChild(l);Rb(a,c,G.Yc,!0,b);xa.Sv=xa.Oc.length-1;c=xa.Oq();d=c[1];d.fw=g;d.gs=f;d.nt=e;d.zs=k;d.yt=p;d.Qo=l}b=c[0].parentNode;""!==b.style.display&&
(b.style.display="");d.qb="";d.g.Zg=null;d.displayWidth=G.Yc;d.displayHeight=G.vk+80;d.resize();d.D.notification.clear(!0,!0);d.D.notification.clear(!1,!0);d.tq=!0;d.oh(a,!0);d.tq||lc(d)}function zc(a,b,c){a=a.getElementsByTagName("a")[0];var d=document.createElement("a"),f=null;d.setAttribute("href","#");d.innerHTML="Show Pattern Error";Ia(d,"click",function(e){e.stopPropagation&&e.stopPropagation();e.preventDefault();alert(c)},!1);a?(f=document.createTextNode(" / "),a.parentNode.appendChild(f),
a.parentNode.appendChild(d)):b.parentNode.appendChild(d)}function mc(a,b){var c=b[0],d=b[1],f=b[2];b=b[3];if(a&&a.T&&!a.ua)if(Ca.kb){var e=xa.se,k=xa.se.length,g=a.name,l=a.h+a.Qa,p=a.width,n=a.height,q=a.vb;a=a.ca;var m,r=Array.matrix(ra.Ra,a.length,a[0].length,0,xa.S,"OverviewMap");for(m=0;m<a.aa.length;m+=1)r.aa[m]=a.aa[m];e[k]=new vc(g,c,l,p,n,q,r);1===xa.se.length?(f.style.display="none",b&&(b.contentEditable="false",Rb(c,b,f.offsetWidth,!1,f))):d.style.display="none"}else null!==d&&(c=d.getElementsByTagName("a")[0],
d=document.createElement("a"),d.setAttribute("href","#"),d.innerHTML="Show in Viewer",Ia(d,"click",Ac,!1),c?(f=document.createTextNode(" / "),c.parentNode.appendChild(f),c.parentNode.appendChild(d)):f.parentNode.appendChild(d))}function nc(a,b){var c=b[0],d=b[1];b=b[2];a&&null!==d&&("#"!==c[0]||-1===c.indexOf("import "))&&zc(d,b,a.h+" - "+a.Ta)}function oc(a,b,c,d,f,e){b=c.create("",a,b,mc,nc,[a,d,f,e],null);!c.Na&&b&&(b.qa?(b.Ta=c.N,nc(b,[a,d,f,e])):mc(b,[a,d,f,e]))}function Ac(a){Cb(this);a.stopPropagation&&
a.stopPropagation();a.preventDefault();return!1}function Bc(a){var b=null;b=a.dataTransfer;var c=null,d=null;b&&0<b.files.length&&(b=b.files[0],c=new FileReader,c.onload=function(){var f=c.result,e=document.getElementById("rle");e&&(e.innerHTML=f,(d=document.getElementById("viewbutton"))&&ub(d))},c.readAsText(b));a.preventDefault();a.stopPropagation()}function Cc(){var a=document.getElementsByTagName("div"),b=0,c=null,d=c=null,f=null;f=null;d="";var e=null,k=b=null,g=null,l=null;b=b=null;var p=new gb,
n=new ua;console.time("LifeViewer page scan");yc();bb.re();for(b=0;b<a.length;b+=1)(e=a[b],e.className===Ca.Wp)?(c=e.getElementsByTagName(Ca.eo)[0],f=e.getElementsByTagName("canvas")[0],(d=c.getElementsByTagName(Ca.eo)[0])&&(c=d),Ka.Sq&&c&&(console.time("LifeViewer read embedded"),d=Bb(c),Ca.kb?oc(d,p,n,e,c,f):f&&f.getContext?(-1<Ca.zq&&c.clientHeight>Ca.zq&&(c.style.height=Ca.zq+"px"),f.contentEditable="false",Rb(d,f,c.offsetWidth,!1,c)):Ca.ot&&f&&(f.style.display="none"),console.timeEnd("LifeViewer read embedded"))):
Ka.Sq&&e.className===Ca.Xp&&e.parentNode.className!==Ca.Wp&&(c=e.getElementsByTagName(Ca.eo)[0])&&(console.time("LifeViewer read popup"),d=Bb(c),f=null,oc(d,p,n,e,c,null),console.timeEnd("LifeViewer read popup"));c=document.getElementsByTagName("a");for(b=0;b<c.length;b+=1)f=c[b],""!==f.accessKey&&-1!==G.UC.indexOf(f.accessKey)&&(f.accessKey="");if(k=document.getElementById("viewbutton"))if(Ia(k,"click",function(){ub(k)},!1),b=k.style,b.fontSize="24px",b.width="100px",b.height="66px",k.parentElement&&
(b=k.parentElement.style,b.verticalAlign="middle",b.padding="8px"),b=document.getElementById("ViewerCanvas"))Ia(b,"drop",function(q){Bc(q)},!1),Ia(b,"dragover",function(q){q.preventDefault()},!1);(g=document.getElementById("viewerview"))&&Ia(g,"click",function(){ub(g)},!1);(l=document.getElementById("viewerpopup"))&&Ia(l,"click",function(){Cb(l)},!1);if(b=document.getElementById("lvbuild"))b.innerHTML=String(G.Tq);console.timeEnd("LifeViewer page scan");Ca.kb&&(xa.Tl=!0,Xa.As())}var Ka={Sq:!1,js:!1,
ks:!1,tc:!1,copyWithin:!1,Ds:!1,Cn:null,Xc:null};window.performance||(window.performance={});window.performance.now||(window.performance.now=function(){return performance.now||performance.hH||performance.iH||performance.kH||performance.webkitNow||function(){return(new Date).getTime()}}());window.requestAnimationFrame||(window.requestAnimationFrame=window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame);window.Uint8Array?Ka.Sq=
!0:(Ka.Sq=!1,window.Uint8Array=Array);window.Uint8ClampedArray||(window.Uint8ClampedArray=window.Uint8Array);window.Uint16Array||(window.Uint16Array=Array);window.Uint32Array||(window.Uint32Array=Array);window.Int32Array||(window.Int32Array=Array);window.Int16Array||(window.Int16Array=Array);window.Int8Array||(window.Int8Array=Array);window.Uint8ClampedArray||(window.Uint8ClampedArray=Array);window.Float32Array||(window.Float32Array=Array);window.Float64Array||(window.Float64Array=Array);window.Uint32Array.prototype.fill?
Ka.js=!0:(Ka.js=!1,window.Uint32Array.prototype.fill=function(a,b,c){void 0===c&&(c=this.length);for(b=0;b<c;b+=1)this[b]=a});window.Uint16Array.prototype.fill||(window.Uint16Array.prototype.fill=function(a,b,c){void 0===c&&(c=this.length);for(b=0;b<c;b+=1)this[b]=a});window.Uint8Array.prototype.fill||(window.Uint8Array.prototype.fill=function(a,b,c){void 0===c&&(c=this.length);for(b=0;b<c;b+=1)this[b]=a});window.Uint8ClampedArray.prototype.fill||(window.Uint8ClampedArray.prototype.fill=function(a,
b,c){void 0===c&&(c=this.length);for(b=0;b<c;b+=1)this[b]=a});window.Int32Array.prototype.fill||(window.Int32Array.prototype.fill=function(a,b,c){void 0===c&&(c=this.length);for(b=0;b<c;b+=1)this[b]=a});window.Int16Array.prototype.fill||(window.Int16Array.prototype.fill=function(a,b,c){void 0===c&&(c=this.length);for(b=0;b<c;b+=1)this[b]=a});window.Int8Array.prototype.fill||(window.Int8Array.prototype.fill=function(a,b,c){void 0===c&&(c=this.length);for(b=0;b<c;b+=1)this[b]=a});window.Float32Array.prototype.fill||
(window.Float32Array.prototype.fill=function(a,b,c){void 0===c&&(c=this.length);for(b=0;b<c;b+=1)this[b]=a});window.Float64Array.prototype.fill||(window.Float64Array.prototype.fill=function(a,b,c){void 0===c&&(c=this.length);for(b=0;b<c;b+=1)this[b]=a});window.Int32Array.prototype.slice?Ka.ks=!0:(Ka.ks=!1,window.Int32Array.prototype.slice=function(a,b){void 0===b&&(b=this.length);var c=b-a;var d=new Int32Array(c);for(b=0;b<c;b+=1)d[b]=this[a+b];return d});window.Int16Array.prototype.slice||(window.Int16Array.prototype.slice=
function(a,b){void 0===b&&(b=this.length);var c=b-a;var d=new Int16Array(c);for(b=0;b<c;b+=1)d[b]=this[a+b];return d});window.Int8Array.prototype.slice||(window.Int8Array.prototype.slice=function(a,b){void 0===b&&(b=this.length);var c=b-a;var d=new Int8Array(c);for(b=0;b<c;b+=1)d[b]=this[a+b];return d});window.Uint32Array.prototype.slice||(window.Uint32Array.prototype.slice=function(a,b){void 0===b&&(b=this.length);var c=b-a;var d=new Uint32Array(c);for(b=0;b<c;b+=1)d[b]=this[a+b];return d});window.Uint16Array.prototype.slice||
(window.Uint16Array.prototype.slice=function(a,b){void 0===b&&(b=this.length);var c=b-a;var d=new Uint16Array(c);for(b=0;b<c;b+=1)d[b]=this[a+b];return d});window.Uint8Array.prototype.slice||(window.Uint8Array.prototype.slice=function(a,b){void 0===b&&(b=this.length);var c=b-a;var d=new Uint8Array(c);for(b=0;b<c;b+=1)d[b]=this[a+b];return d});window.Uint8ClampedArray.prototype.slice||(window.Uint8ClampedArray.prototype.slice=function(a,b){void 0===b&&(b=this.length);var c=b-a;var d=new Uint8ClampedArray(c);
for(b=0;b<c;b+=1)d[b]=this[a+b];return d});window.Float32Array.prototype.slice||(window.Float32Array.prototype.slice=function(a,b){void 0===b&&(b=this.length);var c=b-a;var d=new Float32Array(c);for(b=0;b<c;b+=1)d[b]=this[a+b];return d});window.Float64Array.prototype.slice||(window.Float64Array.prototype.slice=function(a,b){void 0===b&&(b=this.length);var c=b-a;var d=new Float64Array(c);for(b=0;b<c;b+=1)d[b]=this[a+b];return d});Ka.Xc=new Uint32Array(1);Ka.Xc[0]=4660;Ka.Cn=new Uint8Array(Ka.Xc.buffer);
Ka.tc=52===Ka.Cn[0]?!0:!1;Ka.Xc.copyWithin?Ka.copyWithin=!0:(window.Uint32Array.prototype.copyWithin=function(a,b,c){var d=!1;void 0===c&&(c=this.length);var f=c-b;if(b!==a)if((a>=b&&a<=c||a+f>=b&&a+f<=c)&&a>b&&(d=!0),d)for(c=f-1;0<=c;--c)this[a+c]=this[b+c];else for(c=0;c<f;c+=1)this[a+c]=this[b+c];return this},Ka.copyWithin=!1);var Tb=navigator.userAgent;-1!==Tb.indexOf("Safari/")&&-1===Tb.indexOf("Chrome/")&&-1===Tb.indexOf("Chromium/")&&(Ka.Ds=!0);var ra={Ra:8,Lx:40,Ha:9,kc:10,Fp:0,Mo:1,Id:2,
$c:18,ex:19,no:function(a){return 1<<(a&7)},KA:function(a){var b=(0!==(a&16)?"Float":0!==(a&8)?"Uint":"Int")+8*(1<<(a&7));0!==(a&32)&&(b+="Clamped");return b}};gb.prototype.B=function(a){var b="";0<=a&&a<this.i.length&&(a=this.i[a],b=ra.KA(a.dataType)+"\t"+a.elements+"\t"+a.name+"\t"+a.ao);return b};gb.prototype.u=function(a,b,c){for(var d=0,f=!1,e;d<this.i.length&&!f;)e=this.i[d],c===e.name?(f=!0,this.s+=1,this.m+=e.elements*ra.no(e.dataType)):d+=1;f?(this.i[d].dataType=a,this.i[d].elements=b,this.i[d].ao+=
1,this.i[d].size=b*ra.no(a)):(d=this.i.length,this.i[d]=new qc(a,b,c));this.o+=1;this.l+=b*ra.no(a)};gb.prototype.v=function(a,b,c,d,f){a=a.buffer;d*=ra.no(b);switch(b){case ra.Ra:c=new Uint8Array(a,d,c);break;case ra.Lx:c=new Uint8Array(a,d,c);break;case ra.Ha:c=new Uint16Array(a,d,c);break;case ra.kc:c=new Uint32Array(a,d,c);break;case ra.Fp:c=new Int8Array(a,d,c);break;case ra.Mo:c=new Int16Array(a,d,c);break;case ra.Id:c=new Int32Array(a,d,c);break;case ra.$c:c=new Float32Array(a,d,c);break;case ra.ex:c=
new Float64Array(a,d,c);break;default:c=null,alert("Illegal type specified to allocator.typedView for "+f+": "+b)}return c};gb.prototype.A=function(a,b,c){var d=null;try{switch(a){case ra.Ra:d=new Uint8Array(b);break;case ra.Lx:d=new Uint8Array(b);break;case ra.Ha:d=new Uint16Array(b);break;case ra.kc:d=new Uint32Array(b);break;case ra.Fp:d=new Int8Array(b);break;case ra.Mo:d=new Int16Array(b);break;case ra.Id:d=new Int32Array(b);break;case ra.$c:d=new Float32Array(b);break;case ra.ex:d=new Float64Array(b);
break;default:d=null,alert("Illegal type specified to allocator.typedMemory for "+c+": "+a)}}catch(f){alert("Failed to allocate "+b+" element "+ra.KA(a)+" array for "+c+"\n\n"+f)}return d};gb.prototype.h=function(a,b,c){var d=null;0<b&&(d=this.A(a,b,c));(d||0===b)&&this.u(a,b,c);return d};gb.prototype.TC=function(a,b,c,d){var f=null;0<b&&(f=this.A(a,b,c));(f||0===b)&&this.u(a,b*d,c);return f};Array.matrix=function(a,b,c,d,f,e){var k=0,g=[];g.S=f;g.dataType=a;g.aa=null;var l=f.h(a,b*c,e);g.aa=l;if(0<
c){for(;k<b;)g[k]=f.v(l,a,c,k*c,e),k+=1;0!==d&&l.fill(d)}return g};Array.No=function(a,b){b=a.S.TC(a.dataType,a[0].length,b,a.length+1);a[a.length]=b};Array.vg=function(a,b){b.aa.set(a.aa)};Array.ae=function(a,b,c){var d,f=b.length,e=[],k=b.S,g=b[0].length/ra.no(a);for(d=0;d<f;d+=1)e[d]=k.v(b.aa,a,g,d*g,c);return e};Array.Zt=function(a,b,c){var d,f=a.length,e=a.S,k=a.dataType,g=a[0].length;for(d=0;d<f;d+=1)e.v(a.aa,k,g-b,d*g+b,c)};var bb={Wc:[],Mv:[],re:function(){var a,b;this.Wc=[];this.Mv=[];var c=
this.Wc;var d=this.Mv;d.push("1D");c.push(["Wolfram 1D",""]);c.push(["Brownian motion","W54"]);c.push(["Fishing-net","W110"]);c.push(["Heavy triangles","W22"]);c.push(["Linear A","W90"]);c.push(["Linear B","W150"]);c.push(["Pascal's Triangle","W18"]);c.push(["Randomizer 1","W30"]);c.push(["Randomizer 2","W45"]);c.push(["Wolfram 22","W22"]);c.push(["Wolfram 30","W30"]);c.push(["Wolfram 110","W110"]);d.push("Margolus");c.push(["Margolus",""]);c.push(["BBM","M0,8,4,3,2,5,9,7,1,6,10,11,12,13,14,15"]);
c.push(["BounceGas","M0,8,4,3,2,5,9,14,1,6,10,13,12,11,7,15"]);c.push(["BounceGasII","M0,8,4,12,2,10,9,7,1,6,5,11,3,13,14,15"]);c.push(["Critters","M15,14,13,3,11,5,6,1,7,9,10,2,12,4,8,0"]);c.push(["HPP_Gas","M0,8,4,12,2,10,9,14,1,6,5,13,3,11,7,15"]);c.push(["MargSingRot","M0,2,8,3,1,5,6,7,4,9,10,11,12,13,14,15"]);c.push(["Rotations","M0,2,8,12,1,10,9,11,4,6,5,14,3,7,13,15"]);c.push(["RotationsII","M0,2,8,12,1,10,9,13,4,6,5,7,3,14,11,15"]);c.push(["RotationsIII","M0,4,1,10,8,3,9,11,2,6,12,14,5,7,13,15"]);
c.push(["RotationsIV","M0,4,1,12,8,10,6,14,2,9,5,13,3,11,7,15"]);c.push(["Sand","M0,4,8,12,4,12,12,13,8,12,12,14,12,13,14,15"]);c.push(["StringThing","M0,1,2,12,4,10,9,7,8,6,5,11,3,13,14,15"]);c.push(["StringThingII","M0,1,2,12,4,10,6,7,8,9,5,11,3,13,14,15"]);c.push(["SwapOnDiag","M0,8,4,12,2,10,6,14,1,9,5,13,3,11,7,15"]);c.push(["Tron","M15,1,2,3,4,5,6,7,8,9,10,11,12,13,14,0"]);d.push("PCA");c.push(["PCA",""]);c.push(["Model_1","2PCA4,0,4,8,3,1,10,6,7,2,9,5,11,12,13,14,15"]);c.push(["Model_2","2PCA4,0,4,8,3,1,10,6,11,2,9,5,13,12,14,7,15"]);
c.push(["PCA_1","2PCA4,0,4,8,3,1,10,6,7,2,9,5,11,12,13,14,15"]);c.push(["PCA_2","2PCA4,0,2,4,3,8,10,6,7,1,9,5,11,12,13,14,15"]);c.push(["PCA_3","2PCA4,0,8,1,3,2,5,6,7,4,9,10,11,12,13,14,15"]);c.push(["PCA_4","2PCA4,0,2,4,12,8,5,9,7,1,6,10,11,3,13,14,15"]);c.push(["PCA_5","2PCA4,0,4,8,3,1,10,6,11,2,9,5,13,12,14,7,15"]);c.push(["PCA_6","2PCA4,0,2,4,3,8,10,6,14,1,9,5,7,12,11,13,15"]);c.push(["PCA_7","2PCA4,0,2,4,12,8,5,9,14,1,6,10,7,3,11,13,15"]);c.push(["PCA_8","2PCA4,0,2,4,12,8,10,9,14,1,6,5,7,3,11,13,15"]);
c.push(["PCA_9","2PCA4,0,2,4,12,8,10,9,13,1,6,5,14,3,7,11,15"]);c.push(["PCA_10","2PCA4,0,1,2,3,4,5,6,13,8,9,10,14,12,7,11,15"]);c.push(["PCA_11","2PCA4,0,4,8,3,1,10,6,11,2,9,5,11,13,12,14,15"]);c.push(["PCA_12","2PCA4,0,4,2,3,14,6,11,5,8,7,9,13,10,12,1,15"]);d.push("OT vN");c.push(["Outer-Totalistic von Neumann",""]);c.push(["Fredkin2","B13/S024V"]);c.push(["LifeV","B3/S23V"]);c.push(["Parity","B13/S13V"]);d.push("OT Hex");c.push(["Outer-Totalistic Hex",""]);c.push(["HexParity","B135/S0246H"]);c.push(["Hexagonal Life",
"B2/S34H"]);c.push(["HighHexLife","B25/S34H"]);c.push(["LifeH","B3/S23H"]);c.push(["Replicator Hex","B135/S135H"]);d.push("OT M");c.push(["Outer-Totalistic Moore",""]);c.push(["","B3/S23"]);c.push(["2x2","B36/S125"]);c.push(["2x2 2","B3678/S1258"]);c.push(["34 Life","B34/S34"]);c.push(["3-4 Life","B34/S34"]);c.push(["Amoeba","B357/S1358"]);c.push(["Anneal","B4678/S35678"]);c.push(["AntiLife","B0123478/S01234678"]);c.push(["Assimilation","B345/S4567"]);c.push(["Bacteria","B34/S456"]);c.push(["Blinkers",
"B345/S2"]);c.push(["Bugs","B3567/S15678"]);c.push(["Castles","B3678/S135678"]);c.push(["Cheerios","B35678/S34567"]);c.push(["Christmas Life","B1/S012345678"]);c.push(["Coagulations","B378/S235678"]);c.push(["Conway","B3/S23"]);c.push(["Conway's Game of Life","B3/S23"]);c.push(["Conway's Life","B3/S23"]);c.push(["Coral","B3/S45678"]);c.push(["Corrosion of Conformity","B3/S124"]);c.push(["Dance","B34/S35"]);c.push(["Day & Night","B3678/S34678"]);c.push(["Day and Night","B3678/S34678"]);c.push(["Diamoeba",
"B35678/S5678"]);c.push(["DotLife","B3/S023"]);c.push(["DrighLife","B367/S23"]);c.push(["DryFlock","B37/S12"]);c.push(["DryLife","B37/S23"]);c.push(["DryLife without Death","B37/S012345678"]);c.push(["EightFlock","B3/S128"]);c.push(["EightLife","B3/S238"]);c.push(["Electrified Maze","B45/S12345"]);c.push(["Eppstein","B35/S236"]);c.push(["Feux","B1358/S0247"]);c.push(["Flakes","B3/S012345678"]);c.push(["Flock","B3/S12"]);c.push(["Forest of Ls","B168/S236"]);c.push(["Fredkin","B1357/S02468"]);c.push(["Fuzz",
"B1/S014567"]);c.push(["Gems Minor","B34578/S456"]);c.push(["Gems","B3457/S4568"]);c.push(["Geology","B3578/S24678"]);c.push(["Gnarl","B1/S1"]);c.push(["Grounded Life","B35/S23"]);c.push(["H-Trees","B1/S012345678"]);c.push(["HighFlock","B36/S12"]);c.push(["HighLife","B36/S23"]);c.push(["HighLife without Death","B36/S012345678"]);c.push(["Holstein","B35678/S4678"]);c.push(["HoneyFlock","B38/S128"]);c.push(["HoneyLife","B38/S238"]);c.push(["Iceballs","B25678/S5678"]);c.push(["InverseLife","B012345678/S34678"]);
c.push(["Invertamaze","B028/S0124"]);c.push(["IronFlock","B36/S128"]);c.push(["IronLife","B36/S238"]);c.push(["Land Rush","B36/S234578"]);c.push(["Life SkyHigh","B368/S236"]);c.push(["Life without Death","B3/S012345678"]);c.push(["Life","B3/S23"]);c.push(["Live Free or Die","B2/S0"]);c.push(["Logarithmic replicator rule","B36/S245"]);c.push(["LongLife","B345/S5"]);c.push(["Long Life","B345/S5"]);c.push(["LowDeath without death","B368/S012345678"]);c.push(["LowDeath","B368/S238"]);c.push(["LowFlockDeath",
"B368/S128"]);c.push(["LowLife","B3/S13"]);c.push(["Majority","B45678/S5678"]);c.push(["Maze","B3/S12345"]);c.push(["Maze with Mice","B37/S12345"]);c.push(["Mazectric","B3/S1234"]);c.push(["Mazectric with Mice","B37/S1234"]);c.push(["Morley","B368/S245"]);c.push(["Move","B368/S245"]);c.push(["Neon Blobs","B08/S4"]);c.push(["Never happy","B345/S0456"]);c.push(["Oscillators Rule","B45/S1235"]);c.push(["Pedestrian Flock","B38/S12"]);c.push(["Pedestrian Life","B38/S23"]);c.push(["Pedestrian Life without Death",
"B38/S012345678"]);c.push(["Persian Rug","B234/S"]);c.push(["Plow World","B378/S012345678"]);c.push(["Pseudo Life","B357/S238"]);c.push(["Pulsar Life","B3/S238"]);c.push(["Replicator","B1357/S1357"]);c.push(["Replicator 2","B1357/S02468"]);c.push(["Rings 'n' Slugs","B56/S14568"]);c.push(["Seeds","B2/S"]);c.push(["Serviettes","B234/S"]);c.push(["Shoots and Roots","B3/S245678"]);c.push(["Slow Blob","B367/S125678"]);c.push(["Snakeskin","B1/S134567"]);c.push(["Solid islands grow amongst static","B12678/S15678"]);
c.push(["SnowLife","B3/S1237"]);c.push(["Stains","B3678/S235678"]);c.push(["Star Trek","B3/S0248"]);c.push(["Virus","B36/S235"]);c.push(["Vote","B5678/S45678"]);c.push(["Vote 4/5","B4678/S35678"]);c.push(["Walled Cities","B45678/S2345"]);d.push("OT Tri");c.push(["Outer-Totalistic Triangular",""]);c.push(["Life 2333","B3/S23L"]);c.push(["Life 2345","B45/S23L"]);c.push(["Life 2346","B456/S23L"]);c.push(["Life 3445","B45/S34L"]);c.push(["Life 3446","B456/S34L"]);c.push(["Life 4546","B456/S45L"]);c.push(["Life 4644",
"B4/S456L"]);c.push(["Rule 1246","B456/S12L"]);c.push(["Rule 3544","B4/S345L"]);d.push("OT M G");c.push(["Outer-Totalistic Generations Moore",""]);c.push(["9:43 at Knight","237/34578/4"]);c.push(["Banners","2367/3457/5"]);c.push(["BelZhab","23/23/8"]);c.push(["BelZhab Sediment","145678/23/8"]);c.push(["Bloomerang","234/34678/24"]);c.push(["Bombers","345/24/25"]);c.push(["Brain 5","/2/5"]);c.push(["Brain 6","6/246/3"]);c.push(["Brian's Brain","/2/3"]);c.push(["Burst","0235678/3468/9"]);c.push(["BurstII",
"235678/3468/9"]);c.push(["Caterpillars","124567/378/4"]);c.push(["Chenille","05678/24567/6"]);c.push(["Circuit Genesis","2345/1234/8"]);c.push(["Constellations","/23/3"]);c.push(["Cooties","23/2/8"]);c.push(["Diamonds and Spaceships","34578/257/16"]);c.push(["Ebb&Flow","012478/36/18"]);c.push(["Ebb&Flow II","012468/37/18"]);c.push(["Faders","2/2/25"]);c.push(["Fireballs","346/2/4"]);c.push(["Fireworks","2/13/21"]);c.push(["Flaming Starbows","347/23/8"]);c.push(["Free Star","0345/2/10"]);c.push(["Frogs",
"12/34/3"]);c.push(["Frozen spirals","356/23/6"]);c.push(["GeneroLife","2356/3567/4"]);c.push(["Glisserati","035678/245678/7"]);c.push(["Glissergy","035678/245678/5"]);c.push(["Lava","12345/45678/8"]);c.push(["Lines","012345/458/3"]);c.push(["LivingOn TheEdge","345/3/6"]);c.push(["Meteor Guns","01245678/3/8"]);c.push(["Nova","45678/2478/25"]);c.push(["OrthoGo","3/2/4"]);c.push(["Prairie on fire","345/34/6"]);c.push(["RainZha","2/23/8"]);c.push(["Rake","3467/2678/6"]);c.push(["SediMental","45678/25678/4"]);
c.push(["Snake","03467/25/6"]);c.push(["SoftFreeze","13458/38/6"]);c.push(["Spirals","2/234/5"]);c.push(["Star Wars","345/2/4"]);c.push(["Sticks","3456/2/6"]);c.push(["Swirl","23/34/8"]);c.push(["Tadpoles","0125678/345678/64"]);c.push(["ThrillGrill","1234/34/48"]);c.push(["Transers","345/26/5"]);c.push(["TransersII","0345/26/6"]);c.push(["Transers 2","0345/26/6"]);c.push(["Transers 3","0345/26/7"]);c.push(["Wallplicators","345/25678/7"]);c.push(["Wanderers","345/34678/5"]);c.push(["Worms","3467/25/6"]);
c.push(["Xtasy","1456/2356/16"]);d.push("INT Hex");c.push(["Isotropic Non-Totalistic Hex",""]);c.push(["Hex Life","B2o3m56/S2-p4oH"]);c.push(["Hex Inverse Fire","B2-m4-m56/S2m34m56H"]);c.push(["HexLife","B3o/S234-o6H"]);c.push(["22da","B2/S2-mH"]);c.push(["Hexrule b2o","B2o/S2m34H"]);d.push("INT M");c.push(["Isotropic Non-Totalistic Moore",""]);c.push(["15Life","B34r/S23-q4et"]);c.push(["104life","B34ky5cy/S23-a4ity6c7"]);c.push(["22k","B2-k/S2-k"]);c.push(["2diagonal","B2n3/S23"]);c.push(["2xpand2",
"B3/S123eik4ce"]);c.push(["3x3","B35cky68/S0245-c6n"]);c.push(["38life","B35y/S2-n35k6ci"]);c.push(["4diagonal","B34c/S23"]);c.push(["4life","B34jy/S23"]);c.push(["4life2","B34j/S23"]);c.push(["57life","B34tyz5cy/S23-a4it5ej"]);c.push(["acnelife","B34/S2eik3"]);c.push(["aLife","B3/S234iw"]);c.push(["Arcane Circuitry","B2ci3aikr/S1e2-a3i"]);c.push(["Arrow","B3-jkn4a/S1e2-a3ijnry4n"]);c.push(["Artillery","B3-y7/S2-i3-c4kqt"]);c.push(["Atomic","B2ei3i/S1c2-n3jr4an5i6c"]);c.push(["ATPP","B3-ckq4z/S2-c3-a4iq5k6k"]);
c.push(["B - ibis","B2n34cyz6n8/S2-n3-a4cq68"]);c.push(["Banks-I","B3e4ejr5cinqy6-ei78/S012-e3-ajk4-akqw5-ajk6-e78"]);c.push(["Banks-III","B2ce3e4jr5cin6-en7c8/S012-ac3-cn4-eikny5-kr67c8"]);c.push(["Beaecsizae","B34ce/S12-a3"]);c.push(["Ben's rule","B2-ak3einqy4e/S1c2ak3inqy4e"]);c.push(["Best Friends","B2ce3aiy/S12aei3r"]);c.push(["Bigship","B2ei3einqy4ny5ajkr/S23ajkr4jnry5inqy"]);c.push(["Bgunlife","B34eny5e/S23-a4iy5e6c"]);c.push(["Billiard","B36-e/S12345"]);c.push(["Blasts","B2e3airy4kt5jr6c8/S02ace3eiknr4-aj5-cei6-a78"]);
c.push(["BlinkBlink","B35ky/S234y"]);c.push(["Blocks for Days","B2-ae3-cij4a5aj6e7e8/S01e2ai3ar4ar5air6ae7c8"]);c.push(["blockandglider","B3/S234cw7c"]);c.push(["Blockship","B3-cer4ceqwz5acek6in78/S2-in3-eq4eqwyz5eikn678"]);c.push(["BoatLife","B3-knqy/S2-n3-ey4akwy5aik6kn"]);c.push(["boatLife","B3ainqy4aeq5ejn8/S2-in3-aek4aciq5ae6-c7c8"]);c.push(["bpuff","B3/S23-cky4k7e8"]);c.push(["Breps","B34cqy5c/S23-y4y"]);c.push(["Breps-2","B3aeijn4n8/S234iqz"]);c.push(["Bricks","B2ak5c/S2cn3inqy4aikqtwz5inqy"]);
c.push(["Bubbles","B3ai4-a/S23"]);c.push(["Butterfly","B2i34e6i7c/S2-i36n"]);c.push(["butterflyb7","B2i34e6i7/S2-i36n"]);c.push(["Buzz","B2i35-n/S2-ci36k8"]);c.push(["CapLife","B36c/S23"]);c.push(["CarrierLife","B2e3aceik/S23"]);c.push(["Cataverters","B3-cen/S234eijkrw5cry6ik"]);c.push(["cb2","B2ae4i/S1e2in"]);c.push(["cetlife","B34cet/S234jkwyz"]);c.push(["Clouds","B2e3aceij/S23-a4"]);c.push(["Cloudsdale","B2kn3-ekqr4i5eq6n8/S23-aeny4cikqr5ek6ace7c"]);c.push(["CommonRepl","B3/S23-ac4eiy6"]);c.push(["Conquerors and Colonizers",
"B2ace3acei4ace5acei6ace/S"]);c.push(["Conway++","B3/S234c"]);c.push(["Conway+-1","B3/S23-inqy4aikqtwz"]);c.push(["Conway+-2","B3/S2-ak34aikqtwz5inqy"]);c.push(["Conway--","B3/S2-ei3"]);c.push(["crawl","B37e/S2-i34y8"]);c.push(["Creperie","B2ikn3aijn/S23-ckqy"]);c.push(["CrossLife","B3/S234et"]);c.push(["Crylife","B2n3-cry4kn6i7c/S23-a4i6c"]);c.push(["DenseLife","B3-q4y/S234z"]);c.push(["Diamoeral","B2n3ai4a78/S35678"]);c.push(["Diamonds","B2en3ij4a5e7e8/S1c2cek3-a4aiqw5aky"]);c.push(["DirtyLife",
"B3-cky5aq6ci7c/S23-ck4n6k7e"]);c.push(["DLife","B3-n/S23"]);c.push(["dolife","B2-ak3acei4ceqz5y/S234ce5ceky78"]);c.push(["dolife2","B2-a3acei4ceqz5y/S234ce5ceky78"]);c.push(["Dominoplex","B2cen3ek4ejkwz5-ein6an7e8/S12an3-eijq4enrty5e6k"]);c.push(["Dry15Life","B34r7/S23-q4et"]);c.push(["DryGoats","B2in37/S123a"]);c.push(["Dustclouds01","B2ce3-ai/S01"]);c.push(["Dustclouds03","B2ce3-ai/S03"]);c.push(["EasyHighLife","B36-i/S23"]);c.push(["Eatsplosion","B2n3-ekqy4c5e/S2-cn3-eky4aij5e"]);c.push(["Eatsplosion IV",
"B2n3-q4aqz6n8/S2-in3-q4iz7c8"]);c.push(["EightGoats","B2in3/S123a8"]);c.push(["Einstein","B2ein3cijn4cnrwy5cnq6e/S1c2-ai3acny4anqy5c6ek8"]);c.push(["ElectrumLife","B367c/S2-i34q"]);c.push(["Emitters","B2i3ai4cei5c6c7/S2-ae3acein4-t5-aq6cei7c8"]);c.push(["Extension","B2cei3-ijnr4-a6i/S12-cn"]);c.push(["fakePiShipLife","B3-ck4e5k6i/S2-in35i6c8"]);c.push(["FalseB5","B35ce/S234jqtyz6k8"]);c.push(["Farespa","B34ck5/S23aceik4aci"]);c.push(["FattyLife","B3-n4nt5qr6i/S23"]);c.push(["FishLife","B3-ekqr4nt5r6i/S02-c3"]);
c.push(["FlashLife","B2kn3-n4e/S23"]);c.push(["Flowflakes","B2-ac3acei4ey6n8/S02-n3-nqy4cekyz5ei6k7e"]);c.push(["Flutter","B2-a3j4-acekn56/S15y"]);c.push(["Flying Life","B3-k5r/S236n7e"]);c.push(["FogLife","B35eq7/S2-i34q"]);c.push(["Forestfire","B3ai4ekq5cy6n/S2-ci3-ace4inr5eqry"]);c.push(["FrogLife","B36i/S1c23-acek5k6i8"]);c.push(["Fruitflies","B2-an4jn7e8/S12-k4r"]);c.push(["Fuzey","B2-ae3aej4ez/S03ac4aikqryz78"]);c.push(["GemLife","B34c6/S23-q"]);c.push(["Gentle relative","B2cen3ek4jkw5-aein6a7e/S12an3-eijq4enrty5e6k"]);
c.push(["GlideLife","B34ek5ak/S2-c34z"]);c.push(["GlideLife2","B34ek5ak/S2-c34iz5y"]);c.push(["GliderGlut","B2k3aijn4ak5y6k/S2ae3ajnr4aiw"]);c.push(["GliderRROLife","B2e3einy4ak5ijq7c/S1c2-ai3-ceky4ejny5ceqr6ak"]);c.push(["glife","B3/S237c"]);c.push(["Glimmering Garden","B3-jknr4ity5ijk6i8/S23-a4city6c7c"]);c.push(["GMO snowflakes","B34c6n/S2-n3-ck4cijqtwy5y6n"]);c.push(["Goat Flock","B2in3/S123a"]);c.push(["Goats","B2in3/S123a"]);c.push(["Goldilocks I","B2ek3cei4acjr5c8/S02ack3kn4aen"]);c.push(["gp",
"B2ei3-a4ce5y6i/S234i7e"]);c.push(["Growflakes","B2-ac3acei4ey6n8/S02-n3-nqy4cekyz5ei6k"]);c.push(["guntlife","B35j6a/S2-i34q"]);c.push(["Half as Interesting","B2ce3i/S23"]);c.push(["hassl8life","B34k5e7c/S23-a4iyz"]);c.push(["hatlife","B35y/S23"]);c.push(["Hats and Shuttles","B34iqwy/S23-cq"]);c.push(["hedgehog","B3/S1c2-a35r6i"]);c.push(["HeptaFish","B3-e4i5i/S234e"]);c.push(["High15Life","B34r6/S23-q4et"]);c.push(["HighGoats","B2in36/S123a"]);c.push(["Hive","B3-ry4ckn/S2-in3-cjn4it5aiky6-a7e8"]);
c.push(["hlife","B3/S234ce6k"]);c.push(["hlife2","B3/S2-in34nr"]);c.push(["hlife3","B3/S2-in34iw"]);c.push(["HoneyGoats","B2in38/S123a8"]);c.push(["HouseLife","B2i3/S23-r"]);c.push(["Hype","B2-ac3aei4ae6i8/S23-ejq8"]);c.push(["IceNine","B3aeiy4ae5i68/S2-in3-kqr4artz5aeny6-e78"]);c.push(["ilife","B3/S235i"]);c.push(["Immortalife","B3-cqy4j/S2-n34i"]);c.push(["IneticLife","B2-an3-k/S2ac"]);c.push(["IronGoats","B2in36/S123a8"]);c.push(["Ising","B3e4ejr5cinqy6-ei78/S2ei3aejkr4-cny5-e678"]);c.push(["Just Friends",
"B2-a/S12"]);c.push(["Kgdm","B3/S2-c3-en4ceitz"]);c.push(["KineticLife","B2-an3/S2ac"]);c.push(["klife","B34n/S23"]);c.push(["Knyght","B2e3/S23-jq"]);c.push(["ktlife","B3/S2-i34nq"]);c.push(["LambdaLife","B3-k/S2-i3-k4cen"]);c.push(["LeapLife","B2n3/S23-q"]);c.push(["Leaplized D&N","B2n3678/S3-q4678"]);c.push(["LifeWithoutGliders","B35n/S23"]);c.push(["Linea","B2-a3-i/S23-a"]);c.push(["LispLife","B2n3/S23-q4e8"]);c.push(["LoafLife","B2n3-q/S23"]);c.push(["longlast","B3/S234ce8"]);c.push(["lotsofdots",
"B2ikn34e/S023-a4ce"]);c.push(["MaritimeLife","B2i34c6cen7c8/S2-i3-q4c5a6e8"]);c.push(["maze2","B3/S234-acew"]);c.push(["Migrating Bookends","B2ein3inry/S12-n3ce"]);c.push(["MilkyLife","B3-c4c5y8/S234qy5y8"]);c.push(["Mooselife","B34kz5e7c/S23-a4ityz5k"]);c.push(["move_rep","B3-r4e5e6-n/S23cr457e"]);c.push(["Movero VIII","B2-a5k6n7c/S12-i3ij4k5j8"]);c.push(["MoveIt","B368/S23cy45-j6n"]);c.push(["movetub","B34e68/S245"]);c.push(["movev","B35y68/S245"]);c.push(["Movostill","B2i3acijk6i/S23-a4"]);c.push(["Movostill 2",
"B3acijk/S23-a4"]);c.push(["Movostill 3","B2e3aceij5-ijr/S23-a4"]);c.push(["MuddyLife","B3/S234k"]);c.push(["Nah","B345-a6/S2-a3-a4-a"]);c.push(["nonlife","B3-n/S234iz"]);c.push(["notlife","B3-q7c/S2-i3-q4q"]);c.push(["notlife (Wright)","B2k3-k/S23-a"]);c.push(["Notlife / Ace","B2-a3/S2ce"]);c.push(["Niemiec's Rule 0","B3/S2ae3aeijr4-cknqy"]);c.push(["olife","B2in3/S2-in3"]);c.push(["Omosso","B2k3acijr4ijqy6i7c/S2aek3ijnqr4it5n"]);c.push(["Orthogonable","B2e3aiknr4q/S1c2-in3aijry4a"]);c.push(["Particles (testitemqlstudop)",
"B2ce3i/S1c2cek"]);c.push(["Patchworks","B2-an3aiy/S2-in3cijky4-nqrz5k"]);c.push(["Pedestrian Goats","B2in38/S123a"]);c.push(["Pentadecathlife","B34e5y6cn8/S234c5e"]);c.push(["Photics I","B2ae4c678/S01e4aeqrtw5678"]);c.push(["Photics II","B2ae4cw5y6i/S01e2i4q"]);c.push(["Pi replicator life","B3-r4z5y/S238"]);c.push(["Pi-plicator","B3-ckq/S2-c34ci"]);c.push(["PiLife","B37e/S23"]);c.push(["Pilife2","B34c/S234y8"]);c.push(["plasma1","B012-in3-cky4ar5cjnr6ae/S05aijnr6n"]);c.push(["plife","B35j/S2-i3"]);
c.push(["plife2","B35j6i/S2-i3"]);c.push(["PondLife","B36i/S2-i35i"]);c.push(["PortLife","B34cz5y/S234y8"]);c.push(["pre-x-rule","B2cei3ci4jnr5ikn/S12-ck4einqy5er6aei8"]);c.push(["Prismatika Crystallios","B2ae3r/S1e"]);c.push(["PlasmaLife","B34-air/S234-air"]);c.push(["Puffers","B3-nqr6/S235-nqr"]);c.push(["PuffLife","B34-i5-a6-a/S2-an34-akrw"]);c.push(["qlife","B3-q/S23"]);c.push(["quadraticlife","B34j/S23"]);c.push(["Quasilinear Collisions","B2-ak3-jnqr/S15678"]);c.push(["Rakelife","B3aij/S2-i3ajnr4arz56-a7e"]);
c.push(["Rainflakes","B2-ac3aei4ey5n6n8/S02-n3aceir4ceyz5e6k"]);c.push(["RBeeLife","B34cijkq5k6i8/S2-n3-ik4cjqt5y6cin8"]);c.push(["replife","B34jy6n/S2-i3"]);c.push(["reptlife","B36-k/S2-i34q"]);c.push(["ResistantLife","B34eknqyz/S23"]);c.push(["Ribbons","B3-nqr/S23"]);c.push(["RotoBlocks","B34cyz5y8/S234y5y6n8"]);c.push(["RotoDotPuffers","B2ikn3-ejnr/S01c2cei3ay4c"]);c.push(["RotoHooks","B34ckyz/S234cz"]);c.push(["rgun","B34t/S2-i35a7e"]);c.push(["Rule X3VI","B2c3aei4ajnr5acn/S2-ci3-ck4in5jkq6c7c"]);
c.push(["RustyLife","B34-ai/S24-air5-a"]);c.push(["Salad","B2i34c/S2-i3"]);c.push(["Sanctuary","B2ei3ci/S1c23"]);c.push(["sansdomino","B2-a/S014"]);c.push(["Savanna","B2e3aeiy4ce5i6c7e/S2-n3-a4artz5aeny6cn"]);c.push(["Scenery","B3-cnry4-acery5i/S23-a4-jknqr5y8"]);c.push(["SharkLife","B34aeiz/S2-ak34ant6cek"]);c.push(["signalife","B3aeijy5e6i/S2-c3-a4iq5k6ck"]);c.push(["SilverLife","B367/S2-i34q"]);c.push(["SimpleInverseFire","B2-ak4568/S156ak78"]);c.push(["Simple Life","B2k34c/S2-c34z8"]);c.push(["SLHassleLife",
"B3-y5cr/S234w6n"]);c.push(["SlugWorld","B2e3ai4arw5678/S3-an4ar5i678"]);c.push(["SolarWorld","B2ce3ci4iyz5ce6c/S12ce3ae"]);c.push(["SmokingLife","B2i34cj6a7c8/S2-i3-a4ceit6in"]);c.push(["Smorgasbord","B2e3aijr4q/S1c23-a5"]);c.push(["snotlife","B2k3-kn/S23"]);c.push(["Snowflakes","B2ci3ai4c8/S02ae3eijkq4iz5ar6i7e"]);c.push(["Snowflakes 2","B2ci3ai4c8/S02ae3eijkq4aiz5ar6i7e"]);c.push(["SparkLife","B36i/S234j"]);c.push(["SparklingLife","B34cqy/S234q"]);c.push(["SparseMethuseLife","B35y/S1e2-ci3-a5i"]);
c.push(["StairWorld","B2-a3i4aijk/S2a3-i4"]);c.push(["Stars","B2e3-ceny4einqwz5-cikr6cei/S1c2e3aijky4aceijrz5-cejk6-ak7c8"]);c.push(["Suns","B2ei3aeij4cjt5ky6ei/S1c2ace3jkn4aeijktw5ekry6in7e"]);c.push(["Switches","B2ei3ij4ajnr6ci/S12ce3ajn4qtz5ijnqy6c"]);c.push(["Symmetristic","B2-ak3-jnqr4ceiqtwz5-jnqr6-ak/S2-ak3-jnqr4ceiqtwz5-jnqr6-ak"]);c.push(["t4life","B34jy/S2-i3"]);c.push(["TableLife","B3/S23-ai4anq6n"]);c.push(["TauLife","B3-nr/S2-i34-aij"]);c.push(["tceclife","B36ce7c/S2-i34q"]);c.push(["tDryFlock",
"B37/S12-i4q"]);c.push(["tDryLife","B37/S2-i34q"]);c.push(["TearfulLife","B34e5c6n/S23-q"]);c.push(["tEightLife","B3/S2-i34q8"]);c.push(["testlife","B36a/S23"]);c.push(["tflock","B3/S12-i4q"]);c.push(["tHighFlock","B36/S12-i4q"]);c.push(["tHighLife","B36/S2-i34q"]);c.push(["ThisLife","B36i/S23-ce5q"]);c.push(["tlife","B3/S2-i34q"]);c.push(["tosc","B3/S234wz"]);c.push(["tosc2","B36in/S234cw"]);c.push(["tPedestrianFlock","B38/S12-i4q"]);c.push(["tPedestrianLife","B38/S2-i34q"]);c.push(["tq6","B2i34e/S023-a4ce"]);
c.push(["Traffic Flow","B2e3aciy4jnw68/S23678"]);c.push(["Train","B34t6k8/S2-i35a7e"]);c.push(["Trilobites","B3aijn4w5nq/S2ae3aijr4irz5y"]);c.push(["triship","B2a3e/S012-ai3-i45-i678"]);c.push(["Trycogene","B2ce3aijn/S2ak3-aijn4jkqty5cekr6ce8"]);c.push(["Turro","B2-a3c/S12-i"]);c.push(["Two-dots rule 1","B2ei3ci4aerw5acky6i8/S012-an3eiknq4qrty5aeik6ik8"]);c.push(["Two-dots rule 2","B2-ak3aen4cenrtw5iq6e/S02ac3aenqy4ejqtwy5ak6acn7"]);c.push(["Twinkles","B2in34-a/S1e2ekn34ent"]);c.push(["Virus_v2",
"B3-nqr6/S235"]);c.push(["Wartlife","B3aijnq6n/S2-cn3-ceky4i"]);c.push(["WetLife","B34r/S23"]);c.push(["Whichlife","B2in3aeijn/S234e"]);c.push(["Wild Seas","B2c3-cekq4ikt5i8/S2-in3-acky4aijry5eiky6i"]);c.push(["wlife","B34w/S23"]);c.push(["Worms 0","B01c2n5a/S3a5i"]);c.push(["Writers","B2-a3-inqr4c6/S23"]);c.push(["WSScentral","B3-n45qr6i/S2eik3"]);c.push(["x-rule-pre","B2cei3ci4jnr5ikn/S12aen3c4einqy5er6aei8"]);c.push(["xtdbee","B3-k/S23"]);c.push(["xvaLifeg","B2e3/S23"]);c.push(["Ylife","B2e3ai4ar/S23-a4a"]);
c.push(["ylife (BokaBB)","B34y5y/S234y5y"]);c.push(["zigzag","B3/S2-k34q"]);c.push(["ZombieLife","B3-nqy4aqz5cn6n8/S2-i3-a4inqz7c8"]);d.push("INT M G");c.push(["Isotropic Non-Totalistic Generations Moore",""]);c.push(["HTech","234e/2e3/3"]);c.push(["Jellyfish","2ak34-a5-i/2c36k7/4"]);c.push(["KST","1234-i5anq6kn/3r4kr5eiq6ack7e/3"]);c.push(["Simple Brain","234e/e3/3"]);c.push(["Sliders","012-e3-ae4acnqyz5acer6acn78/3j4-eikq5c/3"]);c.push(["tGeneC1WC0","2-i34q/2c34w5c/4"]);d.push("NINT vN");c.push(["Non-Isotropic von Neumann",
""]);c.push(["1d110","MAPLy0PDw"]);c.push(["AllShips","MAPAAD//w"]);c.push(["HybridViewW110","MAPPzz//A"]);d.push("NINT Hex");c.push(["Non-Isotropic hexagonal",""]);c.push(["pentagonhood","MAPBARISEhIgIBISICAgIAAAA"]);d.push("NINT M");c.push(["Non-Isotropic Moore",""]);c.push(["2CellSlug","MAPBTDe/yAA9/8AAP//AAD//yAA/78AAP//AID//wAA//8AAP//AAD/2wAA//8AgP//AAD//4AA//+AAH//AAD//w"]);c.push(["BLAHTWOCELLGUN","MAPAMB/vwAA//8AAP//AAD//wAA//8AAP//AAD//wAA//8AAP//AAD//wAA//8AAP//AAD//wAA//8AAP//AAD//w"]);
c.push(["cloverleafsim","MAPAAD//zAwPz8AAP//MDA/PwAA//8AAP//AAD//wAA//8AAD8/AAD//wAAPz8AAP//wMD//wAA///AwP//AAD//w"]);c.push(["FoxLife","MAPARYXfhZofugWaH7oaIFoxBZofuhogOiAaIFoxIAAgAAWaH7oaIFoxGiA6ICAAIAAaIFoxIAAgACAAIAAAAAAAA"]);c.push(["MaxPeriod_2x2k2","MAPADC9vyIA/f8AAH//AAD//wCA//+AAP//AID/fwAA//8AAH//AAB//wAA//8AAP//AAD//4AA//8AAP//AAD//w"]);c.push(["movingdiagonal","MAPAAAAAAAAAAD//wAA//8AAAAAAAAAAAAA//8AAP//AAAAAAAAAAAAAP//AAD//wAAAAAAAAAAAAD//wAA//8AAA"]);c.push(["MovingStrings","MAPARH+/wMT//8BEf7/AxP//wER/v8DE///AREAAAMTAAABEf7/AxP//wER/v8DE///AREAAAMTAAABEQAAAxMAAA"]);
c.push(["MuzikThing","MAPACD//wAA3/8AgH//AAD//wCAf/8AAP//AAD//wAA//8AAH//AAD//wAA//8AAP//gAD//wAA//8AAP//AAD//w"]);c.push(["MyEntry","MAPIAD/7wgA/f8AAP//AAD//wAA//8AAP//AAD/fwAA//8AAP//AAD//wAA//8AAP//AAD//4AA//8AAP//AAD//w"]);c.push(["randomnn","MAPA1Az8wMAqgAAUADAAAAAAAAAgMAAAIAAgICAwAAAgAAAAAAAiACqAAAAAAAAAAAAAACAAIgAgACAgIAAAACAAA"]);c.push(["OLife","MAPABD/vgIB//8AAP//AAD//wAA/78AAN3/AJB/vwAAf/8AAP//AABd/wAA//8AAP//AAD//4IA//8AAP//AIB//w"]);c.push(["Rhufo","MAPARH//wMA//8AAP9/AAD//wAA//8AAP9/AAD//wAA//8AAP//AAB//wAA//8AAP//AAD//wAA//8AAH9/AAB//w"]);
c.push(["Rhufo2","MAPARH//wMA//8AAH9/AAD//wAAX/8AAP9/AAB/7wAA//8AAH//AAB//wAA//8AAP//AAB//wAA/f8AAH8/AAB3/w"]);c.push(["rules0","MAPCkA/3wAI939CUM/bABH//4Agft4JAPX+IgH/3QAQ9u8AAP//AID/fwAA//8AAP//BQD9/wAA/98AAP//AAD//w"]);c.push(["rules6","MAPAgl/+0Ug/fVAIv/9AADdPwDi9/uAQft5qIDtlQgA/b8gAP//AAD//wAQv/8AAP7+AhD/+gAA/f8EAv//AID//w"]);c.push(["SemiFelineLife","MAPARYXfhZofugWaH7oaIDogBZofuhogOiAaIDogIAAgAAWaH7oaICatGiA6ICAAIAAaICatIAAgACAAIAAAAAAAA"]);c.push(["Simple_Weird_Ships","MAPABHs/wMA//8AAP//AAD//wAA/38AAP//AAD//wAA//8AAP//gAD//wAA//8AAP//AAD//wAA//8AAP//AAD//w"]);
c.push(["Socrates","MAPARYXfhZofugWaH7oaIDogBZofuhogOiAaIDogIAAgAAWaH7oaIDogGiA6ICAAIAAaIDogIAAg00IAmSocrateg"]);c.push(["x-rule","MAPBSB64CCTqARFBImEADAGBSCTgICTSIAAADCFCSTAAAANAMEUBCKEBchCE00YAE3IACSFACCIQQDIIF4UIIAGSA"]);c.push(["water","MAPABAbrwAA//8AQltdAAD+/8Aa/f8AAP//YgD//wAA//8AAP//QAD//wBA//8AAP/fAgD3+wKA//8AIPZ/AAD//w"]);d.push("LtL M");c.push(["Larger than Life Moore",""]);c.push(["Balloons","R2,C2,M1,S7..10,B7..11,NM"]);c.push(["Bosco's Rule","R5,C2,M1,S34..58,B34..45,NM"]);c.push(["Bosco Analogue",
"R5,C2,M1,S34..53,B31..42,NM"]);c.push(["Bugs R3","R3,C2,M1,S14..23,B14..18,NM"]);c.push(["Bugs R4","R4,C2,M1,S23..39,B23..30,NM"]);c.push(["Bugs R6","R6,C2,M1,S47..81,B47..63,NM"]);c.push(["Bugs R6 variant","R6,C2,M1,S47..81,B47..71,NM"]);c.push(["Bugs R7","R7,C2,M1,S63..108,B63..84,NM"]);c.push(["Bugs R9","R9,C2,M1,S101..173,B101..134,NM"]);c.push(["Bugs R10","R10,C2,M1,S124..211,B124..164,NM"]);c.push(["Bugs R10 variant","R10,C2,M1,S124..211,B124..166,NM"]);c.push(["Bugs R12","R12,C2,M1,S175..300,B175..232,NM"]);
c.push(["Bugs R13","R13,C2,M1,S205..349,B205..271,NM"]);c.push(["Bugs R14","R14,C2,M1,S236..403,B236..313,NM"]);c.push(["Bugs R15","R15,C2,M1,S269..461,B270..357,NM"]);c.push(["Bugs R100 variant","R100,C2,M1,S11303..19361,B11100..14996,NM"]);c.push(["Bugsmovie","R10,C2,M1,S123..212,B123..170,NM"]);c.push(["Globe","R8,C2,M1,S164..224,B74..252,NM"]);c.push(["Majorly","R7,C2,M1,S113..225,B113..224,NM"]);c.push(["Mini Bugs","R2,C2,M1,S7..10,B7..8,NM"]);c.push(["Miniature Bugs","R3,C2,M1,S15..22,B14..25,NM"]);
c.push(["Pigs","R2,C2,M1,S10..19,B4..4,NM"]);c.push(["Quadratic Bugs","R6,C2,M1,S47..81,B47..61,NM"]);c.push(["Rasta Bugs","R5,C2,M1,S41..59,B32..50,NM"]);c.push(["Smudge","R2,C2,M1,S7..11,B8..8,NM"]);c.push(["Stones","R5,C2,M1,S29..58,B38..61,NM"]);c.push(["Soldier Bugs","R7,C2,M1,S65..114,B65..95,NM"]);c.push(["Suicidal Bugs","R5,C2,M1,S37..59,B33..49,NM"]);c.push(["Waffle","R7,C2,M1,S100..200,B75..170,NM"]);c.push(["Waving human intestines","R20,C2,M1,S1..21,B1..5,NM"]);d.push("LtL M G");c.push(["Generations Larger than Life Moore",
""]);c.push(["Fire rule","R5,C6,M1,S31..43,B15..25,NM"]);c.push(["Fire whirl","R8,C6,M1,S46..91,B65..100,NM"]);c.push(["ModernArt","R10,C255,M1,S2..3,B3..3,NM"]);d.push("HROT cross");c.push(["Higher-Range Outer-Totalistic cross",""]);c.push(["Factorio","R3,C2,S2,B3,N+"]);d.push("HROT hash");c.push(["Higher-Range Outer-Totalistic hash",""]);c.push(["Hash","R2,C2,S4-6,B5-6,N#"]);d.push("HROT vN");c.push(["Higher-Range Outer-Totalistic von Neumann",""]);c.push(["Fredkin2 R2","R2,C2,S0,2,4,6,8,10,12,B1,3,5,7,9,11,NN"]);
c.push(["Parity R2","R2,C2,S1,3,5,7,9,11,B1,3,5,7,9,11,NN"]);d.push("HROT M");c.push(["Higher-Range Outer-Totalistic Moore",""]);c.push(["Fredkin R2","R2,C2,S0,2,4,6,8,10,12,14,16,18,20,22,24,B1,3,5,7,9,11,13,15,17,19,21,23"]);c.push(["Fredkin R3","R3,C2,S0,2,4,6,8,10,12,14,16,18,20,22,24,26,28,30,32,34,36,38,40,42,44,46,48,B1,3,5,7,9,11,13,15,17,19,21,23,25,27,29,31,33,35,37,39,41,43,45,47"]);c.push(["Fredkin R4","R4,C2,S0,2,4,6,8,10,12,14,16,18,20,22,24,26,28,30,32,34,36,38,40,42,44,46,48,50,52,54,56,58,60,62,64,66,68,70,72,74,76,78,80,B1,3,5,7,9,11,13,15,17,19,21,23,25,27,29,31,33,35,37,39,41,43,45,47,49,51,53,55,57,59,61,63,65,67,69,71,73,75,77,79"]);
c.push(["Replicator R2","R2,C2,S1,3,5,7,9,11,13,15,17,19,21,23,B1,3,5,7,9,11,13,15,17,19,21,23"]);c.push(["Replicator R3","R3,C2,S1,3,5,7,9,11,13,15,17,19,21,23,25,27,29,31,33,35,37,39,41,43,45,47,B1,3,5,7,9,11,13,15,17,19,21,23,25,27,29,31,33,35,37,39,41,43,45,47"]);c.push(["Replicator R4","R4,C2,S1,3,5,7,9,11,13,15,17,19,21,23,25,27,29,31,33,35,37,39,41,43,45,47,49,51,53,55,57,59,61,63,65,67,69,71,73,75,77,79,B1,3,5,7,9,11,13,15,17,19,21,23,25,27,29,31,33,35,37,39,41,43,45,47,49,51,53,55,57,59,61,63,65,67,69,71,73,75,77,79"]);
d.push("HROT custom");c.push(["Higher-Range Outer-Totalistic custom",""]);c.push(["Marine","R2,C2,S4,6-9,B6-8,N@03ddef"]);d.push("Weighted");c.push(["Weighted",""]);c.push(["Border","R1,C2,S10-16,B1-8,NW010101010901010101"]);c.push(["Bustle","R1,C4,S2,4-5,7,B3,NW212101212"]);c.push(["Career","R1,C2,S2-3,B3,NW121101111"]);c.push(["Cloud54","R1,C2,S2-3,9-10,19,27,B3,10,27,NW010109010009010909"]);c.push(["Cloud75","R1,C2,S2-4,10-11,13,18,21-22,27,29-31,36-40,B3,10,27,NW010109010009010909"]);c.push(["Coexistence",
"R4,C0,S9,14,16-17,21,23-24,30-31,37-38,44-45,51-52,58-59,B3,10,17,21,24,31,38,45,52,59,NW100010001000000000000000000000777000100707001000777000000000000000000000100010001"]);c.push(["CrossPorpoises","R1,C2,S2-3,6-10,12-13,B5,NW141404140"]);c.push(["Cyclish","R1,C7,S2,B1-3,NW010101010"]);c.push(["Cyclones","R1,C5,S2,4-5,B2-5,NW110101011"]);c.push(["Dragon","R1,C2,S1-2,7-8,12,15,18,20,B7,11-13,20,NW515101515"]);c.push(["Emergence","R1,C2,S2-4,10-11,16-17,24-25,B3-4,9,24,NW010801010001080801"]);c.push(["Fire-flies",
"R1,C9,S1,10,B6,11-12,21,NW010501050a05010501"]);c.push(["Fleas","R1,C2,S2-3,6-7,10-11,15,20,B2,11,NW515101515"]);c.push(["Fleas2","R1,C2,S1-2,5,7,10-11,B2,4,8,11,NW515101515"]);c.push(["NoFleas2","R1,C2,S2-3,5-7,10-11,B2,4,8,11,NW515101515"]);c.push(["FroggyHex","R1,C2,S1,6,8,B5-6,NW410104041H"]);c.push(["Frost M","R1,C25,S,B1,NW111101111"]);c.push(["Frost N","R1,C25,S,B1,NW010101010"]);c.push(["Gnats","R1,C2,S0-2,11,19,B11,19,NW090109010001090109"]);c.push(["Hextenders","R1,C10,S1,3-5,B2-3,NW110101011H"]);
c.push(["HGlass","R1,C2,S1-3,11,21,25,29-31,B1-3,11,21,25,29-31,NW000200080110000400"]);c.push(["Hogs","R1,C2,S2-4,6,B5-6,NW023302230H"]);c.push(["Jitters","R1,C2,S4,14,B1,4,9,NW995505599"]);c.push(["Lemmings","R1,C2,S3-6,B4,NW121202131"]);c.push(["Linguini","R1,C2,S2-4,9-11,19-20,B11,18,NW090109010001090109"]);c.push(["Madness","R1,C2,S8,10,12,14,B5,8,13,NW232303232"]);c.push(["MazeMakers","R1,C2,S2-3,6-10,12-13,B5,NW441404141"]);c.push(["MidgeDN","R1,C9,S0,2-3,B4-6,NW222101212"]);c.push(["Midges",
"R1,C4,S3,5-6,B4-6,NW121232121"]);c.push(["MikesAnts","R1,C2,S4-5,B2,5-6,NW011100111"]);c.push(["Mosquito","R1,C2,S3-4,8-9,B2-3,9,NW995505599"]);c.push(["Mosquito2","R1,C2,S3-4,8-9,B3,6,9,18,NW995505599"]);c.push(["Navaho1","R1,C12,S8-9,11,B2,5,NW414575414"]);c.push(["Nocturne","R1,C4,S1,6,B2-4,NW110101011H"]);c.push(["Pictures","R1,C2,S1-3,B2-4,NW010101010"]);c.push(["PicturesH","R1,C9,S1-3,B2-4,NW010101010"]);c.push(["Pinwheels","R1,C7,S2,B2-3,NW110101011"]);c.push(["PipeFleas","R1,C3,S3-4,7,11-15,17-18,20,22-23,B6,10,NW515101515"]);
c.push(["PreHogs","R1,C2,S3-4,6,B5-6,NW230302023"]);c.push(["PuttPutt","R1,C2,S1-4,9,18,27,36,40,B2,4,11,18-19,36,40,NW090109010001090109"]);c.push(["SEmigration","R1,C2,S2-3,6-7,10-12,B7,11-12,16,NW515100505"]);c.push(["Simple","R1,C2,S1,5,B2,10,NW515101515"]);c.push(["Simple Inverse","R1,C2,S1,4-5,8-9,12-13,16-24,B2,9-10,13-14,17-18,21-22,24,NW515101515"]);c.push(["Simple Inverse Fire","R1,C2,S1,5,9,13,17-19,21,23-24,B2,4,8-10,12-14,16-18,20-22,24,NW515101515"]);c.push(["Stampede","R1,C8,S4,6,9-10,B4,7,NW130303130"]);
c.push(["Starburst","R1,C2,S2,4,6,B4,NW121202121"]);c.push(["Starbursts2","R1,C2,S2,4-6,B4,NW121202121"]);c.push(["Stream","R1,C2,S1,3-4,7-11,B5,7-8,10-11,NW010104041"]);c.push(["UpDown1","R1,C2,S2,4-6,9,12,16,20,B3,6,9,12,NW111404444"]);c.push(["UpDown2","R1,C2,S2-3,7,10-12,15,B3,7,11,15,NW151101555"]);c.push(["Upstream","R1,C10,S4,6,9-10,B4,7,NW130404130"]);c.push(["Vineyard","R1,C2,S2,6,8-10,12-13,B5,NW141404040"]);c.push(["Vineyard2","R1,C2,S2,8-10,12-13,B5,NW141404040"]);c.push(["Weevils","R1,C2,S1-4,B5-6,14,NW331101133"]);
c.push(["Weighted Brain","R1,C3,S3-4,7,B4-5,8,NW3323d3232"]);c.push(["Y_Chromosome","R1,C3,S2,B2,NW110101011"]);d.push("Weighted G");c.push(["Weighted Generations",""]);c.push(["WG Rule004","R1,C4,S6-11,B4,NW111101111,0201"]);c.push(["WG Rule012","R1,C6,S4-5,B5,NW111101111,021111"]);c.push(["WG Rule020","R1,C6,S5-8,B5,NW111101111,020301"]);c.push(["WG Rule031","R1,C4,S5-7,B4,NW111101111,0210"]);c.push(["WG Rule038","R1,C5,S8,B6,9,NW111101111,03210"]);c.push(["WG Rule050","R1,C8,S4-8,B6,NW111101111,02120300"]);
c.push(["WG Rule063","R1,C5,S6-7,9-11,B7,10,NW212101212,03101"]);c.push(["WG Rule071","R1,C6,S8-16,B6,NW111101111,031012"]);c.push(["WG Rule072","R1,C6,S8-16,B6,NW111101111,030112"]);c.push(["WG Rule074","R1,C5,S4-8,B3,NW111101111,02001"]);c.push(["WG Rule084","R1,C7,S5-6,B5,NW212101212,0121001"]);d.push("Alt OT M");c.push(["Alternating Outer-Totalistic Moore",""]);c.push(["alternlife","B13/S012345678|B/S15"]);c.push(["comb395","B3/S1237|B2/S"]);c.push(["comb625","B3/S348|B2/S356"]);c.push(["Dotlesslife",
"B3/S23|B/S12345678"]);c.push(["Fizzler","B13/S3|B/S345678"]);c.push(["Jelly","B3/S135|B2/S5"]);c.push(["Phoenix","B24/S|B35/S"]);d.push("Alt INT M");c.push(["Alternating Non-Totalistic Moore",""]);c.push(["SparklessLife","B3/S23|B/S1c2345678"]);c.push(["Unidim1","B134578/S02345678|B6i7/S268"]);c.push(["Unidim2","B12ci34578/S02345678|B7/S268"]);c.push(["Unidim3","B12ci34578/S02345678|B6i7/S268"]);this.Wc[0][2]=!1;this.Wc[0][3]=!1;for(a=1;a<this.Wc.length;a+=1)for(c=this.Wc[a][1],d=this.Wc[a][0],this.Wc[a][2]=
!1,this.Wc[a][3]=!1,b=0;b<a;b+=1)this.Wc[b][0]===d&&(this.Wc[b][3]=!0,this.Wc[a][3]=!0),this.Wc[b][1]===c&&(this.Wc[b][2]=!0,this.Wc[a][2]=!0)},Xo:function(a){var b=null,c=0;for(a=a.replace(/&amp;/g,"&");c<this.Wc.length&&null===b;)""!==this.Wc[c][1]&&this.Wc[c][0]===a&&(b=this.Wc[c][1]),c+=1;if(!b)for(a=a.toLowerCase(),c=0;c<this.Wc.length&&null===b;)""!==this.Wc[c][1]&&this.Wc[c][0].toLowerCase()===a&&(b=this.Wc[c][1]),c+=1;return b},Wo:function(a){for(var b=null,c=0;c<this.Wc.length&&null===b;)""!==
this.Wc[c][1]&&this.Wc[c][1]===a&&(b=this.Wc[c][0]),c+=1;"Conway's Life"===b&&(b="Life");return b}};lb.prototype.V=function(){var a=!1;if(""!==this.message||""!==this.i)a=!0;return a};lb.prototype.clear=function(a,b){a?""!==this.i&&(b||this.u?(this.i="",this.u=!1):(a=performance.now()-this.C,a<this.v+this.B&&(this.C=performance.now()-(this.v+this.B)),this.u=!0)):""!==this.message&&(b||this.s?(this.s=!1,this.message=""):(a=performance.now()-this.startTime,a<this.F+this.K&&(this.startTime=performance.now()-
(this.F+this.K)),this.s=!0))};lb.prototype.notify=function(a,b,c,d,f){this.T&&(f?this.i!==a&&(this.i=a,this.v=16*b,this.B=16*c,this.W=16*d,this.C=performance.now(),this.u=!1,this.l=0,this.M=!1):(this.message=a,this.F=16*b,this.K=16*c,this.Y=16*d,this.startTime=performance.now(),this.s=!1))};lb.prototype.ca=function(){var a=128>this.l?this.l/128:(255-this.l)/128;this.h.fillStyle="rgb("+(this.D.mb*a+this.D.ic*(1-a))+","+(this.D.lb*a+this.D.hc*(1-a))+","+(this.D.ib*a+this.D.fc*(1-a))+")"};lb.prototype.O=
function(a,b,c){var d=this.h.measureText(a).width>>1;if(this.P){this.h.fillStyle=this.ba;var f=this.h.globalAlpha;this.h.globalAlpha=.5*f;this.h.fillRect(-d-20,-c,2*d+40,2*c);this.h.globalAlpha=f}this.h.fillStyle=this.X;this.h.fillText(a,-d+2,2);b?this.M?(this.ca(),this.l=this.l+4&255):this.h.fillStyle=this.A:this.h.fillStyle=this.m;this.h.fillText(a,-d,0)};lb.prototype.Z=function(a,b,c,d,f,e,k){var g=30*this.o,l=32*this.o,p=this.D.eb,n=60*this.o,q=!0;this.D.ba?(n=0,e=this.h.canvas.height/2,this.P=
!0):this.P=!1;""!==a&&(q=!1,f=performance.now()-f,this.h.save(),this.D.W&&(k?(n=0,e=this.h.canvas.height/2):(g/=p,l=l/p|0,e=e/p|0,n=n/p|0)),this.h.font=(g|0)+"px Arial",this.h.translate(this.h.canvas.width/2-1,n+e),f<=b?(e=f/b,e*=e,this.h.globalAlpha=e,this.h.scale(e,e)):f>b+c&&f<=b+c+d&&(e=(d-(f-(b+c)))/d,e*=e,this.h.globalAlpha=e,this.h.scale(e,e)),f>b+c+d?q=!0:(b=a.indexOf("\\n"),-1===b?this.O(a,k,l):(this.O(a.substring(0,b),k,l),this.h.translate(0,l),this.O(a.substring(b+2),k,l))),this.h.restore());
return q};lb.prototype.$=function(){var a=this.D.h.C;this.Z(this.message,this.F,this.K,this.Y,this.startTime,81*a,!1)&&(this.message="");this.D.W&&"Expand"!==this.i&&"Launch"!==this.i||!this.Z(this.i,this.v,this.B,this.W,this.C,45*a,!0)||(this.i="")};rb.prototype.T=function(a){this.u=a};rb.prototype.B=function(a,b,c,d){var f=null,e,k=this.v.length,g,l,p=this.P;if(0<this.A.canvas.width){if(!this.re){this.width=this.A.canvas.width;this.height=this.A.canvas.height;this.l=document.createElement("canvas");
this.l.width=this.width;this.l.height=this.height;this.m=this.l.getContext("2d");var n=document.createElement("canvas");n.width=this.width;n.height=this.height;this.C=n.getContext("2d");n=document.createElement("canvas");n.width=this.width;n.height=this.height;this.s=n.getContext("2d");this.m.clearRect(0,0,this.l.width,this.l.height);this.m.drawImage(this.A.canvas,0,0);f=this.m.getImageData(0,0,this.l.width,this.l.height);this.F=new Uint32Array(f.data.buffer)}if(this.o){n=new Uint32Array(this.F);
-1===p&&(p=4294901503);for(f=e=0;f<k;f+=1){for(l=38;1<l;--l){var q=e+l*this.width;var m=q-2-this.width-this.width;for(g=38;1<g;--g)0===n[q+g]&&4294967295===n[m+g]&&(n[q+g]=p)}e+=40}for(f=0;f<n.length;f+=1)if(4294967295===n[f]||4285558896===n[f])n[f]=this.M;f=this.s.createImageData(this.s.canvas.width,this.s.canvas.height);e=new Uint32Array(f.data.buffer);e.set(n);this.s.putImageData(f,0,0);n=new Uint32Array(this.F);for(f=e=0;f<k;f+=1){for(l=38;1<l;--l)for(q=e+l*this.width,m=q-2-this.width-this.width,
g=38;1<g;--g)0===n[q+g]&&4294967295===n[m+g]&&(n[q+g]=p);e+=40}for(f=0;f<n.length;f+=1)4294967295===n[f]?n[f]=this.O:4285558896===n[f]&&(n[f]=this.K);f=this.m.createImageData(this.m.canvas.width,this.m.canvas.height);e=new Uint32Array(f.data.buffer);e.set(n);this.m.putImageData(f,0,0);this.re=this.o=!1}this.re||(this.C.putImageData(f,0,0),this.re=!0);1!==this.u&&(this.i.save(),this.i.translate(b,c),this.i.scale(this.u,this.u),this.i.imageSmoothingEnabled=!0,c=b=0);d?this.i.drawImage(this.s.canvas,
a.ao*a.width,0,a.width,a.height,b,c,a.width,a.height):this.i.drawImage(this.C.canvas,a.ao*a.width,0,a.width,a.height,b,c,a.width,a.height);1!==this.u&&(this.i.restore(),this.i.imageSmoothingEnabled=!1)}};rb.prototype.length=function(){return this.v.length};rb.prototype.h=function(a){var b,c=this.v,d=this.length(),f=null;for(b=0;b<d&&!f;)c[b].name===a?f=c[b]:b+=1;return f};rb.prototype.add=function(a,b,c){var d=this.v.length;a=new rc(a,b,c,d);this.v[d]=a};var da={us:0,qe:1,vertical:2,Xl:0,button:1,
qg:2,list:3,label:4,Aj:0,kb:1,left:0,iy:1,right:2,Sa:0,lc:1,Yp:2,sb:3,zk:4,Cg:5,Hw:6,Zc:7,Xa:8};Wa.prototype.xa=function(a){this.la=a};Wa.prototype.l=function(a){!this.G&&a&&(this.G=!0)};Wa.prototype.Pb=function(a){this.fontSize=parseInt(a.substring(0,a.indexOf("px")),10);this.oa=a.substring(a.indexOf("px")+3)};Wa.prototype.ua=function(a,b,c,d,f,e){this.A=a;this.mc=b;this.Y=c;this.ka=d;this.C=f;this.W=e;if(this.type===da.list)for(this.P=[],a=0;a<this.lower.length;a+=1)this.P[a]=this.mc};Wa.prototype.kf=
function(a){this.M=a};Wa.prototype.ya=function(a){this.ja=a};Wa.prototype.o=function(a){this.O=a};Wa.prototype.setPosition=function(a,b,c){this.position=a;this.Z=b;this.O=c};Wa.prototype.va=function(a,b){var c=this.ra.s,d=this.ra.C,f=this.Z*c,e=this.O*d;c*=this.M;d*=this.ja;this.x=f;this.y=e;this.width=c;this.height=d;switch(this.position){case da.Sa:this.x=(a-c>>1)+f;break;case da.lc:this.x=a+f;break;case da.Yp:this.y=(b-d>>1)+e;this.x=a+f;break;case da.sb:this.x=a+f;this.y=b+e;break;case da.zk:this.x=
(a-c>>1)+f;this.y=b+e;break;case da.Cg:this.y=b+e;break;case da.Hw:this.y=(b-d>>1)+e;break;case da.Xa:this.x=(a-c>>1)+f,this.y=(b-d>>1)+e}};Wa.prototype.qa=function(a,b){var c=this.ia;this.$[c]=[a,b];this.ia=c+1};Wa.prototype.ea=function(a){var b=[],c;var d=a.length;for(c=0;c<d;c+=1)a[c].qa(this,!0);d=b.length;for(c=0;c<d;c+=1)b[c].qa(this,!1)};Wa.prototype.wa=function(a,b){var c=!1;this.B&&a>=this.x&&a<this.x+this.width&&b>=this.y&&b<this.y+this.height&&(c=!0);return c};Va.prototype.Ka=function(a){this.C=
this.s=a;this.U.notification.o=a};Va.prototype.Aa=function(a,b,c,d,f,e){var k;this.da=a;this.mc=b;this.ea=c;this.ha=d;this.fa=f;this.ba=e;for(k=0;k<this.u.length;k+=1)this.u[k].ua(a,b,c,d,f,e)};Va.prototype.va=function(a,b){var c=!1,d=a.ia;a.type===da.list&&a.s===da.kb?c=a.current[0]:c=a.current===a.s;if(c&&b)for(b=0;b<d;b+=1)c=c&&this.va(a.$[b][0],a.$[b][1]);return c};Va.prototype.xa=function(a){var b,c=a.ia;var d=!0;for(b=0;b<c;b+=1)d=d&&this.va(a.$[b][0],a.$[b][1]);a.B=d};Va.prototype.re=function(){var a;
for(a=0;a<this.o;a+=1){var b=this.u[a];b.B=!0;switch(b.type){case da.Xl:b.v&&(b.current=b.v(b.current,!1,this.caller,b.id));break;case da.list:b.v&&(b.current=b.v(b.current,!1,this.caller,b.id))}this.xa(b)}};Va.prototype.m=function(a,b,c,d,f,e,k,g,l){this.u[this.o]=new Wa(this.o,a,this.caller,b,c,d,f,e,k,l,g,da.list,this.V,!0,"","",-1,[],this);this.o+=1;return this.u[this.o-1]};Va.prototype.F=function(a,b,c,d,f,e,k,g,l,p,n,q){this.u[this.o]=new Wa(this.o,a,this.caller,b,c,d,f,e,k,g,l,da.Xl,this.V,
!0,p,n,q,null,this);this.o+=1;return this.u[this.o-1]};Va.prototype.l=function(a,b,c,d,f,e){this.u[this.o]=new Wa(this.o,null,null,a,b,c,d,f,0,0,0,da.label,this.V,!0,e,"",-1,null,this);this.o+=1;return this.u[this.o-1]};Va.prototype.i=function(a,b,c,d,f,e,k){this.u[this.o]=new Wa(this.o,a,this.caller,b,c,d,f,e,0,0,0,da.button,this.V,!0,k,"",-1,null,this);this.o+=1;return this.u[this.o-1]};Va.prototype.Ba=function(a){this.u[this.o]=new Wa(this.o,null,null,a,0,-40,100,40,0,100,0,da.qg,this.V,!1,"",
"",0,null,this);this.o+=1;return this.u[this.o-1]};Va.prototype.T=function(a,b){var c="";a+=String();if(""!==a){this.h.save();this.h.translate(b.x+b.width/2,b.y+b.height/2);this.h.font=(b.fontSize*this.s|0)+"px "+b.oa;b.V===da.vertical&&this.h.rotate(.5*Math.PI);var d=this.h.measureText(a).width;var f=b.V===da.vertical?b.height:b.width;if(d>=f-6){var e=a.length;var k=0;if(e){do c=a.substring(0,k)+"\u2026",d=this.h.measureText(c).width,k+=1;while(k<e&&d<=f-10);c=a.substring(0,k-1)+"\u2026"}a=c}switch(b.i){case da.left:var g=
b.width/2-2;break;case da.iy:g=d/2;break;case da.right:g=d/2-(b.width-d)/2+4}this.h.fillStyle=b.mc;this.h.fillText(a,2-g+.5,2.5);this.h.fillStyle=!b.locked&&!this.locked||b.K?b.A:b.C;this.h.fillText(a,-g+.5,.5);this.h.restore()}};Va.prototype.Fa=function(a){this.h.globalAlpha=this.P;this.T(a.wb,a)};Va.prototype.Da=function(a){this.h.globalAlpha=this.P;this.T(a.wb,a)};Va.prototype.Ia=function(a){var b=(a.current-a.lower)/(a.s-a.lower);this.h.globalAlpha=a.u;this.h.fillStyle=a.A;a.orientation===da.qe?
(b*=a.width-3,this.h.fillRect(a.x+(b+1|0),a.y,1,a.height)):(b*=a.height-3,this.h.fillRect(a.x,a.y+(b+1|0),a.width,1));b=a.wb;a.ta&&(b=-1!==a.ca?b+a.current.toFixed(a.ca):b+a.current,b+=a.sa);""!==b&&(this.h.globalAlpha=a.X,this.T(b,a))};Va.prototype.Ja=function(a,b){var c=(a.current[0]-a.lower)/(a.s-a.lower);var d=this.wa;a.orientation===da.qe?(c*=a.width-3,c=c+1|0,b&&(this.h.fillStyle=a.Y,this.h.globalAlpha=a.da,this.h.fillRect(a.x+c-d,a.y,d,a.height),this.h.fillRect(a.x+c+1,a.y,d,a.height)),!a.locked&&
!this.locked||a.K?(this.h.fillStyle=a.A,this.h.globalAlpha=a.X):(this.h.fillStyle=a.C,this.h.globalAlpha=a.T),this.h.fillRect(a.x+c,a.y,1,a.height)):(c*=a.height-3,c=c+1|0,b&&(this.h.fillStyle=a.Y,this.h.globalAlpha=a.da,this.h.fillRect(a.x,a.y+c-d,a.width,d),this.h.fillRect(a.x,a.y+c+1,a.width,d)),!a.locked&&!this.locked||a.K?(this.h.fillStyle=a.A,this.h.globalAlpha=a.X):(this.h.fillStyle=a.C,this.h.globalAlpha=a.T),this.h.fillRect(a.x,a.y+c,a.width,1));b=a.wb;a.ta&&(b=0<=a.ca?b+a.current[1].toFixed(a.ca):
b+a.current[1]);b+=a.sa;""!==b&&(this.h.globalAlpha=this.P,this.T(b,a))};Va.prototype.Ga=function(a,b){var c=a.x;var d=a.y,f=a.width,e=a.height,k=a.orientation,g=a.current;var l=a.lower;var p=l.length;var n=a.orientation===da.qe?f/p:e/p;this.h.globalAlpha=a.pa;this.h.fillStyle=a.ka;if(a.s===da.Aj){var q=a.current;0<=q&&q<p&&(a.orientation===da.qe?this.h.fillRect(c+q*n+1,d+1,n-2,e-2):this.h.fillRect(c+1,d+1+q*n,f-2,n-2))}else if(a.orientation===da.qe){for(q=0;q<p;q+=1)g[q]&&this.h.fillRect(c+q*n+1,
d+1,n-2,e-2);1===p&&(!a.locked&&!this.locked||a.K?(this.h.strokeStyle=a.W,this.h.globalAlpha=a.ba):(this.h.strokeStyle=a.C,this.h.globalAlpha=a.T),this.h.beginPath(),g[0]?(this.h.moveTo(c+n-6+.5,d+5.5),this.h.lineTo(c+n-2+.5,d+1.5),this.h.moveTo(c+n-2+.5,d+5.5),this.h.lineTo(c+n-6+.5,d+1.5)):(this.h.moveTo(c+n-4+.5,d+5.5),this.h.lineTo(c+n-4+.5,d+1.5),this.h.moveTo(c+n-6+.5,d+3.5),this.h.lineTo(c+n-2+.5,d+3.5)),this.h.stroke())}else for(q=0;q<p;q+=1)g[q]&&this.h.fillRect(c+1,d+1+q*n,f-2,n-2);a.fa=
!1;b?(this.h.globalAlpha=a.da,this.h.fillStyle=a.Y,a.orientation===da.qe?(q=(this.v-c)/f*p|0,0<=q&&q<p&&(a.m[q]?a.fa=!0:this.h.fillRect(c+q*n+.5,d+.5,n-1,e-1))):(q=(this.B-d)/e*p|0,0<=q&&q<p&&(a.m[q]?a.fa=!0:this.h.fillRect(c+.5,d+.5+q*n,f-1,n-1))),a.F=q):a.F=-1;this.h.globalAlpha=this.P;if(a.orientation===da.qe)for(q=0;q<p;q+=1)a.h[q]&&this.Y.B(a.h[q],a.x+n*q,a.y,this.locked||a.locked||a.m[q]);else for(q=0;q<p;q+=1)a.h[q]&&this.Y.B(a.h[q],a.x,a.y+n*q,this.locked||a.locked||a.m[q]);this.h.globalAlpha=
a.X;this.h.fillStyle=a.A;if(k===da.qe)for(q=0;q<p;q+=1)c=l[q],""!==c&&(this.h.save(),this.h.translate((.5+(q-p/2))*n,0),this.T(c,a),this.h.restore());else for(q=0;q<p;q+=1)c=l[q],""!==c&&(this.h.save(),this.h.translate(0,(.5+(q-p/2))*n),this.T(c,a),this.h.restore())};Va.prototype.Ea=function(a,b,c,d,f){var e=!0;b&&!this.A&&f&&(e=!1);e&&(c===d||-1===d&&b)&&a.type===da.button?(this.h.fillStyle=a.Y,this.h.globalAlpha=a.da):(this.h.fillStyle=a.mc,this.h.globalAlpha=a.u);switch(a.type){case da.qg:f=(a.current-
a.lower)/(a.s-a.lower);this.h.fillStyle=a.ka;this.h.globalAlpha=a.pa;a.orientation===da.qe?(f*=a.width-3,f=f+1|0,this.h.fillRect(a.x,a.y,f,a.height),this.h.fillStyle=a.mc,this.h.globalAlpha=a.u,this.h.fillRect(a.x+f,a.y,a.width-f,a.height)):(f*=a.height-3,f=f+1|0,this.h.fillRect(a.x,a.y,a.width,f),this.h.fillStyle=a.mc,this.h.fillRect(a.x,a.y+f,a.width,a.height-f));break;case da.Xl:f=(a.current[0]-a.lower)/(a.s-a.lower);if(e&&(c===d||-1===d&&b)){var k=this.wa;if(a.orientation===da.qe){f*=a.width-
3;f=f+1|0;var g=f-k;0<g&&this.h.fillRect(a.x,a.y,g,a.height);g=1+f+k;g<a.width&&this.h.fillRect(a.x+g,a.y,a.width-g,a.height)}else f*=a.height-3,f=f+1|0,g=f-k,0<g&&this.h.fillRect(a.x,a.y,a.width,g),g=1+f+k,g<a.height&&this.h.fillRect(a.x,a.y+g,a.width,a.height-g)}else this.h.fillRect(a.x,a.y,a.width,a.height);break;case da.list:k=a.lower.length;if(a.orientation===da.qe)for(g=a.width/k,f=0;f<k;f+=1)this.h.fillStyle=a.P[f],this.h.fillRect(a.x+f*g+1,a.y+1,g-2,a.height-2);else for(g=a.height/k,f=0;f<
k;f+=1)this.h.fillStyle=a.P[f],this.h.fillRect(a.x+1,a.y+1+f*g,a.width-2,g-2);break;default:this.h.fillRect(a.x,a.y,a.width,a.height)}a.type!==da.list&&a.h&&(this.h.globalAlpha=a.X,this.Y.B(a.h,a.x,a.y,this.locked||a.locked));null!==a.la&&a.la(this.caller);if(0<a.border)switch(!a.locked&&!this.locked||a.K?(this.h.strokeStyle=a.W,this.h.globalAlpha=a.ba):(this.h.strokeStyle=a.C,this.h.globalAlpha=a.T),this.h.lineWidth=a.border,a.type){case da.label:break;case da.list:k=a.lower.length;if(a.orientation===
da.qe)for(g=a.width/k,f=0;f<k;f+=1)this.locked||a.locked||a.m[f]?(this.h.strokeStyle=a.C,this.h.globalAlpha=a.T):(this.h.strokeStyle=a.W,this.h.globalAlpha=a.ba),this.h.strokeRect(a.x+.5+f*g,a.y+.5,g-1,a.height-1);else for(g=a.height/k,f=0;f<k;f+=1)this.locked||a.locked||a.m[f]?(this.h.strokeStyle=a.C,this.h.globalAlpha=a.T):(this.h.strokeStyle=a.W,this.h.globalAlpha=a.ba),this.h.strokeRect(a.x+.5,a.y+.5+f*g,a.width-1,g-1);break;default:this.h.strokeRect(a.x+.5,a.y+.5,a.width-1,a.height-1)}switch(a.type){case da.button:this.Da(a);
break;case da.label:this.Fa(a);break;case da.Xl:this.Ja(a,e&&(c===d||-1===d&&b));break;case da.qg:this.Ia(a);break;case da.list:this.Ga(a,e&&(c===d||-1===d&&b))}if(c===d)switch(a.type){case da.Xl:e=this.B,a.orientation===da.vertical?(e<a.y?e=a.y:e>a.y+a.height-1&&(e=a.y+a.height-1),f=(e-a.y)/(a.height-1)*(a.s-a.lower)+a.lower):(e=this.v,e<a.x?e=a.x:e>a.x+a.width-1&&(e=a.x+a.width-1),f=(e-a.x)/(a.width-1)*(a.s-a.lower)+a.lower),a.lower<a.s?(f<a.lower&&(f=a.lower),f>a.s&&(f=a.s)):(f<a.s&&(f=a.s),f>
a.lower&&(f=a.lower)),a.current[0]=f,a.v&&(a.current=a.v(a.current,!0,a.caller,a.id))}if(b&&!this.A&&a.ha)switch(a.type){case da.button:a.v&&a.v(a.caller,a.id);break;case da.list:k=a.lower.length,g=a.orientation===da.qe?(this.v-a.x)/a.width*k|0:(this.B-a.y)/a.height*k|0,a.s===da.Aj?a.m[g]||(a.v?a.current=a.v(g,!0,a.caller,a.id):a.current=g):a.m[g]||(a.current[g]=!a.current[g],a.v&&a.v(a.current,!0,a.caller,a.id))}b&&c===d?(a.ha=this.A,a.ma=this.v,a.na=this.B):(a.ha=!1,a.ma=-1,a.na=-1)};Va.prototype.$=
function(a){this.sa=a};Va.prototype.ya=function(){var a,b=!1,c=this.h.canvas.width,d=this.h.canvas.height,f=-1;var e=!1;this.M=-1;if(this.G)this.A?-2!==this.K?(this.ta=this.v,this.ua=this.B,this.ma=this.v,this.na=this.B,this.K=-2):this.O&&!this.locked&&this.O(this.v,this.B,this.A,this.caller):(-2===this.K&&(this.O&&!this.locked&&this.O(this.v,this.B,this.A,this.caller),this.v===this.ta&&this.B===this.ua&&this.ka&&(this.U.ia?this.U.ia=!1:this.ka(this.v,this.B,this.A,this.caller))),this.A||(this.K=
-1));else{var k=this.K;this.h.textAlign="left";for(a=0;a<this.o;a+=1){var g=this.u[a];if(!g.G){g.va(c,d);var l=!1;g.wa(this.v,this.B)&&(f=a,!g.locked&&!this.locked||g.K?l=!0:b=!0);l&&!this.A&&(this.M=a);(this.A&&-1===k&&l||l&&this.ca)&&g.type!==da.label&&(k=a,this.ca&&(g.ha=!0));a!==k||!g.locked&&!this.locked||g.K||(k=-1,l=!1);g.B&&this.Ea(g,l,a,k,this.U.u)}}0<=k&&!this.A&&(e=!0);this.A&&-1===k&&!b&&(k=-2);-2===k&&this.O&&!this.locked&&this.O(this.v,this.B,this.A,this.caller);this.A||(k=-1);this.K=
k;this.h.globalAlpha=1}this.ia=0<=f&&!this.u[f].locked?this.u[f].type===da.Xl?this.u[f].orientation===da.us||this.u[f].orientation===da.qe?"ew-resize":"ns-resize":"auto":this.sa;return e};Ja.prototype.Bb=function(){this.s.fillStyle=this.A;var a=this.s.fillStyle;this.mb=Number("0x"+a.substring(1,3));this.lb=Number("0x"+a.substring(3,5));this.ib=Number("0x"+a.substring(5,7));this.s.fillStyle=this.Fa;a=this.s.fillStyle;this.ic=Number("0x"+a.substring(1,3));this.hc=Number("0x"+a.substring(3,5));this.fc=
Number("0x"+a.substring(5,7))};Ja.prototype.Ab=function(){this.oa=[];this.da=this.la=0};Ja.prototype.Rb=function(){var a=0;0<this.da&&(a=this.la/this.da);this.oa[this.oa.length]=a;this.da=this.la=0};Ja.prototype.ac=function(a){var b=-1;0<=a&&a<this.oa.length&&(b=this.oa[a]);return b};Ja.prototype.Qb=function(a,b,c,d,f,e,k){this.A=a;this.mc=b;this.bb=c;this.Fa=d;this.$=f;this.Ba=e;this.La=k;this.h&&this.h.Aa(a,b,c,d,f,e);this.notification.m=a;this.notification.A=a;this.Bb();this.notification.X=b;this.s.fillStyle=
b;this.Ka=this.s.fillStyle};Ja.prototype.hb=function(a,b,c){a=new Va(this,a,b,c,this.s,this.sa);a.da=this.A;a.P=this.Fb;a.mc=this.mc;a.W=this.Aa;a.ea=this.bb;a.pa=this.Gb;a.ha=this.Fa;a.ra=this.Nb;a.fa=this.$;a.qa=this.Mb;a.ba=this.Ba;a.la=this.ab;a.border=this.border;return a};Ja.prototype.Yb=function(){var a=this.h,b=a.s,c=this.s,d="";var f=1;if(-1!==a.K||-1===a.K&&-1===a.M)this.qa=a.K;if(-1===a.M||-1!==this.qa&&this.qa===a.M){if(-1!==a.M){var e=a.u[a.M];e.id===this.xa&&e.F!==this.ra&&(this.qa=
-1)}50>this.v&&(this.v+=1)}else{e=a.u[a.M];e.id!==this.xa||e.id===this.xa&&e.F!==this.ra?(this.xa=e.id,this.ra=e.F,50>this.v&&(this.v+=1)):0<=this.v&&--this.v;-1!==this.ra?a=e.R[this.ra]:Array.isArray(e.R)?a="":(a=e.R,null===a&&(a=""));var k=a.indexOf("\n");if(""!==a&&-1===this.v&&!e.fa){this.qa=-1;var g=e.x;var l=e.y;var p=e.width;var n=e.height;-1!==e.F&&(e.orientation===da.qe?(g+=p/e.lower.length*e.F,p/=e.lower.length):(l+=n/e.lower.length*e.F,n/=e.lower.length));var q=18*b;c.font=(q|0)+"px Arial";
var m=4*b;var r=c.measureText(a).width;b=Math.round(g+p/2);l=Math.round(l+n/2);b-=r/2;b<m+1?b=m+1:b+r+m>c.canvas.width&&(b=c.canvas.width-r-m-1);n>p?(-1!==this.Ta&&p<this.Ta&&(p=this.Ta),b=b>c.canvas.width/2?g-r-p/2:g+e.width+p/2):(-1!==this.Ua&&n<this.Ua&&(n=this.Ua),l=l>c.canvas.height/2?l-n:l+n);if(r>c.canvas.width){d=(r>>1)+q+m;d>c.canvas.width&&(d=c.canvas.width);for(f=1;c.measureText(a.substring(0,f)).width<d;)f+=1;for(k=f-1;k>f-5;)d=a[k]," "===d||","===d||"/"===d||"|"===d?(f=k+2,k=f-5):--k;
d=a.substring(f-1);a=a.substring(0,f-1);r=c.measureText(a).width;f=c.measureText(d).width;f>r&&(r=f);f=2}else-1!==k&&(d=a.substring(k+1),f=c.measureText(d).width,a=a.substring(0,k),r=c.measureText(a).width,f>r&&(r=f),f=2);k=q*f+2*m;2===f&&l>c.canvas.height/2&&(l-=q+m,k+=m);c.globalAlpha=this.Aa;c.fillStyle=this.mc;c.fillRect((b-m|0)-.5,(l-q/2-m|0)-.5,r+2+2*m,k);c.globalAlpha=this.ab;c.strokeStyle=this.Ba;c.strokeRect((b-m|0)-.5,(l-q/2-m|0)-.5,r+2+2*m,k);c.globalAlpha=this.Aa;c.strokeStyle=this.mc;
c.beginPath();c.moveTo((b-m|0)+.5,(l-q/2-m|0)+.5+k);c.lineTo((b-m|0)+.5+r+2+2*m,(l-q/2-m|0)+.5+k);c.lineTo((b-m|0)+.5+r+2+2*m,(l-q/2-m|0)+.5);c.stroke();c.globalAlpha=1;c.fillStyle=this.mc;c.fillText(a,b+2,l+2);""!==d&&c.fillText(d,b+2,l+q+m+2);c.fillStyle=this.A;f=a.indexOf("[");k=a.lastIndexOf("]");-1!==f&&-1!==k?(e=a.substring(0,f+1),r=c.measureText(e).width,c.fillText(e,b,l),c.fillStyle=this.La,e=a.substring(f+1,k),c.fillText(e,b+r,l),c.fillStyle=this.A,e=a.substring(k),r=c.measureText(a.substring(0,
k)).width,c.fillText(e,b+r,l)):c.fillText(a,b,l);""!==d&&(f=d.indexOf("["),k=d.lastIndexOf("]"),-1!==f&&-1!==k?(e=d.substring(0,f+1),r=c.measureText(e).width,c.fillText(e,b,l+q+m),c.fillStyle=this.La,e=d.substring(f+1,k),c.fillText(e,b+r,l+q+m),c.fillStyle=this.A,e=d.substring(k),r=c.measureText(d.substring(0,k)).width,c.fillText(e,b+r,l+q+m)):c.fillText(d,b,l+q+m))}}};Ja.prototype.ec=function(a){var b,c,d,f=a.s,e=90,k=1,g=1;a.W&&(e=0);a.ya=!1;a.Za=!0;a.ka&&(a.h=a.ka,a.ka=null,f.font=a.sa,a.h.re(),
a.h.Z&&a.h.Z(a.h.caller));a.h&&(k=a.h.s,g=a.h.C);var l=f.canvas.width-86*k;e*=g;var p=performance.now();a.Ma&&(a.Ea=p-1E3/a.rc);a.ha||a.notification.V()||a.M||50!==a.v&&-1!==a.v?(a.na(a),a.M&&--a.M,a.Ma=!1):a.Ma=!0;var n=p-a.Ea;a.Ea=p;a.h.oa&&a.h.oa(n,a.h.caller);p=performance.now()-p;var q=performance.now();a.Ob();a.Da=!1;a.Yb();a.notification.$();q=performance.now()-q;a.Na[a.pa]=q;for(d=b=0;5>d;d+=1)b+=a.Na[d];b/=5;a.Qa[a.pa]=p;for(d=c=0;5>d;d+=1)c+=a.Qa[d];c/=5;a.gq[a.pa]=n;for(d=n=0;5>d;d+=1)n+=
a.gq[d];a.pa=(a.pa+1)%5;d=1E3/(n/5);d>a.rc&&(d=a.rc);this.la+=1E3/(p+q);this.da+=1;if(a.B){f.font=(12*k|0)+"px Arial";f.globalAlpha=.7;f.fillStyle=a.mc;a.F?f.fillRect(l,e,88*k|0,83*g|0):f.fillRect(l,e,88*k|0,20*g|0);q=(c+b)/16.666666;1<q&&(q=1);f.fillStyle=.5>q?"rgb("+(510*q|0)+",255,0)":"rgb(255,"+(255*(1-2*(q-.5))|0)+",0)";f.fillRect(l,e,88*q*k|0,20*g|0);b=b.toFixed(1);c=c.toFixed(1);p=4>d.toFixed(1).length?d.toFixed(1):String(d|0);f.globalAlpha=1;f.fillStyle=a.mc;f.fillText(p+"fps",l+6*k,e+12*
g);d=(100*q|0)+"%";n=f.measureText(d).width;f.fillText(d,l+84*k-n,e+12*g);if(a.F&&a.u){f.save();f.fillStyle="black";f.font="18px Arial";for(d=0;3>d;)f.fillText(String(a.l),4-d,50-d),f.fillText(a.caller.Tk+", "+a.caller.Vk,4-d,80-d),f.fillText(String(a.m),4-d,110-d),f.fillText(a.caller.Uk+", "+a.caller.Wk,4-d,140-d),d+=2,f.fillStyle="white";f.restore()}a.F&&(f.fillText("menu",l+6*k,e+28*g),f.fillText("work",l+6*k,e+44*g),f.fillText("update",l+6*k,e+60*g),f.fillText("focus",l+6*k,e+76*g),d=b+"ms",n=
f.measureText(d).width,f.fillText(d,l+84*k-n,e+28*g),d=c+"ms",n=f.measureText(d).width,f.fillText(d,l+84*k-n,e+44*g),d=a.ha?"on":"off",n=f.measureText(d).width,f.fillText(d,l+84*k-n,e+60*g),d=a.o?"on":"off",n=f.measureText(d).width,f.fillText(d,l+84*k-n,e+76*g));f.fillStyle=a.A;f.fillText(p+"fps",l+4*k,e+10*g);d=(100*q|0)+"%";n=f.measureText(d).width;f.fillText(d,l+82*k-n,e+10*g);a.F&&(f.fillText("menu",l+4*k,e+26*g),f.fillText("work",l+4*k,e+42*g),f.fillText("update",l+4*k,e+58*g),f.fillText("focus",
l+4*k,e+74*g),d=b+"ms",n=f.measureText(d).width,f.fillText(d,l+82*k-n,e+26*g),d=c+"ms",n=f.measureText(d).width,f.fillText(d,l+82*k-n,e+42*g),d=a.ha?"on":"off",n=f.measureText(d).width,f.fillText(d,l+82*k-n,e+58*g),d=a.o?"on":"off",n=f.measureText(d).width,f.fillText(d,l+82*k-n,e+74*g));f.globalAlpha=1}a.h.ia!==a.h.ja&&(a.h.ja=a.h.ia,a.P.style.cursor=a.h.ja);a.Va=!0};Ja.prototype.fa=function(a){a.Y=this.Kb;this.h?this.ka=a:(this.ka=null,this.h=a,this.s.font=this.sa,this.h.re(),this.h.Z&&this.h.Z(this.h.caller),
this.na(this))};Ja.prototype.Ob=function(){var a;if(this.h){var b=this.h;this.s.font=this.sa;b.v=this.T;b.B=this.V;b.A=this.ea;b.ca=this.Da;if(b.ya()||this.i){for(a=0;a<b.o;a+=1){var c=b.u[a];b.xa(c)}this.i=!1}}};Ja.prototype.na=function(a){a.ya||(requestAnimationFrame?requestAnimationFrame(a.fb):setTimeout(a.fb,16),a.ya=!0)};Ja.prototype.Wa=function(){var a=this.ja(this,this.K,this.Z),b=this.ja(this,this.C,this.O);this.ma&&this.ma(a[0],a[1],b[0],b[1],0,this.caller)};Ja.prototype.vb=function(a){a.identifier===
this.l?(a=this.ja(this,this.K,this.Z),this.ma(a[0],a[1],0,0,1,this.caller)):(a=this.ja(this,this.C,this.O),this.ma(a[0],a[1],0,0,2,this.caller))};Ja.prototype.va=function(){this.Le(!0)};Ja.prototype.ua=function(a,b){var c=b.changedTouches,d=c.length,f;switch(b.type){case "touchstart":if(-1===a.l&&-1===a.m)switch(d){case 1:var e=c[0];a.l=e.identifier;a.K=e.pageX;a.Z=e.pageY;a.ca(a,e.pageX,e.pageY);break;case 2:e=c[0],a.l=e.identifier,a.K=e.pageX,a.Z=e.pageY,e=c[1],a.m=e.identifier,a.C=e.pageX,a.O=
e.pageY,a.Wa()}else-1===a.l?(a.X(a,a.C,this.O),e=c[0],a.l=e.identifier,a.K=e.pageX,a.Z=e.pageY,a.Wa()):-1===a.m&&(a.X(a,this.K,this.Z),e=c[0],a.m=e.identifier,a.C=e.pageX,a.O=e.pageY,a.Wa());break;case "touchend":for(f=0;f<d;f+=1)e=c[f],e.identifier===a.l?-1===a.m?(a.X(a,e.pageX,e.pageY),a.l=-1):(a.l=-1,a.va(),a.ca(a,a.C,a.O)):e.identifier===a.m&&(-1===a.l?(a.X(a,e.pageX,e.pageY),a.m=-1):(a.m=-1,a.va(),a.ca(a,a.K,a.C)));break;case "touchmove":for(f=0;f<d;f+=1)e=c[f],e.identifier===a.l?-1===a.m?a.Ia(a,
e.pageX,e.pageY):(a.K=e.pageX,a.Z=e.pageY,a.vb(e)):e.identifier===a.m&&(-1===a.l?a.Ia(a,e.pageX,e.pageY):(a.C=e.pageX,a.O=e.pageY,a.vb(e)));break;case "touchcancel":for(f=0;f<d;f+=1)e=c[f],e.identifier===a.l?-1===a.m?(a.X(a,e.pageX,e.pageY),a.l=-1):(a.l=-1,a.va(),a.ca(a,a.C,a.O)):e.identifier===a.m&&(-1===a.l?(a.X(a,e.pageX,e.pageY),a.m=-1):(a.m=-1,a.va(),a.ca(a,a.K,a.C)))}a.u=!0;b.stopPropagation&&b.stopPropagation();b.cancelable&&b.preventDefault()};Ja.prototype.ca=function(a,b,c){a.Ja(a,b,c);a.ea=
!0;a.Za=!1};Ja.prototype.X=function(a,b,c){a.Pa=performance.now();a.Ja(a,b,c);a.ea=!1;a.Za||(a.Da=!0);0<=a.T&&a.T<a.P.width&&0<=a.V&&a.V<a.P.height?a.o||(a.u||a.P.focus(),a.o=!0,a.notification.clear(!0,!1),a.pb&&a.pb(a.caller)):a.u&&a.notification.clear(!0,!1)};Ja.prototype.Ia=function(a,b,c){a.gb(a);a.Ja(a,b,c)};Ja.prototype.cc=function(a){a.gb(a)};Ja.prototype.bc=function(a){1<performance.now()-a.Pa&&(a.o||a.notification.clear(!0,!1),a.P.blur(),a.o=!1,a.ea=!1,a.T=-1,a.V=-1,a.ia=!1,a.ya||(a.na(a),
a.M<a.wa&&(a.M=a.wa)))};Ja.prototype.Tb=function(a,b){if(!a.Y){if(b.pageX||b.pageY){var c=b.pageX;var d=b.pageY}else c=b.clientX+document.body.scrollLeft+document.documentElement.scrollLeft,d=b.clientY+document.body.scrollTop+document.documentElement.scrollTop;a.ca(a,c,d);b.stopPropagation&&b.stopPropagation();b.preventDefault();a.u=!1}};Ja.prototype.Xb=function(a,b){a.Pa=performance.now();if(!a.Y){if(b.pageX||b.pageY){var c=b.pageX;var d=b.pageY}else c=b.clientX+document.body.scrollLeft+document.documentElement.scrollLeft,
d=b.clientY+document.body.scrollTop+document.documentElement.scrollTop;a.X(a,c,d);b.stopPropagation&&b.stopPropagation();b.preventDefault();a.u=!1}};Ja.prototype.gb=function(a){a.o||a.ia&&""!==a.notification.i||(a.ba?a.cb||a.notification.notify("Copy",15,3600,15,!0):a.W?a.ta?a.notification.notify("Launch",15,3600,15,!0):a.notification.notify("Expand",15,3600,15,!0):a.notification.notify("Click to control",15,3600,15,!0),a.notification.M=!0,a.ia=!0)};Ja.prototype.Ub=function(a,b){if(!a.Y){if(b.pageX||
b.pageY){var c=b.pageX;var d=b.pageY}else c=b.clientX+document.body.scrollLeft+document.documentElement.scrollLeft,d=b.clientY+document.body.scrollTop+document.documentElement.scrollTop;a.Ia(a,c,d);b.stopPropagation&&b.stopPropagation();b.preventDefault();a.u=!1}};Ja.prototype.Wb=function(a,b){a.Y||(a.cc(a),b.stopPropagation&&b.stopPropagation(),b.preventDefault(),a.u=!1)};Ja.prototype.Vb=function(a,b){a.Y||(a.bc(a),b.stopPropagation&&b.stopPropagation(),b.preventDefault(),a.u=!1)};Ja.prototype.Zb=
function(a){for(var b=[1,1],c;null!==a;)c=window.getComputedStyle(a),c=c.getPropertyValue("transform"),"none"!==c&&(c=c.split(", "),c[0]=c[0].substring(7),c[5]=c[5].substring(0,c[5].length-1),b[0]*=parseFloat(c[0]),b[1]*=parseFloat(c[3])),a=a.parentElement;return b};Ja.prototype.ja=function(a,b,c){var d=this.P.getBoundingClientRect(),f=a.Zb(a.P);window.scrollX?(b-=d.left+window.scrollX,c-=d.top+window.scrollY):(b-=d.left+window.pageXOffset,c-=d.top+window.pageYOffset);b/=f[0];c/=f[1];1===f[0]&&1===
f[1]&&(b/=a.Ga,c/=a.Ga);return[b-1|0,c-1|0]};Ja.prototype.Ja=function(a,b,c){b=a.ja(a,b,c);a.T=b[0];a.V=b[1];a.na(a);a.M<a.wa&&(a.M=a.wa)};Ja.prototype.Le=function(a){!a&&!this.notification.V()||this.ha||this.na(this);this.ha=a};var Xa={rules:[],nq:[],wj:[],Vp:[],SC:function(a,b,c,d,f){var e,k=this.wj.length,g=!1,l=a.h.toLowerCase();l=l.replace(/ /g,"_");for(e=0;e<k&&!g;){var p=this.wj[e];p.name===l?(g=!0,p.pattern[p.pattern.length]=a,p.tp[p.tp.length]=b,p.To[p.To.length]=c,p.Gp[p.Gp.length]=d,p.view[p.view.length]=
f):e+=1}g||(this.wj[k]={name:l,pattern:[a],tp:[b],To:[c],Gp:[d],view:[f]});return g},FD:function(a){var b=0,c=this.Vp.length,d=!1,f="";a=a.toLowerCase();for(a=a.replace(/ /g,"_");b<c&&!d;)this.Vp[b].name===a?(d=!0,f=this.Vp[b].definition):b+=1;return f},As:function(){var a,b=!0;for(a=0;a<this.wj.length;a+=1)""!==this.wj[a].name&&(b=!1);b&&xa.Tl&&0<xa.Oc.length&&xa.Oc[0][1]&&xa.Oc[0][1].mE()},DF:function(a){var b,c=this.wj.length,d=!1,f=a.h.toLowerCase();f=f.replace(/ /g,"_");for(a=0;a<c&&!d;){var e=
this.wj[a];if(e.name===f)for(d=!0,e.name="",b=0;b<e.tp.length;b+=1)null!==e.tp[b]&&(this.oz(e.pattern[b]),e.pattern[b].U.N="",e.pattern[b].U.$a=!0,e.pattern[b].U.ij=!1,e.tp[b](e.pattern[b],e.Gp[b],e.view[b]));else a+=1}this.As()},Iq:function(a){var b,c=this.wj.length,d=!1,f=a.h.toLowerCase();f=f.replace(/ /g,"_");for(a=0;a<c&&!d;){var e=this.wj[a];if(e.name===f)for(d=!0,e.name="",b=0;b<e.To.length;b+=1)null!==e.To[b]&&(e.pattern[b].Ca=e.pattern[b].YA,e.To[b](e.pattern[b],e.Gp[b],e.view[b]));else a+=
1}this.As()},add:function(a,b,c,d,f,e){var k,g=this.rules.length,l=!1,p=a.h.toLowerCase();p=p.replace(/ /g,"_");for(k=0;k<g&&!l;)this.rules[k].name===p?l=!0:k+=1;l||(this.rules[g]=null===a.ha?{name:p,fz:!0,Wv:a.la,bF:a.eb,dF:a.hb,cD:a.cb,VF:a.ab,WF:a.bb,zn:a.Da,cq:a.ma,names:a.Wa,ga:a.Nb,ay:e}:{name:p,fz:!1,Wv:a.ta,Nl:a.Pa,iD:a.Ga,output:a.ha,ZB:a.Ia,zn:a.Da,rD:a.gb,cq:a.ma,names:a.Wa,ay:e},this.nq[g]={fetch:b|0,decode:c|0,size:d},this.Vp[g]={name:p,definition:f},this.DF(a))},oz:function(a){var b,
c=this.rules.length,d=null,f=!1,e=a.h.toLowerCase();e=e.replace(/ /g,"_");for(b=0;b<c&&!f;)this.rules[b].name===e?(f=!0,d=this.rules[b]):b+=1;f&&(a.ha=null,d.fz?(a.la=d.Wv,a.eb=d.bF,a.hb=d.dF,a.cb=d.cD,a.ab=d.VF,a.bb=d.WF,a.ga=d.ga):(a.ta=d.Wv,a.Pa=d.Nl,a.Ga=d.iD,a.ha=d.output,a.Ia=d.ZB,a.gb=d.rD,a.ga=a.Pa===Ba.Ag?!0:!1),a.Da=d.zn,a.ma=d.cq,a.Wa=d.names,a.fa=!1,a.U.C=d.ay);return f}},Ba={Si:0,Bg:1,Ag:2,yj:3,Jq:-1,XF:0,YF:1,ZF:2,aG:3,$F:["circles","diamonds","hexagons","triangles"],fq:-999999};kb.prototype.Vb=
function(){var a=!1;this.Ca&&0!==this.C[0]&&(a=!0);return a};kb.prototype.Fb=function(a){var b="";if(this.wa!==a||this.xa!==a)this.wa!==a&&(b+="C"+this.wa),this.xa!==a&&(b+="E"+this.xa);return b};kb.prototype.Xb=function(a){this.Ea=a.Ea;this.h=a.h;this.ea=a.ea;this.ja=a.ja;this.fa=a.fa;this.P=a.P;this.ga=a.ga;this.sa=a.sa;this.o=a.o;this.ya=a.ya;this.Fa=a.Fa;this.X=a.X;this.pa=a.pa;this.ka=a.ka;this.Y=a.Y;this.v=a.v;this.na=a.na;this.va=a.va;this.K=a.K;this.Z=a.Z;this.W=a.W;this.da=a.da;this.Ca=a.Ca;
this.u=a.u;this.m=a.m;this.i=a.i;this.A=a.A;this.$=a.$;this.oa=a.oa;this.ia=a.ia;a.V&&(this.V=new Uint8Array(a.V.length),this.V.set(a.V));a.C&&(this.C=new Uint8Array(a.C.length),this.C.set(a.C))};kb.prototype.Wb=function(a,b){a.V&&(this.Ka=b.h(ra.Ra,a.V.length,"HROT.altSurvivals"),this.Ka.set(a.V));a.C&&(this.Ja=b.h(ra.Ra,a.C.length,"HROT.altBirths"),this.Ja.set(a.C));this.Ub=a.K;this.Tb=a.Z;this.Rb=a.W;this.Qb=a.da};kb.prototype.Zb=function(){this.P=this.h=this.Ea="";this.ga=this.fa=this.ja=this.ea=
!1;this.sa=this.U.na;this.o=!1;this.Fa=this.ya=0;this.X=this.U.da;this.pa=-1;this.Y=this.ka=!1;this.na=this.v=-1;this.Ca=!1;this.i=this.m=this.u=-1;this.A=2};kb.prototype.Yb=function(a){return this.Y!==a.Y||this.Ca!==a.Ca?"Alternate is different rule family":this.U.va?"Alternate can not use Wolfram emulation":(-1===this.i?this.A:this.i)!==(-1===a.i?a.A:a.i)?"Alternate has different number of states":this.ja!==a.ja||this.ea!==a.ea||this.ga!==a.ga||this.sa!==a.sa||this.o!==a.o||this.X!==a.X||this.ka!==
a.ka||-1===this.pa&&-1!==a.pa||-1!==this.pa&&-1===a.pa||this.na!==a.na||this.m!==a.m?"Alternate has different neighborhood":this.v!==a.v||this.u!==a.u?"Alternate has different range":this.fa||a.fa?"Alternate can not use none":this.$!==a.$||this.oa!==a.oa||this.ia!==a.ia?"Alternate has different neighbourhood":""};ua.prototype.fd=function(a,b,c){var d,f,e=0,k=0,g=0,l=!1;var p=b.length;for(d=f=0;d<p;){var n=b[d];d+=1;switch(f){case 0:switch(n){case "!":f=1;a.s+="#C ";var q=!0;break;case "O":case "o":case "*":case ".":f=
2;k=e=g=0;var m=--d}break;case 1:"\r"!==n&&"\n"!==n&&(" "===n?q||(a.title+=n,a.s+=n):(q=!1,a.title+=n,a.s+=n));"\n"===n&&(f=0,a.s+=n,a.title+=" ");break;case 2:switch(n){case "O":case "o":case "*":case ".":k+=1;break;case "\n":g+=1;k>e&&(e=k);k=0;break;case " ":case "\t":break;default:d=p,l=!0}}}if(!l){2===f&&"\n"!==n&&(g+=1,k>e&&(e=k));a.height=g;a.width=e;a.Za="Cells";a.T=Array.matrix(ra.Ha,a.height,(a.width-1>>4)+1,0,c,"Pattern.lifeMap");d=m;for(f=e=0;d<p;)switch(n=b[d],d+=1,n){case "\n":e+=1;
f=0;break;case "O":case "o":case "*":a.T[e][f>>4]|=1<<(~f&15);f+=1;break;case ".":f+=1}this.$a=!0;"#C "===a.s&&(a.s="");this.wa(a,"",c,!1)}};ua.prototype.ed=function(a,b,c){var d,f;var e=b.length;var k=[];var g=0;var l=!1;var p=f=0;var n=!1;for(d=10;d<e;){var q=b[d];d+=1;switch(q){case "\n":n&&(n=!1,2===m&&l&&(p=-p,l=!1),k[g]=[f,p],g+=1);var m=p=f=0;break;case "-":l=!0;0===m?m=1:1===m&&(m=2);break;case " ":1===m&&(l&&(f=-f,l=!1),m=2);break;case "0":case "1":case "2":case "3":case "4":case "5":case "6":case "7":case "8":case "9":0===
m&&(m=1),1===m?f=10*f+parseInt(q,10):(p=10*p+parseInt(q,10),n=!0)}}n&&(2===m&&l&&(p=-p),k[g]=[f,p],g+=1);if(g){e=b=k[0][0];m=q=k[0][1];for(d=1;d<g;d+=1)f=k[d][0],p=k[d][1],f<b&&(b=f),f>e&&(e=f),p<q&&(q=p),p>m&&(m=p);a.height=m-q+1;a.width=e-b+1;a.T=Array.matrix(ra.Ha,a.height,(a.width-1>>4)+1,0,c,"Pattern.lifeMap");a.Za="Life 1.06";this.wa(a,"",c,!1);for(d=0;d<g;d+=1)f=k[d][0]-b,p=k[d][1]-q,a.T[p][f>>4]|=1<<(~f&15)}};ua.prototype.Zb=function(a,b,c,d){var f,e,k=[],g=0,l=b.length;var p="";var n=!1;
var q=0,m=0,r=!1,u=!1,t=0,v=0;c=c?10:0;for(this.$a=!0;c<l&&!u;){var A=b[c];c+=1;switch(q){case 0:switch(A){case "#":q=2;break;case "*":case ".":q=3;var w=e=f=0;var z=--c}break;case 2:switch(A){case "C":case "D":q=1;a.s+="#C ";var D=!0;break;case "N":q=0;break;case "R":q=4;break;case "P":q=5;m=0;r=!1;v=t=0;break;case "\n":q=0;break;default:q=1,D=!0}break;case 1:"\r"!==A&&"\n"!==A&&(" "===A?D||(a.title+=A,a.s+=A):(D=!1,a.title+=A,a.s+=A));"\n"===A&&(q=0,a.title+=" ",a.s+=A);break;case 4:"\n"===A?q=
0:(p+=A,n=!0);break;case 5:switch(A){case "\n":q=0;2===m&&r&&(v=-v,r=!1);break;case "-":r=!0;0===m?m=1:1===m&&(m=2);break;case " ":1===m&&(r&&(t=-t,r=!1),m=2);break;case "0":case "1":case "2":case "3":case "4":case "5":case "6":case "7":case "8":case "9":0===m&&(m=1),1===m?t=10*t+parseInt(A,10):v=10*v+parseInt(A,10)}break;case 3:switch(A){case "\n":f>e&&(e=f);f=0;w+=1;break;case "#":k[g]=new hc(t,v,e,w,z,c-1);g+=1;q=2;break;case "*":case ".":f+=1;break;case " ":case "\t":break;default:u=!0}}}"\n"!==
A&&(w+=1);3===q&&(k[g]=new hc(t,v,e,w,z,c-1),g+=1);if(g&&!u){t=k[0].qo;v=k[0].ro;A=t+k[0].width-1;f=v+k[0].height-1;for(c=1;c<g;c+=1)k[c].qo<t&&(t=k[c].qo),k[c].ro<v&&(v=k[c].ro),k[c].qo+k[c].width-1>A&&(A=k[c].qo+k[c].width-1),k[c].ro+k[c].height-1>f&&(f=k[c].ro+k[c].height-1);a.height=f-v+1;a.width=A-t+1;a.T=Array.matrix(ra.Ha,a.height,(a.width-1>>4)+1,0,d,"Pattern.lifeMap");a.Za="Life 1.05";a.ca=Array.matrix(ra.Ra,a.height,a.width,0,d,"Pattern.multiStateMap");n?(this.Ab(a,p,!1,d),this.$a?0<=a.i||
a.F||(a.ca=null):(a.i=-1,a.F=!1,a.B=!1,a.O=!1)):this.wa(a,"",d,!1);for(c=0;c<g;c+=1)for(d=k[c].qG,p=k[c].sD,f=k[c].qo-t,A=k[c].ro-v,n=f,e=A;d<=p;)switch(A=b[d],d+=1,A){case "\n":e+=1;n=f;break;case "*":a.T[e][n>>4]|=1<<(~n&15);a.ca&&(a.ca[e][n]=1);n+=1;break;default:n+=1}}};ua.prototype.ca=function(a,b,c,d){var f=0,e,k,g;c&&(f=4);for(k=0;8192>k;k+=8)for(g=0;4>g;g+=1){c=0;for(e=k+g&d;0<e;)c+=e&1,e>>=1;b===c&&(a[k+g+f]=1)}};ua.prototype.Ba=function(a,b,c,d){var f=0,e,k,g;c&&(f=16);for(k=0;512>k;k+=
32)for(g=0;16>g;g+=1){c=0;for(e=k+g&d;0<e;)c+=e&1,e>>=1;b===c&&(a[k+g+f]=1)}};ua.prototype.Dd=function(a){return(a&7)<<6|(a&448)>>6|a&56};ua.prototype.zc=function(a){return(a&4)<<6|(a&32)<<2|(a&256)>>2|(a&2)<<4|a&16|(a&128)>>4|(a&1)<<2|(a&8)>>2|(a&64)>>6};ua.prototype.Wd=function(a,b,c){var d;for(d=0;4>d;d+=1)a[b]=c,b=this.zc(b);b=this.Dd(b);for(d=0;4>d;d+=1)a[b]=c,b=this.zc(b)};ua.prototype.Sd=function(a,b,c,d,f,e){var k=c?16:0;if(2>b||4<b)this.Ba(a,b,c,e);else if(c="omp".indexOf(d),-1!==c)for(b=
this.Rd[b-2][c],c=0;c<b.length;c+=1)d=b[c]+k,a[d]=f,a[d+256]=f,a[d+1]=f,a[d+257]=f};ua.prototype.Vd=function(a,b,c,d,f){var e=0,k=b-1;0===b||8===b?this.Ba(a,b,c,511):(3<k&&(k=6-k,e=495),b=this.Ac[k].indexOf(d),-1!==b&&(e^=this.ce[k][b],c&&(e|=16),this.Wd(a,e,f)))};ua.prototype.Jc=function(a,b,c,d){var f=b.length,e=0,k="",g;for(g=0;g<f;g+=1){var l=b.charCodeAt(g)-48;e|=1<<l;this.Ba(a,l,c,d)}for(g=0;9>g;g+=1)0!==(e&1<<g)&&(k+=String(g));return k};ua.prototype.mb=function(a){for(var b=0;a;)b+=1,a&=a-
1;return b};ua.prototype.Pc=function(a,b){var c="",d=0;if(b[a]){b=b[a];0!==(b&8192)&&(d=1,b&=-8193);var f=this.mb(b);var e=2>a||4<a?0:3;2<=f&&(b=~b&(1<<e)-1)&&(d=1-d);if(!d||b)for(c+=String(a),d&&(c+="-"),a=0;a<e;a+=1)0!==(b&1<<a)&&(c+="omp"[a])}else c+=String(a);return c};ua.prototype.Qc=function(a,b){var c="",d=0;if(b[a]){b=b[a];0!==(b&8192)&&(d=1,b&=-8193);var f=this.mb(b);var e=this.Kd[a];(d||7!==f||13!==e)&&f+d>e>>1&&(b=~b&(1<<e)-1)&&(d=1-d);if(!d||b)for(c+=String(a),d&&(c+="-"),f=0;f<e;f+=1)d=
this.Md[a][f],0!==(b&1<<d)&&(c+=this.Ac[3][d])}else c+=String(a);return c};ua.prototype.Hc=function(a,b,c,d){var f=b.length,e=0,k=[],g="",l;b+=" ";for(l=0;7>l;l+=1)k[l]=0;for(l=0;l<f;l+=1){var p=b.charCodeAt(l)-48;if(0<=p&&8>=p){var n=0!==(e&1<<p);e|=1<<p;var q=b[l+1];var m=this.gb[p].indexOf(q);-1!==m||n||this.Ba(a,p,c,d);var r=1;"-"===q&&(r=0,l+=1,q=b[l+1],m=this.gb[p].indexOf(q));-1!==m||"0"<=q&&"9">=q||" "===q||(this.N=(c?"S":"B")+p+q+" not valid",l=f);n&&(n=0,0===(k[p]&8192)&&(n=1),n!==r&&(this.N=
(c?"S":"B")+p+" can not have minus and non-minus",m=-1,l=f));for(;-1!==m;)0!==(k[p]&1<<m)?(this.N="Duplicate "+p+this.gb[p][m],m=-1,l=f):(this.Sd(a,p,c,q,r,d),k[p]|=1<<m,r||(k[p]|=8192),l+=1,q=b[l+1],m=this.gb[p].indexOf(q))}else this.N="Missing digit prefix"}for(l=0;7>l;l+=1)0!==(e&1<<l)&&(g+=this.Pc(l,k));return g};ua.prototype.Ic=function(a,b,c){var d=b.length,f=0,e=[],k="",g;b+=" ";for(g=0;9>g;g+=1)e[g]=0;for(g=0;g<d;g+=1){var l=b.charCodeAt(g)-48;if(0<=l&&8>=l){var p=0!==(f&1<<l);f|=1<<l;var n=
b[g+1];var q=this.hb[l].indexOf(n);-1!==q||p||this.Ba(a,l,c,511);var m=1;"-"===n&&(m=0,g+=1,n=b[g+1],q=this.hb[l].indexOf(n));-1!==q||"0"<=n&&"9">=n||" "===n||(this.N=(c?"S":"B")+l+n+" not valid",g=d);p&&(p=0,0===(e[l]&8192)&&(p=1),p!==m&&(this.N=(c?"S":"B")+l+" can not have minus and non-minus",q=-1,g=d));for(;-1!==q;)0!==(e[l]&1<<q)?(this.N="Duplicate "+l+this.hb[l][q],q=-1,g=d):(this.Vd(a,l,c,n,m),e[l]|=1<<q,m||(e[l]|=8192),g+=1,n=b[g+1],q=this.hb[l].indexOf(n))}else this.N="Missing digit prefix"}for(g=
0;9>g;g+=1)0!==(f&1<<g)&&(k+=this.Qc(g,e));return k};ua.prototype.Yb=function(a,b){var c;for(c=0;512>c;c+=1)a[c]=0!==(b&1<<(c&7))?1:0!==(c&16)?1:0};ua.prototype.pb=function(a,b,c){var d=12,f=8191,e=a.ya,k=a.Fa;switch(a.X){case this.ja:d=3;f=this.ge;break;case this.ka:d=9;f=this.ke;break;case this.sa:d=6;f=this.he;break;case this.ta:d=6;f=this.ie;break;case this.ra:d=9;f=this.$d;break;case this.ua:d=3,f=this.je}b.fill(0);c&&c.fill(0);if(0!==(e&1))if(0!==(k&1<<d)){e=~e;k=~k;for(a=0;a<=d;a+=1)k&1<<d-
a&&this.ca(b,a,!1,f);for(a=0;a<=d;a+=1)e&1<<d-a&&this.ca(b,a,!0,f);c.set(b)}else{for(a=0;a<=d;a+=1)~e&1<<a&&this.ca(c,a,!1,f);for(a=0;a<=d;a+=1)~k&1<<a&&this.ca(c,a,!0,f);for(a=0;a<=d;a+=1)k&1<<d-a&&this.ca(b,a,!1,f);for(a=0;a<=d;a+=1)e&1<<d-a&&this.ca(b,a,!0,f);this.$=!0}else{for(a=0;a<=d;a+=1)0!==(e&1<<a)&&this.ca(b,a,!1,f);for(a=0;a<=d;a+=1)0!==(k&1<<a)&&this.ca(b,a,!0,f);c&&c.set(b)}};ua.prototype.dd=function(a,b,c,d,f){var e=this.Qb,k="",g="";switch(f){case this.ja:e=this.Ob;break;case this.ka:e=
this.Rb;break;case this.sa:e=this.Dc;break;case this.ta:e=this.Ec;break;case this.ra:e=this.Cc;break;case this.ua:e=this.Fc}for(f=a.ya=0;f<b.length;f+=1){var l=e.indexOf(b[f]);a.ya|=1<<l}for(f=a.Fa=0;f<c.length;f+=1)l=e.indexOf(c[f]),a.Fa|=1<<l;for(f=0;f<e.length;f+=1)0!==(a.ya&1<<f)&&(k+=e[f]);for(f=0;f<e.length;f+=1)0!==(a.Fa&1<<f)&&(g+=e[f]);return-1!==d?g+"/"+k+"/"+d:"B"+k+"/S"+g};ua.prototype.cd=function(a,b,c,d,f){var e=0,k=this.Zd;var g=(1<<this.xa+1)/6|0;var l=new Uint8Array(512),p=a.ea,n=
a.ja,q=a.ga;var m=a.sa;var r=a.o,u=a.X,t=a.ka,v=a.i;if(a.fa)c=this.ic;else if(p||n)for(c=p?"M":"2PCA4,",m=0;16>m;m+=1)c+=f[m],15>m&&(c+=",");else if(r)c=this.dd(a,b,c,v,u);else{a=511;q?a=m===this.oa?114:254:t&&(a=186);l.fill(0);f.fill(0);for(m=0;m<l.length;m+=1)k[m]=q?m:(m&448)>>6|m&56|(m&7)<<6;if(""!==d){c="MAP";for(m=0;m<g;m+=1)c+=d[m],b="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".indexOf(d[m]),l[e]=b>>5,e+=1,l[e]=b>>4&1,e+=1,l[e]=b>>3&1,e+=1,l[e]=b>>2&1,e+=1,l[e]=b>>1&1,
e+=1,l[e]=b&1,e+=1;b="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".indexOf(d[m]);l[e]=b>>5;l[e+1]=b>>4&1;c+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"[b&48];for(m=0;512>m;m+=1){d=0;g=this.xa;for(e=8;0<=e;--e)0!==(a&1<<e)&&(0!==(m&1<<e)&&(d|=1<<g),--g);f[k[m]]=l[d]}-1!==v&&(c+="/"+v)}else t?(e=this.Jc(f,b,!1,a),f=this.Jc(f,c,!0,a)):q?(e=this.Hc(f,b,!1,a),f=this.Hc(f,c,!0,a)):(e=this.Ic(f,b,!1),f=this.Ic(f,c,!0)),c=-1!==v?f+"/"+e+"/"+v:"B"+e+"/S"+f}return c};
ua.prototype.yc=function(a){var b=a,c=0;if(-1!==a.indexOf(" "))for(b="";c<a.length;)" "!==a[c]&&(b+=a[c]),c+=1;return b};ua.prototype.Mc=function(a,b,c){return"0"+((a&2)>>1)*b+(a&1)*b+"00000"+((a&4)>>2)*b+c+"\n"};ua.prototype.Ed=function(a,b){var c="n_states:3\nneighborhood:Moore\nsymmetries:none\n",d;for(d=0;8>d;d+=1)0===(b&1<<d)&&(c+=this.Mc(d,1,2));for(d=7;0<=d;--d)0!==(b&1<<7-d)&&(c+=this.Mc(d,2,1));b=new Na(c,!0);this.hc(a,b);b=new Na(G.LG,!0);this.bc(a,b);this.va=!0};ua.prototype.Bd=function(a,
b,c){for(var d=!0,f=0,e,k=1;k<b.length&&d;)e="0123456789".indexOf(b[k]),-1!==e?f=10*f+e:(this.N="Illegal character in Wolfram rule",d=!1),k+=1;if(d)if(0>f||255<f)this.N="Wolfram rule number must be from 0-255",d=!1;else{if(0!==(f&1))if(0!==(f&128)){e=f;for(k=b=0;8>k;k+=1)f&1<<k&&(b|=1<<7-k);for(k=f=0;8>k;k+=1)0===(b&1<<k)&&(f|=1<<k);this.Yb(c,f);f=e;a.pa=f}else this.Ed(a,f);else this.Yb(c,f),a.pa=f;a.h="W"+f}return d};ua.prototype.Sc=function(a,b,c){var d=null;if(""===b)if(a.ga)a.h+="H",a.sa===this.oa&&
(a.h+="T");else if(a.ka)a.h+="V";else if(a.o)switch(a.X){case this.da:a.h+=this.Ea.toUpperCase();break;case this.ja:a.h+=this.Da.toUpperCase();break;case this.ka:a.h+=this.Fa.toUpperCase();break;case this.sa:a.h+=this.cb.toUpperCase();break;case this.ta:a.h+=this.eb.toUpperCase();break;case this.ra:a.h+=this.bb.toUpperCase();break;case this.ua:a.h+=this.fb.toUpperCase()}c||(d=bb.Wo(a.h));if(null===d&&a.Y&&0===a.va){b="R"+a.v+",C"+a.i+",M1,S"+a.K+".."+a.Z+",B"+a.W+".."+a.da+",N";switch(a.na){case this.i:b+=
"M";break;case this.m:b+="N";break;case this.X:b+="C";break;case this.P:b+="+";break;case this.V:b+="X";break;case this.W:b+="*";break;case this.Y:b+="2";break;case this.F:b+="H";break;case this.O:b+="B";break;case this.M:b+="D";break;case this.T:b+="#";break;case 10:b+="@"+a.ia+a.$;break;case this.B:b+="3";break;case this.v:b+="A";break;case this.K:b+="L";break;case this.u:b+="G";break;case 15:b+="W"+a.ia+a.$;break;case this.s:b+="F"+a.Fb(a.v)}d=bb.Wo(b)}a.F&&(a.h+="History");a.B&&(a.h+="Super");
a.O&&(a.h+="Investigator");-1!==a.l&&(a.h+=":"+"ptkcs"[a.l].toUpperCase(),a.h+=a.M,a.Kb||(a.h+="*"),a.Gb&&(a.h+="*"),a.Aa&&(a.h=0>a.Aa?a.h+a.Aa:a.h+("+"+a.Aa)),4!==a.l&&(a.h+=","+a.ba,a.Mb&&(a.h+="*"),a.Ba&&(a.h=0>a.Ba?a.h+a.Ba:a.h+("+"+a.Ba))));null!==d&&(""===d&&(d="Life"),a.F&&(d+="History"),a.B&&(d+="Super"),a.O&&(d+="Investigator"),a.P=d)};ua.prototype.me=function(a,b){var c=86,d=a.length;d>=c?this.xa=8:(c=this.Pa,d>=c?(this.xa=6,b.ga=!0):(c=this.Qa,d>=c?(this.xa=4,b.ka=!0):c=-1));if(0<=c)for(b=
0;b<c;b+=1)-1==="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".indexOf(a[b])&&(c=-1);return c};ua.prototype.l=function(a,b,c,d,f,e){var k=0,g=b.length,l=a.substring(this.h,this.h+g),p=e.v;if(l!==b)","===b[0]&&(","===l[0]&&(l=l.substring(1)),b=b.substring(1)),this.N="LtL expected '"+b.toUpperCase()+"' got '"+l.toUpperCase()+"'",this.h=-1;else if(","===b[0]&&(b=b.substring(1)),this.h+=g,this.h<a.length?(g=a[this.h],l=g.charCodeAt(0)):(g="",l=-1),"n"===b)switch(g){case "m":this.h+=
1;k=this.i;break;case "n":this.h+=1;k=this.m;break;case "c":this.h+=1;k=this.X;break;case "+":this.h+=1;k=this.P;break;case "x":this.h+=1;k=this.V;break;case "*":this.h+=1;k=this.W;break;case "2":this.h+=1;k=this.Y;break;case "h":this.h+=1;k=this.F;break;case "b":this.h+=1;k=this.O;break;case "d":this.h+=1;k=this.M;break;case "#":this.h+=1;k=this.T;break;case "@":this.h+=1;k=this.oc(a,p,"LtL",e);-1===k&&(this.h=-1);break;case "3":this.h+=1;k=this.B;break;case "a":this.h+=1;k=this.v;break;case "l":this.h+=
1;k=this.K;break;case "g":this.h+=1;k=this.u;break;case "w":this.h+=1;k=this.xc(a,p,"LtL",e);-1===k&&(this.h=-1);break;case "f":this.h+=1;k=this.nc(a,p,"LtL",e);-1===k&&(this.h=-1);break;default:this.N="LtL 'N' [ABCDFGHLMNWX23*+#@] got 'N"+g.toUpperCase()+"'",this.h=-1}else if(48>l||57<l)this.N="LtL '"+f+b.toUpperCase()+"' needs a number",this.h=-1;else{for(;48<=l&&57>=l;)k=10*k+(l-48),this.h+=1,this.h<a.length?l=a[this.h].charCodeAt(0):l=-1;-1!==c&&k<c&&(this.N="LtL '"+f+b.toUpperCase()+k+"' < "+
c,this.h=-1);-1!==d&&k>d&&(this.N="LtL '"+f+b.toUpperCase()+k+"' > "+d,this.h=-1)}return k};ua.prototype.pa=function(a,b,c){var d=0;switch(b){case this.i:d=(2*a+1)*(2*a+1)-1;break;case this.m:d=2*a*(a+1);break;case this.X:c=0;var f=a*a+a;for(b=-a;b<=a;b+=1){for(d=0;(d+1)*(d+1)+b*b<=f;)d+=1;c+=2*d+1}d=c-1;break;case this.P:d=4*a;break;case this.V:d=4*a;break;case this.W:d=8*a;break;case this.Y:c=0;f=a*a;for(b=-a;b<=a;b+=1){for(d=0;(d+1)*(d+1)+b*b<=f;)d+=1;c+=2*d+1}d=c-1;break;case this.F:d=(2*a+1)*
(2*a+1)-a*(a+1)-1;break;case this.O:d=((2*a+1)*(2*a+1)-1)/2;break;case this.M:d=((2*a+1)*(2*a+1)-1)/2;break;case this.T:d=8*a;break;case 10:d=c;break;case this.B:d=3*a;break;case this.v:d=6*a;break;case this.K:d=(4*a+1)*(2*a+1)-2*a*a-1;break;case this.u:d=(a+1)*(a+1)*(a+1)*(a+1);break;case 15:d=c;break;case this.s:d=8}return d};ua.prototype.nd=function(a,b){var c=!1;this.h=0;var d=this.l(b,"r",1,500,"",a);-1!==this.h&&(a.v=d,d=this.l(b,",c",0,256,"",a),-1!==this.h&&(2>d&&(d=2),a.i=d,d=this.l(b,",m",
0,1,"",a),-1!==this.h&&(a.va=d,d=this.l(b,",s",0,-1,"",a),-1!==this.h&&(a.K=d,d=this.l(b,"..",a.K,-1,"S",a),-1!==this.h&&(a.Z=d,d=this.l(b,",b",0,-1,"",a),-1!==this.h&&(a.W=d,d=this.l(b,"..",a.W,-1,"B",a),-1!==this.h&&(a.da=d,d=this.l(b,",n",-1,-1,"",a),-1!==this.h&&(a.na=d,c=!0))))))));c&&(this.h!==b.length?(c=!1,this.N="LtL invalid characters after rule"):(b=this.pa(a.v,a.na,a.oa),b+=a.va,a.W>b&&(c=!1,this.N="LtL 'B"+a.W+"..' > "+b),a.da>b&&(c=!1,this.N="LtL 'B.."+a.da+"' > "+b),a.K>b&&(c=!1,this.N=
"LtL 'S"+a.K+"..' > "+b),a.Z>b&&(c=!1,this.N="LtL 'S.."+a.Z+"' > "+b)));return c};ua.prototype.ad=function(a,b){var c=!1;this.h=0;a.i=2;a.va=1;a.na=this.i;var d=this.l(b,"",1,500,"",a);-1!==this.h&&(a.v=d,d=this.l(b,",",0,-1,"",a),-1!==this.h&&(a.W=d,d=this.l(b,",",a.W,-1,"B",a),-1!==this.h&&(a.da=d,d=this.l(b,",",0,-1,"",a),-1!==this.h&&(a.K=d,d=this.l(b,",",a.K,-1,"S",a),-1!==this.h&&(a.Z=d,c=!0)))));c&&(this.h!==b.length?(c=!1,this.N="LtL invalid characters after rule"):(b=(2*a.v+1)*(2*a.v+1),
a.W>b&&(c=!1,this.N="LtL 'B"+a.W+"..' > "+b),a.da>b&&(c=!1,this.N="LtL 'B.."+a.da+"' > "+b),a.K>b&&(c=!1,this.N="LtL 'S"+a.K+"..' > "+b),a.Z>b&&(c=!1,this.N="LtL 'S.."+a.Z+"' > "+b)));return c};ua.prototype.od=function(a,b){var c=!1;this.h=0;-1===a.i&&(a.i=2);a.va=1;a.na=this.i;var d=this.l(b,"r",1,500,"",a);-1!==this.h&&(a.v=d,d=this.l(b,"b",0,-1,"",a),-1!==this.h&&(a.W=d,d=this.l(b,"t",a.W,-1,"B",a),-1!==this.h&&(a.da=d,d=this.l(b,"s",0,-1,"",a),-1!==this.h&&(a.K=d,d=this.l(b,"t",a.K,-1,"S",a),
-1!==this.h&&(a.Z=d,c=!0)))));c&&(this.h!==b.length?(c=!1,this.N="LtL invalid characters after rule"):(b=(2*a.v+1)*(2*a.v+1),a.W>b&&(c=!1,this.N="LtL 'B"+a.W+"' > "+b),a.da>b&&(c=!1,this.N="LtL 'B..T"+a.da+"' > "+b),a.K>b&&(c=!1,this.N="LtL 'S"+a.K+"..' > "+b),a.Z>b&&(c=!1,this.N="LtL 'S..T"+a.Z+"' > "+b)));return c};ua.prototype.pc=function(a,b,c,d,f){var e=!1,k,g="HROT.",l,p=0;if(this.h+c>a.length)this.N="HROT '"+b+"' needs "+c+" hex digits";else{for(k=l=0;l<c&&-1!==k;)k="0123456789abcdef".indexOf(a[this.h]),
-1!==k&&(this.h+=1,l+=1);if(-1===k)this.N="HROT '"+b+"' expected hex got '"+a[this.h]+"'";else{"B"===b?g+="births":(g+="survivals",p=1);f=f.h(ra.Ra,(c<<2)+1+p,g);e=0;f[e]=0;e+=1;--l;"S"===b&&(f[e]=0,e+=1);for(;0<=l;)k="0123456789abcdef".indexOf(a[this.h-c+l]),--l,f[e]=k&1,e+=1,f[e]=k>>1&1,e+=1,f[e]=k>>2&1,e+=1,f[e]=k>>3&1,e+=1;"B"===b?d.C=f:d.V=f;e=!0}}return e};ua.prototype.la=function(a,b){var c=-1;this.h+=1;if(this.h<a.length){var d=a[this.h].charCodeAt(0);if(48>d||57<d)this.N="HROT '"+b+"' needs a number";
else for(c=d-48,this.h+=1,d=-1,this.h<a.length&&(d=a[this.h].charCodeAt(0));48<=d&&57>=d;)c=10*c+(d-48),this.h+=1,this.h<a.length?d=a[this.h].charCodeAt(0):d=-1}else this.N="HROT '"+b+"' needs a number";return c};ua.prototype.vb=function(a){var b=-1;this.h<a.length&&("#"===a[this.h+1]?(this.h+=2,b=-2):b=this.la(a,"P"));return b};ua.prototype.cc=function(a,b,c,d,f){var e=!0;f&&"S"===c&&(d+=1);var k=this.la(a,c);-1===k&&(this.N="");for(;e&&-1!==k;){var g=-1;this.h<a.length&&"-"===a[this.h]&&(g=this.la(a,
c),-1===g&&(this.N="HROT '"+c+k+"-' needs a number",e=!1));if(e&&(-1===g&&(g=k),k>g&&(this.N="HROT '"+c+k+"-"+g+"' wrong order",e=!1),e)){"S"===c?(this.Ua=g,f&&(k+=1,g+=1)):this.Ta=g;k>d&&(k=d);for(g>d&&(g=d);k<=g;k+=1)b[k]=1;k=-1;this.h<a.length&&","===a[this.h]&&(k=this.la(a,c),-1===k&&(--this.h,this.N=""))}}return e};ua.prototype.xc=function(a,b,c,d){var f=this.h,e=a.length,k=(2*b+1)*(2*b+1),g=k+k,l=0,p=0,n=[],q=[],m=0,r=15;for(d.$="";f<e&&-1!=="0123456789abcdef".indexOf(a[f]);)f+=1;b=f-this.h;
if(b===k)for(;this.h<f;)k="0123456789abcdef".indexOf(a[this.h]),0!==(k&8)&&(k=-(k&7)),n[n.length]=k,this.h+=1;else if(b===g)for(;this.h<f;)k="0123456789abcdef".indexOf(a[this.h])<<4,this.h+=1,k|="0123456789abcdef".indexOf(a[this.h]),this.h+=1,0!==(k&128)&&(k=-(k&127)),n[n.length]=k;else this.N=c+" 'NW' needs "+String(k)+" or "+String(g)+" hex digits",r=-1;if(-1!==r)if(","===a[this.h]){for(f=this.h+=1;f<e&&-1!=="0123456789abcdef".indexOf(a[f]);)f+=1;l=f-this.h;if(l!==d.i)this.N=c+" 'NW' needs "+String(d.i)+
" state weights",r=-1;else for(f=0;f<d.i;f+=1)k="0123456789abcdef".indexOf(a[this.h]),this.h+=1,q[q.length]=k,k>m&&(m=k)}else m=1;-1!==r&&this.h<e&&("h"===a[this.h]?(d.$="H",this.h+=1,p=1):"l"===a[this.h]&&(d.$="L",this.h+=1,p=1));if(-1!==r){for(c=k=0;c<n.length;c+=1)0<n[c]&&(k+=n[c]*m);d.ia=0<q.length?a.substring(this.h-(b+l+1)-p,this.h-p).toLowerCase():a.substring(this.h-b-p,this.h-p).toLowerCase();d.oa=k;d.Ab=n;d.Bb=q}-1===r&&(d.ia="",d.oa=-1,d.Ab=null,d.Bb=null);return r};ua.prototype.uc=function(a,
b){for(var c=0,d,f=!1,e=!1;!e&&this.h<b;)d=a.charCodeAt(this.h),48<=d&&57>=d?(f=!0,c=10*c+(d-48),this.h+=1):e=!0;f||(c=-1);return c};ua.prototype.nc=function(a,b,c,d){var f=a.length,e=-1,k=-1,g=-1;if(this.h>=f)return d.wa=b,d.xa=b,g=this.s;var l=a[this.h].toUpperCase();for(this.h+=1;"C"===l||"E"===l;){if("C"===l)if(-1===e){if(e=this.uc(a,f),-1===e&&(e=b),1>e||500<e)return this.N=c+" 'NF' invalid corner range",g}else return this.N=c+" 'NF' duplicate 'C'",g;else if(-1===k){if(k=this.uc(a,f),-1===k&&
(k=b),1>k||500<k)return this.N=c+" 'NF' invalid edge range",g}else return this.N=c+" 'NF' duplicate 'E'",g;this.h<f?(l=a[this.h].toUpperCase(),this.h+=1):l=""}""!==l&&--this.h;d.wa=-1===e?b:e;d.xa=-1===k?b:k;return g=this.s};ua.prototype.oc=function(a,b,c,d){var f=this.h,e=a.length,k=0;b=((2*b+1)*(2*b+1)-1)/4;var g=0,l=10;for(d.$="";f<e&&k<b&&-1!==l;){var p="0123456789abcdef".indexOf(a[f]);0<=p?(f+=1,k+=1,g+=this.mb(p)):l=-1}k!==b&&(l=-1);-1===l?(this.N=c+" 'N@' needs "+String(b)+" hex digits",d.ia=
"",d.oa=-1):(d.ia=a.substring(this.h,this.h+k).toLowerCase(),d.oa=g,this.h+=k,f<e&&("h"===a[f]?(d.$="H",this.h+=1):"l"===a[f]&&(d.$="L",this.h+=1)));return l};ua.prototype.Yd=function(a,b){var c=a.v,d;a.u=c;a.m=a.na;c=this.pa(c,a.na,a.oa);c+=a.va;a.V=b.h(ra.Ra,c+2,"HROT.survivals");a.C=b.h(ra.Ra,c+1,"HROT.births");for(d=a.K;d<=a.Z;d+=1)a.V[d]=1;for(d=a.W;d<=a.da;d+=1)a.C[d]=1;if(this.$){a.Ka=b.h(ra.Ra,c+2,"HROT.altSurvivals");a.Ja=b.h(ra.Ra,c+1,"HROT.altBirths");for(d=a.Ub;d<=a.Tb;d+=1)a.Ka[d]=1;
for(d=a.Rb;d<=a.Qb;d+=1)a.Ja[d]=1}a.Ca=!0};ua.prototype.kd=function(a,b,c){var d=!1,f=0,e=!0,k=b.indexOf(",n"),g=b.indexOf(",p");this.Ua=this.Ta=this.h=0;if("r"!==b[this.h])this.N="HROT expected 'R' got '"+b[this.h].toUpperCase()+"'";else{var l=this.la(b,"R");-1!==l&&(1>l?this.N="HROT 'R' < 1":500<l?this.N="HROT 'R' > 500":(a.u=l,d=!0))}d&&(d=!1,this.h<b.length?","!==b[this.h]?this.N="HROT expected ',' got "+b[this.h].toUpperCase():(this.h+=1,this.h<b.length?"c"!==b[this.h]?this.N="HROT expected 'C' got "+
b[this.h].toUpperCase():(l=this.la(b,"C"),-1!==l&&(0>l?this.N="HROT 'C"+l+"' < 0":256<l?this.N="HROT 'C"+l+"' > 256":(2>l&&(l=2),a.i=l,d=!0))):this.N="HROT expected 'C'"):this.N="HROT expected ','");if(d){l=this.h;this.h=k;e=!0;a.m=this.i;if(-1!==this.h&&this.h<b.length&&","===b[this.h]){d=!1;this.h+=1;if(this.h<b.length)if("n"===b[this.h])if(this.h+=1,this.h<b.length)switch(b[this.h]){case "m":a.m=this.i;this.h+=1;d=!0;break;case "n":a.m=this.m;this.h+=1;d=!0;break;case "c":a.m=this.X;this.h+=1;
d=!0;break;case "+":a.m=this.P;this.h+=1;d=!0;break;case "x":a.m=this.V;this.h+=1;d=!0;break;case "*":a.m=this.W;this.h+=1;d=!0;break;case "2":a.m=this.Y;this.h+=1;d=!0;break;case "h":a.m=this.F;this.h+=1;d=!0;break;case "b":a.m=this.O;this.h+=1;d=!0;break;case "d":a.m=this.M;this.h+=1;d=!0;break;case "#":a.m=this.T;this.h+=1;d=!0;break;case "@":this.h+=1;a.m=this.oc(b,a.u,"HROT",a);-1!==a.m&&(d=!0);break;case "3":a.m=this.B;this.h+=1;d=!0;break;case "a":a.m=this.v;this.h+=1;d=!0;break;case "l":a.m=
this.K;this.h+=1;d=!0;break;case "g":a.m=this.u;e=!1;this.h+=1;d=!0;break;case "w":this.h+=1;a.m=this.xc(b,a.u,"HROT",a);-1!==a.m&&(e=!1,d=!0);break;case "f":this.h+=1;a.m=this.nc(b,a.u,"HROT",a);-1!==a.m&&(d=!0);break;default:this.N="HROT 'N' [ABCDFGHLMNWX23*+#@] got '"+b[this.h].toUpperCase()+"'"}else this.N="HROT 'N' needs a neighborhood";else this.N="HROT expected 'N' got '"+b[this.h].toUpperCase()+"'";else this.N="HROT expected 'N'";k=this.h}f=this.pa(a.u,a.m,a.oa);this.h=l}d&&(d=!1,this.h<b.length?
","!==b[this.h]?this.N="HROT expected ',' got "+b[this.h].toUpperCase():(this.h+=1,this.h<b.length?"s"!==b[this.h]?this.N="HROT expected 'S' got "+b[this.h].toUpperCase():(a.V=c.h(ra.Ra,f+2,"HROT.survivals"),d=this.cc(b,a.V,"S",f,e)):this.N="HROT expected 'S'"):this.N="HROT expected ','");d&&(d=!1,this.h<b.length?","!==b[this.h]?this.N="HROT expected ',' got "+b[this.h].toUpperCase():(this.h+=1,this.h<b.length?"b"!==b[this.h]?this.N="HROT expected 'B' got "+b[this.h].toUpperCase():(a.C=c.h(ra.Ra,
f+1,"HROT.births"),d=this.cc(b,a.C,"B",f,e)):this.N="HROT expected 'B'"):this.N="HROT expected ','");d&&(-1!==k&&(this.h=k),a.mb=!1,a.Na=-1,a.Va=-1,a.Ua=-1,-1!==g&&g===this.h&&(a.mb=!0,this.h+=2,this.h<b.length&&(--this.h,l=this.vb(b),-1!==l&&((0>l||100<l)&&-2!==l?this.N="HROT P values need to be from 0 to 100 or #":(a.Na=l,a.Va=l,this.h<b.length&&","===b[this.h]&&(l=this.vb(b),-1!==l&&((0>l||100<l)&&-2!==l?this.N="HROT P values need to be from 0 to 100 or #":(a.Na=l,this.h<b.length&&","===b[this.h]&&
(l=this.vb(b),-1!==l&&((0>l||100<l)&&-2!==l?this.N="HROT P values need to be from 0 to 100 or #":a.Ua=l))))))))),this.h!==b.length&&(d=!1,this.N="HROT invalid characters after rule"),this.Ua>f&&(d=!1,this.N="HROT 'S"+this.Ua+"' > "+f),d&&this.Ta>f&&(d=!1,this.N="HROT 'B"+this.Ta+"' > "+f));d&&(a.Ca=!0);return d};ua.prototype.jd=function(a,b,c){var d=!1,f=0;this.h=0;-1===a.i&&(a.i=2);if("r"!==b[this.h])this.N="HROT expected 'R' got '"+b[this.h].toUpperCase()+"'";else{var e=-1;this.h+=1;this.h<b.length&&
(e=b[this.h].charCodeAt(0));if(48>e||57<e)this.N="HROT 'R' needs a number";else{var k=e-48;this.h+=1;e=-1;for(this.h<b.length&&(e=b[this.h].charCodeAt(0));48<=e&&57>=e;)k=10*k+(e-48),this.h+=1,this.h<b.length?e=b[this.h].charCodeAt(0):e=-1;1>k?this.N="HROT 'R' < 1":500<k?this.N="HROT 'R' > 500":(a.u=k,d=!0,f=k*(k+1))}}d&&(d=!1,this.h<b.length?"b"!==b[this.h]?this.N="HROT expected 'B' got "+b[this.h].toUpperCase()+"'":(this.h+=1,d=this.pc(b,"B",f,a,c)):this.N="HROT expected 'B'");d&&(d=!1,this.h<b.length?
"s"!==b[this.h]?this.N="HROT expected 'S' got "+b[this.h].toUpperCase()+"'":(this.h+=1,d=this.pc(b,"S",f,a,c)):this.N="HROT expected 'S'");d&&this.h<b.length&&"z"===b[this.h]&&(a.V[1]=1,this.h+=1);d&&(this.h!==b.length?(d=!1,this.N="HROT invalid characters after rule"):(a.m=this.i,a.Ca=!0));return d};ua.prototype.Ub=function(a,b){for(var c=a.length,d=-1,f="",e=0;e<c;)1===a[e]?-1===d&&(d=e):-1!==d&&(""!==f&&(f+=","),f+=d+b,e-1!==d&&(f+="-"+(e-1+b)),d=-1),e+=1;-1!==d&&(""!==f&&(f+=","),f+=d+b,e-1!==
d&&(f+="-"+(e-1+b)));return f};ua.prototype.wa=function(a,b,c,d){var f="",e=!1;this.va=!1;if(!d){var k=bb.Xo(b);null!==k&&(f=bb.Wo(k),b=k)}k=b.indexOf("|");if(-1===k)(e=this.Bb(a,b,c,this.o,d))&&a.o&&this.pb(a,this.Nb,this.Mb);else{var g=!1;var l=bb.Xo(b.substring(0,k));null!==l&&-1!==l.indexOf("|")&&(g=!0);l=bb.Xo(b.substring(k+1));null!==l&&-1!==l.indexOf("|")&&(g=!0);if(-1!==b.substring(k+1).indexOf("|")||g)this.N="Only one alternate allowed";else if(e=this.Bb(a,b.substring(0,k),c,this.qa,d))if(g=
new kb(a.name,this),g.Xb(a),a.Zb(),e=this.Bb(a,b.substring(k+1),c,this.o,d))if(this.N=a.Yb(g),""===this.N)if(a.Ca&&(0!==a.C[0]||0!==g.C[0])||!a.o&&(this.o[0]||this.qa[0])||a.o&&0!==(a.ya&1)||0!==(g.ya&1))this.N="Alternate not supported with B0",a.Ca&&(a.h=g.Ea),e=!1;else{a.o&&(this.pb(g,this.Mb,null),this.pb(a,this.Nb,null));if(""!==f)a.P=f;else if(""!==a.P||""!==g.P)""===a.P&&(a.P=a.h),""===g.P&&(g.P=g.h),a.P=g.P+"|"+a.P;a.h=g.h+"|"+a.h;f=bb.Wo(a.h);null!==f&&(a.P=f);(a.Ca||a.Y)&&a.Wb(g,c);this.$=
!0}else a.Ea=g.Ea,e=!1}return e};ua.prototype.sd=function(a,b){var c=!0,d=a.length,f=0;if("2pca4"!==a.substring(0,5))this.N="PCA rule must start with 2PCA4",c=!1;else{var e=5;var k=-1;if(","!==a[e])c=!0;else for(e+=1;c&&16>f&&e<d;)if(e<d){var g=a[e];e+=1;"0"<=g&&"9">=g?(-1===k&&(k=0),k=10*k+g.charCodeAt(0)-48):","===g?15<k?(this.N="Value must be from 0 to 15",c=!1):(b[f]=k,f+=1,k=-1):(this.N="Illegal character found in rule",c=!1)}c&&(-1===k?(this.N=16===f?"Extra characters found after rule":"Need 16 values",
c=!1):15<k?(this.N="Value must be from 0 to 15",c=!1):(b[f]=k,16!==f+1&&(this.N="Need 16 values",c=!1)))}return c};ua.prototype.pd=function(a,b){var c=!0,d=0,f=a.length,e,k=0;if("m"!==a[d])this.N="Margolus rule must start with M",c=!1;else{d+=1;"s,d"===a.substring(d,d+3)&&(d+=3);for(e=-1;c&&16>k&&d<f;)if(d<f){var g=a[d];d+=1;"0"<=g&&"9">=g?(-1===e&&(e=0),e=10*e+g.charCodeAt(0)-48):","===g||";"===g?15<e?(this.N="Value must be from 0 to 15",c=!1):(b[k]=e,k+=1,e=-1):(this.N="Illegal character found in rule",
c=!1)}c&&(-1===e?(this.N=16===k?"Extra characters found after rule":"Need 16 values",c=!1):15<e?(this.N="Value must be from 0 to 15",c=!1):(b[k]=e,16!==k+1&&(this.N="Need 16 values",c=!1)))}return c};ua.prototype.Bb=function(a,b,c,d,f){var e=!1,k=null,g=null,l=null,p="012345678ceaiknjqrytwz-";var n=this.Gb.length;var q=this.Ma.length;var m=this.Ea.length;var r=this.Da.length,u=this.Fa.length;var t=this.cb.length;var v=this.eb.length,A=this.bb.length,w=this.fb.length,z=this.ib.length,D="";d[0]=0;if(!f){var F=
bb.Xo(b);null!==F&&(""===b&&(a.h="Life"),b=F)}if("map"===b.substring(0,3).toLowerCase()){D=b.substring(3);var L=D.indexOf("/");-1===L?"=="===D.substring(D.length-2)&&(D=D.substring(0,D.length-2)):"=="===D.substring(L-2,L)&&(D=D.substring(0,L-2)+D.substring(L));b=this.me(D,a);if(0<=b)if(e=!0,l=D.substring(b),D=D.substring(0,b),"/"===l[0]){F=1;a.i=0;F<l.length&&("g"===l[F].toLowerCase()||"c"===l[F].toLowerCase())&&(F+=1);for(L=0;F<l.length&&-1!==L;)L="0123456789".indexOf(l[F]),-1!==L?a.i=10*a.i+L:(this.N=
"Illegal character in generations number",a.i=-1,e=!1),F+=1;-1!==a.i&&(2>a.i||256<a.i)&&(this.N="Generations number must be 2-256",a.i=-1,e=!1)}else""!==l&&(F=l.length,this.N="MAP length must be "+this.Qa+", "+this.Pa+" or 86 not "+(F+b),e=!1);else this.N=86===D.length||D.length===this.Pa||D.length===this.Qa?"MAP contains illegal base64 character":"MAP length must be "+this.Qa+", "+this.Pa+" or 86 not "+D.length}else if(b=b.toLowerCase(),b=this.yc(b),"2pca4"===b.substring(0,5)){if(e=this.sd(b,d))a.ja=
!0,a.i=16}else if("m"===b[0]){if(e=this.pd(b,d))a.ea=!0}else{e=!0;if("g"===b[0]){F=1;for(L=a.i=0;F<b.length&&-1!==L;)L="0123456789".indexOf(b[F]),-1!==L&&(a.i=10*a.i+L,F+=1);1<F&&(2>a.i||256<a.i?(this.N="Generations number must be 2-256",a.i=-1,e=!1):(F<b.length&&"/"===b[F]&&(F+=1),b=b.substring(F),e=!0))}if(e&&(L=b.lastIndexOf("g"),-1!==L&&L!==b.length-1&&!(0<L&&"/"===b[L-1]))){F=L+1;for(L=a.i=0;F<b.length&&-1!==L;)L="0123456789".indexOf(b[F]),-1!==L&&(a.i=10*a.i+L,F+=1);F===b.length?2>a.i||256<
a.i?(this.N="Generations number must be 2-256",a.i=-1,e=!1):(b=b.substring(0,b.lastIndexOf("g")),e=!0):a.i=-1}if(e)if(e=!1,"r"===b[0]||"1"<=b[0]&&"9">=b[0]&&-1!==b.indexOf(",")){if(e="r"===b[0]?-1!==b.indexOf(".")?this.nd(a,b):-1!==b.indexOf("t")&&-1===b.indexOf("n")?this.od(a,b):-1!==b.indexOf(",")?this.kd(a,b,c):this.jd(a,b,c):this.ad(a,b))if(a.Ca){a.m===this.s&&(a.wa>a.u&&(a.u=a.wa),a.xa>a.u&&(a.u=a.xa));l=15===a.m||a.m===this.u?0:-1;a.h="R"+a.u+",";a.h+="C"+a.i+",";a.h+="S"+this.Ub(a.V,l)+",";
a.h+="B"+this.Ub(a.C,0);if(a.m!==this.i)switch(a.h+=",N",a.m){case this.m:a.h+="N";break;case this.X:a.h+="C";break;case this.P:a.h+="+";break;case this.V:a.h+="X";break;case this.W:a.h+="*";break;case this.Y:a.h+="2";break;case this.F:a.h+="H";break;case this.O:a.h+="B";break;case this.M:a.h+="D";break;case this.T:a.h+="#";break;case 10:a.h+="@"+a.ia+a.$;break;case this.B:a.h+="3";break;case this.v:a.h+="A";break;case this.K:a.h+="L";break;case this.u:a.h+="G";break;case 15:a.h+="W"+a.ia+a.$;break;
case this.s:a.h+="F"+a.Fb(a.u)}a.mb&&(a.h+=",P",-1!==a.Va&&(a.h+=-2===a.Va?"#":a.Va,-1!==a.Na&&(a.h+=","+(-2===a.Na?"#":a.Na),-1!==a.Ua&&(a.h+=","+(-2===a.Ua?"#":a.Ua)))))}else{a.na===this.s&&(a.wa>a.v&&(a.v=a.wa),a.xa>a.v&&(a.v=a.xa));a.Y=!0;a.h="R"+a.v+",C"+a.i+",M"+a.va+",S"+a.K+".."+a.Z+",B"+a.W+".."+a.da+",N";switch(a.na){case this.i:a.h+="M";break;case this.m:a.h+="N";break;case this.X:a.h+="C";break;case this.P:a.h+="+";break;case this.V:a.h+="X";break;case this.W:a.h+="*";break;case this.Y:a.h+=
"2";break;case this.F:a.h+="H";break;case this.O:a.h+="B";break;case this.M:a.h+="D";break;case this.T:a.h+="#";break;case 10:a.h+="@"+a.ia+a.$;break;case this.B:a.h+="3";break;case this.v:a.h+="A";break;case this.K:a.h+="L";break;case this.u:a.h+="G";break;case 15:a.h+="W"+a.ia+a.$;break;case this.s:a.h+="F"+a.Fb(a.v)}0===a.va&&(a.K+=1,a.Z+=1)}}else if("w"===b[0])e=this.Bd(a,b,d);else if(c=b.lastIndexOf(this.Ea),-1!==c&&c===b.length-m&&(a.o=!0,a.X=this.da,b=b.substring(0,b.length-m),p=this.Qb),c=
b.lastIndexOf(this.Da),-1!==c&&c===b.length-r&&(a.o=!0,a.X=this.ja,b=b.substring(0,b.length-r),p=this.Ob),c=b.lastIndexOf(this.Fa),-1!==c&&c===b.length-u&&(a.o=!0,a.X=this.ka,b=b.substring(0,b.length-u),p=this.Rb),c=b.lastIndexOf(this.cb),-1!==c&&c===b.length-t&&(a.o=!0,a.X=this.sa,b=b.substring(0,b.length-t),p=this.Dc),c=b.lastIndexOf(this.eb),-1!==c&&c===b.length-v&&(a.o=!0,a.X=this.ta,b=b.substring(0,b.length-v),p=this.Ec),c=b.lastIndexOf(this.bb),-1!==c&&c===b.length-A&&(a.o=!0,a.X=this.ra,b=
b.substring(0,b.length-A),p=this.Cc),c=b.lastIndexOf(this.fb),-1!==c&&c===b.length-w&&(a.o=!0,a.X=this.ua,b=b.substring(0,b.length-w),p=this.Fc),t=b.lastIndexOf(this.Gb),-1!==t&&t===b.length-n&&(a.ga=!0,a.sa=this.oa,b=b.substring(0,b.length-n),p=this.le),t=b.lastIndexOf(this.Ma),-1!==t&&t===b.length-q&&(a.ga=!0,a.sa=this.na,b=b.substring(0,b.length-q),p=this.Bc),t=b.lastIndexOf(this.ib),-1!==t&&t===b.length-z&&(a.ka=!0,b=b.substring(0,b.length-z),p=this.Kc),n=b.indexOf("/"),-1===n&&(n=b.indexOf("_")),
-1!==n&&(t=b.lastIndexOf("/"),-1===t&&(t=b.lastIndexOf("_")),t!==n&&(l=b.substring(t+1),b=b.substring(0,t),c=b.lastIndexOf(this.Ea),-1!==c&&c===b.length-m&&(a.o=!0,a.X=this.da,b=b.substring(0,b.length-m),p=this.Qb),c=b.lastIndexOf(this.Da),-1!==c&&c===b.length-r&&(a.o=!0,a.X=this.ja,b=b.substring(0,b.length-r),p=this.Ob),c=b.lastIndexOf(this.Fa),-1!==c&&c===b.length-u&&(a.o=!0,a.X=this.ka,b=b.substring(0,b.length-u),p=this.Rb),t=b.lastIndexOf(this.Ma),-1!==t&&t===b.length-q&&(a.ga=!0,b=b.substring(0,
b.length-q),p=this.Bc),t=b.lastIndexOf(this.ib),-1!==t&&t===b.length-z&&(a.ka=!0,b=b.substring(0,b.length-z),p=this.Kc))),b===this.ic)a.fa=!0,a.i=256,e=!0;else{q=b.indexOf("b");m=b.indexOf("s");-1===n?0===q||0===m?-1===m?(k=b,g=""):-1===q?(g=b,k=""):q<m&&-1!==m?(k=b.substring(q+1,m),g=b.substring(m+1)):(g=b.substring(m+1,q),k=b.substring(q+1)):this.N="Unsupported rule name":(-1===q&&-1!==m?q=n:-1!==q&&-1===m&&(m=n),q<m?(k=b.substring(0,n),g=b.substring(n+1)):(k=b.substring(n+1),g=b.substring(0,n)));
-1!==q&&k&&"b"===k[0]&&(k=k.substring(1));-1!==m&&g&&"s"===g[0]&&(g=g.substring(1));if(null!==l)if(F=0,-1!==a.i)this.N="Generations defined twice",k=null;else{a.i=0;F<l.length&&("g"===l[F].toLowerCase()||"c"===l[F].toLowerCase())&&(F+=1);for(L=0;F<l.length&&-1!==L;)L="0123456789".indexOf(l[F]),-1!==L?a.i=10*a.i+L:(this.N="Illegal character in generations number",a.i=-1,k=null),F+=1;-1!==a.i&&(2>a.i||256<a.i)&&(this.N="Generations number must be 2-256",a.i=-1,k=null)}if(null!==k&&null!==g){e=!0;for(F=
0;F<k.length;)L=p.indexOf(k[F]),-1===L?(this.N="Illegal character in birth specification",e=!1,F=k.length):F+=1;if(e)for(F=0;F<g.length;)L=p.indexOf(g[F]),-1===L?(this.N="Illegal character in survival specification",e=!1,F=g.length):F+=1}}}e&&a.Vb()&&(15===a.m||a.m===this.u)&&(this.N="B0 currently not supported",e=!1);e&&-1===a.pa&&!this.va&&!1===a.Y&&!1===a.Ca&&(d=this.cd(a,String(k),String(g),D,d),""===this.N?a.h=d:e=!1,2===a.i&&(a.i=-1));e?this.Sc(a,D,f):(a.Y=!1,a.Ca=!1,a.i=-1,a.fa=!0);return e};
ua.prototype.ma=function(a,b,c,d){var f=0,e=b.length-1,k=!1,g=!0,l,p=0,n=0,q=0,m=0,r=this.Z;a.fb=-1;for(l=b[f];!k;){var u=l;l=b[f+1];var t=-1;switch(u){case "#":for(f+=1;"\n"!==l&&f<e;)f+=1,l=b[f];f<e?l=b[f+1]:f===e&&--f;break;case "0":case "1":case "2":case "3":case "4":case "5":case "6":case "7":case "8":case "9":"0"===u&&0===m&&(this.N="Leading zero in count",k=a.qa=!0);m=10*m+parseInt(u,10);break;case "b":t=0;break;case "o":t=1;break;case ".":t=0;break;case "z":t=19;a.B=!0;a.La=!0;break;case "$":0===
m&&(m=1);q+=m;m=0;n>p&&(p=n);n=0;break;case "!":0===m&&(m=1);q+=m;m=0;n>p&&(p=n);k=!0;break;default:g=!1,"A"<=u&&"X">=u?(g=!0,t=u.charCodeAt(0)-64):"p"<=u&&"y">u?"A"<=l&&"X">=l?(g=!0,t=24*(u.charCodeAt(0)-111)+(l.charCodeAt(0)-64),f+=1,l=b[f+1]):"x"===u&&(g=!0,a.B=!0,a.La=!0,t=15):"y"===u&&("A"<=l&&"O">=l?(g=!0,t=24*(u.charCodeAt(0)-111)+(l.charCodeAt(0)-64),f+=1,l=b[f+1]):(g=!0,a.B=!0,a.La=!0,t=17))}if(0<=t)if(0===m&&(m=1),c||(0===r[t]&&(a.Ma+=1),r[t]+=m,t>=a.A&&(a.A=t+1)),t>=a.fb&&(a.fb=t),0<t&&
c)for(;0<m;){a.ca[q][n]=-1===a.i?t:2===a.i?1===t?I.Ya:0:t<a.i?t:1;if(!(a.F||a.O||a.B)&&-1===a.i&&1===t||(a.F||a.B)&&t&1||-1!==a.i&&1===t)a.T[q][n>>4]|=1<<(~n&15);n+=1;--m}else n+=m,m=0;g||(" "===u||"\t"===u||"\r"===u||"\n"===u?0===m?g=!0:(this.N="Illegal whitespace in pattern",k=a.qa=!0):(this.N="Illegal character in pattern: "+u,this.ba=k=a.qa=!0));f+=1;f===e&&(k||(0===m&&(m=1),q+=m,m=0,n>p&&(p=n)),k=!0)}c||(0===p&&(q=p=1),a.width=p,a.height=q,16384<p||16384<q?a.ua=!0:(a.T=Array.matrix(ra.Ha,q,(p-
1>>4)+1,0,d,"Pattern.lifeMap"),a.ca=Array.matrix(ra.Ra,q,p,0,d,"Pattern.multiStateMap")),a.Za="RLE");a.qa&&(f=-1);return f};ua.prototype.Ud=function(a,b){var c=b.indexOf("\n");-1===c&&(c=b.length);a.vb=b.substring(0,c).trim()};ua.prototype.ab=function(a,b,c){for(var d=!1;b<c&&!d;)" "===a[b]?b+=1:d=!0;return b};ua.prototype.Pd=function(a){var b=a.indexOf("\n"),c=0,d=!1,f=!1,e=0;-1===b&&(b=a.length);for(;e<b&&!d;)"="===a[e]?d=!0:" "!==a[e]?d=!0:e+=1;if(d&&"="===a[e]){e=this.ab(a,e+1,b);e<b&&"-"===a[e]&&
(f=!0,e+=1);for(d=!1;e<b&&!d;){var k="0123456789".indexOf(a[e]);-1!==k?(c=10*c+k,e+=1):d=!0}this.lb=!0;f&&(c=-c);this.Fb=c}};ua.prototype.vc=function(a,b){var c=a.indexOf("\n"),d=0,f=0,e=!1,k=!1,g=!1,l=0;-1===c&&(c=a.length);if(b){for(;l<c&&!g;)"="===a[l]?g=!0:" "!==a[l]?g=!0:l+=1;g&&"="===a[l]&&(l+=1)}else g=!0;if(g&&(l=this.ab(a,l,c),l<c)){"-"===a[l]&&(e=!0,l+=1);for(g=!1;l<c&&!g;)b="0123456789".indexOf(a[l]),-1!==b?(d=10*d+b,l+=1):g=!0;this.Ga=!0;this.Va=e?-d:d;l=this.ab(a,l,c);if(l<c&&","===a[l]&&
(l=this.ab(a,l+1,c),l<c)){"-"===a[l]&&(k=!0,l+=1);for(g=!1;l<c&&!g;)b="0123456789".indexOf(a[l]),-1!==b?(f=10*f+b,l+=1):g=!0;this.Wa=k?-f:f}}};ua.prototype.Uc=function(a,b){var c=a.indexOf("XRLE",b);b=a.indexOf("\n",b);var d=c;-1!==c&&(c=a.indexOf("Pos",c),-1!==c&&c<b&&this.vc(a.substring(c+3),!0),c=a.indexOf("Gen",d),-1!==c&&c<b&&this.Pd(a.substring(c+3)))};ua.prototype.Td=function(a,b){var c=b.indexOf("\n");-1===c&&(c=b.length);a.name=b.substring(0,c).trim()};ua.prototype.Ja=function(a,b,c,d,f){var e=
c.indexOf("\n",d);-1===e&&(e=c.length);c=c.substring(d,e);a.Ob.push(c.trim());c=(b+c).replace(/[ \t]+$/g,"");f?a.ib.push(c):a.lb.push(c);return e+1-d};ua.prototype.A=function(a){var b=0;a+=" ";var c="0123456789".indexOf(a[this.h]);if(-1!==c)for(b=0;-1!==c;)b=10*b+c,this.h+=1,c="0123456789".indexOf(a[this.h]);return b};ua.prototype.yd=function(a,b){var c=this.A(b),d=!0;b=b[this.h];a.M=c;a.ba=c;"*"===b&&(d=!1,this.h+=1);a.Kb=d;0===c&&0===c&&(a.l=-1)};ua.prototype.zd=function(a,b){var c=this.A(b),d=
-1,f=0,e=0;if(-1!==c){b+=" ";var k=b[this.h];if("-"===k||"+"===k)this.h+=1,f=this.A(b),-1===f?c=-1:"-"===k&&(f=-f);if(","===b[this.h])if(this.h+=1,d=this.A(b),-1===d)c=-1;else{if(k=b[this.h],"-"===k||"+"===k)this.h+=1,e=this.A(b),-1===e?c=-1:"-"===k&&(e=-e)}else d=c}if(-1E6>f||1E6<f||-1E6>e||1E6<e)c=-1;0!==f&&0<c&&(f%=c);0!==e&&0<d&&(e%=d);0!==f&&0!==e&&(c=-1);0===c&&0===d&&(a.l=-1);0===f&&0===e||0!==c&&0!==d||(c=-1);a.M=c;a.ba=d;a.Aa=f;a.Ba=e};ua.prototype.md=function(a,b){var c=this.A(b),d=-1,f=
0,e=0,k=!1,g=!1;if(-1!==c){b+=" ";var l=b[this.h];"*"===l&&(k=!0,this.h+=1,l=b[this.h]);if("-"===l||"+"===l)this.h+=1,f=this.A(b),-1===f?c=-1:"-"===l&&(f=-f);if(","===b[this.h])if(this.h+=1,d=this.A(b),-1===d)c=-1;else{if(l=b[this.h],"*"===l&&(g=!0,this.h+=1,l=b[this.h]),"-"===l||"+"===l)this.h+=1,e=this.A(b),-1===e?c=-1:"-"===l&&(e=-e)}else d=c}k&&g&&(c=-1);0!==f&&0!==e&&(c=-1);if(k&&0!==e||g&&0!==f)c=-1;k||g||0===f||(c=-1);if(0!==f&&0!==(c&1)||0!==e&&0!==(d&1))c=-1;if(0===c&&0===d)a.l=-1;else if(0===
c||0===d)c=-1;k||g||(g=!0);0!==f&&(f=1);0!==e&&(e=1);a.M=c;a.ba=d;a.Aa=f;a.Ba=e;a.Gb=k;a.Mb=g};ua.prototype.gd=function(a,b){var c=this.A(b),d=-1;-1!==c&&(b+=" ",","===b[this.h]?(this.h+=1,d=this.A(b),-1===d&&(c=-1)):d=c);if(0===c&&0===d)a.l=-1;else if(0===c||0===d)c=-1;a.M=c;a.ba=d};ua.prototype.wd=function(a,b){var c=this.A(b),d=-1;-1!==c&&(b+=" ",","===b[this.h]?(this.h+=1,d=this.A(b),-1===d&&(c=-1)):d=c);0===c&&0===d&&(a.l=-1);a.M=c;a.ba=d};ua.prototype.ac=function(a,b){var c=!0;b=this.yc(b).toLowerCase();
if(""!==b){c=!1;a.l="ptkcs".indexOf(b[0]);if(-1!==a.l)if(this.h=1,2!==a.l&&4!==a.l&&-1!==b.indexOf("*"))a.M=-1;else switch(a.l){case 0:this.wd(a,b);break;case 1:this.zd(a,b);break;case 2:this.md(a,b);break;case 3:this.gd(a,b);break;case 4:this.yd(a,b);break;default:a.M=-1}this.h!==b.length&&(a.M=-1);-1!==a.M?c=!0:(a.l=-1,this.N="Invalid bounded grid definition '"+b.toUpperCase()+"'")}return c};ua.prototype.La=function(a,b,c,d){var f,e=0,k=null;if(c[b]===a){for(b+=1;b<d&&" "===c[b];)b+=1;if(b<d&&"="===
c[b])b+=1;else return[k,b];for(;b<d&&" "===c[b];)b+=1;a=0;var g=f=!1;b<d&&"-"===c[b]&&(b+=1,g=!0);for(b<d&&(e=c[b].charCodeAt(0));b<d&&48<=e&&57>=e;)a=10*a+(e-48),b+=1,f=!0,b<d&&(e=c[b].charCodeAt(0));for(f&&(k=g?-a:a);b<d&&" "===c[b];)b+=1;for(b<d&&","===c[b]&&(b+=1);b<d&&" "===c[b];)b+=1}return[k,b]};ua.prototype.xd=function(a,b){this.ea=this.fa=-999999;var c=this.La("x",0,a,b);var d=c[1];null!==c[0]&&(this.fa=c[0]);c=this.La("y",d,a,b);d=c[1];null!==c[0]&&(this.ea=c[0]);c=this.La("h",d,a,b);d=
c[1];null!==c[0]&&(this.Va=c[0],this.Ga=!0);c=this.La("v",d,a,b);null!==c[0]&&(this.Wa=c[0])};ua.prototype.Ab=function(a,b,c,d){var f=b.indexOf("\n"),e=b.indexOf("rule"),k=!1;-1===f&&(f=b.length);c?this.xd(b,f):e=-1;-1===e||e>f?e=c?"":b.substring(1,f).trim():(e=b.substring(e+4,f).trim(),"="===e[0]&&(e=e.substring(1).trim()));""!==e&&","===e[e.length-1]&&(e=e.substring(0,e.length-1));a.Ea=e;a.h=e;var g=e.indexOf(":");c=e.lastIndexOf(":");-1!==c&&g===c&&null!==bb.Xo(a.h)&&(c=-1);-1!==c&&(this.ac(a,
e.substring(c+1))?e=e.substring(0,c).trim():c=-2);var l=e.toLowerCase().lastIndexOf("history");-1!==l&&l===e.length-7&&(a.F=!0,e=e.substring(0,e.length-7).trim());l=e.indexOf("|");-1!==l&&"history"===e.toLowerCase().substring(0,l).trim().substring(l-7)&&(a.F=!0,g=e.substring(0,l).trim(),e=g.substring(0,g.length-7)+e.substring(l));a.F||(l=e.toLowerCase().lastIndexOf("super"),-1!==l&&l===e.length-5&&(a.B=!0,e=e.substring(0,e.length-5).trim()),l=e.indexOf("|"),-1!==l&&"super"===e.toLowerCase().substring(0,
l).trim().substring(l-5)&&(a.B=!0,g=e.substring(0,l).trim(),e=g.substring(0,g.length-5)+e.substring(l)));a.F||a.B||("stateinvestigator"===e.toLowerCase()?(e="B3/S23Investigator",k=!0):"leapinvestigator"===e.toLowerCase()?(e="B2n3/S23-qInvestigator",k=!0):"eightinvestigator"===e.toLowerCase()?(e="B3/S238Investigator",k=!0):"pedestrianinvestigator"===e.toLowerCase()?(e="B38/S23Investigator",k=!0):"merryinvestigator"===e.toLowerCase()&&(e="B3-eq4ciqt5ky/S2-c3-k4yz5i8Investigator",k=!0),l=e.toLowerCase().lastIndexOf("investigator"),
-1!==l&&l===e.length-12&&(a.O=!0,e=e.substring(0,e.length-12).trim()),l=e.indexOf("|"),-1!==l&&"investigator"===e.toLowerCase().substring(0,l).trim().substring(l-12)&&(a.O=!0,g=e.substring(0,l).trim(),e=g.substring(0,g.length-12)+e.substring(l)));-2!==c&&this.wa(a,e,d,k)?this.$a=!0:this.ij=!0;""===e&&-1===b.indexOf("=")&&(f=-1);return f+1};ua.prototype.Vb=function(a){switch(a){case 0:a="Plane";break;case 1:a="Torus";break;case 2:a="Klein bottle";break;case 3:a="Cross-surface";break;case 4:a="Sphere";
break;default:a="(unknown)"}return a};ua.prototype.Xd=function(a,b){var c=a.C,d=a.V,f=this.pa(a.u,a.m,a.oa);var e=new Uint8Array(a.C.length);var k=new Uint8Array(a.V.length);if(d[f+1]){for(a=0;a<=f;a+=1)e[a]=1-d[f-a+1],k[a+1]=1-c[f-a];for(a=0;a<=f;a+=1)c[a]=e[a],d[a+1]=k[a+1];this.$=!1}else{a.Ja=b.h(ra.Ra,a.C.length,"HROT.altBirths");a.Ka=b.h(ra.Ra,a.V.length,"HROT.altSurvivals");e=a.Ja;k=a.Ka;for(a=0;a<=f;a+=1)e[a]=d[f-a+1],k[a+1]=c[f-a];for(a=0;a<=f;a+=1)c[a]=1-c[a],d[a+1]=1-d[a+1];this.$=!0}};
ua.prototype.bd=function(a,b){var c,d,f=a.T,e=a.ca;if(null!==f)if(a.Ca&&2===a.i)for(d=2;256>d;d+=1)this.Z[d]&&(this.Z[d]=0,--a.Ma);else for(c=0;c<e.length;c+=1){var k=f[c];var g=e[c];for(d=0;d<g.length;d+=1){var l=g[d];l>=b&&(g[d]=0,k[d>>2]&=~(1<<(~d&15)),0<this.Z[l]&&(this.Z[l]=0,--a.Ma))}}};ua.prototype.Tb=function(a){var b="[R]History",c=!0;a.B?b="[R]Super":a.O&&(b="[R]Investigator");-1===a.i||a.ja||(this.N=a.Ca?b+" not valid with HROT":b+" not valid with Generations");a.ja&&(this.N=b+" not valid with PCA rule");
a.fa&&(this.N=b+" not valid with none rule");a.o&&(this.N=b+" not valid with triangular rule");a.sa===this.oa&&(this.N=b+" not valid with Hex Tripod");a.Y&&(this.N=b+" not valid with LtL");a.ea&&(this.N=b+" not valid with Margolus");this.va&&(this.N=b+" not valid with Wolfram emulation");""!==this.N&&(c=!1);return c};ua.prototype.ec=function(a,b,c){var d=0,f=b.length,e;var k=!0;var g=e=!1;var l=this.Z;var p=0,n=4,q=0;a.ea=!1;a.fa=!1;a.l=-1;a.width=0;a.height=0;a.ua=!1;a.T=null;a.ca=null;a.qa=!1;a.F=
!1;a.B=!1;a.O=!1;a.La=!1;a.ga=!1;a.pa=-1;a.ka=!1;a.i=-1;a.Y=!1;a.v=-1;a.va=1;a.K=-1;a.Z=-1;a.W=-1;a.da=-1;a.Ca=!1;a.C=null;a.V=null;a.u=-1;a.title="";a.s="";a.ra="";a.A=2;a.Ma=0;l.fill(0);for(b+=" ";d<f&&!a.qa;)switch(l=b[d],l){case "#":d+=1;l=b[d];d+=1;switch(l){case "N":this.Td(a,b.substring(d));break;case "O":this.Ud(a,b.substring(d));break;case "C":this.Uc(b,d);break;case "P":this.vc(b.substring(d),!1);break;case "R":g?(k=b.substring(d).indexOf("\n"),-1===k&&(k=b.substring(d).length),d+=k):(d+=
this.Ab(a,b.substring(d),!1,c),g=!0);k=!1;break;case "\n":--d}k?d="\n"===l?d+this.Ja(a,"#",b,d,e):d+this.Ja(a,"#"+l,b,d,e):k=!0;break;case "\n":d+=1;break;default:if("x"===l&&d<f&&(" "===b[d+1]||"="===b[d+1])&&!g){if(d+=this.Ab(a,b.substring(d),!0,c),g=!0,this.fa===Ba.fq||this.ea===Ba.fq)this.N="RLE header needs: x = N, y = N",a.qa=!0,this.$a=!1}else e?d+=this.Ja(a,"",b,d,!0):(e=!0,l=this.ma(a,b.substring(d),!1,c),-1!==l&&(d=a.ua?d+l:d+this.ma(a,b.substring(d),!0,c)))}if(a.qa&&(e=b.substring(d).indexOf("!"),
-1!==e))for(d+=e+1;d<f;)d+=this.Ja(a,"",b,d,!0);g||(this.wa(a,"",c,!1)?this.$a=!0:this.ij=!0);a.Y&&this.Yd(a,c);(b=a.Vb())&&this.Xd(a,c);!a.Ca||a.m!==this.F&&a.m!==this.B&&a.m!==this.v&&(15!==a.m&&10!==a.m||"H"!==a.$)||(a.ga=!0);!a.Ca||a.m!==this.K&&(15!==a.m&&10!==a.m||"L"!==a.$)||(a.o=!0);-1!==a.l&&(a.Ca&&(n=6*a.u),a.Y&&(n=6*a.v),a.M>=16384-n||a.ba>=16384-n)&&(this.N="Bounded grid too big",this.$a=!1,a.l=-1);a.Ca&&-1!==a.l&&(0!==a.M&&a.M<2*a.u||0!==a.ba&&a.ba<2*a.u)&&(this.N="Bounded grid too small (must be at least "+
2*a.u+")",this.$a=!1,a.l=-1);a.ga&&1<a.l&&""===this.N&&(this.N="Hexagonal rules only support Plane or Torus",this.$a=!1,a.l=-1);a.o&&1<a.l&&""===this.N&&(this.N="Triangular rules only support Plane or Torus",this.$a=!1,a.l=-1);a.o&&(1===a.l||2===a.l)&&(a.Aa&1||a.Ba&1)&&(this.N="Triangular rules only support even shifts",this.$a=!1,a.l=-1);a.ea&&(1===a.l||2===a.l)&&(a.Aa&1||a.Ba&1)&&(this.N="Margolus rules only support even shifts",this.$a=!1,a.l=-1);a.ea&&1<a.l&&""===this.N&&(this.N="Margolus rules only support Plane or Torus",
this.$a=!1,a.l=-1);a.ja&&1<a.l&&""===this.N&&(this.N="PCA rules only support Plane or Torus",this.$a=!1,a.l=-1);!a.Y||""!==this.N||(1<a.l&&(this.N="LtL only supports Plane or Torus",this.$a=!1,a.l=-1),0!==a.l&&1!==a.l)||0!==a.M&&0!==a.ba||(this.N="LtL bounded grid must be finite",this.$a=!1,a.l=-1);a.o&&-1!==a.l&&(0!==(a.M&1)?(this.N="Bounded grid width must be even",this.$a=!1,a.l=-1):0!==(a.ba&1)&&(this.N="Bounded grid height must be even",this.$a=!1,a.l=-1));a.ja&&0!==this.o[0]&&(this.N="PCA first value must be 0",
this.o[0]=0,this.$a=!1);a.ea&&(15===this.o[0]&&0!==this.o[15]?(this.N="Margolus last value must be 0 when first is 15",this.$a=!1):0!==this.o[0]&&15!==this.o[0]&&(this.N="Margolus first value must be 0 or 15",this.$a=!1));!a.Ca||-1===a.l||0===a.Ba&&0===a.Aa||(this.N="HROT does not support Bounded Grid shift",this.$a=!1,a.l=-1);b&&2<a.i&&(this.N="HROT Generations does not support B0",this.$a=!1);!a.Ca||""!==this.N||(1<a.l&&(this.N="HROT only supports Plane or Torus",this.$a=!1,a.l=-1),0!==a.l&&1!==
a.l)||0!==a.M&&0!==a.ba||(this.N="HROT bounded grid must be finite",this.$a=!1,a.l=-1);a.La&&(a.F||a.O)&&(this.N=a.F?"[R]History not valid with Niemiec states":"[R]Investigator not valid with Niemiec states",this.$a=!1);a.F&&""===this.N&&(a.F=this.Tb(a));a.O&&""===this.N&&(a.O=this.Tb(a));a.B&&""===this.N&&(a.B=this.Tb(a));-1===a.i||!this.o[0]||a.Y||a.Ca||(this.N="Generations does not support B0",this.$a=!1);a.ea&&-1!==a.l&&(-1!==a.ba&&0!==(a.ba&1)&&(this.N="Bounded grid height must be even",a.l=
-1,this.$a=!1),-1!==a.M&&0!==(a.M&1)&&(this.N="Bounded grid width must be even",a.l=-1,this.$a=!1));a.ga&&(p+=1);a.o&&(p+=1);a.ka&&(p+=1);1<p&&(this.N="Multiple neighbourhoods specified",this.$a=!1,a.ga=!1,a.o=!1,a.ka=!1);a.B&&(a.i=26);a.O&&(a.i=21);this.$a&&(a.F?(q=7,a.A>q&&(this.N="Illegal state in pattern for [R]History",this.$a=!1,this.ba=!0)):a.B?(q=26,a.A>q&&(this.N="Illegal state in pattern for [R]Super",this.$a=!1,this.ba=!0)):a.O?(q=21,a.A>q&&(this.N="Illegal state in pattern for [R]Investigator",
this.$a=!1,this.ba=!0)):-1!==a.i&&(q=a.i,a.A>q&&(this.N=a.Y?"Illegal state in pattern for LtL":a.Ca?"Illegal state in pattern for HROT":a.ja?"Illegal state in pattern for PCA":"Illegal state in pattern for Generations",this.ba=!0,this.$a=!1)),this.ba&&(a.A=q,this.bd(a,q)))};ua.prototype.ld=function(a,b){var c=!0,d=!1,f=0,e=0,k=0,g=0,l=0,p=!0,n=Ba.Jq,q,m=null,r=[],u={},t=null;b.s();var v=b.l();for(""!==v&&"@"===v[0]&&(v="");c&&""!==v;){for(;c&&!d&&""!==v;){if("/"===v[0])b.s();else if("xpm"===v.toLowerCase())b.s();
else if('"'===v[0])v=v.substring(1),b.u(v)&&(f=b.K(v),b.i()&&(e=b.h(),b.i()&&(k=b.h(),v=b.l(),'"'===v[v.length-1]&&(v=v.substring(0,v.length-1),b.u(v)&&(g=b.K(v)))))),0<f&&0<e&&1<=g&&2>=g&&0===e%f?7!==f&&15!==f&&31!==f?d=!1:(d=!0,l=0,m=new Uint16Array(f*e),t=new Uint32Array(k)):c=!1;else switch(v){case "circles":n=Ba.XF;u={};m=new Uint16Array(0);t=[];break;case "diamonds":n=Ba.YF;u={};m=new Uint16Array(0);t=[];break;case "hexagons":n=Ba.ZF;u={};m=new Uint16Array(0);t=[];break;case "triangles":n=Ba.aG,
u={},m=new Uint16Array(0),t=[]}for(;b.B();)b.l();v=b.l();""!==v&&"@"===v[0]&&(v="")}for(;c&&d&&""!==v;){if("/"===v[0])b.s();else{if('"'===v[0])if(c=!1,l<k){var A=v.substring(1);if(A.length===g&&void 0===u[A]&&(v=b.l(),"c"===v&&(v=b.l(),'"'===v[v.length-1]))){c=v.substring(0,v.length-1);c=parseInt(c,16);u[A]=l;t[l]=c;if(c>>16!==(c>>8&255)||c>>16!==(c&255))p=!1;c=!0;b.s()}}else{if(c=!1,'"'===v[v.length-1]&&v.length-2===f*g){v=v.substring(1,v.length-1);var w=0;for(c=!0;c&&w<f;){A=v[w*g];1<g&&(A+=v[w*
g+1]);if(void 0===u[A])c=!1;else{if(l>=e+k){console.log("LifeViewer: unexpected icon data found after icon",e/f);var z=m;e+=f;m=new Uint16Array(f*e);for(q=0;q<z.length;q+=1)m[q]=z[q]}m[(l-k)*f+w]=u[A]}w+=1}}}else l===e+k?(d=!1,r[r.length]={Lp:n,width:f,height:e,uu:k,zn:t.slice(),ut:m.slice(),aq:p},u={},m=null,p=!0,n=Ba.Jq):c=!1,b.P();l+=1}for(;b.B();)b.l();v=b.l();""!==v&&"@"===v[0]&&(v="")}}c?l===e+k?(r[r.length]={Lp:n,width:f,height:e,uu:k,zn:t.slice(),ut:m.slice(),aq:p},a.ma=r):a.ma=null:a.ma=
null};ua.prototype.rd=function(a,b){var c=a.A,d=[],f=0,e,k=!1;b.s();b.i()&&(f=b.h(),0<=f&&f<c&&(k=!0));for(;k;){k=!1;for(e="";!b.B()&&""!==b.m();)e=""===e?b.l():e+(" "+b.l());d[f]=e;b.s();b.i()&&(f=b.h(),0<=f&&f<c&&(k=!0))}a.Wa=d};ua.prototype.bc=function(a,b){var c=a.A;a=a.Da;var d=0,f=0,e=0,k=0,g=!1;b.s();b.i()&&(d=b.h(),g=!0);for(;g;){g=!1;b.i()&&(f=b.h(),b.i()&&(e=b.h(),b.i()&&(k=b.h(),g=!0)));if(g)if(b.i()&&b.M()){var l=b.h();var p=b.h();0<=d&&255>=d&&0<=f&&255>=f&&0<=e&&255>=e&&0<=k&&255>=k&&
0<=l&&255>=l&&0<=p&&255>=p?this.Wb(a,d,f,e,k,l,p):g=!1}else 0<=d&&d<c&&0<=f&&255>=f&&0<=e&&255>=e&&0<=k&&255>=k?a[d]=f<<16|e<<8|k:g=!1;g&&(b.s(),b.i()?d=b.h():g=!1)}};ua.prototype.Kb=function(a,b,c,d,f,e){var k=!1,g=a.length;var l=d.length;var p=l%32;var n=1<<p,q=(l-p)/32,m=0;if(null!==e)for(l=0;!k&&l<e.length;){var r=e[l];if(r.output===b)for(p=0,k=!0;k&&p<a.length;)0!==this.Ka(a[p],r.inputs[p])&&(k=!1),p+=1;l+=1}if(!k){null!==e&&(r={inputs:[],output:b},r.inputs=a.slice(),e[e.length]=r);d[d.length]=
b;if(q>=c.Ga){for(l=0;l<g;l+=1)for(p=0;p<c.ta;p+=1)f[l][p][f[l][p].length]=0;c.Ga+=1}for(l=0;l<g;l+=1){c=a[l];d=!1;for(p=0;p<c.length;p+=1)f[l][c[p]][q]|=n,0===c[p]&&(d=!0);d&&(m+=1)}0!==b&&m===g&&(this.C=!0)}return k};ua.prototype.Ld=function(a){var b=a.length,c=b-2,d=b-1,f=!1;if(1<b){for(;0<=c&&0<=this.Ka(a[c],a[c+1]);)--c;if(0<c){for(f=!0;d>=c&&0>=this.Ka(a[d],a[c]);)--d;var e=a[c];a[c]=a[d];a[d]=e;var k=(b-(c+1))/2|0;for(d=0;d<k;d+=1)e=a[b-d-1],a[b-d-1]=a[c+1+d],a[c+1+d]=e}}return f};ua.prototype.Ka=
function(a,b){var c=0,d=a.length;if(d===b.length){for(;c<d&&a[c]===b[c];)c+=1;return c===d?0:a[c]-b[c]}return d-b.length};ua.prototype.Nd=function(a,b,c,d,f){var e,k,g,l=[],p=[],n=[],q=0;for(e=0;e<c;e+=1)for(n[e]=[],k=0;k<f.ta;k+=1)n[e][k]=[];for(e=f.Ga=0;e<d.length;e+=1){var m=d[e].inputs;var r=d[e].output;if(0===a)this.Kb(m,r,f,p,n,null);else if(a===b-1){l=m.slice(1).sort(this.Ka);for(k=0;k<l.length;k+=1)m[k+1]=l[k];do this.Kb(m,r,f,p,n,null);while(this.Ld(m))}else{var u=this.Aa[f.Pa][a-1];var t=
[];for(k=0;k<u.length;k+=1){for(g=0;g<m.length;g+=1)l[g]=m[u[k][g]];this.Kb(l,r,f,p,n,t)&&(q+=1)}}}f.Ia=[];for(e=0;e<c;e+=1)for(f.Ia[e]=[],k=0;k<f.ta;k+=1)f.Ia[e][k]=new Uint32Array(n[e][k].length),f.Ia[e][k].set(n[e][k]);f.ha=new Uint8Array(p.length);f.ha.set(p);f.gb=q};ua.prototype.hc=function(a,b){var c=-1,d=-1,f=-1,e=0,k,g="",l={},p=0,n=0,q=[],m=null,r;this.C=!1;var u=0;for(r=!0;r&&3>u;){var t=b.W();switch(t.toLowerCase()){case "n_states":r=!1;":"===b.l()?b.i()?(c=b.h()|0,2<=c&&256>=c?r=!0:this.N=
"n_states must be from 2 to 256"):this.N="n_states must be numeric":this.N="n_states missing :";break;case "neighborhood":r=!1;if(":"===b.l()){t=b.l();var v=!1;for(k=0;!v&&k<this.ha.length;)t.toLowerCase()===this.ha[k]?(d=k,e=this.ya[k],v=!0,m=new Int32Array(e+1)):k+=1;r=v;v||(this.N="neighborhood invalid")}else this.N="neighborhood missing :";break;case "symmetries":r=!1;if(-1!==d)if(":"===b.l()){t=b.l();v=!1;for(k=0;!v&&k<this.ia[d].length;)t.toLowerCase()===this.ia[d][k]?(f=k,v=!0):k+=1;r=v;v||
(this.N="symmetries invalid")}else this.N="symmetries missing :";else this.N="symmetries must follow neighborhood";break;default:r=!1}u+=1}if(-1===c||-1===d||-1===f)""===this.N&&(this.N=-1===c?"missing n_states":-1===d?"missing neighborhood":"missing symmetries"),r=!1;b.F();t=b.l();for(""!==t&&"@"===t[0]&&(t="");r&&""!==t;){if("var"===t.toLowerCase()){g=b.l();var A=[];"="===b.m()&&b.l();for(r=!0;r&&!b.B();)if(b.i())k=b.h(),0<=k&&k<=c?A[A.length]=k:(r=!1,this.N="out of range value: "+g+"="+k);else{var w=
b.l();if(void 0!==l[w])for(u=0;u<l[w].length;u+=1)A[A.length]=l[w][u];else r=!1,this.N="var unknown assignment: "+g+"="+w}r&&(l[g]=A,p+=1)}else if(10>=c&&0===p&&b.B()){if(A=[],r=!1,t.length===e+1){u=0;for(r=!0;r&&u<e;)w=t.charCodeAt(u),48<=w&&w<48+c?(A[A.length]=[w-48],u+=1):(this.N="expected only digits: "+t,r=!1);r&&(w=t.charCodeAt(u),48<=w&&w<48+c?(n=w-48,q[q.length]={inputs:A,output:n}):(this.N="expected only digits: "+t,r=!1))}}else{r=!1;w=[];w[0]=t;m[0]=b.u(t)?parseInt(t,10):-1;for(u=1;b.$();)u<
e+1?b.i()?(m[u]=b.h(),w[u]=""):(m[u]=-1,w[u]=b.l()):w[u]=b.l(),u+=1;if(w.length===e+1){t=[];for(g in l){for(u=r=0;u<w.length;u+=1)g===w[u]&&(r+=1);1<r&&(t[t.length]=g)}A=[];var z={};for(u=0;u<t.length;u+=1)z[t[u]]=0;for(r=!0;;){for(u=0;u<e;u+=1)if(v=!1,k=m[u],-1!==k)k>=c?(this.N="state out of range: "+k,r=!1):A[u]=[k];else{var D=w[u];if(t.length)for(k=0;!v&&k<t.length;)t[k]===D?v=!0:k+=1;0<t.length&&v?A[u]=[l[D][z[D]]]:void 0!==l[D]?A[u]=l[D]:(this.N="unknown variable: "+D,r=!1)}v=!1;k=m[u];if(-1!==
k)0>k||k>=c?(this.N="output state out of range: "+k,r=!1):n=k;else{D=w[u];if(0<t.length)for(k=0;!v&&k<t.length;)t[k]===D?v=!0:k+=1;0<t.length&&v?n=l[D][z[D]]:void 0!==l[D]?n=l[D]:(this.N="unknown output variable: "+D,r=!1)}q[q.length]={inputs:A.slice(),output:n};for(u=0;u<t.length;u+=1)if(z[t[u]]<l[t[u]].length-1){z[t[u]]+=1;break}else z[t[u]]=0;if(u>=t.length)break}}}b.F();t=b.l();""!==t&&"@"===t[0]&&(b.P(),t="")}r&&(null===a.S&&(a.S=new gb),a.ta=c,a.Pa=d,a.ga=d===Ba.Ag?!0:!1,this.Nd(f,this.ia[d].length,
e,q,a),a.A=a.ta,this.N="",this.$a=!0,this.ij=!1,a.fa=!1,this.Xb(a,a.ta));return r};ua.prototype.Wb=function(a,b,c,d,f,e,k){var g=a.length,l;a[0]=0;for(l=1;l<g;l+=1){var p=2===g?0:(l-1)/(g-2);a[l]=(f*p+b*(1-p)|0)<<16|(e*p+c*(1-p)|0)<<8|k*p+d*(1-p)|0}};ua.prototype.Xb=function(a,b){a.Da=new Uint32Array(b);this.Wb(a.Da,255,0,0,255,255,0)};ua.prototype.de=function(a){return(new RegExp("neighborhood *: *"+this.ha[Ba.Ag])).test(a.source)};ua.prototype.Vc=function(a,b,c,d){4===c?0!==b[a[a[a[a[d]]]]]&&(this.C=
!0):0!==b[a[a[a[a[a[a[a[a[d]]]]]]]]]&&(this.C=!0)};ua.prototype.Ad=function(a,b){var c,d=-1,f=-1,e=-1,k=null,g=0,l=null,p=0,n=null,q=0,m=null,r=0,u=0,t=0;this.C=!1;var v=0;for(c=!0;c&&3>v;){c=b.W();switch(c.toLowerCase()){case "num_states":c=!1;"="===b.l()?b.i()?(d=b.h()|0,2<=d&&256>=d?c=!0:this.N="num_states must be from 2 to 256"):this.N="num_states must be numeric":this.N="num_states missing =";break;case "num_neighbors":c=!1;"="===b.l()?b.i()?(f=b.h()|0,4===f||8===f?c=!0:this.N="num_neighbors must be 4 or 8"):
this.N="num_neighbors must be numeric":this.N="num_neighbors missing =";break;case "num_nodes":c=!1;"="===b.l()?b.i()?(e=b.h()|0,e>=f&&1E8>=e?c=!0:this.N="num_nodes out of range"):this.N="num_nodes must be numeric":this.N="num_nodes missing =";break;default:c=!1}v+=1}if(-1===d||-1===f||-1===e)""===this.N&&(this.N=-1===d?"missing num_states":-1===f?"missing num_neighbors":"missing num_nodes"),c=!1;c&&(k=new Uint32Array(e*d),l=new Uint8Array(e*d),n=new Uint32Array(e),m=new Uint32Array(e));for(b.F();c&&
b.i();){q>e?c=!1:(u=b.h(),t=0,n[q]=1===u?p:g,q+=1,m[r]=u,r+=1);for(;c&&b.i();)v=b.h(),1===u?0>v||v>=d?(this.N="bad state value in tree data: "+v,c=!1):(l[p]=v,p+=1):0>v||v>n.length?(this.N="bad node value in tree data: "+v,c=!1):m[v]!==u-1?(this.N="bad node pointer in tree data: "+u,c=!1):(k[g]=n[v],g+=1),t+=1;c&&t!==d&&(this.N="bad number of values on tree data line",c=!1);b.F()}c&&(g+p!==e*d?(this.N="bad count of values in tree data",c=!1):u!==f+1&&(this.N="bad last node (wrong level)",c=!1));c&&
(null===a.S&&(a.S=new gb),a.eb=f,a.la=d,a.hb=e,a.cb=n[n.length-1],a.ab=k.slice(0,g),a.bb=l.slice(0,p),a.Nb=this.de(b),a.ga=a.Nb,a.A=a.la,this.N="",this.$a=!0,this.ij=!1,a.fa=!1,this.Vc(a.ab,a.bb,a.eb,a.cb),this.Xb(a,a.la));return c};ua.prototype.fc=function(a,b){var c=!1,d=new Na(b,!0);a.U.Za="";a.U.N="";b=d.v("@RULE",-1);if(-1!==b&&!d.B()){a.pb=d.Y();var f=d.v("@TREE",-1);-1!==f?(c=this.Ad(a,d))?a.h=a.pb:(""===a.U.N&&(a.U.N="not valid"),a.U.N="@TREE "+a.U.N):(f=d.v("@TABLE",0),-1!==f?(c=this.hc(a,
d))?a.h=a.pb:(""===a.U.N&&(a.U.N="not valid"),a.U.N="@TABLE "+a.U.N):a.U.N="@TABLE and @TREE not found");f=d.current-1;c&&(c=d.v("@COLORS",0),-1!==c&&(this.bc(a,d),d.current-1>f&&(f=d.current-1)),c=d.v("@ICONS",0),-1!==c&&(this.ld(a,d),d.current-1>f&&(f=d.current-1)),c=d.v("@NAMES",0),-1!==c&&(this.rd(a,d),d.current-1>f&&(f=d.current-1)));""===a.U.N&&(a.U.Za=d.Z(b,f))}};ua.prototype.Tc=function(a){var b=a.h.toLowerCase().lastIndexOf("super");-1===b&&(a.h+="Super");""!==a.P&&(b=a.P.toLowerCase().lastIndexOf("super"),
-1===b&&(a.P+="Super"))};ua.prototype.hd=function(a){var b=!1,c=a.ra.indexOf("@RULE"),d=a.h;var f=d.indexOf(":");a.Ta=this.N;-1!==f&&(this.ac(a,d.substring(f+1)),d=d.substring(0,f));for(;-1!==c&&!b;){f=a.ra.indexOf("@RULE",c+1);var e=-1===f?a.ra.substring(c):a.ra.substring(c,f);this.fc(a,e);-1===a.la&&null===a.ha||d!==a.pb?(c=f,a.la=-1,a.ha=null):b=!0}return b};ua.prototype.create=function(a,b,c,d,f,e,k){a=new kb(a,this);this.$a=this.ij=this.Ia=this.ba=this.C=this.Na=!1;this.N="";this.h=0;this.lb=
!1;this.Fb=0;this.Ga=!1;this.Wa=this.Va=0;this.ea=this.fa=-999999;this.$=!1;if("!"===b.charAt(0)||"O"===b.charAt(0)||"."===b.charAt(0)||"*"===b.charAt(0)||"o"===b.charAt(0))this.fd(a,b,c),this.$a=!0;null===a.T&&(this.$a=!1,"#Life 1.05"===b.substring(0,10)?this.Zb(a,b,!0,c):"#Life 1.06"===b.substring(0,10)?(this.ed(a,b,c),this.$a=!0):"#"===b[0]||"x"===b[0]?(this.ec(a,b,c),null!==a.T||a.ua||a.qa||(this.Zb(a,b,!1,c),this.ij=!1,a.ca=null,a.F=!1,a.B=!1,a.O=!1,a.A=2,a.Ma=0)):(this.ec(a,b,c),a.qa&&(a=null)));
a&&a.ua&&(this.N="Pattern too big",this.Ia=a.qa=!0,this.$a=!1);a&&(-1!==a.l?(b=a.h.lastIndexOf(":"),a.Qa=a.h.substring(b),a.h=a.h.substring(0,b)):a.Qa="");a&&a.Ca&&a.m===this.u&&50<a.u&&(this.N="HROT 'R' > 50",this.$a=!1);a&&null===a.T&&""===this.N&&(this.N="Invalid pattern",a=null,this.$a=!1);a&&a.qa&&!a.ua&&(this.$a=!1);a&&(!a.La||a.F||a.O||this.Tc(a),""!==a.s&&"\n"!==a.s[a.s.length-1]&&(a.s+="\n"),""!==a.ra&&"\n"!==a.ra[a.ra.length-1]&&(a.ra+="\n"),""!==this.N&&(a.ga||a.o)&&null===a.h.match(/[0-9]/)&&
(a.ga=!1,a.o=!1),""===a.title&&(a.title=a.Ob.join(" "),a.ra=0<a.ib.length?a.ib.join("\n")+"\n":"",a.s=0<a.lb.length?a.lb.join("\n")+"\n":"",a.Ob=[],a.ib=[],a.lb=[]),""===this.N||this.Ia||this.ba||""===a.h||(-1!==a.h.indexOf("|")&&"Only one alternate allowed"!==this.N?this.N="Alternating RuleLoader rules are not supported":(a.Ta=this.N,a.Ea=a.h,-1!==a.l?(b=a.h.lastIndexOf(":"),-1!==b&&(a.Qa=a.h.substring(b),a.h=a.h.substring(0,b))):a.Qa="",a.ea=!1,a.ja=!1,a.fa=!1,a.F=!1,a.B=!1,a.O=!1,a.La=!1,a.ga=
!1,a.o=!1,a.pa=-1,a.ka=!1,a.Y=!1,a.YA=a.Ca,a.Ca=!1,this.hd(a)||Xa.oz(a),-1===a.la&&null===a.ha||this.va?this.Hd(a,d,f,e,k):(d=null===a.ha?a.la:a.ta,a.A=d,this.N="",this.$a=!0,this.ij=!1,a.fa=!1))));return a};ua.prototype.Fd=function(a){var b=a.indexOf("@RULE");if(-1===b)a="";else{var c=a.indexOf("\x3c!--",b);a=-1===c?0===b?a:a.substring(b):a.substring(b,c);a=a.replace(/<li>/g,"# ");a=a.replace(/<[^<]*>/g,"")}return a};ua.prototype.Gd=function(a,b,c){if(4===b.readyState)if(200===b.status){b=a.Fd(b.responseText);
var d=performance.now()-this.time;this.time=performance.now();if(""===b)c.U.N="@RULE not found",Xa.Iq(c);else{a.fc(c,b);var f=performance.now()-this.time;-1!==c.la||null!==c.ha?Xa.add(c,d,f,b.length,a.Za,a.C):Xa.Iq(c)}}else c.Ta+="\n\nRepository lookup failed with status "+b.status,Xa.Iq(c)};ua.prototype.Cd=function(a){Xa.Iq(a)};ua.prototype.Hd=function(a,b,c,d,f){var e=this,k=null,g=a.h,l="";g=g.replace(/ /g,"_");l="/wiki/Rule:"+g;this.time=performance.now();this.Na=!0;f?a.S=f.g.S:a.S=null;Xa.SC(a,
b,c,d,f)||(k=new XMLHttpRequest,""!==Ca.Hv&&(l=Ca.Hv+g+Ca.wA),Ia(k,"load",function(){e.Gd(e,k,a)},!1),Ia(k,"error",function(){e.Cd(a)},!1),k.open("GET",l,!0),k.send(null))};var eb={Ps:[48,48,48,0,255,127,127,0,255,148,148,148,128,255,0,255,0,128,0,128,255,1,159,0,159,0,1,255,254,96,0,1,159,96,255,254,254,96,255,126,125,21,21,126,125,125,21,126,255,116,116,116,255,116,116,116,255,228,227,0,28,255,27,255,27,28,0,228,227,227,0,228,27,28,255,59,59,59,234,195,176,175,196,255,171,194,68,194,68,171,68,171,
194,72,184,71,184,71,72,71,72,184,169,255,188,252,179,63,63,252,179,179,63,252,80,9,0,0,80,9,9,0,80,255,175,250,199,134,213,115,100,95,188,163,0,0,188,163,163,0,188,203,73,0,0,203,73,73,0,203,94,189,0,189,0,94,0,94,189,187,243,119,55,125,32,125,32,55,32,55,125,255,102,185,102,185,255,120,209,168,208,166,119,135,96,192,182,255,41,83,153,130,247,88,55,89,247,55,88,55,247,87,75,0,0,87,75,75,0,87,200,135,59,51,213,127,255,255,162,255,37,182,37,182,255,228,57,117,142,163,210,57,117,228,193,255,246,188,
107,123,123,194,107,145,59,5,5,145,59,59,5,145,119,39,198,40,197,23,197,23,40,23,40,197,178,199,158,255,201,121,134,223,223,39,253,84,149,203,15,203,15,149,15,149,203,152,144,90,143,75,139,71,97,132,224,65,219,65,219,224,255,255,40,218,223,69,74,241,0,241,0,74,0,74,241,122,171,51,220,211,227,61,127,87,90,124,176,36,39,13,165,142,255,255,38,255,38,255,255,83,50,107,224,142,165,255,181,9,9,255,181,181,9,255,140,238,70,255,74,5,74,5,255,138,84,51,31,172,101,177,115,17,221,0,0,0,221,0,0,0,221,220,255,
200,0,41,50,255,150,205,178,45,116,113,255,189,47,0,44,40,119,171,205,107,255,177,115,172,133,73,236,109,0,168,168,46,207,188,181,203,212,188,35,90,97,52,39,209,184,41,164,152,227,46,70,46,70,227,211,156,255,98,146,222,136,56,95,102,54,152,86,142,0,142,0,86,0,86,142,86,223,96,246,135,46,4,208,120,212,233,158,177,92,214,104,147,88,149,240,147,227,93,148,72,255,133,209,27,194,147,255,255,44,93,0,160,36,158,182,233,0,96,94,217,218,103,88,163,154,38,118,114,139,94,0,43,113,164,174,168,188,114,0,23,119,
42,86,93,255,226,202,80,191,155,255,158,136,0,247,62,234,146,88,0,183,229,110,212,36,0,143,161,105,191,210,133,164,0,41,30,89,164,0,132,30,89,42,178,222,217,121,22,11,221,107,22,69,151,255,45,158,3,158,3,45,3,45,158,86,42,29,9,122,22,213,209,110,53,221,57,159,101,91,93,140,45,247,213,37,185,34,0,0,185,34,34,0,185,236,0,172,210,180,78,231,107,221,162,49,43,43,162,49,49,43,162,36,248,213,114,0,214,213,36,248,149,34,243,185,158,167,144,122,224,34,245,149,255,31,98,31,98,255,152,200,193,255,80,95,128,
123,63,102,62,72,255,62,148,151,226,108,159,99,255,226,255,126,98,223,136,80,95,255,225,153,15,73,41,211,212,71,41,83,217,187,180,235,79,0,166,127,251,135,243,229,41,0,41,0,229,82,255,216,141,174,249,249,215,255,167,31,79,31,79,167,213,102,185,255,215,83,4,2,40,224,171,220,41,0,4,6,50,90,221,15,113,15,113,221,33,0,115,108,23,90,182,215,36],Os:[],Qe:{aliceblue:["AliceBlue",240,248,255],antiquewhite:["AntiqueWhite",250,235,215],aqua:["Aqua",0,255,255],aquamarine:["Aquamarine",127,255,212],azure:["Azure",
240,255,255],beige:["Beige",245,245,220],bisque:["Bisque",255,228,196],black:["Black",0,0,0],blanchedalmond:["BlanchedAlmond",255,235,205],blue:["Blue",0,0,255],blueviolet:["BlueViolet",138,43,226],brown:["Brown",165,42,42],burlywood:["BurlyWood",222,184,135],cadetblue:["CadetBlue",95,158,160],chartreuse:["Chartreuse",127,255,0],chocolate:["Chocolate",210,105,30],coral:["Coral",255,127,80],cornflowerblue:["CornflowerBlue",100,149,237],cornsilk:["Cornsilk",255,248,220],crimson:["Crimson",220,20,60],
cyan:["Cyan",0,255,255],darkblue:["DarkBlue",0,0,139],darkcyan:["DarkCyan",0,139,139],darkgoldenrod:["DarkGoldenRod",184,134,11],darkgray:["DarkGray",169,169,169],darkgreen:["DarkGreen",0,100,0],darkkhaki:["DarkKhaki",189,183,107],darkmagenta:["DarkMagenta",139,0,139],darkolivegreen:["DarkOliveGreen",85,107,47],darkorange:["DarkOrange",255,140,0],darkorchid:["DarkOrchid",153,50,204],darkred:["DarkRed",139,0,0],darksalmon:["DarkSalmon",233,150,122],darkseagreen:["DarkSeaGreen",143,188,143],darkslateblue:["DarkSlateBlue",
72,61,139],darkslategray:["DarkSlateGray",47,79,79],darkturquoise:["DarkTurquoise",0,206,209],darkviolet:["DarkViolet",148,0,211],deeppink:["DeepPink",255,20,147],deepskyblue:["DeepSkyBlue",0,191,255],dimgray:["DimGray",105,105,105],dodgerblue:["DodgerBlue",30,144,255],firebrick:["FireBrick",178,34,34],floralwhite:["FloralWhite",255,250,240],forestgreen:["ForestGreen",34,139,34],fuchsia:["Fuchsia",255,0,255],gainsboro:["Gainsboro",220,220,220],ghostwhite:["GhostWhite",248,248,255],gold:["Gold",255,
215,0],goldenrod:["GoldenRod",218,165,32],gray:["Gray",128,128,128],green:["Green",0,128,0],greenyellow:["GreenYellow",173,255,47],honeydew:["HoneyDew",240,255,240],hotpink:["HotPink",255,105,180],indianred:["IndianRed",205,92,92],indigo:["Indigo",75,0,130],ivory:["Ivory",255,255,240],khaki:["Khaki",240,230,140],lavender:["Lavender",230,230,250],lavenderblush:["LavenderBlush",255,240,245],lawngreen:["LawnGreen",124,252,0],lemonchiffon:["LemonChiffon",255,250,205],lightblue:["LightBlue",173,216,230],
lightcoral:["LightCoral",240,128,128],lightcyan:["LightCyan",224,255,255],lightgoldenrodyellow:["LightGoldenRodYellow",250,250,210],lightgray:["LightGray",211,211,211],lightgreen:["LightGreen",144,238,144],lightpink:["LightPink",255,182,193],lightsalmon:["LightSalmon",255,160,122],lightseagreen:["LightSeaGreen",32,178,170],lightskyblue:["LightSkyBlue",135,206,250],lightslategray:["LightSlateGray",119,136,153],lightsteelblue:["LightSteelBlue",176,196,222],lightyellow:["LightYellow",255,255,224],lime:["Lime",
0,255,0],limegreen:["LimeGreen",50,205,50],linen:["Linen",250,240,230],magenta:["Magenta",255,0,255],maroon:["Maroon",128,0,0],mediumaquamarine:["MediumAquaMarine",102,205,170],mediumblue:["MediumBlue",0,0,205],mediumorchid:["MediumOrchid",186,85,211],mediumpurple:["MediumPurple",147,112,219],mediumseagreen:["MediumSeaGreen",60,179,113],mediumslateblue:["MediumSlateBlue",123,104,238],mediumspringgreen:["MediumSpringGreen",0,250,154],mediumturquoise:["MediumTurquoise",72,209,204],mediumvioletred:["MediumVioletRed",
199,21,133],midnightblue:["MidnightBlue",25,25,112],mintcream:["MintCream",245,255,250],mistyrose:["MistyRose",255,228,225],moccasin:["Moccasin",255,228,181],navajowhite:["NavajoWhite",255,222,173],navy:["Navy",0,0,128],oldlace:["OldLace",253,245,230],olive:["Olive",128,128,0],olivedrab:["OliveDrab",107,142,35],orange:["Orange",255,165,0],orangered:["OrangeRed",255,69,0],orchid:["Orchid",218,112,214],palegoldenrod:["PaleGoldenRod",238,232,170],palegreen:["PaleGreen",152,251,152],paleturquoise:["PaleTurquoise",
175,238,238],palevioletred:["PaleVioletRed",219,112,147],papayawhip:["PapayaWhip",255,239,213],peachpuff:["PeachPuff",255,218,185],peru:["Peru",205,133,63],pink:["Pink",255,192,203],plum:["Plum",221,160,221],powderblue:["PowderBlue",176,224,230],purple:["Purple",128,0,128],rebeccapurple:["RebeccaPurple",102,51,153],red:["Red",255,0,0],rosybrown:["RosyBrown",188,143,143],royalblue:["RoyalBlue",65,105,225],saddlebrown:["SaddleBrown",139,69,19],salmon:["Salmon",250,128,114],sandybrown:["SandyBrown",
244,164,96],seagreen:["SeaGreen",46,139,87],seashell:["SeaShell",255,245,238],sienna:["Sienna",160,82,45],silver:["Silver",192,192,192],skyblue:["SkyBlue",135,206,235],slateblue:["SlateBlue",106,90,205],slategray:["SlateGray",112,128,144],snow:["Snow",255,250,250],springgreen:["SpringGreen",0,255,127],steelblue:["SteelBlue",70,130,180],tan:["Tan",210,180,140],teal:["Teal",0,128,128],thistle:["Thistle",216,191,216],tomato:["Tomato",255,99,71],turquoise:["Turquoise",64,224,208],violet:["Violet",238,
130,238],wheat:["Wheat",245,222,179],white:["White",255,255,255],whitesmoke:["WhiteSmoke",245,245,245],yellow:["Yellow",255,255,0],yellowgreen:["YellowGreen",154,205,50]},eH:function(){return this.Os},re:function(){var a,b;if(!this.nE)for(this.nE=!0,a=b=0;256>a;a+=1)eb.Os[a]=eb.Ps[b]<<16|eb.Ps[b+1]<<8|eb.Ps[b+2],b+=3}};Sa.prototype.set=function(a){this.H=a.H;this.I=a.I;this.J=a.J;this.L=a.L};Sa.prototype.h=function(a){a.H<this.H&&(this.H=a.H);a.J>this.J&&(this.J=a.J);a.I<this.I&&(this.I=a.I);a.L>
this.L&&(this.L=a.L)};sb.prototype.V=function(a,b){var c=b.length,d=b[0].length,f,e,k=0,g,l,p=0,n=this.O,q=0,m=n[q],r=m.length;a=Array.ae(ra.Ha,a,"Snapshot.input16");Array.vg(this.l,b);for(f=0;f<c;f+=1){var u=this.l[f];for(b=l=0;b<d;b+=1)if(g=u[b])for(e=15;0<=e;--e){if(0!==(g&1<<e)){var t=p;var v=l;var A=m[k];k+=1;a[t][v]=A>>16;a[t+1][v]=A&65535;t+=2;A=m[k];k+=1;a[t][v]=A>>16;a[t+1][v]=A&65535;t+=2;A=m[k];k+=1;a[t][v]=A>>16;a[t+1][v]=A&65535;t+=2;A=m[k];k+=1;a[t][v]=A>>16;a[t+1][v]=A&65535;t+=2;A=
m[k];k+=1;a[t][v]=A>>16;a[t+1][v]=A&65535;t+=2;A=m[k];k+=1;a[t][v]=A>>16;a[t+1][v]=A&65535;t+=2;A=m[k];k+=1;a[t][v]=A>>16;a[t+1][v]=A&65535;t+=2;A=m[k];k+=1;a[t][v]=A>>16;a[t+1][v]=A&65535;k>=r&&(q+=1,m=n[q],k=0)}l+=1}else l+=16;p+=16}};sb.prototype.W=function(a,b){var c=b.length,d=b[0].length,f,e=0,k;var g=0;var l,p=0,n=this.O,q=0,m=n[q],r=m.length,u=n.length;var t=this.U.M;var v=Array.ae(ra.Ha,a,"Snapshot.input16");Array.vg(b,this.l);for(f=0;f<c;f+=1){var A=b[f];for(a=0;a<d;a+=1)(k=A[a])&&(g+=t[k])}if(g)for(f=
0;f<c;f+=1){A=b[f];for(a=l=0;a<d;a+=1)if(k=A[a])for(g=15;0<=g;--g){if(0!==(k&1<<g)){var w=p;t=l;m[e]=v[w][t]<<16|v[w+1][t];e+=1;w+=2;m[e]=v[w][t]<<16|v[w+1][t];e+=1;w+=2;m[e]=v[w][t]<<16|v[w+1][t];e+=1;w+=2;m[e]=v[w][t]<<16|v[w+1][t];e+=1;w+=2;m[e]=v[w][t]<<16|v[w+1][t];e+=1;w+=2;m[e]=v[w][t]<<16|v[w+1][t];e+=1;w+=2;m[e]=v[w][t]<<16|v[w+1][t];e+=1;w+=2;m[e]=v[w][t]<<16|v[w+1][t];e+=1;e>=r&&(q+=1,e=0,q>=u&&(Array.No(n,"Snapshot.gridBufferRow"),u+=1));m=n[q]}l+=1}else l+=16;p+=16}};sb.prototype.P=function(a,
b,c){var d=b.length,f=b[0].length,e,k,g=0,l,p,n=0,q=0,m=c[q],r=m.length,u=Array.ae(ra.kc,a,"Snapshot.input32");Array.vg(this.m,b);for(e=0;e<d;e+=1){var t=b[e];for(a=p=0;a<f;a+=1)if(l=t[a])for(k=15;0<=k;--k){if(0!==(l&1<<k)){var v=p;var A=n;var w=u[A];w[v]=m[g];g+=1;w[v+1]=m[g];g+=1;w[v+2]=m[g];g+=1;w[v+3]=m[g];g+=1;A+=1;w=u[A];w[v]=m[g];g+=1;w[v+1]=m[g];g+=1;w[v+2]=m[g];g+=1;w[v+3]=m[g];g+=1;A+=1;w=u[A];w[v]=m[g];g+=1;w[v+1]=m[g];g+=1;w[v+2]=m[g];g+=1;w[v+3]=m[g];g+=1;A+=1;w=u[A];w[v]=m[g];g+=1;w[v+
1]=m[g];g+=1;w[v+2]=m[g];g+=1;w[v+3]=m[g];g+=1;A+=1;w=u[A];w[v]=m[g];g+=1;w[v+1]=m[g];g+=1;w[v+2]=m[g];g+=1;w[v+3]=m[g];g+=1;A+=1;w=u[A];w[v]=m[g];g+=1;w[v+1]=m[g];g+=1;w[v+2]=m[g];g+=1;w[v+3]=m[g];g+=1;A+=1;w=u[A];w[v]=m[g];g+=1;w[v+1]=m[g];g+=1;w[v+2]=m[g];g+=1;w[v+3]=m[g];g+=1;A+=1;w=u[A];w[v]=m[g];g+=1;w[v+1]=m[g];g+=1;w[v+2]=m[g];g+=1;w[v+3]=m[g];g+=1;A+=1;w=u[A];w[v]=m[g];g+=1;w[v+1]=m[g];g+=1;w[v+2]=m[g];g+=1;w[v+3]=m[g];g+=1;A+=1;w=u[A];w[v]=m[g];g+=1;w[v+1]=m[g];g+=1;w[v+2]=m[g];g+=1;w[v+
3]=m[g];g+=1;A+=1;w=u[A];w[v]=m[g];g+=1;w[v+1]=m[g];g+=1;w[v+2]=m[g];g+=1;w[v+3]=m[g];g+=1;A+=1;w=u[A];w[v]=m[g];g+=1;w[v+1]=m[g];g+=1;w[v+2]=m[g];g+=1;w[v+3]=m[g];g+=1;A+=1;w=u[A];w[v]=m[g];g+=1;w[v+1]=m[g];g+=1;w[v+2]=m[g];g+=1;w[v+3]=m[g];g+=1;A+=1;w=u[A];w[v]=m[g];g+=1;w[v+1]=m[g];g+=1;w[v+2]=m[g];g+=1;w[v+3]=m[g];g+=1;A+=1;w=u[A];w[v]=m[g];g+=1;w[v+1]=m[g];g+=1;w[v+2]=m[g];g+=1;w[v+3]=m[g];g+=1;A+=1;w=u[A];w[v]=m[g];g+=1;w[v+1]=m[g];g+=1;w[v+2]=m[g];g+=1;w[v+3]=m[g];g+=1;g>=r&&(q+=1,m=c[q],g=
0)}p+=4}else p+=64;n+=16}};sb.prototype.T=function(a,b,c,d){var f=b.length,e=b[0].length,k,g=0,l;var p=0;var n,q=0,m=0,r=c[m],u=r.length,t=c.length;var v=this.U.M;a=Array.ae(ra.kc,a,"Snapshot.input32");Array.vg(b,d);for(k=0;k<f;k+=1){var A=b[k];for(d=0;d<e;d+=1)(l=A[d])&&(p+=v[l])}if(p)for(k=0;k<f;k+=1){A=b[k];for(d=n=0;d<e;d+=1)if(l=A[d])for(p=15;0<=p;--p){if(0!==(l&1<<p)){v=n;var w=q;var z=a[w];r[g]=z[v];g+=1;r[g]=z[v+1];g+=1;r[g]=z[v+2];g+=1;r[g]=z[v+3];g+=1;w+=1;z=a[w];r[g]=z[v];g+=1;r[g]=z[v+
1];g+=1;r[g]=z[v+2];g+=1;r[g]=z[v+3];g+=1;w+=1;z=a[w];r[g]=z[v];g+=1;r[g]=z[v+1];g+=1;r[g]=z[v+2];g+=1;r[g]=z[v+3];g+=1;w+=1;z=a[w];r[g]=z[v];g+=1;r[g]=z[v+1];g+=1;r[g]=z[v+2];g+=1;r[g]=z[v+3];g+=1;w+=1;z=a[w];r[g]=z[v];g+=1;r[g]=z[v+1];g+=1;r[g]=z[v+2];g+=1;r[g]=z[v+3];g+=1;w+=1;z=a[w];r[g]=z[v];g+=1;r[g]=z[v+1];g+=1;r[g]=z[v+2];g+=1;r[g]=z[v+3];g+=1;w+=1;z=a[w];r[g]=z[v];g+=1;r[g]=z[v+1];g+=1;r[g]=z[v+2];g+=1;r[g]=z[v+3];g+=1;w+=1;z=a[w];r[g]=z[v];g+=1;r[g]=z[v+1];g+=1;r[g]=z[v+2];g+=1;r[g]=z[v+
3];g+=1;w+=1;z=a[w];r[g]=z[v];g+=1;r[g]=z[v+1];g+=1;r[g]=z[v+2];g+=1;r[g]=z[v+3];g+=1;w+=1;z=a[w];r[g]=z[v];g+=1;r[g]=z[v+1];g+=1;r[g]=z[v+2];g+=1;r[g]=z[v+3];g+=1;w+=1;z=a[w];r[g]=z[v];g+=1;r[g]=z[v+1];g+=1;r[g]=z[v+2];g+=1;r[g]=z[v+3];g+=1;w+=1;z=a[w];r[g]=z[v];g+=1;r[g]=z[v+1];g+=1;r[g]=z[v+2];g+=1;r[g]=z[v+3];g+=1;w+=1;z=a[w];r[g]=z[v];g+=1;r[g]=z[v+1];g+=1;r[g]=z[v+2];g+=1;r[g]=z[v+3];g+=1;w+=1;z=a[w];r[g]=z[v];g+=1;r[g]=z[v+1];g+=1;r[g]=z[v+2];g+=1;r[g]=z[v+3];g+=1;w+=1;z=a[w];r[g]=z[v];g+=
1;r[g]=z[v+1];g+=1;r[g]=z[v+2];g+=1;r[g]=z[v+3];g+=1;w+=1;z=a[w];r[g]=z[v];g+=1;r[g]=z[v+1];g+=1;r[g]=z[v+2];g+=1;r[g]=z[v+3];g+=1;g>=u&&(m+=1,g=0,m>=t&&(Array.No(c,"Snapshot.colourGridBufferRow"),t+=1),r=c[m])}n+=4}else n+=64;q+=16}};db.prototype.V=function(){for(var a=0,b=0;b<this.l.length;)a+=this.s[b].length*this.s[b][0].length*2,a+=this.m[b].length*this.m[b][0].length*2,a+=this.B[b].length*this.B[b][0].length*4,a+=this.A[b].length*this.A[b][0].length*4,this.u[b]&&(a+=this.o[b].length*this.o[b][0].length*
2,a+=this.u[b].length*this.u[b][0].length*4),b+=1;return a};db.prototype.Z=function(){for(var a=0,b=0;b<this.l.length;)this.l[b]&&(a+=1),b+=1;return a};db.prototype.reset=function(){this.h=[];this.l=[];this.C=0;this.i=-1};db.prototype.Y=function(a){var b=null;if(0<this.h.length)for(b=this.h[this.i];b&&b.counter>a;)b=null,0<this.i&&(this.O(this.h[this.i].s),this.h.pop(),--this.i,0<=this.i&&(b=this.h[this.i]));return b};db.prototype.W=function(a,b,c,d,f,e,k,g,l,p,n,q,m,r,u,t,v,A,w){A=null!==f;if(w)t=
this.v;else if(51>this.h.length)t=this.K(t,v,!1,A),this.i+=1;else{this.i+=1;if(51<=this.i){this.i=50;this.O(this.h[0].s);for(w=0;50>w;w+=1)this.h[w]=this.h[w+1];this.h.pop();this.K(t,v,!1,A)}t=this.h[this.i]}t.W(a,b);t.T(c,d,t.K,t.m);A&&t.T(f,e,t.u,t.o);t.i.H=k.H;t.i.J=k.J;t.i.I=k.I;t.i.L=k.L;t.h.H=g.H;t.h.J=g.J;t.h.I=g.I;t.h.L=g.L;t.F=l;t.v=p;t.B=n;t.counter=q;t.M=m;t.A=r;t.C=u};db.prototype.O=function(a){this.l[a]=!1};db.prototype.X=function(a,b,c){for(var d=0,f=!1;d<this.C&&!f;)this.l[d]?d+=1:
f=!0;f?(a=d,this.l[d]=!0):(this.s[d]=Array.matrix(ra.Ha,b,a,0,this.S,"Snapshot.tileGrid"+d),this.m[d]=Array.matrix(ra.Ha,b,a,0,this.S,"Snapshot.colourTileGrid"+d),this.B[d]=Array.matrix(ra.kc,1,1024,0,this.S,"Snapshot.gridBuffer"+d),this.A[d]=Array.matrix(ra.kc,1,8192,0,this.S,"Snapshot.colourGridBuffer"+d),c&&(this.o[d]=Array.matrix(ra.Ha,b,a,0,this.S,"Snapshot.overlayTileGrid"+d),this.u[d]=Array.matrix(ra.kc,1,8192,0,this.S,"Snapshot.overlayGridBuffer"+d)),this.l[d]=!0,this.C+=1,a=d);return a};
db.prototype.K=function(a,b,c,d){a=this.X(a,b,d);c?this.v=c=new sb(this,a,d):(c=new sb(this,a,d),this.h[this.h.length]=c);return c};db.prototype.F=function(a,b,c){a.set(b,c)};db.prototype.P=function(a,b,c,d,f,e,k,g){var l=a.l,p=a.m,n=a.o,q=a.l.length,m=0,r=a.s;this.s[r]=Array.matrix(ra.Ha,c,b,0,this.S,"Snapshot.tileGrid"+r);this.m[r]=Array.matrix(ra.Ha,c,b,0,this.S,"Snapshot.colourTileGrid"+r);g&&(this.o[r]=Array.matrix(ra.Ha,c,b,0,this.S,"Snapshot.overlayTileGrid"+r));a.l=this.s[r];a.m=this.m[r];
g&&(a.o=this.o[r]);if(0<d||0<f)for(;m<q;)this.F(a.l[m+f],l[m],d),this.F(a.m[m+f],p[m],d),g&&this.F(a.o[m+f],n[m],d),m+=1;a.i.H+=e;a.i.J+=e;a.i.I+=k;a.i.L+=k;a.h.H+=e;a.h.J+=e;a.h.I+=k;a.h.L+=k};db.prototype.T=function(a,b,c,d,f,e,k){var g;this.v&&this.P(this.v,a,b,c,d,f,e,k);var l=0;for(g=this.h.length;l<g;)this.P(this.h[l],a,b,c,d,f,e,k),l+=1;for(l=0;l<this.l.length;)this.l[l]||(this.s[l]=Array.matrix(ra.Ha,b,a,0,this.S,"Snapshot.tileGrid"+l),this.m[l]=Array.matrix(ra.Ha,b,a,0,this.S,"Snapshot.colourTileGrid"+
l),k&&(this.o[l]=Array.matrix(ra.Ha,b,a,0,this.S,"Snapshot.overlayTileGrid"+l))),l+=1};Ea.prototype.lb=function(a){this.O.re(a);this.W=this.S.h(ra.$c,this.B.length,"HROT.birthChances");for(a=0;a<this.B.length;a+=1)this.W[a]=-1>=this.ha?this.O.random():(100-this.ha)/100;this.T=this.S.h(ra.$c,this.v.length,"HROT.suvivalChances");for(a=0;a<this.v.length;a+=1)this.T[a]=-1>=this.ia?this.O.random():(100-this.ia)/100;this.M=this.S.h(ra.$c,this.v.length,"HROT.immunityChances");for(a=0;a<this.v.length;a+=
1)this.M[a]=-1===this.Y?1:-2===this.Y?this.O.random():(100-this.Y)/100;this.W.fill(this.W[0]);this.T.fill(this.T[0]);this.M.fill(this.M[0])};Ea.prototype.resize=function(a,b){this.h=Array.matrix(ra.Id,b,a,0,this.S,"HROT.counts");this.ma=this.S.h(ra.Ra,a,"HROT.colUsed")};Ea.prototype.mb=function(a,b,c,d,f,e,k,g,l){var p=2*b+1,n=p-1,q=b*b,m=q+b,r,u=c.length>>1;this.type=a;this.l=b;this.o=f&&10!==a&&15!==a?b+b:b;this.F=this.S.h(ra.kc,p,"HROT.widths");this.K=c;this.ka=d;this.C=f;this.Z=g;this.$=l;if(e)for(this.s=
this.S.h(ra.Fp,e.length,"HROT.weightedNeighbourhood"),d=0;d<e.length;d+=1)this.s[d]=e[d];else this.s=null;if(k)for(this.A=this.S.h(ra.Ra,k.length,"HROT.weightedStates"),d=0;d<k.length;d+=1)this.A[d]=k[d];else this.A=null;switch(a){case this.U.i:for(d=0;d<p;d+=1)this.F[d]=b;break;case this.U.m:for(d=0;d<b;d+=1)this.F[d]=d,this.F[p-d-1]=d;this.F[d]=b;break;case this.U.X:for(d=-b;d<=b;d+=1){for(a=0;(a+1)*(a+1)+d*d<=m;)a+=1;this.F[d+b]=a}break;case this.U.Y:for(d=-b;d<=b;d+=1){for(a=0;(a+1)*(a+1)+d*d<=
q;)a+=1;this.F[d+b]=a}break;case 10:this.Nl=Array.matrix(ra.Ra,p,p,0,this.S,"HROT.neighbourhood");q=new Uint16Array(p);k=r=f=d=m=e=0;for(g=this.Nl[n-m];m<p;)for(a="0123456789abcdef".indexOf(c[e]),e===u&&(g[n-d]=1,d+=1,f+=1,r+=1),e+=1,l=3;0<=l;--l)0!==(a&1<<l)&&(g[n-d]=1,f+=1,r+=1),d+=1,d===p&&(q[n-k]=r,r=0,k+=1,d=0,m+=1,m<p&&(g=this.Nl[n-m]));c=new Uint32Array(f);for(m=f=0;m<p;m+=1)for(g=this.Nl[m],d=0;d<p;d+=1)0<g[d]&&(c[f]=m<<16|d,f+=1);for(d=p=0;d<q.length;d+=1)0<q[d]&&(p+=q[d]+2);this.fa=this.S.h(ra.Mo,
p,"HROT.neighbourList");for(d=f=e=0;d<q.length;d+=1)if(0<q[d]){k=c[e];this.fa[f]=b-(k>>16);this.fa[f+1]=q[d];f+=2;for(m=0;m<q[d];m+=1)this.fa[f+m]=b-(c[e]&65535),e+=1;f+=q[d]}}};Ea.prototype.i=function(a,b,c){return 0>a||0>a+b||b-a>=this.m?0:0>b&&a+b<this.u?this.h[a+b][0]:b>=this.m&&b-a>=this.m-this.u?this.h[a+this.m-1-b][this.m-1]:a<this.u?c[b]:a-this.u+1+b<=this.ea?this.h[this.u-1][a-this.u+1+b]:b-(a-this.u+1)>=this.ea?this.h[this.u-1][b-(a-this.u+1)]:this.h[this.u-1][this.ea+(a+b+this.u+this.ea+
1)%2]};Ea.prototype.da=function(a,b,c,d,f){a.set(b.slice(c,d),f)};Ea.prototype.qa=function(a,b,c,d){var f=this.g.m,e=this.o,k=this.l,g;for(g=0;g<k;g+=1){var l=f[b+g];var p=f[d+g+1];this.da(p,l,a,c+1,a)}for(g=0;g<k;g+=1)l=f[d-g],p=f[b-g-1],this.da(p,l,a,c+1,a);for(g=b;g<=d;g+=1)l=f[g],l.copyWithin(c+1,a,a+e+1),l.copyWithin(a-e-1,c-e,c+1);for(g=0;g<k;g+=1)l=f[b+g],p=f[d+g+1],this.da(p,l,a,a+e+1,c+1),this.da(p,l,c-e,c+1,a-e-1);for(g=0;g<k;g+=1)l=f[d-g],p=f[b-g-1],this.da(p,l,a,a+e+1,c+1),this.da(p,l,
c-e,c+1,a-e-1)};Ea.prototype.la=function(a,b,c,d){var f=this.g.m,e=this.o,k=this.l,g;for(g=0;g<k;g+=1)f[d+g+1].fill(0,a,c+1);for(g=0;g<k;g+=1)f[b-g-1].fill(0,a,c+1);for(g=b;g<=d;g+=1){var l=f[g];l.fill(0,c+1,c+e+2);l.fill(0,a-e-1,a)}for(g=0;g<k;g+=1)l=f[d+g+1],l.fill(0,c+1,c+e+2),l.fill(0,a-e-1,a);for(g=0;g<k;g+=1)l=f[b-g-1],l.fill(0,c+1,c+e+2),l.fill(0,a-e-1,a)};Ea.prototype.vb=function(a,b,c,d,f){var e,k,g=this.g.m,l=this.g.B,p=this.g.width,n=0,q=this.g.height,m=0,r=p,u=n,t=q,v=m,A=this.g.v,w=this.g.na,
z=this.o,D=this.l,F=f?this.ba:this.B,L=f?this.ca:this.v,O=this.h;var N=this.X-1;var V=I.Ya,W=I.Ih,H=this.g.Hf,P=this.O,R=this.W,T=this.T,Z=this.M;var oa=this.g.h+this.g.u-1;var ha=this.g.u,ba=0<this.g.u?1:0;var ia=e=f=0;if(1===N)for(N=b-D;N<=d+D;N+=1){var ma=g[N];var fa=O[N];var U=l[N>>4];var ka=k=!1;for(b=a-z;b<=c+z;b+=1){var ca=ma[b];var aa=fa[b];oa=0;ca<V?0<=aa&&1===F[aa]&&P.random()>=R[aa]&&(e+=1,oa=128):0<=aa&&0===L[aa]?P.random()>=Z[aa]?oa=128:ia+=1:P.random()>=T[aa]?oa=128:ia+=1;ca=H[ca+oa];
ma[b]=ca;ca>W&&(k=!0,U[b>>8]|=1<<(~(b>>4)&15),b<p&&(p=b),b>n&&(n=b),ca>=V&&(f+=1,b<r&&(r=b),b>u&&(u=b),ka=!0))}k&&(N<q&&(q=N),N>m&&(m=N));ka&&(N<t&&(t=N),N>v&&(v=N))}else for(N=b-D;N<=d+D;N+=1){ma=g[N];fa=O[N];U=l[N>>4];ka=k=!1;for(b=a-z;b<=c+z;b+=1)ca=ma[b],aa=fa[b],ca<=ha?0<=aa&&1===F[aa]?P.random()>=R[aa]?(ca=oa,e+=1):ca>ba&&--ca:ca>ba&&--ca:ca===oa?0>aa||0===L[aa]?P.random()>=this.M[0>aa?0:aa]||(--ca,ia+=1):P.random()>=this.T[0>aa?0:aa]||(--ca,ia+=1):ca>ba&&--ca,ma[b]=ca,0<ca&&(k=!0,U[b>>8]|=
1<<(~(b>>4)&15),b<p&&(p=b),b>n&&(n=b),ca===oa&&(f+=1),ca>ha&&(b<r&&(r=b),b>u&&(u=b),ka=!0));k&&(N<q&&(q=N),N>m&&(m=N));ka&&(N<t&&(t=N),N>v&&(v=N))}this.g.s=f;this.g.ma=e;this.g.$=ia;0<f&&(A.H=p,A.J=n,A.I=q,A.L=m,w.H=r,w.J=u,w.I=t,w.L=v)};Ea.prototype.pb=function(a,b,c,d,f){var e,k,g=this.g.m,l=this.g.B,p=this.g.width,n=0,q=this.g.height,m=0,r=p,u=n,t=q,v=m,A=this.g.v,w=this.g.na,z=this.o,D=this.l,F=f?this.ba:this.B,L=f?this.ca:this.v,O=this.h;var N=this.X-1;var V=I.Ya,W=I.Ih,H=this.g.Hf;var P=this.g.h+
this.g.u-1;var R=this.g.u,T=0<this.g.u?1:0;var Z=e=f=0;if(1===N)for(N=b-D;N<=d+D;N+=1){var oa=g[N];var ha=O[N];var ba=l[N>>4];var ia=k=!1;for(b=a-z;b<=c+z;b+=1){var ma=oa[b];var fa=ha[b];P=0;ma<V?0<=fa&&1===F[fa]&&(e+=1,P=128):0<=fa&&0===L[fa]?Z+=1:P=128;ma=H[ma+P];oa[b]=ma;ma>W&&(k=!0,ba[b>>8]|=1<<(~(b>>4)&15),b<p&&(p=b),b>n&&(n=b),ma>=V&&(f+=1,b<r&&(r=b),b>u&&(u=b),ia=!0))}k&&(N<q&&(q=N),N>m&&(m=N));ia&&(N<t&&(t=N),N>v&&(v=N))}else for(N=b-D;N<=d+D;N+=1){oa=g[N];ha=O[N];ba=l[N>>4];ia=k=!1;for(b=
a-z;b<=c+z;b+=1){ma=oa[b];fa=ha[b];if(ma<=R)0<=fa&&1===F[fa]?(ma=P,e+=1):ma>T&&--ma;else if(ma===P){if(0>fa||0===L[fa])--ma,Z+=1}else ma>T&&--ma;oa[b]=ma;0<ma&&(k=!0,ba[b>>8]|=1<<(~(b>>4)&15),b<p&&(p=b),b>n&&(n=b),ma===P&&(f+=1),ma>R&&(b<r&&(r=b),b>u&&(u=b),ia=!0))}k&&(N<q&&(q=N),N>m&&(m=N));ia&&(N<t&&(t=N),N>v&&(v=N))}this.g.s=f;this.g.ma=e;this.g.$=Z;0<f&&(A.H=p,A.J=n,A.I=q,A.L=m,w.H=r,w.J=u,w.I=t,w.L=v)};Ea.prototype.pa=function(a,b,c,d,f){this.V?this.vb(a,b,c,d,f):this.pb(a,b,c,d,f)};Ea.prototype.hb=
function(a,b,c,d,f){var e,k=this.g.h+this.g.u,g=this.g.u,l=this.s,p=this.g.m,n=this.h,q=this.A,m=q[0],r=l[0],u=l[1],t=l[2],v=l[3],A=l[4],w=l[5],z=l[6],D=l[7];l=l[8];for(a-=f;a<=b+f;a+=1){var F=n[a];var L=c-f;var O=L-1;for(e=L+1;L<=d+f;){var N=0;var V=p[a-1];var W=V[O];W>g?N+=r*q[k-W]:0<m&&(N+=r*m);W=V[L];W>g?N+=u*q[k-W]:0<m&&(N+=u*m);W=V[e];W>g?N+=t*q[k-W]:0<m&&(N+=t*m);V=p[a];W=V[O];W>g?N+=v*q[k-W]:0<m&&(N+=v*m);W=V[L];W>g?N+=A*q[k-W]:0<m&&(N+=A*m);W=V[e];W>g?N+=w*q[k-W]:0<m&&(N+=w*m);V=p[a+1];W=
V[O];W>g?N+=z*q[k-W]:0<m&&(N+=z*m);W=V[L];W>g?N+=D*q[k-W]:0<m&&(N+=D*m);W=V[e];W>g?N+=l*q[k-W]:0<m&&(N+=l*m);F[L]=N;L+=1;O+=1;e+=1}}};Ea.prototype.gb=function(a,b,c,d,f){var e,k=I.Ya,g=this.s,l=this.g.m,p=this.h,n=g[0],q=g[1],m=g[2],r=g[3],u=g[4],t=g[5],v=g[6],A=g[7];g=g[8];for(a-=f;a<=b+f;a+=1){var w=p[a];var z=c-f;var D=z-1;for(e=z+1;z<=d+f;){var F=0;var L=l[a-1];L[D]>=k&&(F+=n);L[z]>=k&&(F+=q);L[e]>=k&&(F+=m);L=l[a];L[D]>=k&&(F+=r);L[z]>=k&&(F+=u);L[e]>=k&&(F+=t);L=l[a+1];L[D]>=k&&(F+=v);L[z]>=
k&&(F+=A);L[e]>=k&&(F+=g);w[z]=F;z+=1;D+=1;e+=1}}};Ea.prototype.xa=function(a,b,c,d,f,e){var k=this.h,g,l=I.Ya,p=this.Z,n=this.$,q=this.g.m;for(g=b-e;g<=d+e;g+=1){var m=k[g];for(b=a-f;b<=c+f;){var r=0;var u=q[g-p];u[b-p]>=l&&(r+=1);u[b+p]>=l&&(r+=1);u=q[g+p];u[b-p]>=l&&(r+=1);u[b+p]>=l&&(r+=1);q[g-n][b]>=l&&(r+=1);q[g+n][b]>=l&&(r+=1);u=q[g];u[b-n]>=l&&(r+=1);u[b+n]>=l&&(r+=1);u[b]>=l&&(r+=1);m[b]=r;b+=1}}};Ea.prototype.ta=function(a,b,c,d,f,e){var k=this.h,g,l,p=I.Ya,n=this.g.m;for(g=b-e;g<=d+e;g+=
1){var q=k[g];for(b=a-f;b<=c+f;){var m=0;for(l=-e;0>l;l+=1){var r=n[g+l];r[b]>=p&&(m+=1);r[b+l]>=p&&(m+=1)}r=n[g];for(l=-f;l<=f;l+=1)r[b+l]>=p&&(m+=1);for(l=1;l<=f;l+=1)r=n[g+l],r[b]>=p&&(m+=1),r[b+l]>=p&&(m+=1);q[b]=m;b+=1}}};Ea.prototype.cb=function(a,b,c,d,f,e){var k=this.h,g,l,p=I.Ya,n=this.g.m;for(g=b-e;g<=d+e;g+=1){var q=k[g];for(b=a-f;b<=c+f;){var m=0;for(l=-e;0>l;l+=1){var r=n[g+l];r[b]>=p&&(m+=1)}r=n[g];for(l=-f;0>=l;l+=1)r[b+l]>=p&&(m+=1);for(l=1;l<=f;l+=1)n[g+l][b+l]>=p&&(m+=1);q[b]=m;
b+=1}}};Ea.prototype.fb=function(a,b,c,d,f,e){var k=this.h,g,l,p,n=I.Ya,q=this.g.m;if(null===this.A)if(1!==f||1!==e||this.C)for(g=b-e;g<=d+e;g+=1){var m=k[g];for(b=a-f;b<=c+f;){if(this.C&&0!==(b+g&1)){var r=-(f+f+1);var u=this.s.length+r;r+=r}else r=u=0;var t=0;for(p=-e;p<=e;p+=1){var v=q[g+p];for(l=-f;l<=f;l+=1)v[b+l]>=n&&(t+=this.s[u]),u+=1;u+=r}m[b]=t;b+=1}}else this.gb(b,d,a,c,f);else{var A=this.A[0];var w=this.A[1];for(g=b-e;g<=d+e;g+=1)for(m=k[g],b=a-f;b<=c+f;){this.C&&0!==(b+g&1)?(r=-(f+f+
1),u=this.s.length+r,r+=r):r=u=0;t=0;for(p=-e;p<=e;p+=1){v=q[g+p];for(l=-f;l<=f;l+=1)t=v[b+l]>=n?t+this.s[u]*w:t+this.s[u]*A,u+=1;u+=r}m[b]=t;b+=1}}};Ea.prototype.Da=function(a,b,c,d,f,e){var k=this.h,g,l,p,n,q=I.Ya,m=this.fa,r=this.g.m;for(g=b-e;g<=d+e;g+=1){var u=k[g];for(b=a-f;b<=c+f;){for(l=n=0;l<m.length;){var t=m[l];this.C&&0===(b+g&1)&&(t=-t);l+=1;var v=r[g+t];t=m[l];for(p=l+=1;p<l+t;p+=1)v[b+m[p]]>=q&&(n+=1);l+=t}u[b]=n;b+=1}}};Ea.prototype.La=function(a,b,c,d,f,e){var k=this.h,g,l,p,n,q,
m=I.Ya,r=this.g.m;for(g=b-e;g<=d+e;g+=1){var u=k[g];b=a-f;var t=q=n=0;for(p=-e;p<=e;p+=1){var v=r[g+p];if(1===p)for(l=-f;l<=f;l+=1)v[b+l]>=m&&(q+=1);else if(-1===p)for(l=-f;l<=f;l+=1)v[b+l]>=m&&(t+=1);else v[b-1]>=m&&(n+=1),v[b+1]>=m&&(n+=1)}r[g][b]>=m&&(n+=1);u[b]=n+q+t;for(b+=1;b<=c+f;){n=0;for(p=-e;p<=e;p+=1)v=r[g+p],1===p?(v[b-f-1]>=m&&--q,v[b+f]>=m&&(q+=1)):-1===p?(v[b-f-1]>=m&&--t,v[b+f]>=m&&(t+=1)):(v[b-1]>=m&&(n+=1),v[b+1]>=m&&(n+=1));r[g][b]>=m&&(n+=1);u[b]=n+q+t;b+=1}}};Ea.prototype.na=
function(a,b,c,d,f,e,k){var g=this.h,l,p,n,q=I.Ya,m=this.g.m;for(l=b-e;l<=d+e;l+=1){var r=g[l];b=a-f;var u=0;var t=k;for(n=-e;n<=e;n+=1){var v=m[l+n];for(p=-f+t;p<=f-t;p+=2)v[b+p]>=q&&(u+=1);t=1-t}1===k&&m[l][b]>=q&&(u+=1);r[b]=u;b+=1;if(b<=c+f){var A=0;t=k;for(n=-e;n<=e;n+=1){v=m[l+n];for(p=-f+t;p<=f-t;p+=2)v[b+p]>=q&&(A+=1);t=1-t}1===k&&m[l][b]>=q&&(A+=1);r[b]=A;for(b+=1;b<=c+f;){t=k;for(n=-e;n<=e;n+=1)v=m[l+n],v[b-f+t-2]>=q&&--u,v[b+f-t]>=q&&(u+=1),t=1-t;1===k&&(m[l][b-2]>=q&&--u,m[l][b]>=q&&(u+=
1));r[b]=u;b+=1;if(b<=c+f){t=k;for(n=-e;n<=e;n+=1)v=m[l+n],v[b-f+t-2]>=q&&--A,v[b+f-t]>=q&&(A+=1),t=1-t;1===k&&(m[l][b-2]>=q&&--A,m[l][b]>=q&&(A+=1));r[b]=A;b+=1}}}}};Ea.prototype.va=function(a,b,c,d,f,e){this.na(a,b,c,d,f,e,1)};Ea.prototype.ra=function(a,b,c,d,f,e){this.na(a,b,c,d,f,e,0)};Ea.prototype.Na=function(a,b,c,d,f,e){var k=this.h,g,l,p,n=I.Ya,q=this.g.m;for(g=b-e;g<=d+e;g+=1){var m=k[g];b=a-f;var r=0;for(p=-e;0>p;p+=1){var u=q[g+p];for(l=-f;l<=f+p;l+=1)u[b+l]>=n&&(r+=1)}for(p=0;p<=e;p+=
1)for(u=q[g+p],l=-f+p;l<=f;l+=1)u[b+l]>=n&&(r+=1);m[b]=r;for(b+=1;b<=c+f;){for(p=-e;0>p;p+=1)u=q[g+p],u[b-f-1]>=n&&--r,u[b+f+p]>=n&&(r+=1);for(p=0;p<=e;p+=1)u=q[g+p],u[b-f+p-1]>=n&&--r,u[b+f]>=n&&(r+=1);m[b]=r;b+=1}}};Ea.prototype.Qa=function(a,b,c,d,f,e){var k=this.h,g,l,p=I.Ya,n=this.g.m;for(g=b-e;g<=d+e;g+=1){var q=k[g];for(b=a-f;b<=c+f;){var m=0;for(l=1;l<=e;l+=1){var r=n[g+l];r[b-l]>=p&&(m+=1);r[b+l]>=p&&(m+=1);r=n[g-l];r[b-l]>=p&&(m+=1);r[b+l]>=p&&(m+=1)}r=n[g];r[b]>=p&&(m+=1);q[b]=m;b+=1}}};
Ea.prototype.Wa=function(a,b,c,d,f,e){var k=this.h,g,l,p=I.Ya,n=this.g.m;for(g=b-e;g<=d+e;g+=1){var q=k[g];for(b=a-f;b<=c+f;){var m=0;for(l=1;l<=e;l+=1){var r=n[g+l];r[b-l]>=p&&(m+=1);r[b+l]>=p&&(m+=1);r[b]>=p&&(m+=1);r=n[g-l];r[b-l]>=p&&(m+=1);r[b+l]>=p&&(m+=1);r[b]>=p&&(m+=1)}r=n[g];for(l=-f;l<=f;l+=1)r[b+l]>=p&&(m+=1);q[b]=m;b+=1}}};Ea.prototype.Aa=function(a,b,c,d,f,e){var k=this.h,g,l,p,n=I.Ya,q=this.g.m;for(g=b-e;g<=d+e;g+=1){var m=k[g];b=a-f;var r=p=0;for(l=1;l<=e;l+=1){var u=q[g+l];u[b]>=
n&&(p+=1);u=q[g-l];u[b]>=n&&(p+=1)}u=q[g];for(l=-f;l<=f;l+=1)u[b+l]>=n&&(r+=1);m[b]=p+r;for(b+=1;b<=c+f;){p=0;for(l=1;l<=e;l+=1)q[g+l][b]>=n&&(p+=1),q[g-l][b]>=n&&(p+=1);u=q[g];u[b-f-1]>=n&&--r;u[b+f]>=n&&(r+=1);m[b]=p+r;b+=1}}};Ea.prototype.ab=function(a,b,c,d,f,e){var k=this.h,g,l,p=I.Ya,n=this.g.m;for(g=b-e;g<=d+e;g+=1){var q=k[g];b=a-f;var m=0;var r=b+g&1;if(0===r){var u=e+1;for(r=-e;0>r;r+=1){var t=n[g+r];for(l=-u;l<u;l+=2)t[b+l]>=p&&(m+=1),t[b+l+1]>=p&&(m+=1);t[b+l]>=p&&(m+=1);u+=1}r=0}else{u=
e;for(r=-e;0>=r;r+=1){t=n[g+r];for(l=-u;l<u;l+=2)t[b+l]>=p&&(m+=1),t[b+l+1]>=p&&(m+=1);t[b+l]>=p&&(m+=1);u+=1}r=1}for(;r<=e;r+=1){--u;t=n[g+r];for(l=-u;l<u;l+=2)t[b+l]>=p&&(m+=1),t[b+l+1]>=p&&(m+=1);t[b+l]>=p&&(m+=1)}q[b]=m;for(b+=1;b<=c+f;){r=b+g&1;if(0===r){l=e;for(r=-e;0>r;r+=1)t=n[g+r],t[b+l]>=p&&(m+=1),l+=1,t[b+l]>=p&&(m+=1);t=n[g];t[b-l-1]>=p&&--m;t[b+l]>=p&&(m+=1);l+=1;for(r=1;r<=e;r+=1)--l,t=n[g+r],t[b-l-1]>=p&&--m,t[b-l]>=p&&--m}else{l=e+1;for(r=-e;0>r;r+=1)t=n[g+r],t[b-l-1]>=p&&--m,t[b-
l]>=p&&--m,l+=1;--l;t=n[g];t[b-l-1]>=p&&--m;t[b+l]>=p&&(m+=1);for(r=1;r<=e;r+=1)--l,t=n[g+r],t[b+l]>=p&&(m+=1),t[b+l+1]>=p&&(m+=1)}q[b]=m;b+=1}}};Ea.prototype.Fa=function(a,b,c,d,f,e){var k=this.h,g,l,p,n,q=I.Ya,m=this.g.m;for(g=b-e;g<=d+e;g+=1){var r=k[g];for(b=a-f;b<=c+f;){var u=0;for(p=-e;0>p;p+=1){var t=n=p+e+1;var v=m[g+p];for(l=-f;0>=l;l+=1)v[b+l]>=q&&(u+=t),t+=n;t-=n+n;for(l=1;l<=f;l+=1)v[b+l]>=q&&(u+=t),t-=n;t=n=p+e+1;v=m[g-p];for(l=-f;0>=l;l+=1)v[b+l]>=q&&(u+=t),t+=n;t-=n+n;for(l=1;l<=f;l+=
1)v[b+l]>=q&&(u+=t),t-=n}t=n=f+1;v=m[g];for(l=-f;0>=l;l+=1)v[b+l]>=q&&(u+=t),t+=n;t-=n+n;for(l=1;l<=f;l+=1)v[b+l]>=q&&(u+=t),t-=n;v[b]>=q&&(u+=1);r[b]=u;b+=1}}};Ea.prototype.Ua=function(a,b,c,d,f,e){var k=this.h,g,l,p,n=I.Ya,q=this.F,m=this.g.m;for(g=b-e;g<=d+e;g+=1){var r=k[g];b=a-f;var u=0;for(p=-e;p<=e;p+=1){var t=q[p+e];var v=m[g+p];for(l=-t;l<t;l+=2)v[b+l]>=n&&(u+=1),v[b+l+1]>=n&&(u+=1);v[b+l]>=n&&(u+=1)}r[b]=u;for(b+=1;b<=c+f;){for(p=-e;p<=e;p+=1)t=q[p+e],v=m[g+p],v[b-t-1]>=n&&--u,v[b+t]>=n&&
(u+=1);r[b]=u;b+=1}}};Ea.prototype.Ja=function(a){var b,c,d=this.g.v.H,f=this.g.v.J,e=this.g.v.I,k=this.g.v.L,g=this.o,l=this.l,p=a?this.ba:this.B,n=a?this.ca:this.v,q=g+g,m=l+l;var r=g+1;var u=l+1;var t=this.h,v=this.type,A=this.X-1,w=this.g.width,z=0,D=this.g.height,F=0,L=w,O=z,N=D,V=F,W=this.g.m,H=this.g.B;var P=this.g.M;var R=this.g.K,T=0,Z=0,oa=0,ha=0,ba=0,ia=0,ma=0,fa=I.Ya,U=I.Ih,ka=this.g.Hf,ca=this.ma,aa=this.V,X=this.O,na=this.W,Q=this.T,E=this.M;-1!==this.g.C&&(T=Math.round((this.g.width-
P)/2),oa=Math.round((this.g.height-R)/2),Z=T+P-1,ha=oa+R-1,1===p[0]&&(d=T+g,f=Z-g,k=ha-l,e=oa+l),1===this.g.C&&(d-T<g&&(f=Z),Z-f<g&&(d=T),ha-k<l&&(e=oa),e-oa<l&&(k=ha),this.qa(T,oa,Z,ha)),0===this.g.C&&1===A&&this.g.cf(W,0),d-T<g&&(d=T+g),Z-f<g&&(f=Z-g),ha-k<l&&(k=ha-l),e-oa<l&&(e=oa+l),v===this.U.i?(d-=q,e-=m,f+=q,k+=m):v===this.U.m&&6<g&&(d-=g,e-=l,f+=g,k+=l));if(v===this.U.i){d-=q;e-=m;f+=q;k+=m;for(c=e;c<e+m;c+=1)t[c].fill(0,d,f+1);for(c=e+m;c<=k;c+=1)t[c].fill(0,d,d+q+1);var y=t[e+m-1];for(c=
e+m;c<=k;c+=1){var K=t[c];A=W[c];P=0;for(b=d+q;b+8<=f;)A[b]>=fa&&(P+=1),K[b]=y[b]+P,b+=1,A[b]>=fa&&(P+=1),K[b]=y[b]+P,b+=1,A[b]>=fa&&(P+=1),K[b]=y[b]+P,b+=1,A[b]>=fa&&(P+=1),K[b]=y[b]+P,b+=1,A[b]>=fa&&(P+=1),K[b]=y[b]+P,b+=1,A[b]>=fa&&(P+=1),K[b]=y[b]+P,b+=1,A[b]>=fa&&(P+=1),K[b]=y[b]+P,b+=1,A[b]>=fa&&(P+=1),K[b]=y[b]+P,b+=1;for(;b<=f;)A[b]>=fa&&(P+=1),K[b]=y[b]+P,b+=1;y=K}d+=g;e+=l;f-=g;k-=l;-1!==this.g.C&&(d+=q,e+=m,f-=q,k-=m);m=W[e][d];P=t[e+l][d+g];var M=0;m<fa?1===p[P]&&(aa?X.random()>=na[P]&&
(ia+=1,M=128):(ia+=1,M=128)):0===n[P]?aa?X.random()>=E[P]?M=128:ma+=1:ma+=1:aa?X.random()>=Q[P]?M=128:ma+=1:M=128;m=ka[m+M];W[e][d]=m;m>U&&(ca[d]|=1,F=D=e,H[e>>4][d>>8]|=1<<(~(d>>4)&15),m>=fa&&(ba+=1,ca[d]|=2,V=N=e));var J=R=!1;K=t[e+l];y=t[e+l];A=W[e];q=H[e>>4];if(aa)for(b=d+1;b<=f;b+=1)m=A[b],P=K[b+g]-y[b-r],M=0,m<fa?1===p[P]&&X.random()>=na[P]&&(ia+=1,M=128):0===n[P]?X.random()>=E[P]?M=128:ma+=1:X.random()>=Q[P]?M=128:ma+=1,m=ka[m+M],A[b]=m,m>U&&(ca[b]|=1,R=!0,q[b>>8]|=1<<(~(b>>4)&15),m>=fa&&(ba+=
1,ca[b]|=2,J=!0));else for(b=d+1;b<=f;b+=1)m=A[b],P=K[b+g]-y[b-r],M=0,m<fa?1===p[P]&&(ia+=1,M=128):0===n[P]?ma+=1:M=128,m=ka[m+M],A[b]=m,m>U&&(ca[b]|=1,R=!0,q[b>>8]|=1<<(~(b>>4)&15),m>=fa&&(ba+=1,ca[b]|=2,J=!0));R&&(F=D=e);J&&(V=N=e);q=A=!1;K=d+g;for(c=e+1;c<=k;c+=1)m=W[c][d],P=t[c+l][K]-t[c-u][K],M=0,m<fa?1===p[P]&&(aa?X.random()>=na[P]&&(ia+=1,M=128):(ia+=1,M=128)):0===n[P]?aa?X.random()>=E[P]?M=128:ma+=1:ma+=1:aa?X.random()>=Q[P]?M=128:ma+=1:M=128,m=ka[m+M],W[c][d]=m,m>U&&(c<D&&(D=c),c>F&&(F=c),
A=!0,H[c>>4][d>>8]|=1<<(~(d>>4)&15),m>=fa&&(ba+=1,c<N&&(N=c),c>V&&(V=c),q=!0));A&&(ca[d]|=1);q&&(ca[d]|=2);for(c=e+1;c<=k;c+=1){A=W[c];q=H[c>>4];y=t[c+l];var x=t[c-u];K=d+1+g;var B=d+1-r;J=R=!1;if(aa)for(b=d+1;b<=f;b+=1)m=A[b],P=y[K]+x[B]-y[B]-x[K],M=0,m<fa?1===p[P]&&X.random()>=na[P]&&(M=128,ia+=1):0===n[P]?X.random()>=E[P]?M=128:ma+=1:X.random()>=Q[P]?M=128:ma+=1,m=ka[m+M],A[b]=m,m>U&&(R=!0,q[b>>8]|=1<<(~(b>>4)&15),ca[b]|=1,m>=fa&&(ba+=1,J=!0,ca[b]|=2)),K+=1,B+=1;else for(b=d+1;b<=f;b+=1)m=A[b],
P=y[K]+x[B]-y[B]-x[K],M=0,m<fa?1===p[P]&&(M=128,ia+=1):0===n[P]?ma+=1:M=128,m=ka[m+M],A[b]=m,m>U&&(R=!0,q[b>>8]|=1<<(~(b>>4)&15),ca[b]|=1,m>=fa&&(ba+=1,J=!0,ca[b]|=2)),K+=1,B+=1;R&&(c<D&&(D=c),c>F&&(F=c));J&&(c<N&&(N=c),c>V&&(V=c))}for(b=d;b<=f;b+=1)ca[b]&&(b<w&&(w=b),b>z&&(z=b),0!==(ca[b]&2)&&(b<L&&(L=b),b>O&&(O=b)),ca[b]=0);this.g.s=ba;this.g.ma=ia;this.g.$=ma;0<ba&&(this.g.v.H=w,this.g.v.J=z,this.g.v.I=D,this.g.v.L=F,this.g.na.H=L,this.g.na.J=O,this.g.na.I=N,this.g.na.L=V)}else if(v===this.U.m&&
6<g){d-=g;f+=g;e-=l;k+=l;-1===this.g.C&&(d-=g,f+=g,e-=l,k+=l);this.P=k-e+1;this.m=f-d+1;this.u=this.P+(this.m-1)/2|0;this.ea=this.m/2|0;for(r=0;r<this.u;r+=1)for(K=t[r],A=W[r+e],ca=r-1,P=ca-1,c=t[ca],q=t[P],u=0;u<=this.m;u+=1)K[u]=this.i(ca,u-1,c)+this.i(ca,u+1,c)-this.i(P,u,q),r<this.P&&A[u+d]>=fa&&(K[u]+=1);for(r=l;r<=this.P-l;r+=1){ca=r-1;c=t[ca];B=r+l;var la=t[B];K=B-1;var Y=t[K];b=r-l-1;var qa=t[b];y=b-1;var sa=t[y];x=r+e;A=W[x];q=H[x>>4];J=R=!1;if(aa)for(u=g;u<=this.m-g;u+=1){P=u+g;m=u-g;P=
this.i(B,u,la)-this.i(ca,P+1,c)-this.i(ca,m-1,c)+this.i(y,u,sa)+this.i(K,u,Y)-this.i(ca,P,c)-this.i(ca,m,c)+this.i(b,u,qa);var ja=u+d;m=A[ja];M=0;m<fa?1===p[P]&&X.random()>=na[P]&&(M=128,ia+=1):0===n[P]?X.random()>=E[P]?M=128:ma+=1:X.random()>=Q[P]?M=128:ma+=1;m=ka[m+M];A[ja]=m;m>U&&(ja<w&&(w=ja),ja>z&&(z=ja),R=!0,q[ja>>8]|=1<<(~(ja>>4)&15),m>=fa&&(ba+=1,J=!0,ja<L&&(L=ja),ja>O&&(O=ja)))}else for(u=g;u<=this.m-g;u+=1)P=u+g,m=u-g,P=this.i(B,u,la)-this.i(ca,P+1,c)-this.i(ca,m-1,c)+this.i(y,u,sa)+this.i(K,
u,Y)-this.i(ca,P,c)-this.i(ca,m,c)+this.i(b,u,qa),ja=u+d,m=A[ja],M=0,m<fa?1===p[P]&&(M=128,ia+=1):0===n[P]?ma+=1:M=128,m=ka[m+M],A[ja]=m,m>U&&(ja<w&&(w=ja),ja>z&&(z=ja),R=!0,q[ja>>8]|=1<<(~(ja>>4)&15),m>=fa&&(ba+=1,J=!0,ja<L&&(L=ja),ja>O&&(O=ja)));R&&(x<D&&(D=x),x>F&&(F=x));J&&(x<N&&(N=x),x>V&&(V=x))}this.g.s=ba;this.g.ma=ia;this.g.$=ma;0<ba&&(this.g.v.H=w,this.g.v.J=z,this.g.v.I=D,this.g.v.L=F,this.g.na.H=L,this.g.na.J=O,this.g.na.I=N,this.g.na.L=V)}else switch(v){case this.U.s:this.xa(d,e,f,k,g,
l);break;case this.U.v:this.ta(d,e,f,k,g,l);break;case this.U.B:this.cb(d,e,f,k,g,l);break;case 15:this.fb(d,e,f,k,g,l);break;case 10:this.Da(d,e,f,k,g,l);break;case this.U.T:this.La(d,e,f,k,g,l);break;case this.U.O:this.va(d,e,f,k,g,l);break;case this.U.M:this.ra(d,e,f,k,g,l);break;case this.U.F:this.Na(d,e,f,k,g,l);break;case this.U.V:this.Qa(d,e,f,k,g,l);break;case this.U.W:this.Wa(d,e,f,k,g,l);break;case this.U.P:this.Aa(d,e,f,k,g,l);break;case this.U.K:this.ab(d,e,f,k,g,l);break;case this.U.u:this.Fa(d,
e,f,k,g,l);break;default:this.Ua(d,e,f,k,g,l)}-1!==this.g.C&&(d<T+g&&(d=T+g),f>Z-g&&(f=Z-g),e<oa+l&&(e=oa+l),k>ha-l&&(k=ha-l));v===this.U.i||v===this.U.m&&6<g||this.pa(d,e,f,k,a);1===this.g.C&&this.la(T,oa,Z,ha)};Ea.prototype.ya=function(a,b,c,d,f,e){var k=this.h,g,l=this.g.h+this.g.u-1,p=this.Z,n=this.$,q=this.g.m;for(g=b-e;g<=d+e;g+=1){var m=k[g];for(b=a-f;b<=c+f;){var r=0;var u=q[g-p];u[b-p]===l&&(r+=1);u[b+p]===l&&(r+=1);u=q[g+p];u[b-p]===l&&(r+=1);u[b+p]===l&&(r+=1);q[g-n][b]===l&&(r+=1);q[g+
n][b]===l&&(r+=1);u=q[g];u[b-n]===l&&(r+=1);u[b+n]===l&&(r+=1);u[b]===l&&(r+=1);m[b]=r;b+=1}}};Ea.prototype.ua=function(a,b,c,d,f,e){var k=this.h,g,l,p=this.g.h+this.g.u-1,n=this.g.m;for(g=b-e;g<=d+e;g+=1){var q=k[g];for(b=a-f;b<=c+f;){var m=0;for(l=-e;0>l;l+=1){var r=n[g+l];r[b]===p&&(m+=1);r[b+l]===p&&(m+=1)}r=n[g];for(l=-f;l<=f;l+=1)r[b+l]===p&&(m+=1);for(l=1;l<=f;l+=1)r=n[g+l],r[b]===p&&(m+=1),r[b+l]===p&&(m+=1);q[b]=m;b+=1}}};Ea.prototype.eb=function(a,b,c,d,f,e){var k=this.h,g,l,p=this.g.h+
this.g.u-1,n=this.g.m;for(g=b-e;g<=d+e;g+=1){var q=k[g];for(b=a-f;b<=c+f;){var m=0;for(l=-e;0>l;l+=1){var r=n[g+l];r[b]===p&&(m+=1)}r=n[g];for(l=-f;0>=l;l+=1)r[b+l]===p&&(m+=1);for(l=1;l<=f;l+=1)n[g+l][b+l]===p&&(m+=1);q[b]=m;b+=1}}};Ea.prototype.ib=function(a,b,c,d,f,e){var k=this.h,g,l,p,n=this.g.h+this.g.u-1,q=this.g.m;if(null===this.A)for(g=b-e;g<=d+e;g+=1){var m=k[g];for(b=a-f;b<=c+f;){if(this.C&&0!==(b+g&1)){var r=-(f+f+1);var u=this.s.length+r;r+=r}else r=u=0;var t=0;for(p=-e;p<=e;p+=1){var v=
q[g+p];for(l=-f;l<=f;l+=1)v[b+l]===n&&(t+=this.s[u]),u+=1;u+=r}m[b]=t;b+=1}}else if(1!==f||1!==e||this.C){var A=this.A[0];var w=this.A[1];for(g=b-e;g<=d+e;g+=1)for(m=k[g],b=a-f;b<=c+f;){this.C&&0!==(b+g&1)?(r=-(f+f+1),u=this.s.length+r,r+=r):r=u=0;t=0;for(p=-e;p<=e;p+=1){v=q[g+p];for(l=-f;l<=f;l+=1)t=v[b+l]===n?t+this.s[u]*w:t+this.s[u]*A,u+=1;u+=r}m[b]=t;b+=1}}else this.hb(b,d,a,c,f)};Ea.prototype.Ea=function(a,b,c,d,f,e){var k=this.h,g,l,p,n,q=this.g.h+this.g.u-1,m=this.fa,r=this.g.m;for(g=b-e;g<=
d+e;g+=1){var u=k[g];for(b=a-f;b<=c+f;){for(l=n=0;l<m.length;){var t=m[l];this.C&&0===(b+g&1)&&(t=-t);l+=1;var v=r[g+t];t=m[l];for(p=l+=1;p<l+t;p+=1)v[b+m[p]]===q&&(n+=1);l+=t}u[b]=n;b+=1}}};Ea.prototype.Ma=function(a,b,c,d,f,e){var k=this.h,g,l,p,n,q,m=this.g.h+this.g.u-1,r=this.g.m;for(g=b-e;g<=d+e;g+=1){var u=k[g];b=a-f;var t=q=n=0;for(p=-e;p<=e;p+=1){var v=r[g+p];if(1===p)for(l=-f;l<=f;l+=1)v[b+l]===m&&(q+=1);else if(-1===p)for(l=-f;l<=f;l+=1)v[b+l]===m&&(t+=1);else v[b-1]===m&&(n+=1),v[b+1]===
m&&(n+=1)}r[g][b]===m&&(n+=1);u[b]=n+q+t;for(b+=1;b<=c+f;){n=0;for(p=-e;p<=e;p+=1)v=r[g+p],1===p?(v[b-f-1]===m&&--q,v[b+f]===m&&(q+=1)):-1===p?(v[b-f-1]===m&&--t,v[b+f]===m&&(t+=1)):(v[b-1]===m&&(n+=1),v[b+1]===m&&(n+=1));r[g][b]===m&&(n+=1);u[b]=n+q+t;b+=1}}};Ea.prototype.oa=function(a,b,c,d,f,e,k){var g=this.h,l,p,n,q=this.g.h+this.g.u-1,m=this.g.m;for(l=b-e;l<=d+e;l+=1){var r=g[l];b=a-f;var u=0;var t=k;for(n=-e;n<=e;n+=1){var v=m[l+n];for(p=-f+t;p<=f-t;p+=2)v[b+p]===q&&(u+=1);t=1-t}1===k&&m[l][b]===
q&&(u+=1);r[b]=u;b+=1;if(b<=c+f){var A=0;t=k;for(n=-e;n<=e;n+=1){v=m[l+n];for(p=-f+t;p<=f-t;p+=2)v[b+p]===q&&(A+=1);t=1-t}1===k&&m[l][b]===q&&(A+=1);r[b]=A;for(b+=1;b<=c+f;){t=k;for(n=-e;n<=e;n+=1)v=m[l+n],v[b-f+t-2]===q&&--u,v[b+f-t]===q&&(u+=1),t=1-t;1===k&&(m[l][b-2]===q&&--u,m[l][b]===q&&(u+=1));r[b]=u;b+=1;if(b<=c+f){t=k;for(n=-e;n<=e;n+=1)v=m[l+n],v[b-f+t-2]===q&&--A,v[b+f-t]===q&&(A+=1),t=1-t;1===k&&(m[l][b-2]===q&&--A,m[l][b]===q&&(A+=1));r[b]=A;b+=1}}}}};Ea.prototype.wa=function(a,b,c,d,
f,e){this.oa(a,b,c,d,f,e,1)};Ea.prototype.sa=function(a,b,c,d,f,e){this.oa(a,b,c,d,f,e,0)};Ea.prototype.Pa=function(a,b,c,d,f,e){var k=this.h,g,l,p,n=this.g.h+this.g.u-1,q=this.g.m;for(g=b-e;g<=d+e;g+=1){var m=k[g];b=a-f;var r=0;for(p=-e;0>p;p+=1){var u=q[g+p];for(l=-f;l<=f+p;l+=1)u[b+l]===n&&(r+=1)}for(p=0;p<=e;p+=1)for(u=q[g+p],l=-f+p;l<=f;l+=1)u[b+l]===n&&(r+=1);m[b]=r;for(b+=1;b<=c+f;){for(p=-e;0>p;p+=1)u=q[g+p],u[b-f-1]===n&&--r,u[b+f+p]===n&&(r+=1);for(p=0;p<=e;p+=1)u=q[g+p],u[b-f+p-1]===n&&
--r,u[b+f]===n&&(r+=1);m[b]=r;b+=1}}};Ea.prototype.Ta=function(a,b,c,d,f,e){var k=this.h,g,l,p=this.g.h+this.g.u-1,n=this.g.m;for(g=b-e;g<=d+e;g+=1){var q=k[g];for(b=a-f;b<=c+f;){var m=0;for(l=1;l<=e;l+=1){var r=n[g+l];r[b-l]===p&&(m+=1);r[b+l]===p&&(m+=1);r=n[g-l];r[b-l]===p&&(m+=1);r[b+l]===p&&(m+=1)}r=n[g];r[b]===p&&(m+=1);q[b]=m;b+=1}}};Ea.prototype.Za=function(a,b,c,d,f,e){var k=this.h,g,l,p=this.g.h+this.g.u-1,n=this.g.m;for(g=b-e;g<=d+e;g+=1){var q=k[g];for(b=a-f;b<=c+f;){var m=0;for(l=1;l<=
e;l+=1){var r=n[g+l];r[b-l]===p&&(m+=1);r[b+l]===p&&(m+=1);r[b]===p&&(m+=1);r=n[g-l];r[b-l]===p&&(m+=1);r[b+l]===p&&(m+=1);r[b]===p&&(m+=1)}r=n[g];for(l=-f;l<=f;l+=1)r[b+l]===p&&(m+=1);q[b]=m;b+=1}}};Ea.prototype.Ba=function(a,b,c,d,f,e){var k=this.h,g,l,p,n=this.g.h+this.g.u-1,q=this.g.m;for(g=b-e;g<=d+e;g+=1){var m=k[g];b=a-f;var r=p=0;for(l=1;l<=e;l+=1){var u=q[g+l];u[b]===n&&(p+=1);u=q[g-l];u[b]===n&&(p+=1)}u=q[g];for(l=-f;l<=f;l+=1)u[b+l]===n&&(r+=1);m[b]=p+r;for(b+=1;b<=c+f;){p=0;for(l=1;l<=
e;l+=1)q[g+l][b]===n&&(p+=1),q[g-l][b]===n&&(p+=1);u=q[g];u[b-f-1]===n&&--r;u[b+f]===n&&(r+=1);m[b]=p+r;b+=1}}};Ea.prototype.bb=function(a,b,c,d,f,e){var k=this.h,g,l,p=this.g.h+this.g.u-1,n=this.g.m;for(g=b-e;g<=d+e;g+=1){var q=k[g];b=a-f;var m=0;var r=b+g&1;if(0===r){var u=e+1;for(r=-e;0>r;r+=1){var t=n[g+r];for(l=-u;l<u;l+=2)t[b+l]===p&&(m+=1),t[b+l+1]===p&&(m+=1);t[b+l]===p&&(m+=1);u+=1}r=0}else{u=e;for(r=-e;0>=r;r+=1){t=n[g+r];for(l=-u;l<u;l+=2)t[b+l]===p&&(m+=1),t[b+l+1]===p&&(m+=1);t[b+l]===
p&&(m+=1);u+=1}r=1}for(;r<=e;r+=1){--u;t=n[g+r];for(l=-u;l<u;l+=2)t[b+l]===p&&(m+=1),t[b+l+1]===p&&(m+=1);t[b+l]===p&&(m+=1)}q[b]=m;for(b+=1;b<=c+f;){r=b+g&1;if(0===r){l=e;for(r=-e;0>r;r+=1)t=n[g+r],t[b+l]===p&&(m+=1),l+=1,t[b+l]===p&&(m+=1);t=n[g];t[b-l-1]===p&&--m;t[b+l]===p&&(m+=1);l+=1;for(r=1;r<=e;r+=1)--l,t=n[g+r],t[b-l-1]===p&&--m,t[b-l]===p&&--m}else{l=e+1;for(r=-e;0>r;r+=1)t=n[g+r],t[b-l-1]===p&&--m,t[b-l]===p&&--m,l+=1;--l;t=n[g];t[b-l-1]===p&&--m;t[b+l]===p&&(m+=1);for(r=1;r<=e;r+=1)--l,
t=n[g+r],t[b+l]===p&&(m+=1),t[b+l+1]===p&&(m+=1)}q[b]=m;b+=1}}};Ea.prototype.Ga=function(a,b,c,d,f,e){var k=this.h,g,l,p,n,q=this.g.h+this.g.u-1,m=this.g.m;for(g=b-e;g<=d+e;g+=1){var r=k[g];for(b=a-f;b<=c+f;){var u=0;for(p=-e;0>p;p+=1){var t=n=p+e+1;var v=m[g+p];for(l=-f;0>=l;l+=1)v[b+l]===q&&(u+=t),t+=n;t-=n+n;for(l=1;l<=f;l+=1)v[b+l]===q&&(u+=t),t-=n;t=n=p+e+1;v=m[g-p];for(l=-f;0>=l;l+=1)v[b+l]===q&&(u+=t),t+=n;t-=n+n;for(l=1;l<=f;l+=1)v[b+l]===q&&(u+=t),t-=n}t=n=f+1;v=m[g];for(l=-f;0>=l;l+=1)v[b+
l]===q&&(u+=t),t+=n;t-=n+n;for(l=1;l<=f;l+=1)v[b+l]===q&&(u+=t),t-=n;v[b]===q&&(u+=1);r[b]=u;b+=1}}};Ea.prototype.Va=function(a,b,c,d,f,e){var k=this.h,g,l,p,n=this.g.h+this.g.u-1,q=this.F,m=this.g.m;for(g=b-e;g<=d+e;g+=1){var r=k[g];b=a-f;var u=0;for(p=-e;p<=e;p+=1){var t=q[p+e];var v=m[g+p];for(l=-t;l<t;l+=2)v[b+l]===n&&(u+=1),v[b+l+1]===n&&(u+=1);v[b+l]===n&&(u+=1)}r[b]=u;for(b+=1;b<=c+f;){for(p=-e;p<=e;p+=1)t=q[p+e],v=m[g+p],v[b-t-1]===n&&--u,v[b+t]===n&&(u+=1);r[b]=u;b+=1}}};Ea.prototype.Ka=
function(a){var b,c,d=this.g.v.H,f=this.g.v.J,e=this.g.v.I,k=this.g.v.L,g=this.o,l=this.l,p=a?this.ba:this.B,n=a?this.ca:this.v,q=g+g,m=l+l;var r=g+1;var u=l+1;var t=this.h,v=this.type,A=this.g.width,w=0,z=this.g.height,D=0,F=A,L=w,O=z,N=D,V=this.g.m,W=this.g.B;var H=this.g.M;var P=this.g.K;var R=0,T=0,Z=0,oa=0,ha=0,ba=0,ia=0,ma,fa=this.V,U=this.O,ka=this.W,ca=this.T,aa=this.M,X=this.g.h+this.g.u-1,na=this.g.u,Q=0<this.g.u?1:0;-1!==this.g.C&&(R=Math.round((this.g.width-H)/2),Z=Math.round((this.g.height-
P)/2),T=R+H-1,oa=Z+P-1,1===p[0]&&(d=R+g,f=T-g,k=oa-l,e=Z+l),1===this.g.C&&(d-R<g&&(f=T),T-f<g&&(d=R),oa-k<l&&(e=Z),e-Z<l&&(k=oa),this.qa(R,Z,T,oa)),d-R<g&&(d=R+g),T-f<g&&(f=T-g),oa-k<l&&(k=oa-l),e-Z<l&&(e=Z+l),v===this.U.i?(d-=q,e-=m,f+=q,k+=m):v===this.U.m&&6<g&&(d-=g,e-=l,f+=g,k+=l));if(v===this.U.i){d-=q;e-=m;f+=q;k+=m;for(c=e;c<e+m;c+=1)t[c].fill(0,d,f+1);for(c=e+m;c<=k;c+=1)t[c].fill(0,d,d+q);for(c=e+m;c<=k;c+=1){var E=t[c-1];var y=t[c];H=V[c];P=0;for(b=d+q;b<=f;b+=1)H[b]===X&&(P+=1),y[b]=E[b]+
P}d+=g;e+=l;f-=g;k-=l;-1!==this.g.C&&(d+=q,e+=m,f-=q,k-=m);m=V[e][d];P=t[e+l][d+g];m<=na?1===p[P]?fa?U.random()>=ka[P]?(m=X,ba+=1):m>Q&&--m:(m=X,ba+=1):m>Q&&--m:m===X?0===n[P]?fa?U.random()>=aa[P]||(--m,ia+=1):(--m,ia+=1):!fa||U.random()>=ca[P]||(--m,ia+=1):m>Q&&--m;V[e][d]=m;0<m&&(w=A=d,D=z=e,W[e>>4][d>>8]|=1<<(~(d>>4)&15),m===X&&(ha+=1),m>na&&(L=F=d,N=O=e));var K=ma=!1;y=t[e+l];E=t[e+l];H=V[e];q=W[e>>4];if(fa)for(b=d+1;b<=f;b+=1)m=H[b],P=y[b+g]-E[b-r],m<=na?1===p[P]?U.random()>=ka[P]?(m=X,ba+=1):
m>Q&&--m:m>Q&&--m:m===X?0===n[P]?U.random()>=aa[P]||(--m,ia+=1):U.random()>=ca[P]||(--m,ia+=1):m>Q&&--m,H[b]=m,0<m&&(b<A&&(A=b),b>w&&(w=b),ma=!0,q[b>>8]|=1<<(~(b>>4)&15),m===X&&(ha+=1),m>na&&(b<F&&(F=b),b>L&&(L=b),K=!0));else for(b=d+1;b<=f;b+=1)m=H[b],P=y[b+g]-E[b-r],m<=na?1===p[P]?(m=X,ba+=1):m>Q&&--m:m===X?0===n[P]&&(--m,ia+=1):m>Q&&--m,H[b]=m,0<m&&(b<A&&(A=b),b>w&&(w=b),ma=!0,q[b>>8]|=1<<(~(b>>4)&15),m===X&&(ha+=1),m>na&&(b<F&&(F=b),b>L&&(L=b),K=!0));ma&&(D=z=e);K&&(N=O=e);q=H=!1;y=d+g;if(fa)for(c=
e+1;c<=k;c+=1)m=V[c][d],P=t[c+l][y]-t[c-u][y],m<=na?1===p[P]?U.random()>=ka[P]?(m=X,ba+=1):m>Q&&--m:m>Q&&--m:m===X?0===n[P]?U.random()>=aa[P]||(--m,ia+=1):U.random()>=ca[P]||(--m,ia+=1):m>Q&&--m,V[c][d]=m,0<m&&(c<z&&(z=c),c>D&&(D=c),H=!0,W[c>>4][d>>8]|=1<<(~(d>>4)&15),m===X&&(ha+=1),m>na&&(c<O&&(O=c),c>N&&(N=c),q=!0));else for(c=e+1;c<=k;c+=1)m=V[c][d],P=t[c+l][y]-t[c-u][y],m<=na?1===p[P]?(m=X,ba+=1):m>Q&&--m:m===X?0===n[P]&&(--m,ia+=1):m>Q&&--m,V[c][d]=m,0<m&&(c<z&&(z=c),c>D&&(D=c),H=!0,W[c>>4][d>>
8]|=1<<(~(d>>4)&15),m===X&&(ha+=1),m>na&&(c<O&&(O=c),c>N&&(N=c),q=!0));H&&(d<A&&(A=d),d>w&&(w=d));q&&(d<F&&(F=d),d>L&&(L=d));for(c=e+1;c<=k;c+=1){H=V[c];q=W[c>>4];E=t[c+l];var M=t[c-u];K=ma=!1;y=d+1+g;var J=d+1-r;if(fa)for(b=d+1;b<=f;b+=1)m=H[b],P=E[y]+M[J]-E[J]-M[y],m<=na?1===p[P]?U.random()>=ka[P]?(m=X,ba+=1):m>Q&&--m:m>Q&&--m:m===X?0===n[P]?U.random()>=aa[P]||(--m,ia+=1):U.random()>=ca[P]||(--m,ia+=1):m>Q&&--m,H[b]=m,0<m&&(q[b>>8]|=1<<(~(b>>4)&15),b<A&&(A=b),b>w&&(w=b),ma=!0,m===X&&(ha+=1),m>na&&
(K=!0,b<F&&(F=b),b>L&&(L=b))),y+=1,J+=1;else for(b=d+1;b<=f;b+=1)m=H[b],P=E[y]+M[J]-E[J]-M[y],m<=na?1===p[P]?(m=X,ba+=1):m>Q&&--m:m===X?0===n[P]&&(--m,ia+=1):m>Q&&--m,H[b]=m,0<m&&(q[b>>8]|=1<<(~(b>>4)&15),b<A&&(A=b),b>w&&(w=b),ma=!0,m===X&&(ha+=1),m>na&&(K=!0,b<F&&(F=b),b>L&&(L=b))),y+=1,J+=1;ma&&(c<z&&(z=c),c>D&&(D=c));K&&(c<O&&(O=c),c>N&&(N=c))}this.g.s=ha;this.g.ma=ba;this.g.$=ia;0<ha&&(this.g.v.H=A,this.g.v.J=w,this.g.v.I=z,this.g.v.L=D,this.g.na.H=F,this.g.na.J=L,this.g.na.I=O,this.g.na.L=N)}else if(v===
this.U.m&&6<g){d-=g;f+=g;e-=l;k+=l;-1===this.g.C&&(d-=g,f+=g,e-=l,k+=l);this.P=k-e+1;this.m=f-d+1;this.u=this.P+(this.m-1)/2|0;this.ea=this.m/2|0;for(r=0;r<this.u;r+=1)for(y=t[r],H=V[r+e],c=r-1,P=c-1,b=t[c],q=t[P],u=0;u<=this.m;u+=1)y[u]=this.i(c,u-1,b)+this.i(c,u+1,b)-this.i(P,u,q),r<this.P&&H[u+d]===X&&(y[u]+=1);for(r=l;r<=this.P-l;r+=1){c=r-1;b=t[c];var x=r+l;var B=t[x];y=x-1;var la=t[y];E=r-l-1;var Y=t[E];M=E-1;var qa=t[M];J=r+e;H=V[J];q=W[J>>4];K=ma=!1;if(fa)for(u=g;u<=this.m-g;u+=1){P=u+g;m=
u-g;P=this.i(x,u,B)-this.i(c,P+1,b)-this.i(c,m-1,b)+this.i(M,u,qa)+this.i(y,u,la)-this.i(c,P,b)-this.i(c,m,b)+this.i(E,u,Y);var sa=u+d;m=H[sa];m<=na?1===p[P]?U.random()>=ka[P]?(m=X,ba+=1):m>Q&&--m:m>Q&&--m:m===X?0===n[P]?U.random()>=aa[P]||(--m,ia+=1):U.random()>=ca[P]||(--m,ia+=1):m>Q&&--m;H[sa]=m;0<m&&(q[sa>>8]|=1<<(~(sa>>4)&15),sa<A&&(A=sa),sa>w&&(w=sa),ma=!0,m===X&&(ha+=1),m>na&&(K=!0,sa<F&&(F=sa),sa>L&&(L=sa)))}else for(u=g;u<=this.m-g;u+=1)P=u+g,m=u-g,P=this.i(x,u,B)-this.i(c,P+1,b)-this.i(c,
m-1,b)+this.i(M,u,qa)+this.i(y,u,la)-this.i(c,P,b)-this.i(c,m,b)+this.i(E,u,Y),sa=u+d,m=H[sa],m<=na?1===p[P]?(m=X,ba+=1):m>Q&&--m:m===X?0===n[P]&&(--m,ia+=1):m>Q&&--m,H[sa]=m,0<m&&(q[sa>>8]|=1<<(~(sa>>4)&15),sa<A&&(A=sa),sa>w&&(w=sa),ma=!0,m===X&&(ha+=1),m>na&&(K=!0,sa<F&&(F=sa),sa>L&&(L=sa)));ma&&(J<z&&(z=J),J>D&&(D=J));K&&(J<O&&(O=J),J>N&&(N=J))}this.g.s=ha;this.g.ma=ba;this.g.$=ia;0<ha&&(this.g.v.H=A,this.g.v.J=w,this.g.v.I=z,this.g.v.L=D,this.g.na.H=F,this.g.na.J=L,this.g.na.I=O,this.g.na.L=N)}else switch(v){case this.U.s:this.ya(d,
e,f,k,g,l);break;case this.U.v:this.ua(d,e,f,k,g,l);break;case this.U.B:this.eb(d,e,f,k,g,l);break;case 15:this.ib(d,e,f,k,g,l);break;case 10:this.Ea(d,e,f,k,g,l);break;case this.U.T:this.Ma(d,e,f,k,g,l);break;case this.U.O:this.wa(d,e,f,k,g,l);break;case this.U.M:this.sa(d,e,f,k,g,l);break;case this.U.F:this.Pa(d,e,f,k,g,l);break;case this.U.V:this.Ta(d,e,f,k,g,l);break;case this.U.W:this.Za(d,e,f,k,g,l);break;case this.U.P:this.Ba(d,e,f,k,g,l);break;case this.U.K:this.bb(d,e,f,k,g,l);break;case this.U.u:this.Ga(d,
e,f,k,g,l);break;default:this.Va(d,e,f,k,g,l)}-1!==this.g.C&&(d<R+g&&(d=R+g),f>T-g&&(f=T-g),e<Z+l&&(e=Z+l),k>oa-l&&(k=oa-l));v===this.U.i||v===this.U.m&&6<g||this.pa(d,e,f,k,a);1===this.g.C&&this.la(R,Z,T,oa)};Ea.prototype.Ia=function(a){var b=!1;this.ja&&1===(a&1)&&(b=!0);2===this.X?this.Ja(b):this.Ka(b)};var I={lE:15,gu:0,iu:1,hu:2,XE:3,Vv:"St.6",Uv:"St.3",qk:5E4,Oh:0,Nh:1,Ii:2,Ji:3,Ki:4,af:5,bf:6,Nz:7,Oz:8,sq:9,fu:10,Lz:11,SE:12,TE:13,Jz:14,Kz:15,Mz:16,UE:[0,1,2,3,4,5,6],VE:[2,3,5,6],wn:0,hl:1,
ui:2,Kl:27,yz:36,WE:["Rot90CW","Rot90CCW","FlipX","FlipY","Rot180","Flip"+String.fromCharCode(10189),"Flip"+String.fromCharCode(10187),"FlipOrth","Rot90","FlipOrthOrRot90","FlipDiag","FlipDiagOrRot90","FlipXOrRot180","FlipYOrRot180","Flip"+String.fromCharCode(10189)+"OrRot180","Flip"+String.fromCharCode(10187)+"OrRot180","FlipOrthOrDiag"],Jl:4194304,ME:268435456,hy:"Buffer Full",Mp:[[0,0,0],[0,236,91],[0,192,254],[254,0,0],[254,254,254],[75,75,75],[233,41,254],[64,0,128],[254,230,0],[150,128,0],[130,
200,0],[0,120,40],[254,140,0],[140,70,0],[0,0,254],[192,192,192],[128,128,128],[254,112,140],[174,0,168],[0,152,127],[0,73,59]],Yn:"off;on;killer on;killer off;eternal on;eternal off;p2 killer on;p2 killer off;egg on;egg off;p2 on;p2 off;p2 egg on;p2 egg off;inverter;catalyst;catalyst killer;on births;off births;on p2 births;off p2 births".split(";"),Np:[[0,0,0],[0,255,0],[0,0,160],[255,216,255],[255,0,0],[255,255,0],[96,96,96],[255,105,180],[128,0,128],[0,191,255],[0,64,128],[64,224,208],[0,128,
64],[255,255,255],[255,99,71],[250,128,114],[219,112,147],[255,165,0],[245,222,179],[0,255,255],[192,192,192],[192,255,128],[255,182,193],[0,255,127],[1,1,1],[255,0,127]],Zn:"dead;on;off;marked on trail;marked off trail;marked on alt;boundary;marked on no-trail;marked off no-trail;on trail 2;off trail 2;on trail 3;off trail 3;on no-trail 1;off disappearing;on no-trail 2;off vanishing;on no-trail 3;off cycling 1;on no-trail 4;off cycling 2;on no-trail 5;off cycling 3;on no-trail 6;hidden;on no-trail 7".split(";"),
LD:[[1,1,1],[1,0,0],[0,1,0]],MD:[[0,1,0],[1,1,0],[1,0,1]],ND:[[1,1,0],[1,0,1],[1,0,0]],OD:[[0,1,1],[1,1,0],[0,0,1]],HD:[[1,1,1],[0,0,1],[0,1,0]],ID:[[0,1,0],[0,1,1],[1,0,1]],JD:[[0,1,1],[1,0,1],[0,0,1]],KD:[[1,1,0],[0,1,1],[1,0,0]],TD:[[0,1,0],[1,0,0],[1,1,1]],UD:[[1,0,1],[1,1,0],[0,1,0]],VD:[[1,0,0],[1,0,1],[1,1,0]],WD:[[0,0,1],[1,1,0],[0,1,1]],PD:[[0,1,0],[0,0,1],[1,1,1]],QD:[[1,0,1],[0,1,1],[0,1,0]],RD:[[0,0,1],[1,0,1],[0,1,1]],SD:[[1,0,0],[0,1,1],[1,1,0]],ah:0,bh:1,dh:2,eh:3,rk:0,Bi:1,sk:2,Ci:3,
Lc:4096,ag:16,yw:1.6,Yl:4096,cE:512,bq:262144,uk:65536,vl:65536,bz:8192,az:131072,rp:64,jq:524288,uj:12,Ya:64,Af:127,pe:63,Ih:1,rb:1,jb:2,ub:4,yb:8,Eb:16,tb:32,Cb:64,Db:128};Ma.prototype.set=function(a){var b;this.tk=a.tk;this.A=a.A;this.o=a.o;this.s=a.s;this.u.set(a.u);this.i.set(a.i);this.h.set(a.h);this.v.set(a.v);this.m.set(a.m);this.l.set(a.l);this.C.set(a.C);this.m.set(a.m);this.F=a.F;for(b=0;b<a.B.length;b+=1)this.B[b].set(a.B[b])};Ma.prototype.K=function(a,b,c){this.tk=!0;this.A=a;this.o=
b.h<<16|b.l<<8|b.i;this.s=c.h<<16|c.l<<8|c.i};Ma.prototype.M=function(a,b){-1!==a&&(this.o=a);-1!==b&&(this.s=b)};S.prototype.set=function(a){this.h=a.h;this.l=a.l;this.i=a.i};va.prototype.set=function(a){this.h.set(a.h);this.i.set(a.i)};pa.prototype.Zh=function(){var a=G.Ib,b=this.displayWidth+a+a<<1;a=this.displayHeight+a+a<<1;this.Ec?(null===this.ad&&(this.ad=document.createElement("canvas")),this.ad.width=b,this.ad.height=a,this.jg=this.ad.getContext("2d",{alpha:!1}),this.kg=this.jg.getImageData(0,
0,this.ad.width,this.ad.height),this.Xg=new Uint32Array(this.kg.data.buffer)):this.Xg=this.kg=this.jg=null};pa.prototype.Lj=function(){var a,b,c,d=this.displayWidth,f=20*this.displayHeight,e=-f,k=this.zh;this.ni=new Uint16Array(I.qk);this.oi=new Float32Array(I.qk);this.mi=new Float32Array(I.qk);this.Kj=new Uint32Array(I.qk);var g=this.ni;var l=this.oi;var p=this.mi;for(a=0;a<I.qk;a+=1){g[a]=k.random()*d|0;for(b=c=0;10>b;b+=1)c+=k.random()*f;l[a]=-c/10;l[a]>e&&(e=l[a]);p[a]=k.random()/5+.8;if(a<I.qk-
4&&.2>k.random()){b=g[a];c=l[a];var n=p[a];a+=1;g[a]=b;l[a]=c-2;p[a]=n;a+=1;g[a]=b;l[a]=c+2;p[a]=n;1<b&&(a+=1,g[a]=b-2,l[a]=c,p[a]=n);b<d-2&&(a+=1,g[a]=b+2,l[a]=c,p[a]=n)}}for(a=0;a<I.qk;a+=1)l[a]-=e};pa.prototype.Hi=function(){var a=1;this.W&&(a=G.jm);this.ga&&(a=G.wl);return a};pa.prototype.hc=function(a){this.W&&(a*=G.jm);this.ga&&(a*=G.wl);return a};pa.prototype.Tf=function(){var a,b=0,c=this.displayWidth,d=this.displayHeight,f=this.Ma[0],e=this.Xc,k=this.zh,g=this.ni,l=this.oi,p=this.mi,n=this.Kj;
for(a=0;a<I.qk;a+=1){var q=g[a];var m=l[a];var r=p[a];var u=q;var t=m;if(0<=m&&m<d-1)if((m|0)===(m+r|0))t=m+r,e[(t|0)*c+u]=-1;else{if(e[(m+r|0)*c+q]===f)t=m+r;else{var v=k.random();if(.05>v){var A=1;.025>v&&(A=-1);0<=q+A&&q+A<c&&e[(m+r|0)*c+q+A]===f&&e[(m|0)*c+q+A]===f&&(u=q+A,t=m+r)}}e[(t|0)*c+u]=-1}else 0>m&&(t=m+r);t>=d-1&&(n[b]=a,b+=1);g[a]=u;l[a]=t}if(5<b)for(a=0;a<b;a+=1).25>k.random()&&(v=n[a],t=-(k.random()*d),u=k.random()*c|0,g[v]=u,l[v]=t,r=p[v],a<b-4&&.2>k.random()&&(a+=1,v=n[a],g[v]=u,
l[v]=t-2,p[v]=r,a+=1,v=n[a],g[v]=u,l[v]=t+2,p[v]=r,1<u&&(a+=1,v=n[a],g[v]=u-2,l[v]=t,p[v]=r),u<c-2&&(a+=1,v=n[a],g[v]=u+2,l[v]=t,p[v]=r)))};pa.prototype.Hl=function(a,b){a=(a&255)/255;return((b>>16)*a|0)<<16|((b>>8&255)*a|0)<<8|(b&255)*a|0};pa.prototype.qj=function(a){null===this.zd?this.zd=new OffscreenCanvas(31,31*a):(this.zd.width=31,this.zd.height=31*a);null===this.Ze?this.Ze=new OffscreenCanvas(15,15*a):(this.Ze.width=15,this.Ze.height=15*a);null===this.$e?this.$e=new OffscreenCanvas(7,7*a):
(this.$e.width=7,this.$e.height=7*a);this.Pf=this.zd.getContext("2d",{willReadFrequently:!0,alpha:!1});this.je=this.Ze.getContext("2d",{willReadFrequently:!0,alpha:!1});this.Ff=this.$e.getContext("2d",{willReadFrequently:!0,alpha:!1})};pa.prototype.vj=function(a){var b,c,d,f=0,e=null,k=null;var g=this.Ma;var l=this.u,p=g[1+l],n=g[2+l],q=g[4+l],m=g[8+l];this.qj(15);null!==a&&(a.ma=[]);for(b=0;3>b;b+=1){switch(b){case 0:e=this.zd;k=this.Pf;f=31;break;case 1:e=this.Ze;k=this.je;f=15;break;case 2:e=this.$e,
k=this.Ff,f=7}k.fillStyle=this.Ye[l];k.fillRect(0,0,e.width,e.height);var r=k.getImageData(0,0,e.width,e.height);var u=new Uint32Array(r.data.buffer);var t=0;for(g=1;15>=g;g+=1){if(0!==(g&1)){var v=1;for(c=f-1;c>=(f+1)/2;--c){for(d=v;d<f-v;d+=1)u[t+c*f+d]=p;v+=1}}if(0!==(g&2))for(v=1,d=0;d<=(f-3)/2;d+=1){for(c=v;c<f-v;c+=1)u[t+c*f+d]=n;v+=1}if(0!==(g&4))for(v=1,c=0;c<=(f-3)/2;c+=1){for(d=v;d<f-v;d+=1)u[t+c*f+d]=q;v+=1}if(0!==(g&8))for(v=1,d=f-1;d>=(f+1)/2;--d){for(c=v;c<f-v;c+=1)u[t+c*f+d]=m;v+=1}t+=
f*f}null!==a&&(a.ma[a.ma.length]={Lp:Ba.Jq,width:f,height:15*f,uu:4,zn:[],ut:[],aq:!1});k.putImageData(r,0,0);switch(b){case 0:this.sh=r;break;case 1:this.Qf=r;break;case 2:this.th=r}}null===this.nc&&(this.nc=new OffscreenCanvas(this.displayWidth+G.Ib,this.displayHeight+G.Ib),this.Se=this.nc.getContext("2d",{alpha:!1}),this.Lg=this.Se.createImageData(this.nc.width,this.nc.height));this.Dd=!0};pa.prototype.ng=function(a,b){var c=a.canvas.width,d=b.canvas.width,f=b.canvas.height/d,e,k=this.tc?4278190080:
255,g=this.Ac[0];g=this.tc?(4278190080|(g&255)<<16|g&65280|(g&16711680)>>16)>>>0:(g<<8|255)>>>0;var l=d>c?(d-3)/2:2*d;a.imageSmoothingEnabled=!1;for(e=0;e<f;e+=1)a.drawImage(b.canvas,0,e*d,d,d,0,e*c,l,l);b=a.getImageData(0,0,a.canvas.width,a.canvas.height);a=new Uint32Array(b.data.buffer);for(e=0;e<a.length;e+=1)if(0===a[e]||a[e]===k)a[e]=g;return b};pa.prototype.fo=function(a){var b,c,d,f,e,k,g=0,l=this.Ac[0],p=!1,n=!1,q=!1;this.Hc=a;if(0===a.length||this.ga||this.W)this.Dd=!1;else{this.qj(a[0].height/
a[0].width);for(c=0;c<a.length;c+=1){var m=a[c].width;var r=a[c].height/m;var u=a[c].ut;var t=a[c].zn;var v=a[c].aq;switch(m){case 31:var A=this.Pf;p=!0;break;case 15:A=this.je;n=!0;break;case 7:A=this.Ff;q=!0;break;default:console.error("LifeViewer: illegal icon size found");this.Dd=!1;return}var w=A.createImageData(A.canvas.width,A.canvas.height);var z=new Uint32Array(w.data.buffer);for(b=f=d=0;b<r;b+=1)for(v&&(g=this.Ac[b+1]),k=0;k<m;k+=1)for(e=0;e<m;e+=1){var D=u[d];d+=1;D=t[D];v&&(D=0===D?l:
this.Hl(D,g));z[f]=-16777216|(D&255)<<16|D&65280|D>>16;f+=1}A.putImageData(w,0,0);switch(m){case 31:this.sh=w;break;case 15:this.Qf=w;break;case 7:this.th=w}}null===this.nc&&(this.nc=new OffscreenCanvas(this.displayWidth+G.Ib,this.displayHeight+G.Ib),this.Se=this.nc.getContext("2d",{alpha:!1}),this.Lg=this.Se.createImageData(this.nc.width,this.nc.height));if(!1===p||!1===n||!1===q)!1===p&&(!1===n&&(this.Qf=this.ng(this.je,this.Ff)),this.sh=this.ng(this.Pf,this.je)),!1===n&&(this.Qf=q?this.ng(this.je,
this.Ff):this.ng(this.je,this.Pf)),!1===q&&(this.th=this.ng(this.Ff,this.je));this.Dd=!0}};pa.prototype.Xf=function(a){this.ic=0;this.Ce=-1;this.Sd=[];a?null===this.de&&(this.de=this.S.h(ra.Id,I.Jl,"Life.hashList"),this.zi=this.S.h(ra.kc,I.Jl,"Life.genList"),this.rf=this.S.h(ra.kc,I.Jl,"Life.popList"),this.ac=this.S.h(ra.kc,2*I.Jl,"Life.boxList"),this.Ee=this.S.h(ra.Id,I.Jl,"Life.nextList"),this.Zg=Array.matrix(ra.Ra,this.height,this.width,I.wn,this.S,"Life.countList"),2<this.h||this.o?this.De=Array.matrix(ra.Ra,
this.height,this.width,0,this.S,"Life.initList"):this.De=null,this.xf=this.Lf=this.Qc=-1,this.Ee.fill(-1),this.ri="",this.ke=null,this.Vd=new Uint16Array(67),this.Vd[0]=I.wn,this.Vd[1]=I.ui,this.Vd[2]=I.ui,this.Vd[64]=I.ui,this.Vd[65]=I.wn,this.Vd[66]=I.ui,this.Yh=performance.now()):(this.De=this.Zg=this.Ee=this.ac=this.rf=this.zi=this.de=null,this.xf=this.Lf=this.Qc=-1,this.qf=this.cg=this.Vd=null)};pa.prototype.rn=function(a,b,c){b="Spaceship ("+(b+","+c)+")c";1<a&&(b+="/"+a);return b};pa.prototype.zo=
function(a,b,c,d,f,e){var k=31415962,g,l=0,p=this.m,n=I.Ya;d+=e;for(g=0;g<b;g+=1)for(e=0;e<a;e+=1)p[d-l][f]>=n&&(k=1000003*k^g,k=1000003*k^e),l+=1,l===c&&(l=0,f+=1);return k|0};pa.prototype.hm=function(a,b,c,d,f,e){var k=31415962,g=this.m,l=I.Ya;c+=f;d+=e;for(e=0;e<b;e+=1){var p=g[d-e];for(f=0;f<a;f+=1)p[c-f]>=l&&(k=1000003*k^e,k=1000003*k^f)}return k|0};pa.prototype.Bo=function(a,b,c,d,f,e){var k=31415962,g,l=0,p=0,n=this.m,q=I.Ya;d+=f;for(g=0;g<b;g+=1)for(f=0;f<a;f+=1)n[p+e][d-l]>=q&&(k=1000003*
k^g,k=1000003*k^f),p+=1,p===c&&(p=0,l+=1);return k|0};pa.prototype.$l=function(a,b,c,d,f){var e=31415962,k,g=this.m,l=I.Ya;c+=d;for(k=0;k<b;k+=1){var p=g[k+f];for(d=0;d<a;d+=1)p[c-d]>=l&&(e=1000003*e^k,e=1000003*e^d)}return e|0};pa.prototype.dm=function(a,b,c,d,f){var e=31415962,k,g=this.m,l=I.Ya;c+=f;for(k=0;k<b;k+=1){var p=g[c-k];for(f=0;f<a;f+=1)p[f+d]>=l&&(e=1000003*e^k,e=1000003*e^f)}return e|0};pa.prototype.Do=function(a,b,c,d,f){var e=31415962,k,g=0,l=this.m,p=I.Ya;var n=d;for(k=0;k<b;k+=1)for(d=
0;d<a;d+=1)l[g+f][n]>=p&&(e=1000003*e^k,e=1000003*e^d),g+=1,g===c&&(g=0,n+=1);return e|0};pa.prototype.Go=function(a,b,c,d,f,e,k){var g=31415962,l=0,p=0,n=this.m,q=I.Ya;d+=e;f+=k;for(k=0;k<b;k+=1)for(e=0;e<a;e+=1)n[f-p][d-l]>=q&&(g=1000003*g^k,g=1000003*g^e),p+=1,p===c&&(p=0,l+=1);return g|0};pa.prototype.Ko=function(a,b){var c=0,d=a.H,f=a.I,e=a.J-d+1;a=a.L-f+1;var k=e-1,g=a-1,l=a;if(b===I.Oh||b===I.Nh||b===I.af||b===I.bf){var p=e;e=l;l=p}switch(b){case I.Oh:c=this.Bo(e,l,a,k,d,f);break;case I.Ki:c=
this.hm(e,l,k,g,d,f);break;case I.Nh:c=this.zo(e,l,a,g,d,f);break;case I.Ii:c=this.$l(e,l,k,d,f);break;case I.Ji:c=this.dm(e,l,g,d,f);break;case I.af:c=this.Do(e,l,a,d,f);break;case I.bf:c=this.Go(e,l,a,k,g,d,f)}return c};pa.prototype.sm=function(a,b){var c=31415962,d=a.H,f=a.I,e=a.J-d+1;a=a.L-f+1;var k=e-1,g=a-1,l=a,p,n,q=0,m=0,r=0,u=0,t=this.m,v=this.Da,A=I.Ya,w=G.zb[6]+128;(this.i||this.o||this.l||this.A)&&0!==(this.counter&1)&&(t=this.Y);if(b===I.Oh||b===I.Nh||b===I.af||b===I.bf){var z=e;e=l;
l=z}for(n=0;n<l;n+=1)for(p=0;p<e;p+=1){switch(b){case I.Nh:q=r;m=g-u;break;case I.Ki:q=k-p;m=g-n;break;case I.Oh:q=k-r;m=u;break;case I.Ii:q=k-p;m=n;break;case I.Ji:q=p;m=g-n;break;case I.af:q=r;m=u;break;case I.bf:q=k-r,m=g-u}if(this.F){if(t[m+f][q+d]>=A||v[m+f][q+d]===w)c=1000003*c^n,c=1000003*c^p,v[m+f][q+d]===w&&(c=1000003*c^6)}else if(this.l){if(z=t[m+f][q+d],z&1||6===z)c=1000003*c^n,c=1000003*c^p,6===z&&(c=1000003*c^z)}else if(z=t[m+f][q+d],z>this.u){z-=this.u;if(this.i)switch(b){case I.Nh:z=
z<<1&15|(z&8)>>3;break;case I.Ki:z=(z&3)<<2|(z&12)>>2;break;case I.Oh:z=z>>1&15|(z&1)<<3;break;case I.Ii:z=z&5|(z&2)<<2|(z&8)>>2;break;case I.Ji:z=z&10|(z&1)<<2|(z&4)>>2;break;case I.af:z=(z&8)>>3|(z&4)>>1|(z&2)<<1|(z&1)<<3;break;case I.bf:z=(z&4)<<1|(z&8)>>1|(z&1)<<1|(z&2)>>1}else this.o||(z=this.h-z);c=1000003*c^n;c=1000003*c^p;c=1000003*c^z}u+=1;u===a&&(u=0,r+=1)}return c|0};pa.prototype.Io=function(a,b,c){return c?this.Ko(a,b):this.sm(a,b)};pa.prototype.cm=function(a,b,c,d,f,e){var k=0!==d&&0!==
f,g=-1;a=this.gj(a,b,d,f);if(a&=c)a&1<<I.Ii&&(g=I.Ii,a&1<<I.Ji?(g=I.Nz,a&1<<I.Oh?a&1<<I.Nh&&(g=I.sq):a&1<<I.af&&a&1<<I.bf&&(g=I.Mz)):a&1<<I.Ki&&(g=I.SE),g===I.Ii&&2!==e&&(g=-1)),-1===g&&a&1<<I.Ji&&(g=I.Ji,a&1<<I.Ii?(g=I.Nz,a&1<<I.Oh?a&1<<I.Nh&&(g=I.sq):a&1<<I.af&&a&1<<I.bf&&(g=I.Mz)):a&1<<I.Ki&&(g=I.TE),g===I.Ji&&2!==e&&(g=-1)),-1===g&&a&1<<I.Oh&&(g=I.Oh,a&1<<I.Nh&&(g=I.Oz,a&1<<I.Ii&&a&1<<I.Ji&&(g=I.sq),a&1<<I.af&&a&1<<I.bf&&(g=I.Lz)),g===I.Oh&&4!==e&&(g=-1)),-1===g&&a&1<<I.Nh&&(g=I.Nh,a&1<<I.Oh&&
(g=I.Oz,a&1<<I.Ii&&a&1<<I.Ji&&(g=I.sq),a&1<<I.af&&a&1<<I.bf&&(g=I.Lz)),g===I.Nh&&4!==e&&(g=-1)),-1===g&&a&1<<I.af&&(g=I.af,a&1<<I.bf?g=I.fu:!k&&a&1<<I.Ki&&(g=I.Jz)),-1===g&&a&1<<I.bf&&(g=I.bf,a&1<<I.af?g=I.fu:!k&&a&1<<I.Ki&&(g=I.Kz)),-1===g&&a&1<<I.Ki&&(g=I.Ki,a&1<<I.af?g=I.Jz:a&1<<I.bf&&(g=I.Kz),g===I.Ki&&2!==e&&(g=-1));k&&(g===I.fu?(d===f&&(g=I.af),d===-f&&(g=I.bf)):(a&1<<I.bf&&d===f&&(g=-1),a&1<<I.af&&d===-f&&(g=-1)));this.ga||this.W?1!==e&&2!==e&&3!==e&&6!==e&&(g=-1):1!==e&&2!==e&&4!==e&&(g=-1);
return g};pa.prototype.gj=function(a,b,c,d){var f=2>=this.h&&!this.o&&!this.F,e,k=0;var g=0===c&&0===d?I.UE:I.VE;for(e=0;e<g.length;e+=1){var l=g[e];var p=this.Io(a,l,f);if(p===b){p=!0;if(0!==c||0!==d)0!==c||l!==I.Ji&&l!==I.af&&l!==I.bf||(p=!1),0!==d||l!==I.Ii&&l!==I.af&&l!==I.bf||(p=!1);p&&(k|=1<<l)}}return k};pa.prototype.Ig=function(a){var b=31415962,c=a.H,d=a.I,f=a.J;a=a.L;var e,k,g=2>=this.h&&!this.o,l=this.m,p=this.Da,n=I.Ya,q=G.zb[6]+128;(this.i||this.o||this.l||this.A)&&0!==(this.counter&
1)&&(l=this.Y);for(k=d;k<=a;k+=1){var m=k-d;var r=l[k];if(this.F){var u=p[k];for(e=c;e<=f;e+=1)if(r[e]>=n||u[e]===q)b=1000003*b^m,b=1000003*b^e-c,u[e]===q&&(b=1000003*b^6)}else if(g)for(e=c;e<=f;e+=1)r[e]>=n&&(b=1000003*b^m,b=1000003*b^e-c);else if(this.l)for(e=c;e<=f;e+=1){if(r[e]&1||6===r[e])b=1000003*b^m,b=1000003*b^e-c,6===r[e]&&(b=1000003*b^6)}else if(this.o)for(e=c;e<=f;e+=1)u=r[e],u>this.u&&(u-=this.u,b=1000003*b^m,b=1000003*b^e-c,b=1000003*b^u);else for(e=c;e<=f;e+=1)u=r[e],u>this.u&&(u-=
this.u,this.i||(u=this.h-u),b=1000003*b^m,b=1000003*b^e-c,b=1000003*b^u)}return b|0};pa.prototype.Uf=function(a,b){for(var c;0!==b;)c=b,b=a%b,a=c;return a};pa.prototype.Vl=function(a,b){var c="Oblique";if(a>b){var d=a;a=b;b=d}d=this.Uf(a,b);a/=d;b/=d;switch(10*a+b){case 12:c+=" Knightwise";break;case 13:c+=" Camelwise";break;case 14:c+=" Giraffewise";break;case 15:c+=" Ibiswise";break;case 16:c+=" Flamingowise";break;case 23:c+=" Zebrawise";break;case 34:c+=" Antelopewise"}return c};pa.prototype.um=
function(a,b){var c=new Sa(0,0,0,0),d,f,e=16384,k=-16384,g=16384,l=-16384;for(d=f=0;d<a;d+=1){var p=this.ac[b+f<<1];var n=p>>16;var q=p&65535;p=this.ac[(b+f<<1)+1];var m=p>>16;p&=65535;m<e&&(e=m);p<g&&(g=p);m+n-1>k&&(k=m+n-1);p+q-1>l&&(l=p+q-1);f+=1}c.H=e;c.I=g;c.J=k;c.L=l;return c};pa.prototype.Od=function(a,b){return a===Math.floor(a)?String(a):a.toFixed(b)};pa.prototype.rj=function(a,b){var c,d,f=4283453520,e=4286611584,k=0;var g=[];var l=!1;var p=this.view.h.s;var n=this.displayWidth-120*p;var q=
this.displayHeight-90*p;var m=0,r=0,u=this.Wd;this.tc||(f=1347440895,e=2155905279);this.ga&&(u+=Math.ceil(this.bc/2));p=this.uh=8;n/=(u+2)*p;q/=(this.bc+2)*p;1<=(n>q?q:n)?(l=!0,k=1):p=this.uh=1;var t=0;for(n=2;n<this.Ka.length-1;n+=1)0<this.Ka[n]&&(t+=1);this.ej=t;q=0;for(n=2;n<this.Ka.length-1;n+=1)if(0<this.Ka[n]){var v=Math.floor(q/t*360);g[n]="hsl("+v+",100%,"+(70-12*(q&3))+"%)";q+=1}g[0]="black";g[1]="rgb(168,168,168)";g[this.Ka.length-1]="rgb(238,238,238)";this.fc?(g[-1]="rgb(96,96,96)",n=-1):
n=0;for(;n<this.Ka.length;){if(-1===n||0===n||0<this.Ka[n])this.Gf.fillStyle=g[n],v=this.Gf.fillStyle,q=parseInt(v.substring(1,3),16),t=parseInt(v.substring(3,5),16),v=parseInt(v.substring(5,7),16),this.Mc[n]=this.tc?-16777216|v<<16|t<<8|q:q<<24|t<<16|v<<8|255;n+=1}g=p*(u+2)+k;this.ga&&0===(this.bc&1)&&(g+=p/2);g|=0;var A=p*(this.bc+2)+k;this.Ic.width=g;this.Ic.height=A;this.Gf.fillStyle="rgba(0,0,0,0)";this.Gf.fillRect(0,0,this.Ic.width,this.Ic.height);k=this.Gf.getImageData(0,0,this.Ic.width,this.Ic.height);
t=new Uint32Array(k.data.buffer);this.ga&&(r=-p/2,m=(this.bc>>1)*p-r,0===(this.bc&1)&&(m+=r));for(q=0;q<this.bc;q+=1){for(n=0;n<this.Wd;n+=1)for(v=this.ke[q*this.Wd+n],v=this.Mc[v],d=0;d<p;d+=1){var w=((q+1)*p+d)*g+(n+1)*p+m;for(c=0;c<p;c+=1)t[w+c|0]=v}m+=r}v=-1!==this.C?e:4278190080;this.ga&&(r=-p/2,m=(this.bc>>1)*p-r,0===(this.bc&1)&&(m+=r));m-=r;for(d=0;d<p;d+=1){w=d*g+m;for(n=0;n<(this.Wd+2)*p;n+=1)t[w+n]=v;w+=(this.bc+1)*p*g-m;for(n=0;n<(this.Wd+2)*p;n+=1)t[w+n]=v}m+=r;for(q=0;q<this.bc;q+=1){for(d=
0;d<p;d+=1)for(w=((q+1)*p+d)*g+m,n=w+p*(this.Wd+1),c=0;c<p;c+=1)t[w+c]=v,t[n+c]=v;m+=r}if(l){this.ga&&(m=(this.bc>>1)*p-r+p,0===(this.bc&1)&&(m+=r));for(q=-1;q<=this.bc+1;q+=1){m+=r;w=(q+1)*p*g;for(n=m;n<(this.Wd+2)*p+1+m;n+=1)0<=n&&(t[w+n]=f);if(this.ga)for(c=0;c<-r;c+=1)n+c<g&&(t[w+n+c]=f)}n=-1;l=this.Wd+1;this.ga&&(m=(this.bc>>1)*p-r,n+=1,l+=1,0===(this.bc&1)&&(m+=r));for(;n<=l;n+=1)for(e=0,v=m,q=0;q<(this.bc+2)*p;q+=1)0===e%p&&(v+=r),e+=1,A=(n+1)*p+v,0<=A&&A<this.Ic.width&&(t[q*g+A]=f)}else{this.ga&&
(m=A>>1,r=-.5);l=0;w=g*(A-1);for(n=0;n<g-m;n+=1)t[n+m]=f,t[n+w]=f;for(q=0;q<A;q+=1)t[q*g+(m|0)]=f,t[q*g+g-1+(l|0)]=f,m+=r,l+=r}for(n=this.fc?-1:0;n<this.Ka.length;){if(-1===n||0<this.Ka[n])v=this.Mc[n],this.tc?(q=v&255,t=v>>8&255,v=v>>16&255):(q=v>>24,t=v>>16&255,v=v>>8&255),this.Mc[n]=q<<16|t<<8|v;n+=1}this.Gf.putImageData(k,0,0);this.Eh=u;b.$A();this.fl(a)};pa.prototype.Be=function(a,b,c,d,f){var e=this.ha;var k=e.measureText(a).width;e.fillText(a,c+b-k+f,d+f);return c+b};pa.prototype.fl=function(a){var b=
this.view.h.s,c=24*b,d=a.O+a.height,f=0;for(a=this.Ka.length-1;0<a;--a){var e=this.Ka[a];0<e&&(f+=1)}this.Vc=d+(c>>1)+(f+1)*c>this.displayHeight-80*b?f-1:0};pa.prototype.Ol=function(){0!==this.Vc&&(this.fb=0)};pa.prototype.Ll=function(){0!==this.Vc&&(this.fb=this.Vc)};pa.prototype.Ul=function(){0<this.fb&&(this.fb-=this.si,0>this.fb&&(this.fb=0))};pa.prototype.Rl=function(){this.fb<this.Vc&&(this.fb+=this.si,this.fb>this.Vc&&(this.fb=this.Vc))};pa.prototype.tl=function(a){var b=0,c=2,d=this.view.h.s;
var f=a.y+a.height;var e=a.width;var k=a.u;var g=a.mc;var l=a.A;a=24*d;var p=16*d,n=(e>>2)-1,q=this.displayWidth-e>>1,m=this.ha;m.fillStyle=g;m.globalAlpha=k;var r=a;for(k=this.Ka.length-1;0<k;--k){var u=this.Ka[k];0<u&&r+f<this.displayHeight-80*d&&(r+=a)}m.fillRect(q,f,e,r);m.font=(20*d|0)+"px Arial";m.globalAlpha=1;m.fillStyle=g;r=f+(a>>1);for(e=0;2>e;e+=1){g=q;g=this.Be("Period",n,g,r,c);g=this.Be("Count",n,g,r,c);g=this.Be("% Total",n,g,r,c);this.Be("% Rotor",n,g,r,c);r+=a;b=0;for(k=this.Ka.length-
1;0<k;--k)u=this.Ka[k],0<u&&r<this.displayHeight-80*d&&(b>=(this.fb|0)&&(g=q,g=this.Be(String(k),n,g,r,c),g=this.Be(String(u),n,g,r,c),g=this.Be((Math.floor(1E4*u/this.gg)/100).toFixed(2)+"%",n,g,r,c),1<k&&this.Be((Math.floor(1E4*u/this.ci)/100).toFixed(2)+"%",n,g,r,c),r+=a),b+=1);r=f+(a>>1);c=0;m.fillStyle=l}f=b;b=0;c=28*d>>1;for(k=this.Ka.length-1;0<k;--k)u=this.Ka[k],0<u&&b<f&&(b>=(this.fb|0)&&(m.fillStyle=this.view.D.mc,m.fillRect(q+(p>>1)+2,r+c+2,p,p),m.fillStyle="#"+("000000"+this.Mc[k].toString(16)).slice(-6),
m.fillRect(q+(p>>1),r+c,p,p),r+=a),b+=1);0===this.fb&&(this.si=f-1)};pa.prototype.rl=function(a){var b=this.view.h.s,c=50*b,d=15*b,f=16*b,e=.7*d|0;var k=this.displayHeight-90*b;var g=this.ej,l=this.uh,p=a.u,n=a.A;a=a.mc;var q=this.ha,m=!1,r=40*b;var u=this.Hi();var t=(this.displayWidth-b*(c+c+20))/((this.Eh+2)*l);k/=(this.bc+2)*l;t=t>k?k:t;1<=t&&(t|=0);q.save();q.translate(this.displayWidth>>1,this.displayHeight>>1);1<u?q.scale(t/u,t):q.scale(t,t*u);q.imageSmoothingEnabled=1>t||1>=t*u?!0:!1;q.drawImage(this.Ic,
-(this.Ic.width>>1),-(this.Ic.height>>1));q.imageSmoothingEnabled=!1;q.restore();l=55*b;q.font=(11*b|0)+"px Arial";0===this.Ka[this.Ka.length-1]&&--g;0===this.Ka[1]&&--g;this.fc&&(g+=1);k=0;for(t=this.Ka.length-1;0<t;--t)u=this.Ka[t],0<u&&t>k&&(k=t);var v=q.measureText(String(k)+" ").width;this.fc&&(k=this.A?q.measureText(I.Uv+" ").width:q.measureText(I.Vv+" ").width,k>v&&(v=k));var A=(this.displayHeight-(g+2)*d)/2;A<=r&&(A=r,m=!0);q.globalAlpha=p;q.fillStyle=a;m?q.fillRect(l-c-2,A-2,2*(e+v+8*b),
this.displayHeight-3*r+d):q.fillRect(l-c-2,A-2,e+v+8*b,(g+2)*d+3*b);q.globalAlpha=1;k=0;this.fc&&(q.fillStyle=this.view.D.mc,q.fillRect(l-c+2,A+k*d+2,e,e),q.fillStyle="#"+("000000"+this.Mc[-1].toString(16)).slice(-6),q.fillRect(l-c,A+k*d,e,e),this.A?(q.fillStyle=a,q.fillText(I.Uv,l-c+f+2,A+k*d+2+7*b),q.fillStyle=n,q.fillText(I.Uv,l-c+f,A+k*d+7*b)):(q.fillStyle=a,q.fillText(I.Vv,l-c+f+2,A+k*d+2+7*b),q.fillStyle=n,q.fillText(I.Vv,l-c+f,A+k*d+7*b)),k+=1);for(t=this.Ka.length-1;0<t;--t)u=this.Ka[t],0<
u&&(A+k*d+2+b>this.displayHeight-2*r&&(k=0,l+=e+v+10*b),q.fillStyle=this.view.D.mc,q.fillRect(l-c+2,A+k*d+2+b,e,e),q.fillStyle="#"+("000000"+this.Mc[t].toString(16)).slice(-6),q.fillRect(l-c,A+k*d+b,e,e),q.fillStyle=a,q.fillText(String(t),l-c+f+2,A+k*d+2+7*b),q.fillStyle=n,q.fillText(String(t),l-c+f,A+k*d+7*b),k+=1)};pa.prototype.Vo=function(a,b){var c,d=this.m,f=this.Zg,e,k,g,l,p=I.Ya,n=this.Vd;var q=this.ea;var m=this.ba>>4;var r=0;var u=q,t=I.hl;0>r&&(r=0);u>q&&(u=q);q=r<<4;var v=q+16;for(e=r;e<
u;e+=1){var A=0;var w=b[e];for(k=0;k<m;k+=1)if(l=w[k])for(g=15;0<=g;--g){if(0!==(l&1<<g))for(r=q;r<v;){var z=d[r];var D=f[r];if(0===a)for(c=A;c<A+16;)z[c]>=p&&(D[c]=t),c+=1,z[c]>=p&&(D[c]=t),c+=1,z[c]>=p&&(D[c]=t),c+=1,z[c]>=p&&(D[c]=t),c+=1;else c=A,D[c]=n[(z[c]&64)+D[c]],c+=1,D[c]=n[(z[c]&64)+D[c]],c+=1,D[c]=n[(z[c]&64)+D[c]],c+=1,D[c]=n[(z[c]&64)+D[c]],c+=1,D[c]=n[(z[c]&64)+D[c]],c+=1,D[c]=n[(z[c]&64)+D[c]],c+=1,D[c]=n[(z[c]&64)+D[c]],c+=1,D[c]=n[(z[c]&64)+D[c]],c+=1,D[c]=n[(z[c]&64)+D[c]],c+=
1,D[c]=n[(z[c]&64)+D[c]],c+=1,D[c]=n[(z[c]&64)+D[c]],c+=1,D[c]=n[(z[c]&64)+D[c]],c+=1,D[c]=n[(z[c]&64)+D[c]],c+=1,D[c]=n[(z[c]&64)+D[c]],c+=1,D[c]=n[(z[c]&64)+D[c]],c+=1,D[c]=n[(z[c]&64)+D[c]];r+=1}A+=16}else A+=256;q+=16;v+=16}};pa.prototype.Hn=function(a,b){var c=a.H,d=a.I,f=a.J;a=a.L;var e,k=this.m,g=this.Zg,l=this.De,p=I.Ya,n=2>=this.h&&!this.o,q=I.hl,m=I.wn,r=I.ui;(this.i||this.o||this.l||this.A)&&0!==(this.counter&1)&&(k=this.Y);for(e=d;e<=a;e+=1){var u=k[e];var t=g[e];if(n)if(0===b)for(d=c;d<=
f;d+=1)u[d]>=p&&(t[d]=q);else for(d=c;d<=f;d+=1)u[d]>=p?t[d]===m&&(t[d]=r):t[d]===q&&(t[d]=r);else if(this.i)if(0===b)for(d=c;d<=f;d+=1){var v=u[d];v=v>this.u?v-this.u:0;var A=0;0!==(v&1)&&(A=q);var w=0;0!==(v&2)&&(w=q);var z=0;0!==(v&4)&&(z=q);var D=0;0!==(v&8)&&(D=q);t[d]=A|w<<2|z<<4|D<<6}else for(d=c;d<=f;d+=1)D=t[d],v=u[d],v=v>this.u?v-this.u:0,A=D&3,0!==(v&1)?A===m&&(A=r):A===q&&(A=r),w=D>>2&3,0!==(v&2)?w===m&&(w=r):w===q&&(w=r),z=D>>4&3,0!==(v&4)?z===m&&(z=r):z===q&&(z=r),D=D>>6&3,0!==(v&8)?
D===m&&(D=r):D===q&&(D=r),t[d]=A|w<<2|z<<4|D<<6;else if(this.l)for(v=l[e],d=c;d<=f;d+=1)0===b?(v[d]=u[d]&1,u[d]&1&&(t[d]=q)):u[d]&1?t[d]===m?t[d]=r:(u[d]&1)!==v[d]&&(t[d]=r):t[d]===q&&(t[d]=r);else if(this.A)for(v=l[e],d=c;d<=f;d+=1)A=0<u[c],0===b?A?(v[d]=1,t[d]=q):v[d]=0:A?t[d]===m?t[d]=r:0===v[d]&&(t[d]=r):t[d]===q&&(t[d]=r);else for(v=l[e],d=c;d<=f;d+=1)0===b?(v[d]=u[d],u[d]>this.u&&(t[d]=q)):u[d]>this.u?t[d]===m?t[d]=r:u[d]!==v[d]&&(t[d]=r):t[d]===q&&(t[d]=r)}};pa.prototype.Fn=function(a,b){var c=
this.qf.aa,d=this.ra.aa,f=this.cg.aa;if(-1===this.h||this.Ca&&2===this.h){for(a=0;a<c.length;a+=1)c[a]=d[a]|f[a];this.Vo(b,this.qf);for(a=0;a<f.length;a+=1)f[a]=d[a]}else this.Hn(a,b)};pa.prototype.vn=function(a,b,c){var d,f,e=0,k,g=I.Ya;if(this.l||this.A||this.o)b=this.m,0!==(this.counter&1)&&(b=this.Y);for(f=a.I;f<=a.L;f+=1){var l=b[f];if(this.l||this.o)for(d=a.H;d<=a.J;d+=1)l[d]&1&&(c[e]+=1),e+=1;else if(this.A)for(d=a.H;d<=a.J;d+=1){if(k=l[d])switch(k){case 3:--this.s;break;case 6:this.ma+=1;
c[e]+=1;break;case 7:--this.s;this.$+=1;break;case 10:this.ma+=1;c[e]+=1;break;case 11:--this.s;this.$+=1;break;case 12:this.ma+=1;c[e]+=1;break;case 13:--this.s;this.$+=1;break;case 19:this.ma+=1;c[e]+=1;break;case 20:--this.s;this.$+=1;break;default:c[e]+=1}e+=1}else for(d=a.H;d<=a.J;d+=1)l[d]>=g&&(c[e]+=1),e+=1}};pa.prototype.Yo=function(a,b,c,d,f,e,k){var g,l=I.Ya;if(this.l||this.A||this.o)b=this.m,0!==(this.counter&1)&&(b=this.Y);var p=d*e;for(e=a.I;e<=a.L;e+=1){var n=b[e];var q=(e-a.I)*f+p;
var m=k;if(this.l||this.o){d=a.H;for(g=0;d<=a.J-16;)n[d]&1&&(g|=m),m>>=1,d+=1,n[d]&1&&(g|=m),m>>=1,d+=1,n[d]&1&&(g|=m),m>>=1,d+=1,n[d]&1&&(g|=m),m>>=1,d+=1,n[d]&1&&(g|=m),m>>=1,d+=1,n[d]&1&&(g|=m),m>>=1,d+=1,n[d]&1&&(g|=m),m>>=1,d+=1,n[d]&1&&(g|=m),m>>=1,d+=1,n[d]&1&&(g|=m),m>>=1,d+=1,n[d]&1&&(g|=m),m>>=1,d+=1,n[d]&1&&(g|=m),m>>=1,d+=1,n[d]&1&&(g|=m),m>>=1,d+=1,n[d]&1&&(g|=m),m>>=1,d+=1,n[d]&1&&(g|=m),m>>=1,d+=1,n[d]&1&&(g|=m),m>>=1,d+=1,n[d]&1&&(g|=m),d+=1,0!==g&&(c[q]=g,g=0),m=k,q+=1;for(;d<=a.J;)n[d]&
1&&(g|=m),m>>=1,d+=1}else if(this.A){d=a.H;for(g=0;d<=a.J-16;)n[d]&&(g|=m),m>>=1,d+=1,n[d]&&(g|=m),m>>=1,d+=1,n[d]&&(g|=m),m>>=1,d+=1,n[d]&&(g|=m),m>>=1,d+=1,n[d]&&(g|=m),m>>=1,d+=1,n[d]&&(g|=m),m>>=1,d+=1,n[d]&&(g|=m),m>>=1,d+=1,n[d]&&(g|=m),m>>=1,d+=1,n[d]&&(g|=m),m>>=1,d+=1,n[d]&&(g|=m),m>>=1,d+=1,n[d]&&(g|=m),m>>=1,d+=1,n[d]&&(g|=m),m>>=1,d+=1,n[d]&&(g|=m),m>>=1,d+=1,n[d]&&(g|=m),m>>=1,d+=1,n[d]&&(g|=m),m>>=1,d+=1,n[d]&&(g|=m),d+=1,0!==g&&(c[q]=g,g=0),m=k,q+=1;for(;d<=a.J;)n[d]&&(g|=m),m>>=1,
d+=1}else{d=a.H;for(g=0;d<=a.J-16;)n[d]>=l&&(g|=m),m>>=1,d+=1,n[d]>=l&&(g|=m),m>>=1,d+=1,n[d]>=l&&(g|=m),m>>=1,d+=1,n[d]>=l&&(g|=m),m>>=1,d+=1,n[d]>=l&&(g|=m),m>>=1,d+=1,n[d]>=l&&(g|=m),m>>=1,d+=1,n[d]>=l&&(g|=m),m>>=1,d+=1,n[d]>=l&&(g|=m),m>>=1,d+=1,n[d]>=l&&(g|=m),m>>=1,d+=1,n[d]>=l&&(g|=m),m>>=1,d+=1,n[d]>=l&&(g|=m),m>>=1,d+=1,n[d]>=l&&(g|=m),m>>=1,d+=1,n[d]>=l&&(g|=m),m>>=1,d+=1,n[d]>=l&&(g|=m),m>>=1,d+=1,n[d]>=l&&(g|=m),m>>=1,d+=1,n[d]>=l&&(g|=m),d+=1,0!==g&&(c[q]=g,g=0),m=k,q+=1;for(;d<=a.J;)n[d]>=
l&&(g|=m),m>>=1,d+=1}0!==g&&(c[q]=g)}};pa.prototype.Mk=function(a,b,c,d,f,e,k,g,l){var p,n,q,m;for(p=1;p<=b/2;p+=1)if(0===b%p){var r=b-p;var u=r*k;var t=p*k;var v=b/p;for(q=0;q<e;q+=1){var A=q*f;r=q*g;var w=l;for(n=0;n<f;n+=1){if(a[A+n]===b&&!(d[A+n]%v)){var z=(n>>4)+r;for(m=z+u;z<m;){var D=c[z];var F=c[z+t];(D^F)&w&&(z=m);z+=k}z===m&&(a[A+n]=p)}w=(w>>1|w<<15)&65535}}}};pa.prototype.xl=function(a,b,c){var d=a.H,f=a.I,e=a.J;a=a.L;var k,g,l=G.zb[6]+128;this.fc=0;for(g=f;g<=a;g+=1){var p=c[g];var n=
(g-f)*(e-d+1);for(k=d;k<=e;k+=1)p[k]===l&&(b[n+k-d]=-1,this.fc+=1)}};pa.prototype.Cl=function(a,b,c){var d=a.H,f=a.I,e=a.J;a=a.L;var k,g;this.fc=0;for(g=f;g<=a;g+=1){var l=c[g];var p=(g-f)*(e-d+1);for(k=d;k<=e;k+=1)6===l[k]&&(b[p+k-d]=-1,this.fc+=1)}};pa.prototype.sl=function(a,b,c){var d=a.H,f=a.I,e=a.J;a=a.L;var k,g;this.fc=0;for(g=f;g<=a;g+=1){var l=c[g];var p=(g-f)*(e-d+1);for(k=d;k<=e;k+=1)3===l[k]&&(b[p+k-d]=-1,this.fc+=1)}};pa.prototype.mk=function(){var a=this.Ca?this.na:this.v,b=this.pi,
c=this.Xh,d=this.Z?-1:0;this.l&&(a=this.nh);-1!==this.C?(c.H=Math.round((this.width-this.M)/2)+d,c.I=Math.round((this.height-this.K)/2)+d,c.J=c.H+this.M-1,c.L=c.I+this.K-1):(c.set(a),(this.l||this.F)&&c.h(b));return this.Xh};pa.prototype.kj=function(a,b,c,d,f,e){var k,g=0,l=0,p=!1,n=null,q=null,m=this.m,r=new Uint32Array(a+1),u=null,t=0,v=0,A=0,w,z,D=w=z=0,F=0,L=0,O=0,N=0,V=0,W=0,H=0,P=[];this.Dk=(performance.now()-this.Yh)/1E3;(this.i||this.o||this.l||this.A)&&0!==(this.counter&1)&&(m=this.Y);b=
this.um(a,b);d&&(2>=this.h||this.l||this.A)&&(t=b.J-b.H+1,v=b.L-b.I+1,g=(t-1>>4)+1,l=g*v,l*a<=I.ME&&(n=new Uint16Array(a*l),u=new Int32Array(t*v),q=new Uint32Array(t*v),z=8*n.BYTES_PER_ELEMENT-1,z=1<<z,p=!0));p||(this.Zg.aa.fill(I.wn),this.cg=Array.matrix(ra.Ha,this.ea,(this.ba-1>>4)+1,0,this.S,"Life.occTileMap"),this.qf=Array.matrix(ra.Ha,this.ea,(this.ba-1>>4)+1,0,this.S,"Life.occMergedTileMap"));this.nf=268435456;for(k=this.Kg=this.Yf=0;k<=a+1;k+=1){c.Ri();d||(b=this.mk());if(c.lm){-1===c.vb&&
(c.vb=this.counter);return}this.counter&&0<this.s&&!d&&(c.Qb.H=b.H,c.Qb.I=b.I,c.Qb.J=b.J,c.Qb.L=b.L,c.Sj(c,c.Qb));p?(k<a&&this.vn(b,m,q),this.Yo(b,m,n,k,g,l,z)):this.Fn(b,k);0===k?(w=this.Ig(b),D=b.J-b.H+1,F=b.L-b.I+1):1===k?(L=this.Ig(b),O=b.J-b.H+1,N=b.L-b.I+1):2===k&&this.Z&&w===L&&(V=this.Ig(b),W=b.J-b.H+1,H=b.L-b.I+1);if(!this.ga&&!this.W&&-1===this.Qc){for(;-1===this.Qc&&0<P.length&&P[0].i===k;){if(this.Z&&w===L){var R=W;var T=H;var Z=2;var oa=V}else R=O,T=N,Z=1,oa=L;if(b.J-b.H+1===R&&b.L-b.I+
1===T||b.J-b.H+1===T&&b.L-b.I+1===R)this.Lf=this.cm(b,oa,P[0].h,f,e,a/(k-Z)),this.Qc=-1!==this.Lf?k-Z:-1;P.shift()}-1===this.Qc&&0<k&&0===a%k&&(b.J-b.H+1===D&&b.L-b.I+1===F||b.J-b.H+1===F&&b.L-b.I+1===D)&&(R=this.gj(b,w,f,e),0===R||this.Z&&w===L&&2>k||(P[P.length]=this.Z&&w===L?new ic(k+2,R):new ic(k+1,R)))}k<a&&(R=this.ma+this.$,R<this.nf&&(this.nf=R),R>this.Yf&&(this.Yf=R),this.Kg+=R,this.rf[k]=this.s,this.ac[k<<1]=b.J-b.H+1<<16|b.L-b.I+1,this.ac[(k<<1)+1]=b.H<<16|b.I)}if(p){for(e=0;e<v;e+=1)for(w=
e*t,f=0;f<t;f+=1)q[w+f]&&(u[w+f]=a,A+=1);this.Mk(u,a,n,q,t,v,l,g,z);for(e=0;e<v;e+=1)for(w=e*t,f=0;f<t;f+=1)(k=u[w+f])&&(r[k]+=1);d&&(this.fc=0,this.F&&this.xl(b,u,this.Da),this.l&&this.Cl(b,u,m),this.A&&this.sl(b,u,m));k=r[a]/A;this.ri=this.Od(k,2);this.Ka=r;this.gg=A;this.ke=u;this.Wd=this.Eh=t;this.bc=v;this.rj(c.Ee,c)}else this.Ka=null;this.Ek=(performance.now()-this.Yh)/1E3};pa.prototype.Km=function(a,b,c,d,f,e,k,g){var l="",p=String(this.counter-d),n="",q="",m=268435457,r=0,u=16384,t=0,v=16384,
A=0,w=276627456,z=0,D=0,F=0,L=0,O=0,N=0,V="",W="",H="",P=this.Zg,R=0,T=0,Z="",oa="",ha="";0<d&&(p+=" and "+this.counter);var ba=f;var ia=e;f=Math.abs(f);e=Math.abs(e);if(0<f||0<e){var ma="Spaceship";0===f||0===e?q="0":(f>e?(q=f,n=e):(q=e,n=f),l=this.Uf(q,n),q=String(q/l),1!==n/l&&(q+="/"+String(n/l)));if(f===e||0===f||0===e)if(n=f===e&&0!==f?"Diagonal":"Orthogonal",0===f&&(f=e),1<f)if(1===d)l=f+"c";else{l=this.Uf(f,d);var fa=f/l;var U=d/l;1!==l?(l=1===fa?"c":fa+"c",1<U&&(l+="/"+U),l+=" | "+f+"c/"+
d):l=f+"c/"+d}else l="c",1<d&&(l+="/"+d);else l=this.Uf(f,this.Uf(e,d)),fa=f/l,n=e/l,U=d/l,1!==l?(l=fa>n?"("+fa+","+n+")c":"("+n+","+fa+")c",1<U&&(l+="/"+U),l=f>e?l+(" | ("+f+","+e+")c"):l+(" | ("+e+","+f+")c")):l=f>e?"("+f+","+e+")c":"("+e+","+f+")c",1<d&&(l+="/"+d),n=this.Vl(f,e);this.kj(d,b,a,!1,ba,ia)}else 1===d||2===d&&this.Z&&this.de[0]===this.de[1]?ma="Still Life":(ma="Oscillator",this.kj(d,b,a,!0,0,0));if(0===this.s)return this.i||this.Z?["Life ended at generation "+(this.Kb+a.Ga),"Empty"]:
["Life ended at generation "+(this.counter+a.Ga),"Empty"];e=f=0;this.Ng="";if("Still Life"===ma)a=String(this.s);else{for(b=ia=0;b<d;b+=1)ba=this.rf[b],ia+=ba,ba<m&&(m=ba,f=(b+1)%d),ba>r&&(r=ba,e=(b+1)%d);m===r?a=String(r):(a=String(m)+" | "+String(r)+" | "+this.Od(ia/d,1),this.Ng=String(m)+" @ T"+f+" | "+String(r)+" @ T"+e)}e=f=0;this.Mg="";if("Still Life"!==ma)if("Spaceship"===ma)for(b=0;b<d;b+=1)ba=this.ac[b<<1],m=ba>>16,r=ba&65535,m>k&&(k=m),r>g&&(g=r),m*r<w&&(w=m*r,D=m,F=r,f=(b+1)%d),m*r>z&&
(z=m*r,L=m,O=r,e=(b+1)%d);else{for(b=0;b<d;b+=1)ba=this.ac[b<<1],m=ba>>16,r=ba&65535,ba=this.ac[(b<<1)+1],k=ba>>16,g=ba&65535,k<u&&(u=k),g<v&&(v=g),k+m-1>t&&(t=k+m-1),g+r-1>A&&(A=g+r-1),m*r<w&&(w=m*r,D=m,F=r,f=(b+1)%d),m*r>z&&(z=m*r,L=m,O=r,e=(b+1)%d);k=t-u+1;g=A-v+1}b=String(k+" x "+g+" = "+k*g);if(D!==L||F!==O)this.Mg=String(D+" x "+F+" = "+w+" @ T"+f+" | "+L+" x "+O+" = "+z+" @ T"+e);0<d&&(this.nf===this.Yf?(N=this.nf,V=String(N.toFixed(1))):(N=this.Kg/d,V=this.Od(this.nf,1)+" | "+this.Od(this.Yf,
1)+" | "+this.Od(N,1)));if("Oscillator"===ma){if(this.Ka)R=this.gg-this.Ka[1],T=this.Ka[1];else for(w=v;w<=A;w+=1)if(W=P[w],this.i)for(v=u;v<=t;v+=1)H=W[v],(H&3)===I.ui?R+=1:(H&3)===I.hl&&(T+=1),H>>=2,(H&3)===I.ui?R+=1:(H&3)===I.hl&&(T+=1),H>>=2,(H&3)===I.ui?R+=1:(H&3)===I.hl&&(T+=1),H>>=2,(H&3)===I.ui?R+=1:(H&3)===I.hl&&(T+=1);else for(v=u;v<=t;v+=1)W[v]===I.ui?R+=1:W[v]===I.hl&&(T+=1);W=this.Od(R/(R+T),2);H=this.ri;this.ci=R}this.Hj=R===k*g?!0:!1;"Oscillator"===ma&&(oa=0===R?this.Od(N/(R+T),2)+
" | "+this.Od(0,2):this.Od(N/(R+T),2)+" | "+this.Od(N/R,2));u=String(R+" | "+T+" | "+(R+T));this.ga||this.W||(0>=this.Qc?(this.Qc=d,Z=String(this.Qc)):Z=0===d%this.Qc&&d!==this.Qc?String(this.Qc)+" ("+I.WE[this.Lf]+")":String(this.Qc));"Still Life"===ma&&(ia=this.s/(k*g),this.i&&(ia/=4),ha=1===ia?String(ia):ia.toFixed(3));return[c,ma,n,l,b,p,a,q,d,V,W,H,Z,u,oa,ha]};pa.prototype.pn=function(a,b,c,d,f,e){var k=!1;a===b/2&&(k=0===c?0===d&&a/b===f/e:0===f?0===e&&a/b===c/d:a/b===c/d&&a/b===f/e);return k};
pa.prototype.zl=function(a,b,c,d,f){this.de[this.ic]=a;this.zi[this.ic]=this.counter;this.rf[this.ic]=this.s;this.ac[this.ic<<1]=b;this.ac[(this.ic<<1)+1]=c<<16|d;this.Ee[this.ic]=-1;-1===this.xf?this.xf=0:-1===f?this.xf=this.ic:this.Ee[f]=this.ic};pa.prototype.Qn=function(a){var b=this.mk(),c=b.H,d=b.I,f=b.J-c+1,e=b.L-d+1,k=!1,g=-1,l=-1,p=-1,n=f<<16|e,q=c<<16|d,m=!1,r,u=0,t=0,v="",A=[];if(-1!==this.Ce)return--this.Ce,-1===this.Ce&&(A=this.Km(a,this.Sd[1],this.Sd[0],this.Sd[2],this.Sd[3],this.Sd[4],
this.Sd[5],this.Sd[6])),A;if(this.ic<I.Jl)if(0===this.s)A=["Empty pattern","Empty"];else{b=this.Ig(b);var w=!1;var z=this.xf;for(r=-1;-1!==z&&!w;){var D=this.de[z];if(b>D)r=z,z=this.Ee[z];else if(b<D)w=!0;else if(b===D){var F=z<<1;if(this.s===this.rf[z]&&n===this.ac[F]){D=!0;var L=this.counter-this.zi[z];this.ac[F+1]===q?1===(L&1)&&this.Z?D=!1:v=1===L||2===L&&this.Z&&this.de[0]===this.de[1]?"Still Life":"Oscillator period "+L:(u=c-(this.ac[F+1]>>16),t=d-(this.ac[F+1]&65535),k?this.pn(L,g,u,l,t,p)?
(v=this.rn(L,u,t),k=!1):D=!1:(k=!0,g=L,l=u,p=t,D=!1));D?(m=w=!0,k&&(t=u=0),this.Sd=[v,z,L,u,t,f,e],this.Ce=I.lE,a.D.notification.notify(v,15,40,15,!0),a.D.notification.notify("Calculating...",15,40,15,!1)):(r=z,z=this.Ee[z])}else r=z,z=this.Ee[z]}}m||(this.zl(b,n,c,d,r),this.ic+=1,this.ic===I.Jl&&(this.ic=0,A=[I.hy]))}return A};pa.prototype.Il=function(a,b,c,d,f,e,k){var g=this.displayWidth/2,l=this.displayHeight/2,p=0,n=this.width/2,q=this.height/2,m=this.coords,r=this.Vb,u=this.height/2-this.ca-
this.oa+.5,t=this.width/2-this.fa-this.ua+.5,v=this.zoom*this.Ga;if(a>c){var A=c;c=a;a=A}b>d&&(A=d,d=b,b=A);a+=f;c+=f;b+=e;d+=e;r.length!==I.Lc&&(this.coords=this.S.h(ra.$c,12*I.Lc,"Life.coords"),this.Vb=this.S.h(ra.kc,I.Lc,"Life.cellColours"),m=this.coords,r=this.Vb);this.ha.lineWidth=I.yw;this.ha.lineCap="butt";this.ha.lineJoin="bevel";for(e=f=0;b<=d;b+=1)if(A=(b-q+u)*v+l,A>=-v&&A<this.displayHeight+v){var w=b-q;var z=t-n;for(A=a;A<=c;A+=1){if(0<k[p]){var D=(A+z)*v+g;if(D>=-v&&D<this.displayWidth+
2*v){r[f]=(0<<I.ag)+e;D=A-n+.5;var F=A+b&1;m[e]=D-1;m[e+1]=w+F;m[e+2]=D+1;m[e+3]=w+F;m[e+4]=D;m[e+5]=w+1-F;e+=6;f+=1;f===I.Lc&&(this.Bb=f,this.Bc(!0,!1,!0),e=f=0)}}p+=1}}else p+=c-a+1;this.Bb=f;0<f&&this.Bc(!0,!1,!0)};pa.prototype.Bj=function(a,b,c,d,f,e){var k=this.displayWidth/2,g=this.displayHeight/2,l=this.width/2,p=this.height/2,n=this.coords,q=this.Vb,m=this.height/2-this.ca-this.oa+.5,r=this.width/2-this.fa-this.ua+.5,u=this.zoom*this.Ga;if(a>c){var t=c;c=a;a=t}b>d&&(t=d,d=b,b=t);a+=f;c+=f;
b+=e;d+=e;q.length!==I.Lc&&(this.coords=this.S.h(ra.$c,12*I.Lc,"Life.coords"),this.Vb=this.S.h(ra.kc,I.Lc,"Life.cellColours"),n=this.coords,q=this.Vb);this.ha.lineWidth=I.yw;this.ha.lineCap="butt";this.ha.lineJoin="bevel";for(e=f=0;b<=d;b+=1)if(t=(b-p+m)*u+g,t>=-u&&t<this.displayHeight+u){var v=b-p;var A=r-l;for(t=a;t<=c;t+=1){var w=(t+A)*u+k;if(w>=-u&&w<this.displayWidth+2*u){q[f]=(0<<I.ag)+e;w=t-l+.5;var z=t+b&1;n[e]=w-1;n[e+1]=v+z;n[e+2]=w+1;n[e+3]=v+z;n[e+4]=w;n[e+5]=v+1-z;e+=6;f+=1;f===I.Lc&&
(this.Bb=f,this.Bc(!0,!1,!0),e=f=0)}}}this.Bb=f;0<f&&this.Bc(!0,!1,!0)};pa.prototype.Fi=function(){var a=this.m,b=this.Da,c=null,d=this.Na,f=this.displayWidth/2,e=this.displayHeight/2,k,g,l=this.width/2,p=this.height/2,n=G.zb[3]+128,q=G.zb[4]+128,m=G.zb[5]+128,r=G.zb[6]+128,u=this.Ya,t=this.coords,v=this.Vb,A=d.H,w=d.J;var z=d.I;var D=d.L,F=this.height/2-this.ca-this.oa+.5,L=this.width/2-this.fa-this.ua+.5,O=this.zoom*this.Ga,N=!this.Ba&&!this.Ta,V=this.width,W=this.height,H=0,P=0,R=this.T;(this.l||
this.A||this.o)&&0!==(this.counter&1)&&(a=this.Y);v.length!==I.Lc&&(this.coords=this.S.h(ra.$c,12*I.Lc,"Life.coords"),this.Vb=this.S.h(ra.kc,I.Lc,"Life.cellColours"),t=this.coords,v=this.Vb);-1!==this.C&&(0!==this.M?(A=Math.round((this.width-this.M)/2)-1,w=A+this.M-1+2):(A=0,w=this.width-1),0!==this.K?(z=Math.round((this.height-this.K)/2)-1,D=z+this.K-1+2):(z=0,D=this.height-1));this.ha.lineWidth=I.yw;this.ha.lineCap="butt";this.ha.lineJoin="bevel";for(g=d=0;z<=D;z+=1){var T=(z-p+F)*O+e;if(T>=-O&&
T<this.displayHeight+O){T=a[z];b&&(c=b[z]);var Z=z-p;var oa=L-l;for(k=A-1;k<=w+1;k+=1){var ha=(k+oa)*O+f;if(ha>=-O&&ha<=this.displayWidth+2*O){ha=T[k];if(c){var ba=c[k];if(ba===q||ba===r)ha=ha>=u?n:ba;else if(ba===n||ba===m)ha=ha<u?q:ba}0<ha&&(v[d]=(ha<<I.ag)+g,ha=k-l+.5,ba=k+z&1,t[g]=ha-1,t[g+1]=Z+ba,t[g+2]=ha+1,t[g+3]=Z+ba,t[g+4]=ha,t[g+5]=Z+1-ba,g+=6,d+=1);d===I.Lc&&(this.Bb=d,this.Bc(!0,N,!1),this.Ta&&!this.Ba&&(this.ha.strokeStyle="rgb("+this.ka[0]+","+this.ia[0]+","+this.ja[0]+")",this.Bc(!1,
!1,!1)),g=d=0)}}}}this.Bb=d;0<d&&(this.Bc(!0,N,!1),this.Ta&&!this.Ba&&(this.ha.strokeStyle="rgb("+this.ka[0]+","+this.ia[0]+","+this.ja[0]+")",this.Bc(!1,!1,!1)));for(g=d=0;V<R;)H+=V>>1,V<<=1;for(;W<R;)P+=W>>1,W<<=1;D=e/O-F+p|0;for(z=-e/O-F+p|0;z<=D;z+=1)if(T=(z-p+F)*O+e,T>=-O&&T<this.displayHeight+O)for(Z=z-p,oa=L-l,A=-f/O-oa-O|0,w=f/O-oa+O|0,k=A-1;k<=w+1;k+=1)if(ha=(k+oa)*O+f,ha>=-O&&ha<=this.displayWidth+2*O){if(0>k+H||k+H>=R||0>z+P||z+P>=R)v[d]=(256<<I.ag)+g,ha=k-l+.5,ba=k+z&1,t[g]=ha-1,t[g+1]=
Z+ba,t[g+2]=ha+1,t[g+3]=Z+ba,t[g+4]=ha,t[g+5]=Z+1-ba,g+=6,d+=1;d===I.Lc&&(this.Bb=d,this.Bc(!0,N,!1),this.Ta&&!this.Ba&&(this.ha.strokeStyle="rgb("+this.ka[0]+","+this.ia[0]+","+this.ja[0]+")",this.Bc(!1,!1,!1)),g=d=0)}this.Bb=d;0<d&&(this.Bc(!0,N,!1),this.Ta&&!this.Ba&&(this.ha.strokeStyle="rgb("+this.ka[0]+","+this.ia[0]+","+this.ja[0]+")",this.Bc(!1,!1,!1)),g=0);if(this.Ba){this.ha.strokeStyle="rgb("+(this.vb>>16)+","+(this.vb>>8&255)+","+(this.vb&255)+")";this.ha.lineWidth=1;D=e/O-F+p|0;d=0;for(z=
-e/O-F+p|0;z<=D;z+=1)if(T=(z-p+F)*O+e,T>=-O&&T<this.displayHeight+O)for(Z=z-p,oa=L-l,A=-f/O-oa-O|0,w=f/O-oa+O|0,k=A-1;k<=w+1;k+=1)ha=(k+oa)*O+f,ha>=-O&&ha<this.displayWidth+2*O&&(ha=k-l+.5,ba=k+z&1,t[g]=ha-1,t[g+1]=Z+ba,t[g+2]=ha+1,t[g+3]=Z+ba,t[g+4]=ha,t[g+5]=Z+1-ba,g+=6,d+=1),d===I.Lc&&(this.Bb=d,this.Bc(!1,!1,!1),g=d=0);this.Bb=d;0<d&&this.Bc(!1,!1,!1)}};pa.prototype.Bc=function(a,b,c){var d,f=this.ha,e=this.width/2-this.fa-this.ua,k=this.height/2-this.ca-this.oa,g=this.zoom*this.Ga,l=this.hc(this.zoom)*
this.Ga,p=this.displayWidth/2,n=this.displayHeight/2,q=0,m=0,r=-1,u=this.coords,t=this.Bb,v=this.Vb,A=(1<<I.ag)-1;if(a&&!c&&v.sort){m=(I.Lc<<I.ag)+256;for(d=t;d<I.Lc;d+=1)v[d]=m;v.sort()}f.beginPath();a||(r=m=q=0);for(d=0;d<t;d+=1){a&&(m=v[d],q=m&A,m>>=I.ag);var w=u[q];var z=u[q+1];q+=2;var D=(z+k)*l+n;var F=(w+e)*g+p;var L=(u[q+1]-z)*l;var O=(u[q]-w)*g;q+=2;m!==r&&(r=m,0<d&&(a?(b&&f.stroke(),f.fill()):f.stroke(),f.beginPath()),a&&!c&&(f.fillStyle=this.Ye[m],b&&(f.strokeStyle=this.Ye[m])));f.moveTo(F|
0,D|0);f.lineTo(O+F|0,L+D|0);f.lineTo(O+F|0,D|0);L=(u[q+1]-z)*l;O=(u[q]-w)*g;f.lineTo(O+F|0,L+D|0);q+=2}a?(b&&f.stroke(),f.fill()):f.stroke()};pa.prototype.Al=function(a,b,c,d,f,e,k){var g=0,l=this.width/2-G.po/4,p=this.height/2,n=Math.PI/3,q=1/G.po,m=[],r=[],u=this.coords,t=this.Vb,v=this.displayWidth/2,A=this.displayHeight/2,w=this.width/2-this.fa-this.ua,z=this.height/2-this.ca-this.oa,D=this.zoom*this.Ga,F=this.hc(this.zoom)*this.Ga;w=w+z/2+-(this.height>>2)+.5;z+=.5;if(a>c){var L=c;c=a;a=L}b>
d&&(L=d,d=b,b=L);a+=f;c+=f;b+=e;d+=e;t.length!==I.Lc&&(this.coords=this.S.h(ra.$c,12*I.Lc,"Life.coords"),this.Vb=this.S.h(ra.kc,I.Lc,"Life.cellColours"),u=this.coords,t=this.Vb);e=n/2;for(f=0;5>=f;f+=1)m[f]=Math.cos(e)*q,r[f]=Math.sin(e)*q*1.16,e+=n;n=m[0];q=r[0];L=m[1];var O=r[1];var N=m[2];var V=r[2];var W=m[3];var H=r[3];var P=m[4];var R=r[4];m=m[5];r=r[5];this.ha.lineWidth=1;this.ha.lineCap="round";this.ha.lineJoin="round";for(e=f=0;b<=d;b+=1){var T=b-p;var Z=(T+z)*F+A;if(Z>=-F&&Z<this.displayHeight+
F)for(Z=a;Z<=c;Z+=1){if(0<k[g]){var oa=Z-l;var ha=(oa+w-(T+z)/2)*D+v;ha>=-D&&ha<this.displayWidth+D&&(t[f]=(0<<I.ag)+e,u[e]=n+oa,u[e+1]=q+T,u[e+2]=L+oa,u[e+3]=O+T,u[e+4]=N+oa,u[e+5]=V+T,u[e+6]=W+oa,u[e+7]=H+T,u[e+8]=P+oa,u[e+9]=R+T,u[e+10]=m+oa,u[e+11]=r+T,e+=12,f+=1,f===I.Lc&&(this.Bb=f,this.Jc(!0,!1,!1,!0),e=f=0))}g+=1}else g+=c-a+1}this.Bb=f;0<f&&this.Jc(!0,!1,!1,!0)};pa.prototype.xj=function(a,b,c,d,f,e){var k=this.width/2-G.po/4,g=this.height/2,l=Math.PI/3,p=1/G.po,n=[],q=[],m=this.coords,r=
this.Vb,u=this.displayWidth/2,t=this.displayHeight/2,v=this.width/2-this.fa-this.ua,A=this.height/2-this.ca-this.oa,w=this.zoom*this.Ga,z=this.hc(this.zoom)*this.Ga;v=v+A/2+-(this.height>>2)+.5;A+=.5;if(a>c){var D=c;c=a;a=D}b>d&&(D=d,d=b,b=D);a+=f;c+=f;b+=e;d+=e;r.length!==I.Lc&&(this.coords=this.S.h(ra.$c,12*I.Lc,"Life.coords"),this.Vb=this.S.h(ra.kc,I.Lc,"Life.cellColours"),m=this.coords,r=this.Vb);e=l/2;for(f=0;5>=f;f+=1)n[f]=Math.cos(e)*p,q[f]=Math.sin(e)*p*1.16,e+=l;l=n[0];p=q[0];D=n[1];var F=
q[1];var L=n[2];var O=q[2];var N=n[3];var V=q[3];var W=n[4];var H=q[4];n=n[5];q=q[5];this.ha.lineWidth=1;this.ha.lineCap="round";this.ha.lineJoin="round";for(e=f=0;b<=d;b+=1){var P=b-g;var R=(P+A)*z+t;if(R>=-z&&R<this.displayHeight+z)for(R=a;R<=c;R+=1){var T=R-k;var Z=(T+v-(P+A)/2)*w+u;Z>=-w&&Z<this.displayWidth+w&&(r[f]=(0<<I.ag)+e,m[e]=l+T,m[e+1]=p+P,m[e+2]=D+T,m[e+3]=F+P,m[e+4]=L+T,m[e+5]=O+P,m[e+6]=N+T,m[e+7]=V+P,m[e+8]=W+T,m[e+9]=H+P,m[e+10]=n+T,m[e+11]=q+P,e+=12,f+=1,f===I.Lc&&(this.Bb=f,this.Jc(!0,
!1,!1,!0),e=f=0))}}this.Bb=f;0<f&&this.Jc(!0,!1,!1,!0)};pa.prototype.Ei=function(){var a=this.m,b=this.Da,c=null,d=this.Na,f=this.displayWidth/2,e=this.displayHeight/2,k,g=this.width/2-G.po/4,l=this.height/2,p=Math.PI/3,n=1/G.po,q=[],m=[],r=G.zb[3]+128,u=G.zb[4]+128,t=G.zb[5]+128,v=G.zb[6]+128,A=this.Ya,w=this.coords,z=this.Vb,D=d.H,F=d.J;var L=d.I;var O=d.L,N=this.height/2-this.ca-this.oa+.5,V=this.width/2-this.fa-this.ua+.5-(this.height>>2)+N/2,W=this.zoom*this.Ga,H=this.hc(this.zoom)*this.Ga,P=
!this.Ba&&!this.Ta,R=this.width,T=this.height,Z=0,oa=0,ha=this.T;(this.l||this.A||this.o)&&0!==(this.counter&1)&&(a=this.Y);z.length!==I.Lc&&(this.coords=this.S.h(ra.$c,12*I.Lc,"Life.coords"),this.Vb=this.S.h(ra.kc,I.Lc,"Life.cellColours"),w=this.coords,z=this.Vb);-1!==this.C&&(0!==this.M?(D=Math.round((this.width-this.M)/2)-1,F=D+this.M-1+2):(D=0,F=this.width-1),0!==this.K?(L=Math.round((this.height-this.K)/2)-1,O=L+this.K-1+2):(L=0,O=this.height-1));var ba=p/2;for(d=0;5>=d;d+=1)q[d]=Math.cos(ba)*
n,m[d]=Math.sin(ba)*n*1.16,ba+=p;p=q[0];n=m[0];var ia=q[1];var ma=m[1];var fa=q[2];var U=m[2];var ka=q[3];var ca=m[3];var aa=q[4];var X=m[4];q=q[5];m=m[5];this.ha.lineWidth=1;this.ha.lineCap="round";this.ha.lineJoin="round";ba=d=0;0<L&&--L;for(O<this.height-1&&(O+=1);L<=O;L+=1){var na=(L+N-l)*H+e;if(na>=-H&&na<this.displayHeight+H){na=a[L];b&&(c=b[L]);var Q=L-l;var E=V-g-(Q+N)/2;for(k=D;k<=F;k+=1){var y=(k+E)*W+f;if(y>=-W&&y<this.displayWidth+W){y=na[k];if(c){var K=c[k];if(K===u||K===v)y=y>=A?r:K;
else if(K===r||K===t)y=y<A?u:K}0<y&&(z[d]=(y<<I.ag)+ba,y=k-g,w[ba]=p+y,w[ba+1]=n+Q,w[ba+2]=ia+y,w[ba+3]=ma+Q,w[ba+4]=fa+y,w[ba+5]=U+Q,w[ba+6]=ka+y,w[ba+7]=ca+Q,w[ba+8]=aa+y,w[ba+9]=X+Q,w[ba+10]=q+y,w[ba+11]=m+Q,ba+=12,d+=1);d===I.Lc&&(this.Bb=d,this.Jc(!0,P,!1,!1),this.Ta&&!this.Ba&&(this.ha.strokeStyle="rgb("+this.ka[0]+","+this.ia[0]+","+this.ja[0]+")",this.Jc(!1,!1,!1,!1)),ba=d=0)}}}}this.Bb=d;0<d&&(this.Jc(!0,P,!1,!1),this.Ta&&!this.Ba&&(this.ha.strokeStyle="rgb("+this.ka[0]+","+this.ia[0]+","+
this.ja[0]+")",this.Jc(!1,!1,!1,!1)));for(ba=d=0;R<ha;)Z+=R>>1,R<<=1;for(;T<ha;)oa+=T>>1,T<<=1;O=(e/H-N+l|0)+1;for(L=(-e/H-N+l|0)-1;L<=O;L+=1)if(na=(L+N-l)*H+e,na>=-H&&na<this.displayHeight+H)for(Q=L-l,E=V-g-(Q+N)/2,D=-f/W-E-W|0,F=f/W-E+W|0,k=D;k<=F;k+=1)if(y=(k+E)*W+f,y>=-W&&y<this.displayWidth+W){if(0>k+Z||k+Z>=ha||0>L+oa||L+oa>=ha)z[d]=(256<<I.ag)+ba,y=k-g,w[ba]=p+y,w[ba+1]=n+Q,w[ba+2]=ia+y,w[ba+3]=ma+Q,w[ba+4]=fa+y,w[ba+5]=U+Q,w[ba+6]=ka+y,w[ba+7]=ca+Q,w[ba+8]=aa+y,w[ba+9]=X+Q,w[ba+10]=q+y,w[ba+
11]=m+Q,ba+=12,d+=1;d===I.Lc&&(this.Bb=d,this.Jc(!0,P,!1,!1),this.Ta&&!this.Ba&&(this.ha.strokeStyle="rgb("+this.ka[0]+","+this.ia[0]+","+this.ja[0]+")",this.Jc(!1,!1,!1,!1)),ba=d=0)}this.Bb=d;0<d&&(this.Jc(!0,P,!1,!1),this.Ta&&!this.Ba&&(this.ha.strokeStyle="rgb("+this.ka[0]+","+this.ia[0]+","+this.ja[0]+")",this.Jc(!1,!1,!1,!1)),ba=0);if(this.Ba){this.ha.strokeStyle="rgb("+(this.vb>>16)+","+(this.vb>>8&255)+","+(this.vb&255)+")";this.ha.lineWidth=1;d=0;O=e/H-N+l|0;for(L=-e/H-N+l|0;L<=O;L+=1)if(na=
(L+N-l)*H+e,na>=-H&&na<this.displayHeight+H)for(Q=L-l,E=V-g-(Q+N)/2,D=-f/W-E-W|0,F=f/W-E+W|0,k=D;k<=F;k+=1)y=(k+E)*W+f,y>=-W&&y<this.displayWidth+W&&(y=k-g,w[ba]=p+y,w[ba+1]=n+Q,w[ba+2]=ia+y,w[ba+3]=ma+Q,w[ba+4]=fa+y,w[ba+5]=U+Q,w[ba+6]=ka+y,w[ba+7]=ca+Q,ba+=8,d+=1),d===I.Lc&&(this.Bb=d,this.Jc(!1,!1,!0,!1),ba=d=0);this.Bb=d;0<d&&this.Jc(!1,!1,!0,!1)}};pa.prototype.Jc=function(a,b,c,d){var f=this.ha,e=this.width/2-this.fa-this.ua,k=this.height/2-this.ca-this.oa,g=this.zoom*this.Ga,l=this.hc(this.zoom)*
this.Ga,p=this.displayWidth/2,n=this.displayHeight/2,q=0,m=0,r=12,u=0,t=-1,v=this.coords,A=this.Bb,w=this.Vb,z=(1<<I.ag)-1;e=e+k/2+-(this.height>>2)+.5;k+=.5;a&&!d&&w.sort&&(u=(I.Lc<<I.ag)+256,w.fill(u,A),w.sort());f.beginPath();a||(m=r=c?8:12,t=u=q=0);for(c=0;c<A;c+=1){a&&(u=w[c],q=u&z,m=q+r,u>>=I.ag);var D=v[q];var F=v[q+1];var L=F+k;var O=D+e-L/2;q+=2;L=L*l+n;O=O*g+p;var N=(v[q+1]-F)*l;var V=(v[q]-D)*g;q+=2;u!==t&&(t=u,0<c&&(a?(b&&f.stroke(),f.fill()):f.stroke(),f.beginPath()),a&&!d&&(f.fillStyle=
this.Ye[u],b&&(f.strokeStyle=this.Ye[u])));f.moveTo(O,L);for(f.lineTo(V+O,N+L);q<m;)N=(v[q+1]-F)*l,V=(v[q]-D)*g,q+=2,f.lineTo(V+O,N+L);m+=r}a?(b&&f.stroke(),f.fill()):f.stroke()};pa.prototype.ph=function(a,b,c,d,f,e,k){var g="",l=b.F?b.Na:b.Ca?b.na:b.v,p=l.H,n=l.J,q=l.L,m=l.I,r=n-p+1,u=q-m+1;l=0;var t=[],v=this.m,A=null;var w=a.ea-a.V;var z=a.Y-a.X,D=a.ca;2>d&&(d=2);2>f&&(f=2);d===f&&b.F&&(f=d=7);a.P&&(p=D.H+w,m=D.I+z,n=D.J+w,q=D.L+z,p>n&&(w=p,p=n,n=w),m>q&&(w=m,m=q,q=w),r=n-p+1,u=q-m+1,a.fc&&(-1!==
b.C?(p-=Math.floor(a.ta/2)-2*a.ac,n-=Math.floor(a.ta/2)-2*a.ac,m-=Math.floor(a.sa/2)-2*a.nc,q-=Math.floor(a.sa/2)-2*a.nc):(p+=2*a.ac,n+=2*a.ac,m+=2*a.nc,q+=2*a.nc)));b.W&&(0<p&&0!==(p&1)&&(--p,r+=1),0<m&&0!==(m&1)&&(--m,u+=1));b.Z&&(0<p&&0===(p&1)&&(--p,r+=1),0<m&&0===(m&1)&&(--m,u+=1));if(0===e.length)for(w=0;w<d;w+=1)e[w]=w;if(2>=f)t[0]="b",t[1]="o";else for(t[0]=".",w=0;w<f-1;w+=1)t[w+1]=24<=w?String.fromCharCode(112+(w/24|0)-1)+String.fromCharCode(65+w%24):String.fromCharCode(65+w);c&&(g+=b.yh);
w=k&&""!==a.xa?a.xa:a.W;"Conway's Life"===w&&(w="Life");"B3/S23History"===w&&(w="LifeHistory");g=g+("x = "+r+", y = "+u+", rule = "+w)+a.Tf;g+="\n";for(a=g.length;m<=q;){w=p;2>=d&&!this.o?(A=v[m],r=A[w],f=r<=this.pe||r===this.Zb?0:1):f=b.Pa(w,m,!1);k=1;for(w+=1;w<=n+1;)w>n?r=-1:2>=d&&!this.o?(r=A[w],r=r<=this.pe||r===this.Zb?0:1):r=b.Pa(w,m,!1),r!==f?((-1!==r||0!==f)&&0<l&&(1<l&&(g+=l),g+="$",69<=g.length-a&&(g+="\n",a=g.length),l=0),0<f?(1<k&&(g+=k),g+=t[e[f]]):w<=n&&(1<k&&(g+=k),g+=t[e[f]]),69<=
g.length-a&&(g+="\n",a=g.length),k=1,f=r):k+=1,w+=1;l+=1;m+=1}g+="!\n";c&&(g+=b.xh);return g};pa.prototype.en=function(a,b,c,d){var f=this.xa,e=this.O,k=this.m,g=this.ra,l=this.B,p=this.v,n=this.Na,q,m=!0,r=this.W?1:0,u=this.W?14:15;if(a!==(a&this.Aa)||b!==(b&this.ya)){m=!1;var t=this.width<this.T&&a!==(a&this.Aa);for(q=this.height<this.T&&b!==(b&this.ya);t||q;)(t||q)&&this.lf(t,q,!0),t&&(a+=this.width>>2),q&&(b+=this.height>>2),t=this.width<this.T&&a!==(a&this.Aa),q=this.height<this.T&&b!==(b&this.ya);
a===(a&this.Aa)&&b===(b&this.ya)&&(m=!0,f=this.xa,e=this.O,k=this.m,g=this.ra,l=this.B)}if(m)if(0!==(this.counter&1)&&(f=this.Va,e=this.X),t=1<<(~a&15),q=1<<(~(a>>4)&15),1===(c&1)?(0===(f[b][a>>4]&t)&&(this.s+=1),k[b][a]=this.Xb?(a+b&127)+64:this.Ya,g[b>>4][a>>8]|=q,l[b>>4][a>>8]|=q,f[b][a>>4]|=t,e[b>>4][a>>8]|=q,d=a&15,0<a&&d<=r?(a-=d+1,e[b>>4][a>>8]|=1<<(~(a>>4)&15),a+=d+1):a<this.width-1&&d>=u&&(a+=16-d,e[b>>4][a>>8]|=1<<(~(a>>4)&15),a-=16-d),0<b&&0===(b&15)?(--b,e[b>>4][a>>8]|=1<<(~(a>>4)&15),
0<a&&d<=r?(a-=d+1,e[b>>4][a>>8]|=1<<(~(a>>4)&15),a+=d+1):a<this.width-1&&d>=u&&(a+=16-d,e[b>>4][a>>8]|=1<<(~(a>>4)&15),a-=16-d),b+=1):b<this.height-1&&15===(b&15)&&(b+=1,e[b>>4][a>>8]|=1<<(~(a>>4)&15),0<a&&d<=r?(a-=d+1,e[b>>4][a>>8]|=1<<(~(a>>4)&15),a+=d+1):a<this.width-1&&d>=u&&(a+=16-d,e[b>>4][a>>8]|=1<<(~(a>>4)&15),a-=16-d),--b)):(0!==(f[b][a>>4]&t)&&--this.s,k[b][a]=d?0:this.pe,g[b>>4][a>>8]|=q,l[b>>4][a>>8]|=q,f[b][a>>4]&=~t),0<c)1===this.s?(p.H=a,p.J=a,p.I=b,p.L=b):(a<p.H&&(p.H=a),a>p.J&&(p.J=
a),b<p.I&&(p.I=b),b>p.L&&(p.L=b)),a<n.H&&(n.H=a),a>n.J&&(n.J=a),b<n.I&&(n.I=b),b>n.L&&(n.L=b);else if(a===p.H||a===p.J||b===p.L||b===p.I)this.lb=!0;return 0};pa.prototype.gn=function(a,b,c,d){var f=this.xa,e=this.O,k=this.m,g=this.ra,l=this.B,p=this.Da,n=this.v,q=this.Na,m,r=!0,u=0,t=this.W?1:0,v=this.W?14:15;if(a!==(a&this.Aa)||b!==(b&this.ya)){r=!1;var A=this.width<this.T&&a!==(a&this.Aa);for(m=this.height<this.T&&b!==(b&this.ya);A||m;)(A||m)&&this.lf(A,m,!0),A&&(a+=this.width>>2),m&&(b+=this.height>>
2),A=this.width<this.T&&a!==(a&this.Aa),m=this.height<this.T&&b!==(b&this.ya);a===(a&this.Aa)&&b===(b&this.ya)&&(r=!0,f=this.xa,e=this.O,k=this.m,g=this.ra,l=this.B,p=this.Da)}if(r){0!==(this.counter&1)&&(f=this.Va,e=this.X);A=1<<(~a&15);m=1<<(~(a>>4)&15);1===(c&1)?(0===(f[b][a>>4]&A)&&(this.s+=1),k[b][a]=this.Ya,g[b>>4][a>>8]|=m,l[b>>4][a>>8]|=m,f[b][a>>4]|=A,e[b>>4][a>>8]|=m,d=a&15,0<a&&d<=t?(a-=d+1,e[b>>4][a>>8]|=1<<(~(a>>4)&15),a+=d+1):a<this.width-1&&d>=v&&(a+=16-d,e[b>>4][a>>8]|=1<<(~(a>>4)&
15),a-=16-d),0<b&&0===(b&15)?(--b,e[b>>4][a>>8]|=1<<(~(a>>4)&15),0<a&&d<=t?(a-=d+1,e[b>>4][a>>8]|=1<<(~(a>>4)&15),a+=d+1):a<this.width-1&&d>=v&&(a+=16-d,e[b>>4][a>>8]|=1<<(~(a>>4)&15),a-=16-d),b+=1):b<this.height-1&&15===(b&15)&&(b+=1,e[b>>4][a>>8]|=1<<(~(a>>4)&15),0<a&&d<=t?(a-=d+1,e[b>>4][a>>8]|=1<<(~(a>>4)&15),a+=d+1):a<this.width-1&&d>=v&&(a+=16-d,e[b>>4][a>>8]|=1<<(~(a>>4)&15),a-=16-d),--b)):(0!==(f[b][a>>4]&A)&&--this.s,k[b][a]=d?0:this.pe,g[b>>4][a>>8]|=m,l[b>>4][a>>8]|=m,f[b][a>>4]&=~A);if(p){e=
p[b][a];0<e&&(e=G.zb.indexOf(e-128));if(6===c&&6!==e||6!==c&&6===e)u=1;2===c&&(k[b][a]=I.Ih);p[b][a]=0===c?0:G.zb[c]+128}if(0<c)1===this.s?(n.H=a,n.J=a,n.I=b,n.L=b):(a<n.H&&(n.H=a),a>n.J&&(n.J=a),b<n.I&&(n.I=b),b>n.L&&(n.L=b)),a<q.H&&(q.H=a),a>q.J&&(q.J=a),b<q.I&&(q.I=b),b>q.L&&(q.L=b);else if(a===n.H||a===n.J||b===n.L||b===n.I)this.lb=!0}return u};pa.prototype.jk=function(a,b,c,d){var f=this.xa,e=this.O,k=this.m,g=this.ra,l=this.B,p=this.Da,n=this.v,q=this.na,m=this.Na,r=0,u=c,t=0,v=0,A=this.W?1:
0,w=this.W?14:15;(this.i||this.o||this.l||this.A)&&0!==(this.counter&1)&&(k=this.Y);if(this.i||this.o)t=k[b][a],k[b][a]=d&&0===c?0:this.u+c,l[b>>4][a>>8]=65535,this.o&&(0!==(this.counter&1)&&(e=this.X),r=1<<(~(a>>4)&15),e[b>>4][a>>8]|=r),0===c?t>this.u&&(this.i?this.s-=this.oc[t-this.u]:--this.s):this.i?t<=this.u?this.s+=this.oc[c]:(this.s-=this.oc[t-this.u],this.s+=this.oc[c]):(e[b>>4][a>>8]|=r,0===t&&(this.s+=1),d=a&15,0<a&&d<=A?(a-=d+1,e[b>>4][a>>8]|=1<<(~(a>>4)&15),a+=d+1):a<this.width-1&&d>=
w&&(a+=16-d,e[b>>4][a>>8]|=1<<(~(a>>4)&15),a-=16-d),0<b&&0===(b&15)?(--b,e[b>>4][a>>8]|=1<<(~(a>>4)&15),0<a&&d<=A?(a-=d+1,e[b>>4][a>>8]|=1<<(~(a>>4)&15),a+=d+1):a<this.width-1&&d>=w&&(a+=16-d,e[b>>4][a>>8]|=1<<(~(a>>4)&15),a-=16-d),b+=1):b<this.height-1&&15===(b&15)&&(b+=1,e[b>>4][a>>8]|=1<<(~(a>>4)&15),0<a&&d<=A?(a-=d+1,e[b>>4][a>>8]|=1<<(~(a>>4)&15),a+=d+1):a<this.width-1&&d>=w&&(a+=16-d,e[b>>4][a>>8]|=1<<(~(a>>4)&15),a-=16-d),--b));else{0!==(this.counter&1)&&(f=this.Va,e=this.X);var z=1<<(~a&15);
r=1<<(~(a>>4)&15);if(this.Ca)t=k[b][a],2===this.h?(e=this.Ya,1===c&&(c=this.Ya),0===c&&t>=e&&(c=d?0:this.u)):(e=this.h-1+this.u,0<c&&(c=this.u+c)),k[b][a]=c,g[b>>4][a>>8]|=r,l[b>>4][a>>8]|=r,t<e&&c>=e?this.s+=1:t>=e&&c<e&&--this.s;else{if(this.A){var D=0<c;t=k[b][a]}else D=2>=this.h||this.l?1===(c&1):c===this.h-1;this.l&&(t=k[b][a],6===c&&6!==t||6!==c&&6===t)&&(v=1);D?(this.A?t||(this.s+=1):0===(f[b][a>>4]&z)&&(this.s+=1),k[b][a]=this.Xb?(a+b&127)+64:this.A||this.l?c:this.Ya,g[b>>4][a>>8]|=r,l[b>>
4][a>>8]|=r,f[b][a>>4]|=z,e[b>>4][a>>8]|=r,d=a&15,0<a&&d<=A?(a-=d+1,e[b>>4][a>>8]|=1<<(~(a>>4)&15),a+=d+1):a<this.width-1&&d>=w&&(a+=16-d,e[b>>4][a>>8]|=1<<(~(a>>4)&15),a-=16-d),0<b&&0===(b&15)?(--b,e[b>>4][a>>8]|=1<<(~(a>>4)&15),0<a&&d<=A?(a-=d+1,e[b>>4][a>>8]|=1<<(~(a>>4)&15),a+=d+1):a<this.width-1&&d>=w&&(a+=16-d,e[b>>4][a>>8]|=1<<(~(a>>4)&15),a-=16-d),b+=1):b<this.height-1&&15===(b&15)&&(b+=1,e[b>>4][a>>8]|=1<<(~(a>>4)&15),0<a&&d<=A?(a-=d+1,e[b>>4][a>>8]|=1<<(~(a>>4)&15),a+=d+1):a<this.width-
1&&d>=w&&(a+=16-d,e[b>>4][a>>8]|=1<<(~(a>>4)&15),a-=16-d),--b)):(this.A?0<t&&--this.s:0!==(f[b][a>>4]&z)&&--this.s,k[b][a]=this.A||this.l?c:d?0:this.pe,g[b>>4][a>>8]|=r,l[b>>4][a>>8]|=r,f[b][a>>4]&=~z);if(this.F&&p){t=p[b][a];0<t&&(t=G.zb.indexOf(t-128));if(6===c&&6!==t||6!==c&&6===t)v=1;2===c?k[b][a]=I.Ih:p[b][a]=0===c?0:G.zb[c]+128}2<this.h&&!this.l&&!this.A&&(0<c&&(c=this.u+c),k[b][a]=c)}}if(0<u)1===this.s&&(this.lb=!0),a<n.H&&(n.H=a),a>n.J&&(n.J=a),b<n.I&&(n.I=b),b>n.L&&(n.L=b),a<m.H&&(m.H=a),
a>m.J&&(m.J=a),b<m.I&&(m.I=b),b>m.L&&(m.L=b),this.Ca&&c===this.h-1+this.u&&(1===this.s?(q.H=a,q.J=a,q.I=b,q.L=b):(a<q.H&&(q.H=a),a>q.J&&(q.J=a),b<q.I&&(q.I=b),b>q.L&&(q.L=b)));else if(a===n.H||a===n.J||b===n.L||b===n.I)this.lb=!0;return v};pa.prototype.Pa=function(a,b,c){switch(this.kk){case I.gu:return this.Fj(a,b,c);case I.iu:return this.Fj(a,b,!0);case I.hu:return this.wm(a,b,c);default:return this.ym(a,b,c)}};pa.prototype.Fd=function(a,b,c,d){switch(this.kk){case I.gu:return this.en(a,b,c,d);
case I.iu:return this.jk(a,b,c,d);case I.hu:return this.gn(a,b,c,d);default:return this.jk(a,b,c,d)}};pa.prototype.jn=function(){this.kk=-1!==this.h||-1!==this.C||this.da?this.o&&2===this.h?I.iu:I.XE:this.F?I.hu:I.gu};pa.prototype.El=function(a){var b=1<<I.uj;a?(this.Dc=Array.matrix(ra.kc,1,b,0,this.S,"Life.popGraphData"),this.Ef=Array.matrix(ra.kc,1,b,0,this.S,"Life.birthGraphData"),this.Jf=Array.matrix(ra.kc,1,b,0,this.S,"Life.deathGraphData"),this.eg=b):(this.Dc=Array.matrix(ra.kc,0,0,0,this.S,
"Life.popGraphData"),this.Ef=Array.matrix(ra.kc,0,0,0,this.S,"Life.birthGraphData"),this.Jf=Array.matrix(ra.kc,0,0,0,this.S,"Life.deathGraphData"),this.eg=0)};pa.prototype.Fj=function(a,b,c){var d=0,f=this.m;a===(a&this.Aa)&&b===(b&this.ya)&&(this.o&&0!==(this.counter&1)&&(f=this.Y),a=f[b][a],d=c?a:a<=this.pe?0:1);return d};pa.prototype.wm=function(a,b,c){var d=0,f=G.zb[3]+128,e=G.zb[4]+128,k=G.zb[5]+128,g=G.zb[6]+128;a===(a&this.Aa)&&b===(b&this.ya)&&(d=this.m[b][a],c||(this.Da?(a=this.Da[b][a],
a===e||a===g?(d>=this.Ya&&(a=f),d=G.zb.indexOf(a-128)):a===f||a===k?(d<this.Ya&&(a=e),d=G.zb.indexOf(a-128)):d=0===d?0:d<=this.pe?2:1):d=d<=this.pe?0:1));return d};pa.prototype.ym=function(a,b,c){var d=0,f=G.zb[3]+128,e=G.zb[4]+128,k=G.zb[5]+128,g=G.zb[6]+128,l=this.Z?-1:0,p=Math.round((this.width-this.M)/2)+l;l=Math.round((this.height-this.K)/2)+l;var n=p+this.M-1,q=l+this.K-1,m=this.m;(this.i||this.o||this.l||this.A)&&0!==(this.counter&1)&&(m=this.Y);a===(a&this.Aa)&&b===(b&this.ya)&&(d=m[b][a],
c||2<this.h?2<this.h&&0<d&&!this.da&&(d<=this.u?d=0:(-1!==this.C&&(0===this.M&&(p=0,n=this.width-1),0===this.K&&(l=0,q=this.height-1)),d=-1===this.C||d!==this.Zb||a>=p&&a<=n&&b>=l&&b<=q?this.i||this.o||this.l||this.A?d-this.u:this.h+this.u-d:0)):this.Da?-1===this.C||d!==this.Zb||a>=p&&a<=n&&b>=l&&b<=q?(a=this.Da[b][a],a===e||a===g?(d>=this.Ya&&(a=f),d=G.zb.indexOf(a-128)):a===f||a===k?(d<this.Ya&&(a=e),d=G.zb.indexOf(a-128)):d=0===d?0:d<=this.pe?2:1):d=0:d=d<=this.pe||d===this.Zb?0:1);return d};pa.prototype.pd=
function(a){var b,c,d,f=a.length,e=a[0].length,k=this.oc,g=0;for(b=0;b<f;b+=1){var l=a[b];for(c=0;c<e;c+=1)(d=l[c])&&(g+=k[d])}return g};pa.prototype.km=function(a,b){var c=a.Ob,d=c.length,f=!1;if(this.Z||this.i)for(this.bb=this.Fb=!1,a=0;!f&&a<d;){var e=c[a];e.fg<b?("reverse playback"===e.action&&(this.bb=!this.bb),a+=1):e.fg>b?f=!0:"reverse playback"===e.action?f=this.Fb=!0:a+=1}};pa.prototype.ql=function(a,b){var c=this.Fc.h.length,d=null;a<this.counter&&(d=this.Fc.Y(a),c!==this.Fc.h.length&&(this.ff-=
I.rp*(c-this.Fc.h.length)));d&&(this.fk(d,b),b.xt());for(;this.counter<a;)this.km(b,this.counter),this.i&&(1===(this.counter&1)?this.m.aa.fill(0):this.Y.aa.fill(0)),this.pf(!0),b.ia+=b.rc,this.xe(),this.Yg(),this.wf(b),b.Ao()};pa.prototype.fk=function(a,b){var c=this.m,d=this.Da;this.counter=a.counter;b.ia=a.M;this.Kb=a.A;this.ge=a.C;if(0!==(this.counter&1)){b=this.Ed;var f=this.grid;var e=this.X;var k=this.O}else b=this.grid,f=this.Ed,e=this.O,k=this.X;b.aa.fill(0);f.aa.fill(0);this.m.aa.fill(0);
(this.i||this.o||this.l||this.A)&&this.Y.aa.fill(0);this.Ea.aa.fill(0);a.V(b,e);a.P(c,this.ra,a.K);(this.i||this.o||this.l||this.A)&&Array.vg(c,this.Y);this.yc?(d.aa.fill(0),this.mb.aa.fill(0),a.P(d,this.B,a.u),this.Za()):(this.l&&this.Za(),Array.vg(this.B,this.ra));Array.vg(e,k);Array.vg(b,f);this.v.H=a.i.H;this.v.I=a.i.I;this.v.J=a.i.J;this.v.L=a.i.L;this.na.H=a.h.H;this.na.I=a.h.I;this.na.J=a.h.J;this.na.L=a.h.L;this.s=a.F;this.ma=a.v;this.$=a.B};pa.prototype.Bh=function(a){if(0!==(this.counter&
1)){var b=this.Ed;var c=this.X}else b=this.grid,c=this.O;this.ik(!1,b,c,a)};pa.prototype.hg=function(a,b){this.fk(this.bj,a);this.Fc.reset();this.ff=I.rp;b||this.Bh(a)};pa.prototype.ik=function(a,b,c,d){var f=this.m;(this.i||this.o||this.l||this.A)&&0!==(this.counter&1)&&(f=this.Y);this.Fc.W(b,c,f,this.B,this.Da,this.B,this.v,this.na,this.s,this.ma,this.$,this.counter,d.ia,this.Kb,this.ge,(this.ba-1>>4)+1,this.ea,this,a)};pa.prototype.an=function(a,b){this.Fc.reset();this.bj=this.Fc.K((this.ba-1>>
4)+1,this.ea,!0,this.yc);this.ik(!0,this.grid,this.O,b);a||this.Bh(b)};pa.prototype.Rm=function(){var a=this.Da,b=this.Kc;this.width=512;this.height=256;this.Ca&&this.V.resize(this.width,this.height);this.grid=Array.matrix(ra.Ra,this.height,(this.width-1>>3)+1,0,this.S,"Life.grid");this.Ed=Array.matrix(ra.Ra,this.height,(this.width-1>>3)+1,0,this.S,"Life.nextGrid");this.xa=Array.ae(ra.Ha,this.grid,"Life.grid16");this.Va=Array.ae(ra.Ha,this.Ed,"Life.nextGrid16");b&&(this.Kc=Array.matrix(ra.Ha,this.height,
(this.width-1>>4)+1,0,this.S,"Life.state6Mask"),this.Zd=Array.matrix(ra.Ha,this.height,(this.width-1>>4)+1,0,this.S,"Life.state6Alive"),this.Gd=Array.matrix(ra.Ha,this.height,(this.width-1>>4)+1,0,this.S,"Life.state6Cells"));this.ba=this.width>>4;this.ea=this.height>>4;b&&(this.Uc=Array.matrix(ra.Ha,this.ea,(this.ba-1>>4)+1,0,this.S,"Life.state6TileGrid"));this.O=Array.matrix(ra.Ha,this.ea,(this.ba-1>>4)+1,0,this.S,"Life.tileGrid");this.X=Array.matrix(ra.Ha,this.ea,(this.ba-1>>4)+1,0,this.S,"Life.nextTileGrid");
this.ra=Array.matrix(ra.Ha,this.ea,(this.ba-1>>4)+1,0,this.S,"Life.colourTileGrid");this.B=Array.matrix(ra.Ha,this.ea,(this.ba-1>>4)+1,0,this.S,"Life.colourTileHistoryGrid");this.Ua=Array.matrix(ra.Ha,this.ea,(this.ba-1>>4)+1,0,this.S,"Life.diedGrid");this.Dh=this.S.h(ra.Ra,(this.width-1>>3)+1,"Life.blankRow");this.he=this.S.h(ra.Ha,(this.width-1>>4)+1,"Life.blankRow16");this.Qa=this.S.h(ra.Ha,this.ba>>4,"Life.blankTileRow");this.pa=this.S.h(ra.Ra,this.width,"Life.blankColourRow");this.Ia=this.S.h(ra.Ha,
(this.width-1>>4)+1,"Life.columnOccupied16");this.Wa=this.S.h(ra.Ha,(this.height-1>>4)+1,"Life.rowOccupied16");this.Rf=this.S.h(ra.Ha,(this.width-1>>4)+1,"Life.columnAliveOccupied16");this.ig=this.S.h(ra.Ha,(this.height-1>>4)+1,"Life.rowAliveOccupied16");this.m=Array.matrix(ra.Ra,this.height,this.width,0,this.S,"Life.colourGrid");this.i||this.o||this.l||this.A?(this.Y=Array.matrix(ra.Ra,this.height,this.width,0,this.S,"Life.nextColourGrid"),this.ef=Array.ae(ra.Ha,this.Y,"Life.nextColourGrid16"),this.va=
Array.ae(ra.kc,this.Y,"Life.nextColourGrid32")):this.va=this.ef=this.Y=null;this.Ea=Array.matrix(ra.Ra,this.height,this.width,0,this.S,"Life.smallColourGrid");this.we=Array.ae(ra.Ha,this.m,"Life.colourGrid16");this.wa=Array.ae(ra.kc,this.m,"Life.colourGrid32");a&&(this.Da=Array.matrix(ra.Ra,this.height,this.width,0,this.S,"Life.overlayGrid"),this.mb=Array.matrix(ra.Ra,this.height,this.width,0,this.S,"Life.smallOverlayGrid"),this.dg=Array.ae(ra.Ha,this.Da,"Life.overlayGrid16"),this.Fe=Array.ae(ra.kc,
this.Da,"Life.overlayGrid32"));this.Aa=this.width-1;this.ya=this.height-1;this.Fc.T((this.ba-1>>4)+1,this.ea,0,0,0,0,this.yc)};pa.prototype.vc=function(a,b,c,d,f){var e;for(e=0;e<a;e+=1)d[e+b].set(f[e],c)};pa.prototype.lf=function(a,b,c){var d=this.height,f=this.grid,e=this.Ed,k=this.m,g=this.Y,l=this.Da,p=this.Kc,n=this.Zd,q=this.Gd,m=this.Zg,r=this.De,u=this.Uc,t=this.O,v=this.X,A=this.ra,w=this.B,z=this.Ua,D=this.cg,F=this.qf,L=this.ea,O=0,N=0,V=0,W=0;if(this.width<this.T||d<this.T||!c)if(a&&(O=
this.width>>1,this.width*=2),b&&(N=this.height>>1,this.height*=2),this.Ca&&this.V.resize(this.width,this.height),this.grid=Array.matrix(ra.Ra,this.height,(this.width-1>>3)+1,0,this.S,"Life.grid"),this.Ed=Array.matrix(ra.Ra,this.height,(this.width-1>>3)+1,0,this.S,"Life.nextGrid"),this.xa=Array.ae(ra.Ha,this.grid,"Life.grid16"),this.Va=Array.ae(ra.Ha,this.Ed,"Life.nextGrid16"),p&&(this.Kc=Array.matrix(ra.Ha,this.height,(this.width-1>>4)+1,0,this.S,"Life.state6Mask"),this.Zd=Array.matrix(ra.Ha,this.height,
(this.width-1>>4)+1,0,this.S,"Life.state6Alive"),this.Gd=Array.matrix(ra.Ha,this.height,(this.width-1>>4)+1,0,this.S,"Life.state6Cells")),this.ba=this.width>>4,this.ea=this.height>>4,p&&(this.Uc=Array.matrix(ra.Ha,this.ea,(this.ba-1>>4)+1,0,this.S,"Life.state6TileGrid")),this.O=Array.matrix(ra.Ha,this.ea,(this.ba-1>>4)+1,0,this.S,"Life.tileGrid"),this.X=Array.matrix(ra.Ha,this.ea,(this.ba-1>>4)+1,0,this.S,"Life.nextTileGrid"),this.ra=Array.matrix(ra.Ha,this.ea,(this.ba-1>>4)+1,0,this.S,"Life.colourTileGrid"),
this.B=Array.matrix(ra.Ha,this.ea,(this.ba-1>>4)+1,0,this.S,"Life.colourTileHistoryGrid"),this.Ua=Array.matrix(ra.Ha,this.ea,(this.ba-1>>4)+1,0,this.S,"Life.diedGrid"),D&&(this.cg=Array.matrix(ra.Ha,this.ea,(this.ba-1>>4)+1,0,this.S,"Life.occTileMap")),F&&(this.qf=Array.matrix(ra.Ha,this.ea,(this.ba-1>>4)+1,0,this.S,"Life.occMergedTileMap")),this.Dh=this.S.h(ra.Ra,(this.width-1>>3)+1,"Life.blankRow"),this.he=this.S.h(ra.Ha,(this.width-1>>4)+1,"Life.blankRow16"),this.Qa=this.S.h(ra.Ha,this.ba>>4,"Life.blankTileRow"),
this.pa=this.S.h(ra.Ra,this.width,"Life.blankColourRow"),this.Ia=this.S.h(ra.Ha,(this.width-1>>4)+1,"Life.columnOccupied16"),this.Wa=this.S.h(ra.Ha,(this.height-1>>4)+1,"Life.rowOccupied16"),this.Rf=this.S.h(ra.Ha,(this.width-1>>4)+1,"Life.columnAliveOccupied16"),this.ig=this.S.h(ra.Ha,(this.height-1>>4)+1,"Life.rowAliveOccupied16"),m&&(this.Zg=Array.matrix(ra.Ra,this.height,this.width,I.wn,this.S,"Life.countList")),r&&(this.De=Array.matrix(ra.Ra,this.height,this.width,0,this.S,"Life.initList")),
this.m=Array.matrix(ra.Ra,this.height,this.width,0,this.S,"Life.colourGrid"),this.Ea=Array.matrix(ra.Ra,this.height,this.width,0,this.S,"Life.smallColourGrid"),this.we=Array.ae(ra.Ha,this.m,"Life.colourGrid16"),this.wa=Array.ae(ra.kc,this.m,"Life.colourGrid32"),this.i||this.o||this.l||this.A?(this.Y=Array.matrix(ra.Ra,this.height,this.width,0,this.S,"Life.nextColourGrid"),this.ef=Array.ae(ra.Ha,this.Y,"Life.nextColourGrid16"),this.va=Array.ae(ra.kc,this.Y,"Life.nextColourGrid32")):this.va=this.ef=
this.Y=null,l&&(this.Da=Array.matrix(ra.Ra,this.height,this.width,0,this.S,"Life.overlayGrid"),this.mb=Array.matrix(ra.Ra,this.height,this.width,0,this.S,"Life.smallOverlayGrid"),this.dg=Array.ae(ra.Ha,this.Da,"Life.overlayGrid16"),this.Fe=Array.ae(ra.kc,this.Da,"Life.overlayGrid32")),this.Aa=this.width-1,this.ya=this.height-1,c&&(this.vc(d,N,O>>3,this.grid,f),this.vc(d,N,O>>3,this.Ed,e),this.vc(d,N,O,this.m,k),(this.i||this.o||this.l||this.A)&&this.vc(d,N,O,this.Y,g),this.Zg&&this.vc(d,N,O,this.Zg,
m),this.De&&this.vc(d,N,O,this.De,r),l&&this.vc(d,N,O,this.Da,l),p&&n&&q&&(this.vc(d,N,O>>4,this.Kc,p),this.vc(d,N,O>>4,this.Zd,n),this.vc(d,N,O>>4,this.Gd,q)),b&&(W=L>>1),a&&(V=this.O[0].length>>2),u&&this.vc(L,W,V,this.Uc,u),this.vc(L,W,V,this.O,t),this.vc(L,W,V,this.X,v),this.vc(L,W,V,this.ra,A),this.vc(L,W,V,this.B,w),this.vc(L,W,V,this.Ua,z)),this.Fc.T((this.ba-1>>4)+1,this.ea,V,W,O,N,this.yc),this.fa+=O,this.ca+=N,this.ga&&(this.fa-=N/2|0),this.v.H+=O,this.v.J+=O,this.v.L+=N,this.v.I+=N,this.na.H+=
O,this.na.J+=O,this.na.L+=N,this.na.I+=N,this.cb.H+=O,this.cb.J+=O,this.cb.L+=N,this.cb.I+=N,this.Na.H+=O,this.Na.J+=O,this.Na.L+=N,this.Na.I+=N,0<this.ic)for(b=0;b<this.ic;b+=1)c=this.ac[(b<<1)+1],a=(c>>16)+O,c=(c&65535)+N,this.ac[(b<<1)+1]=a<<16|c};pa.prototype.Zl=function(a,b,c){var d=this.width,f=this.height,e=!1,k=!1,g=!1;if(d<this.T||f<this.T)if(d<this.T&&(b.H<=c||b.J>=d-c)&&(e=!0),f<this.T&&(b.I<=c||b.L>=f-c)&&(k=!0),e||k)this.lf(e,k,!0),g=!0,e&&(a.va+=this.width>>2,a.ya+=this.width>>2),k&&
(a.pb+=this.height>>2,a.Bb+=this.height>>2),a.g.ga&&k&&(a.va-=this.height>>3,a.ya-=this.height>>3),e&&(a.ea+=this.width>>2),k&&(a.Y+=this.height>>2),e&&(b.H+=this.width>>2,b.J+=this.width>>2),k&&(b.I+=this.height>>2,b.L+=this.height>>2);return g};pa.prototype.Wl=function(a,b,c){for(c=c+1>>1;this.Zl(a,b,c););};pa.prototype.Mm=function(){var a,b,c=this.oc;for(a=0;65536>a;a+=1){var d=a;for(b=0;d;b+=1)d&=d-1;c[a]=b}};pa.prototype.Om=function(){var a,b,c=this.jj,d=this.Ya;for(a=0;256>a;a+=1)for(b=0;8>
b;b+=1)c[(a<<3)+b]=a&1<<7-b?d:0};pa.prototype.Tm=function(a,b){var c,d=0,f=this.oc;var e=0;var k=this.v;var g=k.H,l=k.J,p=k.L;k=k.I;this.Ca&&(e=2<this.h?this.u+this.h-1:I.Ya);if(this.Ca||this.i||this.o||this.A||this.da)for(;k<=p;k+=1)for(a=b[k],c=g;c<=l;c+=1){var n=a[c];0<n&&(this.i?d+=f[n-this.u]:this.Ca?n===e&&(d+=1):this.A?0<n&&(d+=1):d+=1)}else for(g>>=4,l>>=4;k<=p;k+=1)for(b=a[k],c=g;c<=l;c+=1)e=f[b[c]],d+=e;this.s=d;this.$=this.ma=0};pa.prototype.ek=function(a,b){var c=this.ha,d=!1;var f=this.tc?
4278190080:255;if(this.displayWidth!==a||this.displayHeight!==b)d=!0;this.displayWidth=a;this.displayHeight=b;this.$f=this.Cn=this.Xc=this.Cc=null;this.Cc=c.createImageData(c.canvas.width,c.canvas.height);this.S.u(ra.kc,c.canvas.width*c.canvas.height,"Life.imageData");this.Cc.data.buffer?this.Xc=new Uint32Array(this.Cc.data.buffer):(this.Xc=new Uint32Array(this.Cc.data.length>>2),this.Cn=new Uint8Array(this.Xc.buffer));if(d){this.Ch=this.S.h(ra.kc,a,"Life.blankPixelRow");for(b=0;b<a;b+=1)this.Ch[b]=
f;this.Jk(f);this.Zh();null!==this.nc&&(this.nc.width=this.displayWidth+G.Ib,this.nc.height=this.displayHeight+G.Ib,this.Se=this.nc.getContext("2d",{alpha:!1}),this.Lg=this.Se.createImageData(this.nc.width,this.nc.height))}};pa.prototype.Pk=function(a,b,c){var d,f,e=this.m,k=a.width,g=a.height,l=this.Aa,p=this.ya,n=this.Ih,q=G.zb[2];for(f=0;f<g;f+=1){var m=a.ca[f];var r=e[f+c&p];for(d=0;d<k;d+=1)m[d]===q&&(r[d+b&l]=n)}};pa.prototype.Ml=function(){this.Fe=this.dg=this.mb=this.Da=null};pa.prototype.Zk=
function(){this.Da=Array.matrix(ra.Ra,this.height,this.width,0,this.S,"Life.overlayGrid");this.mb=Array.matrix(ra.Ra,this.height,this.width,0,this.S,"Life.smallOverlayGrid");Array.Zt(this.mb,1,"Life.smallOverlayGrid4");Array.Zt(this.mb,3,"Life.smallOverlayGrid8");Array.Zt(this.mb,7,"Life.smallOverlayGrid16");this.dg=Array.ae(ra.Ha,this.Da,"Life.overlayGrid16");this.Fe=Array.ae(ra.kc,this.Da,"Life.overlayGrid32")};pa.prototype.Pl=function(){this.Uc=this.Gd=this.Zd=this.Kc=null};pa.prototype.Fk=function(){this.Kc=
Array.matrix(ra.Ha,this.height,(this.width-1>>4)+1,0,this.S,"Life.state6Mask");this.Zd=Array.matrix(ra.Ha,this.height,(this.width-1>>4)+1,0,this.S,"Life.state6Alive");this.Gd=Array.matrix(ra.Ha,this.height,(this.width-1>>4)+1,0,this.S,"Life.state6Cells");this.Uc=Array.matrix(ra.Ha,this.ea,(this.ba-1>>4)+1,0,this.S,"Life.state6TileGrid")};pa.prototype.Za=function(){var a,b,c=this.Aa,d=this.ya,f=this.Uc,e=this.l?6:G.zb[6]+128,k=this.l?this.m:this.Da,g=this.pi,l=this.width,p=-1,n=this.height,q=-1;if(this.F)for(this.Kc.aa.fill(0),
this.Gd.aa.fill(0),this.Zd.aa.fill(0),this.Uc.aa.fill(0),b=0;b<this.height;b+=1){var m=k[b];if(0<b){var r=this.Kc[b-1&d];var u=f[(b-1&d)>>4]}else u=r=null;var t=this.Kc[b&d];var v=f[(b&d)>>4];var A=this.Gd[b&d];if(b<this.height-1){var w=this.Kc[b+1&d];var z=f[(b+1&d)>>4]}else z=w=null;for(a=0;a<this.width;a+=1)if(m[a]===e){a<l&&(l=a);a>p&&(p=a);b<n&&(n=b);b>q&&(q=b);var D=a&c;A[D>>4]|=1<<(~D&15);r&&(r[D>>4]|=1<<(~D&15),u[D>>8]|=1<<(~(D>>4)&15));t[D>>4]|=1<<(~D&15);v[D>>8]|=1<<(~(D>>4)&15);w&&(w[D>>
4]|=1<<(~D&15),z[D>>8]|=1<<(~(D>>4)&15));0<a&&(D=a-1&c,!this.bd&&r&&(r[D>>4]|=1<<(~D&15),u[D>>8]|=1<<(~(D>>4)&15)),t[D>>4]|=1<<(~D&15),v[D>>8]|=1<<(~(D>>4)&15),this.ga||this.bd||!w||(w[D>>4]|=1<<(~D&15),z[D>>8]|=1<<(~(D>>4)&15)));a<this.width-1&&(D=a+1&c,this.ga||this.bd||!r||(r[D>>4]|=1<<(~D&15),u[D>>8]|=1<<(~(D>>4)&15)),t[D>>4]|=1<<(~D&15),v[D>>8]|=1<<(~(D>>4)&15),!this.bd&&w&&(w[D>>4]|=1<<(~D&15),z[D>>8]|=1<<(~(D>>4)&15)))}}else for(b=0;b<this.height;b+=1)for(m=k[b],a=0;a<this.width;a+=1)6===m[a]&&
(a<l&&(l=a),a>p&&(p=a),b<n&&(n=b),b>q&&(q=b));g.H=l;g.I=n;g.J=p;g.L=q};pa.prototype.uf=function(a){this.Xb?this.Pm(a):this.Nm(a)};pa.prototype.Pm=function(a){var b,c=this.m;var d=this.v;var f=d.H>>4,e=d.J>>4,k=d.L;for(b=d.I;b<=k;b+=1){var g=a[b];var l=c[b];var p=f<<4;for(d=f;d<=e;d+=1){var n=g[d]>>8;l[p]=n&128?(b+p&127)+64:0;p+=1;l[p]=n&64?(b+p&127)+64:0;p+=1;l[p]=n&32?(b+p&127)+64:0;p+=1;l[p]=n&16?(b+p&127)+64:0;p+=1;l[p]=n&8?(b+p&127)+64:0;p+=1;l[p]=n&4?(b+p&127)+64:0;p+=1;l[p]=n&2?(b+p&127)+64:
0;p+=1;l[p]=n&1?(b+p&127)+64:0;p+=1;n=g[d]&255;l[p]=n&128?(b+p&127)+64:0;p+=1;l[p]=n&64?(b+p&127)+64:0;p+=1;l[p]=n&32?(b+p&127)+64:0;p+=1;l[p]=n&16?(b+p&127)+64:0;p+=1;l[p]=n&8?(b+p&127)+64:0;p+=1;l[p]=n&4?(b+p&127)+64:0;p+=1;l[p]=n&2?(b+p&127)+64:0;p+=1;l[p]=n&1?(b+p&127)+64:0;p+=1}}};pa.prototype.Nm=function(a){var b,c=this.wa,d=new Uint32Array(this.jj.buffer);var f=this.v;var e=f.H>>4,k=f.J>>4,g=f.L;f=f.I;if(!(this.i||this.o||this.Ca))for(b=f;b<=g;b+=1){var l=a[b];var p=c[b];var n=e<<2;for(f=e;f<=
k;f+=1){var q=l[f]>>8<<1;p[n]=d[q];n+=1;p[n]=d[q+1];n+=1;q=(l[f]&255)<<1;p[n]=d[q];n+=1;p[n]=d[q+1];n+=1}}};pa.prototype.xc=function(a){var b=[],c,d;for(d=0;7>d;d+=1){var f=[];for(c=0;7>c;c+=1)f[c]=0;b[d]=f}for(d=0;3>d;d+=1)for(c=0;3>c;c+=1)b[d+2][c+2]=a[d][c];return b};pa.prototype.Uk=function(){this.Ti=this.xc(I.LD);this.Ui=this.xc(I.MD);this.Wi=this.xc(I.ND);this.Xi=this.xc(I.OD);this.Mi=this.xc(I.HD);this.Pi=this.xc(I.ID);this.Qi=this.xc(I.JD);this.Ri=this.xc(I.KD);this.Th=this.xc(I.TD);this.Uh=
this.xc(I.UD);this.Vh=this.xc(I.VD);this.Wh=this.xc(I.WD);this.Yi=this.xc(I.PD);this.Zi=this.xc(I.QD);this.$i=this.xc(I.RD);this.aj=this.xc(I.SD)};pa.prototype.Qm=function(a,b,c){var d=this.Dh,f=this.pa,e=this.Ch,k=this.Qa;var g=this.tc?4278190080:255;this.yc=!1;this.Aa=this.width-1;this.ya=this.height-1;this.v=new Sa(0,0,this.width-1,this.height-1);this.cb=new Sa(0,0,this.width-1,this.height-1);this.na=new Sa(0,0,this.width-1,this.height-1);this.Xh=new Sa(0,0,this.width-1,this.height-1);this.pi=
new Sa(this.width,this.height,-1,-1);this.Na=new Sa(0,0,this.width-1,this.height-1);this.ha=a;this.Om();this.ek(b,c);d.fill(0);f.fill(0);k.fill(0);e.fill(g);this.Uk()};pa.prototype.Yk=function(){var a=0;this.la[a]=new Ma("Mono",new va(new S(0,0,0),new S(0,0,0)),new va(new S(255,255,255),new S(255,255,255)),new S(0,0,0),new S(255,255,255),new va(new S(64,64,64),new S(-1,-1,-1)),new va(new S(0,0,0),new S(0,0,0)),new S(0,0,0),[new S(64,64,64),new S(64,64,64),new S(128,128,128),new S(64,64,64),new S(128,
128,128),new S(128,128,128),new S(192,192,192),new S(64,64,64),new S(128,128,128),new S(128,128,128),new S(192,192,192),new S(128,128,128),new S(192,192,192),new S(192,192,192),new S(255,255,255)]);a+=1;this.la[a]=new Ma("Blues",new va(new S(0,0,47),new S(0,0,255)),new va(new S(0,255,255),new S(255,255,255)),new S(0,0,0),new S(0,255,255),new va(new S(0,0,255),new S(-1,-1,-1)),new va(new S(0,0,47),new S(0,0,128)),new S(0,0,0),[new S(0,128,255),new S(0,255,128),new S(0,192,192),new S(128,0,255),new S(0,
0,255),new S(96,128,192),new S(128,255,224),new S(255,0,128),new S(96,96,192),new S(128,128,255),new S(128,224,255),new S(192,0,192),new S(255,128,224),new S(224,128,225),new S(224,224,255)]);a+=1;this.la[a]=new Ma("Fire",new va(new S(32,0,0),new S(160,0,0)),new va(new S(255,144,0),new S(255,255,0)),new S(0,0,0),new S(255,144,0),new va(new S(240,0,0),new S(-1,-1,-1)),new va(new S(32,0,0),new S(160,0,0)),new S(0,0,0),[new S(128,0,0),new S(128,0,48),new S(192,0,48),new S(128,48,48),new S(192,64,0),
new S(192,48,64),new S(224,48,64),new S(128,48,0),new S(192,48,0),new S(192,0,64),new S(224,48,64),new S(192,64,48),new S(224,64,48),new S(224,64,64),new S(255,192,0)]);a+=1;this.la[a]=new Ma("Poison",new va(new S(0,24,0),new S(0,128,0)),new va(new S(0,255,255),new S(255,255,255)),new S(0,0,0),new S(0,255,255),new va(new S(0,192,0),new S(-1,-1,-1)),new va(new S(0,24,0),new S(0,128,0)),new S(0,0,0),[new S(0,128,255),new S(0,255,128),new S(0,192,192),new S(64,0,255),new S(0,0,255),new S(48,128,192),
new S(64,255,224),new S(0,128,128),new S(48,128,192),new S(64,128,255),new S(64,224,255),new S(0,96,192),new S(64,128,224),new S(56,128,255),new S(224,255,224)]);a+=1;this.la[a]=new Ma("Yellow",new va(new S(0,47,0),new S(128,0,128)),new va(new S(255,255,0),new S(255,255,255)),new S(0,32,128),new S(255,255,0),new va(new S(192,64,64),new S(-1,-1,-1)),new va(new S(0,47,0),new S(128,0,128)),new S(0,32,128),[new S(0,150,0),new S(50,100,0),new S(50,200,0),new S(150,0,0),new S(75,25,0),new S(200,100,0),
new S(200,225,0),new S(100,50,0),new S(100,200,0),new S(25,75,0),new S(150,255,0),new S(200,50,0),new S(225,200,0),new S(255,225,0),new S(255,255,0)]);a+=1;this.la[a]=new Ma("Gray",new va(new S(16,16,16),new S(104,104,104)),new va(new S(176,176,176),new S(240,240,240)),new S(0,0,0),new S(240,240,240),new va(new S(160,160,160),new S(-1,-1,-1)),new va(new S(16,16,16),new S(104,104,104)),new S(0,0,0),[new S(128,128,128),new S(128,128,128),new S(144,144,144),new S(128,128,128),new S(144,144,144),new S(144,
144,144),new S(160,160,160),new S(128,128,128),new S(144,144,144),new S(144,144,144),new S(160,160,160),new S(144,144,144),new S(160,160,160),new S(160,160,160),new S(192,192,192)]);a+=1;this.la[a]=new Ma("Inverse",new va(new S(255,255,255),new S(255,255,255)),new va(new S(0,0,0),new S(0,0,0)),new S(255,255,255),new S(0,0,0),new va(new S(192,192,192),new S(-1,-1,-1)),new va(new S(255,255,255),new S(255,255,255)),new S(255,255,255),[new S(192,192,192),new S(192,192,192),new S(128,128,128),new S(192,
192,192),new S(128,128,128),new S(128,128,128),new S(64,64,64),new S(192,192,192),new S(128,128,128),new S(128,128,128),new S(64,64,64),new S(128,128,128),new S(64,64,64),new S(64,64,64),new S(0,0,0)]);a+=1;this.la[a]=new Ma("Day",new va(new S(240,240,240),new S(0,255,255)),new va(new S(0,0,255),new S(0,0,0)),new S(255,255,255),new S(0,0,255),new va(new S(0,255,255),new S(-1,-1,-1)),new va(new S(240,240,240),new S(0,192,192)),new S(255,255,255),[new S(192,224,255),new S(192,255,224),new S(192,0,192),
new S(224,192,255),new S(128,128,255),new S(96,96,192),new S(0,128,32),new S(255,192,224),new S(96,128,192),new S(0,0,255),new S(0,32,128),new S(0,192,192),new S(128,0,32),new S(32,0,128),new S(0,0,32)]);a+=1;this.la[a]=new Ma("Occupied",new va(new S(240,240,240),new S(240,240,240)),new va(new S(240,240,240),new S(240,240,240)),new S(0,0,0),new S(240,240,240),new va(new S(240,240,240),new S(240,240,240)),new va(new S(240,240,240),new S(240,240,240)),new S(0,0,0),[new S(240,240,240),new S(240,240,
240),new S(240,240,240),new S(240,240,240),new S(240,240,240),new S(240,240,240),new S(240,240,240),new S(240,240,240),new S(240,240,240),new S(240,240,240),new S(240,240,240),new S(240,240,240),new S(240,240,240),new S(240,240,240),new S(240,240,240)]);a+=1;this.la[a]=new Ma("Red",new va(new S(160,0,0),new S(160,0,0)),new va(new S(240,240,240),new S(240,240,240)),new S(0,0,0),new S(255,255,255),new va(new S(160,160,160),new S(160,160,160)),new va(new S(160,0,0),new S(160,0,0)),new S(0,0,0),[new S(255,
255,255),new S(255,255,255),new S(255,255,255),new S(255,255,255),new S(255,255,255),new S(255,255,255),new S(255,255,255),new S(255,255,255),new S(255,255,255),new S(255,255,255),new S(255,255,255),new S(255,255,255),new S(255,255,255),new S(255,255,255),new S(255,255,255)]);a+=1;this.la[a]=new Ma("LifeHistory",new va(new S(0,0,96),new S(0,0,160)),new va(new S(0,240,0),new S(16,255,16)),new S(0,0,0),new S(16,255,16),new va(new S(0,128,160),new S(-1,-1,-1)),new va(new S(0,0,96),new S(0,0,160)),new S(0,
0,0),[new S(255,0,0),new S(192,192,0),new S(224,144,0),new S(0,192,192),new S(192,144,144),new S(144,192,144),new S(255,224,192),new S(0,0,255),new S(192,0,192),new S(144,144,192),new S(255,192,255),new S(0,144,224),new S(128,96,224),new S(144,192,224),new S(224,224,224)]);a+=1;this.la[a]=new Ma("Generations",new va(new S(64,0,0),new S(255,0,0)),new va(new S(255,255,0),new S(255,255,255)),new S(0,0,0),new S(255,255,0),new va(new S(255,0,0),new S(-1,-1,-1)),new va(new S(64,0,0),new S(128,0,0)),new S(0,
0,0),[new S(255,128,0),new S(224,128,64),new S(192,192,0),new S(255,16,32),new S(255,0,0),new S(192,128,48),new S(255,224,64),new S(128,32,64),new S(192,96,48),new S(255,128,64),new S(255,224,64),new S(192,24,48),new S(224,128,128),new S(255,218,112),new S(255,255,224)]);a+=1;this.la[a]=new Ma("Golly",new va(new S(48,48,48),new S(48,48,48)),new va(new S(255,255,255),new S(255,255,255)),new S(48,48,48),new S(255,0,0),new va(new S(255,255,0),new S(-1,-1,-1)),new va(new S(48,48,48),new S(48,48,48)),
new S(48,48,48),[new S(0,255,127),new S(127,0,255),new S(148,148,148),new S(128,255,9),new S(255,0,128),new S(0,128,255),new S(1,159,0),new S(159,0,1),new S(255,254,96),new S(0,1,159),new S(96,255,254),new S(254,96,255),new S(126,125,21),new S(21,126,125),new S(125,21,126)]);this.la[a].K(10,new S(80,80,80),new S(112,112,112));a+=1;this.la[a]=new Ma("MCell",new va(new S(0,0,0),new S(0,0,0)),new va(new S(255,255,0),new S(255,255,0)),new S(0,0,0),new S(255,255,0),new va(new S(0,255,0),new S(-1,-1,-1)),
new va(new S(0,0,0),new S(0,0,0)),new S(0,0,0),[new S(255,255,0),new S(255,219,0),new S(255,183,0),new S(255,147,0),new S(255,111,0),new S(255,75,0),new S(255,39,0),new S(255,0,0),new S(240,0,0),new S(225,0,0),new S(210,0,0),new S(195,0,0),new S(180,0,0),new S(165,0,0),new S(150,0,0)]);this.la[a].K(5,new S(64,0,0),new S(99,3,1));a+=1;this.la[a]=new Ma("Catagolue",new va(new S(160,221,204),new S(160,221,204)),new va(new S(0,0,0),new S(0,0,0)),new S(192,255,238),new S(0,0,0),new va(new S(96,192,139),
new S(2,129,2)),new va(new S(160,221,204),new S(160,221,204)),new S(192,255,238),[new S(0,0,0),new S(0,128,0),new S(0,64,0),new S(255,0,0),new S(128,0,0),new S(128,64,0),new S(85,43,0),new S(0,0,255),new S(0,0,128),new S(0,64,128),new S(0,43,85),new S(128,0,128),new S(85,0,85),new S(85,43,85),new S(64,32,64)]);this.la[a].K(0,new S(160,221,204),new S(160,221,204));a+=1;this.la[a]=new Ma("Caterer",new va(new S(54,57,62),new S(54,57,62)),new va(new S(255,255,255),new S(255,255,255)),new S(54,57,62),
new S(255,170,0),new va(new S(255,85,0),new S(-1,-1,-1)),new va(new S(54,57,62),new S(54,57,62)),new S(54,57,62),[new S(48,93,148),new S(58,73,148),new S(144,137,188),new S(78,72,128),new S(134,137,218),new S(124,147,228),new S(130,151,242),new S(78,93,118),new S(114,107,218),new S(114,137,238),new S(120,171,242),new S(84,137,188),new S(150,171,212),new S(150,151,222),new S(186,205,255)]);this.la[a].K(0,new S(0,0,0),new S(0,0,0));a+=1;this.la[a]=new Ma("Life32",new va(new S(255,255,255),new S(255,
255,255)),new va(new S(0,0,128),new S(0,0,128)),new S(255,255,255),new S(0,0,128),new va(new S(0,0,64),new S(-1,-1,-1)),new va(new S(255,255,255),new S(255,255,255)),new S(255,255,255),[new S(255,128,128),new S(192,192,128),new S(224,144,96),new S(128,192,192),new S(192,112,112),new S(144,192,144),new S(128,96,64),new S(128,128,255),new S(192,96,192),new S(112,112,192),new S(128,64,128),new S(96,144,224),new S(64,32,160),new S(32,96,128),new S(32,32,32)]);this.la[a].K(5,new S(192,192,192),new S(128,
128,128));a+=1;this.la[a]=new Ma("Margolus",new va(new S(0,0,47),new S(0,0,128)),new va(new S(255,255,0),new S(255,255,255)),new S(0,0,0),new S(255,255,0),new va(new S(64,64,128),new S(-1,-1,-1)),new va(new S(0,0,47),new S(0,0,128)),new S(0,0,0),[new S(255,128,0),new S(224,128,64),new S(192,192,0),new S(255,16,32),new S(255,0,0),new S(192,128,48),new S(224,255,64),new S(128,32,64),new S(192,96,48),new S(255,128,64),new S(255,224,64),new S(192,24,48),new S(224,128,128),new S(255,128,112),new S(255,
255,224)]);this.la[a].K(2,new S(64,64,128),new S(32,32,255));a+=1;this.la[a]=new Ma("PCA",new va(new S(24,24,24),new S(64,64,64)),new va(new S(176,176,176),new S(240,240,240)),new S(0,0,0),new S(240,240,240),new va(new S(160,160,160),new S(-1,-1,-1)),new va(new S(24,24,24),new S(64,64,64)),new S(0,0,0),[new S(255,0,0),new S(0,255,0),new S(128,128,0),new S(16,16,255),new S(128,0,128),new S(0,128,128),new S(96,96,96),new S(255,255,0),new S(255,128,0),new S(128,255,0),new S(170,170,0),new S(144,144,
144),new S(170,85,85),new S(85,128,43),new S(128,128,64)]);a+=1;this.la[a]=new Ma("Book",new va(new S(255,220,192),new S(192,220,255)),new va(new S(0,0,0),new S(0,0,0)),new S(255,255,255),new S(0,0,0),new va(new S(128,128,128),new S(48,48,48)),new va(new S(255,220,192),new S(192,220,255)),new S(255,255,255),[new S(255,128,128),new S(192,192,128),new S(224,144,96),new S(128,192,192),new S(192,112,112),new S(144,192,144),new S(128,96,64),new S(128,128,255),new S(192,96,192),new S(112,112,192),new S(128,
64,128),new S(96,144,224),new S(64,32,160),new S(32,96,128),new S(32,32,32)]);this.la[a].K(0,new S(192,192,192),new S(209,209,209));this.la[a+1]=new Ma(C.uo,new va(new S(0,0,0),new S(0,0,0)),new va(new S(0,0,0),new S(0,0,0)),new S(0,0,0),new S(0,0,0),new va(new S(0,0,0),new S(0,0,0)),new va(new S(0,0,0),new S(0,0,0)),new S(0,0,0),[new S(255,0,0),new S(0,255,0),new S(128,128,0),new S(16,16,255),new S(128,0,128),new S(0,128,128),new S(96,96,96),new S(255,255,0),new S(255,128,0),new S(128,255,0),new S(170,
170,0),new S(144,144,144),new S(170,85,85),new S(85,128,43),new S(128,128,64)]);this.ib=this.la.length-1;this.Ld=new va(new S(0,0,0),new S(0,0,0));this.Tc=new va(new S(0,0,0),new S(0,0,0));this.$d=new S(0,0,0);this.Df=new S(0,0,0);this.ce=new va(new S(0,0,0),new S(0,0,0));this.ze=new va(new S(0,0,0),new S(0,0,0));this.yf=new S(0,0,0);this.ve=[new S(0,0,0),new S(0,0,0),new S(0,0,0),new S(0,0,0),new S(0,0,0),new S(0,0,0),new S(0,0,0),new S(0,0,0),new S(0,0,0),new S(0,0,0),new S(0,0,0),new S(0,0,0),
new S(0,0,0),new S(0,0,0),new S(0,0,0)];this.cd=new va(new S(0,0,0),new S(0,0,0));this.Pc=new va(new S(0,0,0),new S(0,0,0));this.Hd=new S(0,0,0);this.Xe=new S(0,0,0);this.Bd=new va(new S(0,0,0),new S(0,0,0));this.Rd=new va(new S(0,0,0),new S(0,0,0));this.hf=new S(0,0,0);this.od=[new S(0,0,0),new S(0,0,0),new S(0,0,0),new S(0,0,0),new S(0,0,0),new S(0,0,0),new S(0,0,0),new S(0,0,0),new S(0,0,0),new S(0,0,0),new S(0,0,0),new S(0,0,0),new S(0,0,0),new S(0,0,0),new S(0,0,0)]};pa.prototype.ki=function(a,
b,c){var d=this.la[a],f;this.pb=a;this.Ld.set(this.cd);this.Tc.set(this.Pc);this.$d.set(this.Hd);this.Df.set(this.Xe);this.ze.set(this.Rd);this.ce.set(this.Bd);this.yf.set(this.hf);for(f=0;f<this.od.length;f+=1)this.ve[f]=this.od[f];12===a&&this.Ca?this.cd.set(this.la[11].i):this.cd.set(d.i);this.Pc.set(d.h);this.Hd.set(d.u);this.hf.set(d.C);for(f=0;f<this.od.length;f+=1)this.od[f]=d.B[f];this.Rd.set(d.l);12===a&&this.Ca&&(d=this.la[11]);this.Xe.set(d.v);this.Bd.set(d.m);this.Ad=b;this.vb=d.o;this.zc=
d.s;this.La=a!==this.ib&&this.Z&&0!==d.A?2:d.A;this.tc?(this.md=-16777216|(this.vb&255)<<16|(this.vb>>8&255)<<8|this.vb>>16,this.Cd=-16777216|(this.zc&255)<<16|(this.zc>>8&255)<<8|this.zc>>16):(this.md=this.vb>>16<<24|(this.vb>>8&255)<<16|(this.vb&255)<<8|255,this.Cd=this.zc>>16<<24|(this.zc>>8&255)<<16|(this.zc&255)<<8|255);this.F&&(a===this.ib?this.vi(c.Qe,c.O):this.vi(c.Qe,null));c.wt()};pa.prototype.Fh=function(){this.Xb?this.Wk():this.Xk()};pa.prototype.Wk=function(){var a=this.Hf,b;for(b=0;512>
b;b+=1){var c=b&128;var d=b&256;var f=b&127;var e=0;0!==c&&(e=(f+1&127)+64<<8);0!==d&&(e|=(f&127)+64);a[b]=e}};pa.prototype.Xk=function(){var a=this.Hf,b=this.hj,c=this.Af,d=this.Ya,f=this.Ih,e=this.pe,k,g=new Uint8Array(256);g[0]=0;g[c+1]=d;for(k=1;k<c+1;k+=1)g[k]=Math.min(Math.max(k-1,f),e),g[k+c+1]=Math.max(Math.min(k+1,c),d);if(0===this.u)for(k=d;k<=c;k+=1)g[k]=0;else this.u<e&&(g[e-this.u]=1);for(k=0;65536>k;k+=1)a[k]=g[k>>8]<<8|g[k&255];for(k=0;131072>k;k+=1)c=k&65407|(k&65536)>>9,b[k]=a[c]};
pa.prototype.Ao=function(){var a;for(a=0;a<this.la.length;a+=1){var b=this.la[a];if(b.F)if(2>=this.h)b.m.i.set(b.v);else{var c=1/(this.h-2);b.m.i.h=b.m.h.h*c+b.v.h*(1-c)|0;b.m.i.l=b.m.h.l*c+b.v.l*(1-c)|0;b.m.i.i=b.m.h.i*c+b.v.i*(1-c)|0}}};pa.prototype.Hh=function(){var a;var b=(this.Ad-1)/this.me;if(!this.da)if(this.A)for(a=0;a<I.Mp.length;a+=1){if(this.ka[a+this.u]=I.Mp[a][0],this.ja[a+this.u]=I.Mp[a][1],this.ia[a+this.u]=I.Mp[a][2],this.ec&&this.ec.length>=a){var c=this.ec[a];-1!==c&&(this.ka[a+
this.u]=c>>16,this.ja[a+this.u]=c>>8&255,this.ia[a+this.u]=c&255)}}else if(this.l)for(a=0;a<I.Np.length;a+=1)this.ka[a+this.u]=I.Np[a][0],this.ja[a+this.u]=I.Np[a][1],this.ia[a+this.u]=I.Np[a][2],this.ec&&this.ec.length>=a&&(c=this.ec[a],-1!==c&&(this.ka[a+this.u]=c>>16,this.ja[a+this.u]=c>>8&255,this.ia[a+this.u]=c&255));else if(2<this.h||this.o){a=0;this.o?(this.ka[a]=this.Ac[a]>>16,this.ja[a]=this.Ac[a]>>8&255,this.ia[a]=this.Ac[a]&255):(this.ka[a]=Math.round(this.yf.h*b+this.hf.h*(1-b)),this.ja[a]=
Math.round(this.yf.l*b+this.hf.l*(1-b)),this.ia[a]=Math.round(this.yf.i*b+this.hf.i*(1-b)));for(a=1;a<this.h-1;a+=1){c=3>=this.h?0:(a-1)/(this.h-3);if(this.i)this.ka[a+this.u]=Math.round(this.ve[a-1].h*b+this.od[a-1].h*(1-b)),this.ja[a+this.u]=Math.round(this.ve[a-1].l*b+this.od[a-1].l*(1-b)),this.ia[a+this.u]=Math.round(this.ve[a-1].i*b+this.od[a-1].i*(1-b));else if(this.o)this.ka[a]=this.Ac[a]>>16,this.ja[a]=this.Ac[a]>>8&255,this.ia[a]=this.Ac[a]&255;else{var d=Math.round(this.ce.i.h*c+this.ce.h.h*
(1-c));var f=Math.round(this.Bd.i.h*c+this.Bd.h.h*(1-c));this.ka[a+this.u]=Math.round(d*b+f*(1-b));d=Math.round(this.ce.i.l*c+this.ce.h.l*(1-c));f=Math.round(this.Bd.i.l*c+this.Bd.h.l*(1-c));this.ja[a+this.u]=Math.round(d*b+f*(1-b));d=Math.round(this.ce.i.i*c+this.ce.h.i*(1-c));f=Math.round(this.Bd.i.i*c+this.Bd.h.i*(1-c));this.ia[a+this.u]=Math.round(d*b+f*(1-b))}this.ec&&this.ec.length>a&&this.pb===this.ib&&(c=this.i||this.o?this.ec[a]:this.ec[this.h-a],-1!==c&&(this.ka[a+this.u]=c>>16,this.ja[a+
this.u]=c>>8&255,this.ia[a+this.u]=c&255))}a=this.h-1;this.i?(this.ka[a+this.u]=Math.round(this.ve[a-1].h*b+this.od[a-1].h*(1-b)),this.ja[a+this.u]=Math.round(this.ve[a-1].l*b+this.od[a-1].l*(1-b)),this.ia[a+this.u]=Math.round(this.ve[a-1].i*b+this.od[a-1].i*(1-b))):this.o?(this.ka[a]=this.Ac[a]>>16,this.ja[a]=this.Ac[a]>>8&255,this.ia[a]=this.Ac[a]&255):(this.ka[a+this.u]=Math.round(this.Df.h*b+this.Xe.h*(1-b)),this.ja[a+this.u]=Math.round(this.Df.l*b+this.Xe.l*(1-b)),this.ia[a+this.u]=Math.round(this.Df.i*
b+this.Xe.i*(1-b)));this.ec&&this.ec.length>a&&this.pb===this.ib&&(c=this.i||this.o?this.ec[a]:this.ec[this.h-a],-1!==c&&(this.ka[a+this.u]=c>>16,this.ja[a+this.u]=c>>8&255,this.ia[a+this.u]=c&255));for(a=0;a<this.u;a+=1)c=1<this.u?1-a/(this.u-1):1,d=Math.round(this.ze.h.h*c+this.ze.i.h*(1-c)),f=Math.round(this.Rd.h.h*c+this.Rd.i.h*(1-c)),this.ka[a+1]=Math.round(d*b+f*(1-b)),d=Math.round(this.ze.h.l*c+this.ze.i.l*(1-c)),f=Math.round(this.Rd.h.l*c+this.Rd.i.l*(1-c)),this.ja[a+1]=Math.round(d*b+f*(1-
b)),d=Math.round(this.ze.h.i*c+this.ze.i.i*(1-c)),f=Math.round(this.Rd.h.i*c+this.Rd.i.i*(1-c)),this.ia[a+1]=Math.round(d*b+f*(1-b));this.ec&&0<this.ec.length&&this.pb===this.ib&&(c=this.ec[0],-1!==c&&(this.ka[0]=c>>16,this.ja[0]=c>>8&255,this.ia[0]=c&255))}else{a=0;this.ka[a]=Math.round(this.$d.h*b+this.Hd.h*(1-b));this.ja[a]=Math.round(this.$d.l*b+this.Hd.l*(1-b));this.ia[a]=Math.round(this.$d.i*b+this.Hd.i*(1-b));if(0===this.u)for(a=1;a<=this.pe;a+=1)this.ka[a]=Math.round(this.$d.h*b+this.Hd.h*
(1-b)),this.ja[a]=Math.round(this.$d.l*b+this.Hd.l*(1-b)),this.ia[a]=Math.round(this.$d.i*b+this.Hd.i*(1-b));else{var e=this.pe-this.u+1;for(a=1;a<e;a+=1)this.ka[a]=Math.round(this.Tc.h.h*b+this.Pc.h.h*(1-b)),this.ja[a]=Math.round(this.Tc.h.l*b+this.Pc.h.l*(1-b)),this.ia[a]=Math.round(this.Tc.h.i*b+this.Pc.h.i*(1-b));for(a=e;a<=this.pe;a+=1)c=this.pe===e?1:1-(a-e)/(this.pe-e),d=Math.round(this.Tc.h.h*c+this.Tc.i.h*(1-c)),f=Math.round(this.Pc.h.h*c+this.Pc.i.h*(1-c)),this.ka[a]=Math.round(d*b+f*(1-
b)),d=Math.round(this.Tc.h.l*c+this.Tc.i.l*(1-c)),f=Math.round(this.Pc.h.l*c+this.Pc.i.l*(1-c)),this.ja[a]=Math.round(d*b+f*(1-b)),d=Math.round(this.Tc.h.i*c+this.Tc.i.i*(1-c)),f=Math.round(this.Pc.h.i*c+this.Pc.i.i*(1-c)),this.ia[a]=Math.round(d*b+f*(1-b))}for(a=this.Ya;a<=this.Af;a+=1)c=0===this.ih?1:a<this.Ya+this.ih?1-(a-this.Ya)/this.ih:0,d=Math.round(this.Ld.h.h*c+this.Ld.i.h*(1-c)),f=Math.round(this.cd.h.h*c+this.cd.i.h*(1-c)),this.ka[a]=Math.round(d*b+f*(1-b)),d=Math.round(this.Ld.h.l*c+this.Ld.i.l*
(1-c)),f=Math.round(this.cd.h.l*c+this.cd.i.l*(1-c)),this.ja[a]=Math.round(d*b+f*(1-b)),d=Math.round(this.Ld.h.i*c+this.Ld.i.i*(1-c)),f=Math.round(this.cd.h.i*c+this.cd.i.i*(1-c)),this.ia[a]=Math.round(d*b+f*(1-b))}};pa.prototype.sj=function(a,b){var c=this.ka,d=this.ja,f=this.ia,e;for(e=0;e<a.length;e+=1){var k=b&&-1!==b[e]?b[e]:a[e];c[e]=k>>16;d[e]=k>>8&255;f[e]=k&255}this.Ad=0};pa.prototype.vi=function(a,b){var c=this.ka,d=this.ja,f=this.ia,e=G.zb,k;for(k=0;k<a.length;k+=1)b&&-1!==b[k]?(c[128+
e[k]]=b[k]>>16,d[128+e[k]]=b[k]>>8&255,f[128+e[k]]=b[k]&255):(c[128+e[k]]=a[k]>>16,d[128+e[k]]=a[k]>>8&255,f[128+e[k]]=a[k]&255)};pa.prototype.ab=function(a){this.Ma.fill(4294967295);this.Xb?this.bl(a):this.al(a)};pa.prototype.bl=function(a){var b=this.Ma,c,d=255,f=15,e=15,k=0,g=0,l=[[0,1,0],[-1,0,0],[0,0,1],[0,-1,0],[1,0,0],[0,0,-1]],p=this.ka,n=this.ja,q=this.ia,m=this.Ye,r=this.ga&&!this.ta||this.W&&!this.ta,u=this.vb,t=this.zc;for(c=1;240>=c;c+=1)b[c]=this.tc?-16777216|e*a<<16|f*a<<8|d*a:d*a<<
24|f*a<<16|e*a<<8|255,d+=6*l[g][0],f+=6*l[g][1],e+=6*l[g][2],k+=1,40===k&&(k=0,g+=1);for(c=0;128>c;c+=1)k=240*(c+1)/128|0,b[c]=b[k];for(c=127;0<=c;--c)b[c+64]=b[c],r&&(this.tc?(d=b[c]&255,f=b[c]>>8&255,e=b[c]>>16&255):(d=b[c]>>24,f=b[c]>>16&255,e=b[c]>>8&255),m[c+64]="#"+(16777216+((d<<16)+(f<<8)+e)).toString(16).substring(1));b[0]=this.tc?-16777216|q[0]*a<<16|n[0]*a<<8|p[0]*a:p[0]*a<<24|n[0]*a<<16|q[0]*a<<8|255;this.tc?(this.md=-16777216|(u&255)<<16|(u>>8&255)<<8|u>>16,this.Cd=-16777216|(t&255)<<
16|(t>>8&255)<<8|t>>16):(this.md=u>>16<<24|(u>>8&255)<<16|(u&255)<<8|255,this.Cd=t>>16<<24|(t>>8&255)<<16|(t&255)<<8|255);-1!==this.C&&(c=this.Zb,b[c]=this.tc?-16777216|q[c]*a<<16|n[c]*a<<8|p[c]*a:p[c]*a<<24|n[c]*a<<16|q[c]*a<<8|255,r&&(m[c]="#"+(16777216+((p[c]<<16)+(n[c]<<8)+q[c])).toString(16).substring(1)));m[256]=this.qh};pa.prototype.al=function(a){var b=this.ka,c=this.ja,d=this.ia,f=this.Ma,e=this.vb,k=this.zc,g=this.Ye,l=this.ga&&!this.ta||this.W&&!this.ta||this.Dd,p=0;if(2<this.h)if(this.tc){f[0]=
-16777216|d[0]<<16|c[0]<<8|b[0];l&&(g[p]="#"+(16777216+((b[p]<<16)+(c[p]<<8)+d[p])).toString(16).substring(1));if(this.l||this.A||this.Ca||this.i)p=1;else{for(p=1;p<=this.u;p+=1)f[p]=-16777216|d[p]<<16|c[p]<<8|b[p],l&&(g[p]="#"+(16777216+((b[p]<<16)+(c[p]<<8)+d[p])).toString(16).substring(1));p=this.u+1}for(;p<=this.h+this.u;p+=1)f[p]=-16777216|d[p]*a<<16|c[p]*a<<8|b[p]*a,l&&(g[p]="#"+(16777216+((b[p]<<16)+(c[p]<<8)+d[p])).toString(16).substring(1))}else if(f[0]=b[0]<<24|c[p]<<16|d[p]<<8|255,l&&(g[p]=
"#"+(16777216+((b[p]<<16)+(c[p]<<8)+d[p])).toString(16).substring(1)),this.l||this.A||this.Ca||this.i)for(p=1;p<=this.h+this.u;p+=1)f[p]=b[p]*a<<24|c[p]*a<<16|d[p]*a<<8|255,l&&(g[p]="#"+(16777216+((b[p]<<16)+(c[p]<<8)+d[p])).toString(16).substring(1));else for(p=1;p<=this.u;p+=1)for(f[p]=b[p]<<24|c[p]<<16|d[p]<<8|255,l&&(g[p]="#"+(16777216+((b[p]<<16)+(c[p]<<8)+d[p])).toString(16).substring(1)),p=this.u+1;p<=this.h+this.u;p+=1)f[p]=b[p]*a<<24|c[p]*a<<16|d[p]*a<<8|255,l&&(g[p]="#"+(16777216+((b[p]<<
16)+(c[p]<<8)+d[p])).toString(16).substring(1));else if(this.o)this.tc?(f[0]=-16777216|d[0]<<16|c[0]<<8|b[0],f[1]=-16777216|d[1]*a<<16|c[1]*a<<8|b[1]*a):(f[0]=b[0]<<24|c[0]<<16|d[0]<<8|255,f[1]=b[1]*a<<24|c[1]*a<<16|d[1]*a<<8|255),l&&(g[0]="#"+(16777216+((b[0]<<16)+(c[0]<<8)+d[0])).toString(16).substring(1),g[1]="#"+(16777216+((b[1]<<16)+(c[1]<<8)+d[1])).toString(16).substring(1));else if(this.tc){for(p=0;p<this.Ya;p+=1)f[p]=-16777216|d[p]<<16|c[p]<<8|b[p],l&&(g[p]="#"+(16777216+((b[p]<<16)+(c[p]<<
8)+d[p])).toString(16).substring(1));for(p=this.Ya;p<=this.Af;p+=1)f[p]=-16777216|d[p]*a<<16|c[p]*a<<8|b[p]*a,l&&(g[p]="#"+(16777216+((b[p]<<16)+(c[p]<<8)+d[p])).toString(16).substring(1));for(p=this.Af+1;256>p;p+=1)f[p]=-16777216|d[p]*a<<16|c[p]*a<<8|b[p]*a,l&&(g[p]="#"+(16777216+((b[p]<<16)+(c[p]<<8)+d[p])).toString(16).substring(1))}else{for(p=0;p<this.Ya;p+=1)f[p]=b[p]<<24|c[p]<<16|d[p]<<8|255,l&&(g[p]="#"+(16777216+((b[p]<<16)+(c[p]<<8)+d[p])).toString(16).substring(1));for(p=this.Ya;p<=this.Af;p+=
1)f[p]=b[p]*a<<24|c[p]*a<<16|d[p]*a<<8|255,l&&(g[p]="#"+(16777216+((b[p]<<16)+(c[p]<<8)+d[p])).toString(16).substring(1));for(p=this.Af+1;256>p;p+=1)f[p]=b[p]*a<<24|c[p]*a<<16|d[p]*a<<8|255,l&&(g[p]="#"+(16777216+((b[p]<<16)+(c[p]<<8)+d[p])).toString(16).substring(1))}this.tc?(this.md=-16777216|(e&255)<<16|(e>>8&255)<<8|e>>16,this.Cd=-16777216|(k&255)<<16|(k>>8&255)<<8|k>>16):(this.md=e>>16<<24|(e>>8&255)<<16|(e&255)<<8|255,this.Cd=k>>16<<24|(k>>8&255)<<16|(k&255)<<8|255);-1!==this.C&&(p=this.Zb,
f[p]=this.tc?-16777216|d[p]*a<<16|c[p]*a<<8|b[p]*a:b[p]*a<<24|c[p]*a<<16|d[p]*a<<8|255,l&&(g[p]="#"+(16777216+((b[p]<<16)+(c[p]<<8)+d[p])).toString(16).substring(1)),this.l||this.A)&&(f[31]=f[p]);g[256]=this.qh};pa.prototype.cn=function(){var a=this.ka,b=this.ja,c=this.ia;this.Zb=-1!==this.C&&256===this.h+this.u?2:255;-1!==this.C&&256>this.h+this.u&&(this.tc?(a[this.Zb]=this.ie&255,b[this.Zb]=this.ie>>8&255,c[this.Zb]=this.ie>>16&255):(a[this.Zb]=this.ie>>24,b[this.Zb]=this.ie>>16&255,c[this.Zb]=
this.ie>>8&255))};pa.prototype.wh=function(){var a=this.Ed,b=this.m,c=this.Y,d=this.Ea,f=this.Da,e=this.mb,k=this.O,g=this.ra,l=this.B,p=this.X;this.grid.aa.fill(0);a.aa.fill(0);b.aa.fill(0);c&&c.aa.fill(0);d.aa.fill(0);f&&(f.aa.fill(0),e.aa.fill(0));k.aa.fill(0);p.aa.fill(0);g.aa.fill(0);l.aa.fill(0)};pa.prototype.xi=function(a,b){var c=I.bz,d;for(d=0;d<c;d+=1)a[d]=b[d]};pa.prototype.vh=function(a,b){var c=I.bq,d;for(d=0;d<c;d+=1){var f=b[d>>9&448|d>>6&56|d>>3&7]<<3;f|=b[d>>8&448|d>>5&56|d>>2&7]<<
2;f|=b[d>>7&448|d>>4&56|d>>1&7]<<1;f|=b[d>>6&448|d>>3&56|d&7];a[d]=f}};pa.prototype.If=function(a,b,c){if(c){var d=new Uint8Array(16);for(c=0;16>c;c+=1){var f=b[c];d[f]=c}for(c=0;c<I.vl;c+=1)f=(d[c>>12]&1)<<2,f|=(d[c>>8&15]&2)<<2,f|=(d[c>>4&15]&4)>>2,f|=(d[c&15]&8)>>2,a[c]=f}else for(c=0;c<I.vl;c+=1)f=(c>>12&1)<<2,f|=(c>>8&2)<<2,f|=(c>>4&4)>>2,f|=(c&8)>>2,a[c]=b[f]};pa.prototype.ye=function(a,b){var c,d,f,e;for(c=0;c<I.uk;c+=1){var k=c>>8;var g=c&255;var l=192;var p=6;for(d=e=f=0;4>d;d+=1){var n=
0===p?(g&l)<<2|k&l:(g&l)>>p-2|(k&l)>>p;n=(n&8)>>1|(n&4)<<1|(n&2)>>1|(n&1)<<1;n=b[n];n=(n&8)>>1|(n&4)<<1|(n&2)>>1|(n&1)<<1;f<<=2;e<<=2;f|=n>>2&3;e|=n&3;l>>=2;p-=2}a[c]=e<<8|f}};pa.prototype.ed=function(a,b){var c,d=0,f=!0,e=new Uint8Array(16);for(c=0;f&&16>c;){var k=1<<a[c];0!==(d&k)?f=!1:(d|=k,c+=1)}if(f){for(c=0;16>c;c+=1)d=a[c],e[d]=c;if(b)for(c=0;c<e.length;c+=1)a[c]=e[c]}return f};pa.prototype.tj=function(a,b){var c;for(c=0;16>c;c+=1)b[c]=a[15-c];for(c=0;16>c;c+=1)a[c]=15-a[c]};pa.prototype.dl=
function(){var a=this.h,b,c=this.sd,d=this.Yb,f=this.rd,e,k;var g=a*a;var l=g*a;var p=l*a;var n=p*a;for(b=0;1<<b<a;)b+=1;switch(this.Sc){case Ba.Bg:var q=9*b;break;default:q=I.Kl+1}if(q<=I.Kl){if(null===this.Fa&&(this.Fa=this.S.h(ra.Ra,1<<q,"Life.ruleTreeLookup"),this.Yd=b),this.Sc===Ba.Bg){var m=b;var r=m+b;var u=r+b;var t=u+b;var v=t+b;var A=v+b;q=A+b;var w=c[0];var z=c[1];var D=c[2];var F=c[3];var L=c[4];var O=c[5];var N=c[6];var V=c[7];c=c[8];var W=this.hb/p|0;c=c[W];p=this.hb%p/l|0;D=D[p];l=
this.hb%l/g|0;N=N[l];g=this.hb%g/a|0;A=W<<0|p<<A|l<<r|g<<q+b;b=L[g];L=this.hb%a;u=A|L<<u;l=z[L];for(A=0;A<a;A+=1)for(g=u|A<<m,p=V[A],z=0;z<a;z+=1){W=g|z<<q;var H=F[z];for(r=0;r<a;r+=1){var P=O[r];var R=W|r<<v;for(L=0;L<a;L+=1){var T=w[L];var Z=L;for(k=0;k<f;k+=1)if(e=T[k]&l[k])if(e&=D[k]&H[k])if(e&=b[k]&P[k])if(e&=N[k]&p[k]&c[k]){Z=0;for(T=1;!(e&T);)Z+=1,T<<=1;Z=d[(k<<5)+Z];break}this.Fa[R+(L<<t)]=Z}}}this.hb+=1;this.hb===n&&(this.hb=-1)}}else this.Fa=null};pa.prototype.cl=function(){var a=this.h,
b,c,d,f,e,k,g,l,p;var n=this.sd;var q=this.Yb,m=this.rd,r,u;for(b=0;1<<b<a;)b+=1;switch(this.Sc){case Ba.Si:var t=5*b;break;case Ba.Ag:t=7*b;break;case Ba.Bg:t=9*b;break;case Ba.yj:t=3*b;break;default:t=I.Kl+1}if(t<=I.Kl)switch(this.Fa=this.S.h(ra.Ra,1<<t,"Life.ruleTreeLookup"),this.Yd=b,this.Sc){case Ba.Si:var v=0;var A=v+b;var w=A+b;var z=w+b;var D=z+b;b=n[0];var F=n[1];var L=n[2];var O=n[3];var N=n[4];for(k=0;k<a;k+=1){var V=N[k];for(f=0;f<a;f+=1){var W=L[f];for(c=0;c<a;c+=1){var H=F[c];for(l=
0;l<a;l+=1){var P=O[l];var R=k<<D|f<<w|c<<A|l<<v;for(e=0;e<a;e+=1){var T=b[e];var Z=e;for(u=0;u<m;u+=1)if(r=T[u]&H[u])if(r&=W[u]&P[u]&V[u]){Z=0;for(T=1;!(r&T);)Z+=1,T<<=1;Z=q[(u<<5)+Z];break}this.Fa[R+(e<<z)]=Z}}}}}break;case Ba.Bg:t=0;D=t+b;var oa=D+b;A=oa+b;z=A+b;v=z+b;var ha=v+b;w=ha+b;var ba=w+b;b=n[0];F=n[1];L=n[2];O=n[3];N=n[4];var ia=n[5];var ma=n[6];var fa=n[7];var U=n[8];for(n=0;n<a;n+=1){var ka=n<<t;var ca=U[n];for(d=0;d<a;d+=1){var aa=ka|d<<ha;var X=L[d];for(p=0;p<a;p+=1){var na=aa|p<<
oa;var Q=ma[p];for(g=0;g<a;g+=1){var E=na|g<<ba;var y=N[g];for(c=0;c<a;c+=1){var K=E|c<<A;H=F[c];for(k=0;k<a;k+=1){var M=K|k<<D;V=fa[k];for(f=0;f<a;f+=1){var J=M|f<<w;W=O[f];for(l=0;l<a;l+=1)for(P=ia[l],R=J|l<<v,e=0;e<a;e+=1){T=b[e];Z=e;for(u=0;u<m;u+=1)if(r=T[u]&H[u])if(r&=X[u]&W[u])if(r&=y[u]&P[u])if(r&=Q[u]&V[u]&ca[u]){Z=0;for(T=1;!(r&T);)Z+=1,T<<=1;Z=q[(u<<5)+Z];break}this.Fa[R+(e<<z)]=Z}}}}}}}}break;case Ba.Ag:z=0;v=z+b;w=v+b;D=w+b;A=D+b;ba=A+b;t=ba+b;b=n[0];F=n[1];L=n[2];O=n[3];N=n[4];ia=n[5];
ma=n[6];for(n=0;n<a;n+=1)for(ka=n<<t,ca=ma[n],g=0;g<a;g+=1)for(E=ka|g<<ba,y=O[g],c=0;c<a;c+=1)for(K=E|c<<A,H=F[c],k=0;k<a;k+=1)for(M=K|k<<D,V=ia[k],f=0;f<a;f+=1)for(J=M|f<<w,W=L[f],l=0;l<a;l+=1)for(R=J|l<<v,P=N[l],e=0;e<a;e+=1){T=b[e];Z=e;for(u=0;u<m;u+=1)if(r=T[u]&H[u])if(r&=W[u]&y[u])if(r&=P[u]&V[u]&ca[u]){Z=0;for(T=1;!(r&T);)Z+=1,T<<=1;Z=q[(u<<5)+Z];break}this.Fa[R+(e<<z)]=Z}break;case Ba.yj:w=0;z=w+b;D=z+b;b=n[0];F=n[1];L=n[2];for(k=0;k<a;k+=1)for(V=F[k],f=0;f<a;f+=1)for(W=L[f],R=k<<D|f<<w,e=
0;e<a;e+=1){T=b[e];Z=e;for(u=0;u<m;u+=1)if(r=T[u]&V[u]&W[u]){Z=0;for(T=1;!(r&T);)Z+=1,T<<=1;Z=q[(u<<5)+Z];break}this.Fa[R+(e<<z)]=Z}break;default:this.Fa=null}else this.Fa=null};pa.prototype.el=function(){var a=this.Ah,b,c,d,f,e,k,g,l,p,n=this.Mf,q=this.Ue;var m=this.We;this.Je=null;for(b=0;1<<b<a;)b+=1;var r=(this.wd+1)*b;if(r<=I.Kl)if(this.Fa=this.S.h(ra.Ra,1<<r,"Life.ruleTreeLookup"),this.Yd=b,4===this.wd){var u=0;var t=u+b;var v=t+b;var A=v+b;var w=A+b;for(k=0;k<a;k+=1)for(f=0;f<a;f+=1)for(c=
0;c<a;c+=1)for(l=0;l<a;l+=1){var z=q[q[q[q[n+c]+k]+f]+l];var D=c<<t|f<<v|k<<w|l<<u;for(e=0;e<a;e+=1)this.Fa[D+(e<<A)]=m[z+e]}}else if(8===this.wd){r=0;w=r+b;var F=w+b;t=F+b;A=t+b;u=A+b;var L=u+b;v=L+b;var O=v+b;for(b=0;b<a;b+=1){var N=b<<r;var V=q[n+b];for(d=0;d<a;d+=1){var W=N|d<<L;var H=q[V+d];for(p=0;p<a;p+=1){var P=W|p<<F;var R=q[H+p];for(g=0;g<a;g+=1){f=P|g<<O;var T=q[R+g];for(c=0;c<a;c+=1){var Z=q[T+c];for(k=0;k<a;k+=1){var oa=q[Z+k];for(f=0;f<a;f+=1){var ha=q[oa+f];for(l=0;l<a;l+=1)for(z=q[ha+
l],e=0;e<a;e+=1)D=b<<r|k<<w|p<<F|c<<t|e<<A|l<<u|d<<L|f<<v|g<<O,this.Fa[D]=m[z+e]}}}}}}}}else this.Fa=null;else if(this.Fa=null,8===this.wd&&r<=I.yz)for(this.Je=this.S.h(ra.kc,16777216,"Life.ruleTreePartialLookup"),this.Yd=24,w=0,t=w+b,O=t+b,F=O+b,L=F+b,r=L+b,b=0;b<a;b+=1)for(N=b<<r,V=q[n+b],d=0;d<a;d+=1)for(W=N|d<<L,H=q[V+d],p=0;p<a;p+=1)for(P=W|p<<F,R=q[H+p],g=0;g<a;g+=1)for(f=P|g<<O,T=q[R+g],c=0;c<a;c+=1)for(m=f|c<<t,Z=q[T+c],k=0;k<a;k+=1)v=m|k<<w,oa=q[Z+k],this.Je[v]=oa};pa.prototype.ol=function(){this.cc&&
(this.gf=performance.now(),null===this.Yb?this.el():this.cl(),this.gf=performance.now()-this.gf)};pa.prototype.vf=function(){var a=!1,b;if(this.o){if(null===this.Yb){var c=this.Ah;for(b=0;1<<b<c;)b+=1;c=(this.wd+1)*b}else{c=this.h;for(b=0;1<<b<c;)b+=1;switch(this.Sc){case Ba.Si:c=5*b;break;case Ba.Bg:c=9*b;break;case Ba.Ag:c=7*b;break;default:c=I.Kl+1}}c<=I.Kl?a=!0:c<=I.yz&&null===this.Yb&&8===this.wd&&(a=!0)}return a};pa.prototype.yn=function(a){var b=this.W?this.U.Nb:this.U.o,c=this.W?this.U.Mb:
this.U.qa,d=this.U.$,f=this.W?I.bz:I.cE,e=!1,k=null,g=b.length;this.gb=d;if(this.o)this.Fa=null,this.hb=-1;else if(this.gb&&this.Ca){var l=0;var p=!0;for(g=this.V.B.length;l<g&&p;)this.V.B[l]!==this.V.ba[l]?p=!1:l+=1;if(p){l=0;for(g=this.V.v.length;l<g&&p;)this.V.v[l]!==this.V.ca[l]?p=!1:l+=1;p&&(this.gb=!1,l=a.W.indexOf("|"),-1!==l&&(a.W=a.W.substring(0,l)),l=a.xa.indexOf("|"),-1!==l&&(a.xa=a.xa.substring(0,l)))}}else{if(this.gb){if(this.Z||this.i)g=16;l=0;for(p=!0;l<g&&p;)b[l]!==c[l]?p=!1:l+=1;
p&&(this.gb=!1,l=a.W.indexOf("|"),-1!==l&&(a.W=a.W.substring(0,l)),l=a.xa.indexOf("|"),-1!==l&&(a.xa=a.xa.substring(0,l)));if(this.gb&&(this.Z||this.i))for(l=0;l<g;l+=1)a=b[l],b[l]=c[l],c[l]=a}this.Ud=this.eb=this.df=this.Td=this.Og=this.Wf=this.mf=this.Vf=null;if(this.i)this.Td=this.S.h(ra.Ha,I.vl,"Life.PCALookup1"),d?(this.df=this.S.h(ra.Ha,I.vl,"Life.PCALookup2"),this.If(this.df,b,!1),this.If(this.Td,c,!1),this.ed(b,!1)&&this.ed(c,!1)&&(this.eb=this.S.h(ra.Ha,I.vl,"Life.PCAReverseLookup1"),this.Ud=
this.S.h(ra.Ha,I.vl,"Life.PCAReverseLookup2"),this.ed(c,!1),this.If(this.eb,c,!0),this.ed(b,!1),this.If(this.Ud,b,!0))):(this.If(this.Td,b,!1),this.ed(b,!1)&&(this.eb=this.S.h(ra.Ha,I.vl,"Life.PCAsReverseLookup1"),this.If(this.eb,b,!0)));else if(this.Z){this.Td=this.S.h(ra.Ha,I.uk,"Life.margolusLookup1");if(15===b[0]&&0===b[15]){d=this.gb=!0;k=new Uint8Array(16);for(l=0;16>l;l+=1)k[l]=b[l];this.tj(b,c)}d?(this.df=this.S.h(ra.Ha,I.uk,"Life.margolusLookup2"),this.ye(this.df,b),this.ye(this.Td,c),k&&
this.ed(k,!0)?(this.eb=this.S.h(ra.Ha,I.uk,"Life.margolusReverseLookup1"),this.Ud=this.S.h(ra.Ha,I.uk,"Life.margolusReverseLookup2"),this.tj(k,c),this.ye(this.eb,c),this.ye(this.Ud,k)):this.ed(b,!1)&&this.ed(c,!1)&&(this.eb=this.S.h(ra.Ha,I.uk,"Life.margolusReverseLookup1"),this.Ud=this.S.h(ra.Ha,I.uk,"Life.margolusReverseLookup2"),this.ed(b,!0),this.ye(this.eb,b),this.ed(c,!0),this.ye(this.Ud,c))):(this.ye(this.Td,b),this.ed(b,!0)&&(this.eb=this.S.h(ra.Ha,I.uk,"Life.margolusReverseLookup1"),this.ye(this.eb,
b)))}else if(this.W)this.Wf=this.S.h(ra.Ra,I.az,"Life.indexLookupTri1"),d?(this.Og=this.S.h(ra.Ra,I.az,"Life.indexLookupTri2"),this.xi(this.Og,b),this.xi(this.Wf,c)):this.xi(this.Wf,b);else{this.Vf=this.S.h(ra.Ra,I.bq,"Life.indexLookup63");if(-1===this.Kd&&b[0])if(b[f-1])for(l=0;l<f/2;l+=1)a=b[l],b[l]=1-b[f-l-1],b[f-l-1]=1-a;else{for(l=0;l<f/2;l+=1)a=b[l],b[l]=b[f-l-1],b[f-l-1]=a;e=!0;this.mf=this.S.h(ra.Ra,I.bq,"Life.indexLookup632");this.vh(this.mf,b);if(this.A)for(c.set(b),l=0;l<f/2;l+=1)a=c[l],
c[l]=1-c[f-l-1],c[f-l-1]=1-a;else for(l=0;l<f/2;l+=1)a=b[l],b[l]=1-b[f-l-1],b[f-l-1]=1-a}this.gb?(this.mf=this.S.h(ra.Ra,I.bq,"Life.indexLookup632"),this.vh(this.mf,b),this.vh(this.Vf,c)):(this.vh(this.Vf,b),e&&(this.gb=!0))}}};pa.prototype.Ab=function(a){var b=0;0!==(a&32768)?b=0:0!==(a&16384)?b=1:0!==(a&8192)?b=2:0!==(a&4096)?b=3:0!==(a&2048)?b=4:0!==(a&1024)?b=5:0!==(a&512)?b=6:0!==(a&256)?b=7:0!==(a&128)?b=8:0!==(a&64)?b=9:0!==(a&32)?b=10:0!==(a&16)?b=11:0!==(a&8)?b=12:0!==(a&4)?b=13:0!==(a&2)?
b=14:0!==(a&1)&&(b=15);return b};pa.prototype.Gb=function(a){var b=0;0!==(a&1)?b=15:0!==(a&2)?b=14:0!==(a&4)?b=13:0!==(a&8)?b=12:0!==(a&16)?b=11:0!==(a&32)?b=10:0!==(a&64)?b=9:0!==(a&128)?b=8:0!==(a&256)?b=7:0!==(a&512)?b=6:0!==(a&1024)?b=5:0!==(a&2048)?b=4:0!==(a&4096)?b=3:0!==(a&8192)?b=2:0!==(a&16384)&&(b=1);return b};pa.prototype.$k=function(a){var b=this.Da,c=this.O,d=this.width,f=this.height,e,k=this.v.L,g=this.v.I,l=this.v.H,p=this.v.J,n,q;for(n=0;n<f;n+=1){var m=b[n];var r=c[n>>4];for(q=e=
0;q<d;q+=1)0!==m[q]&&(r[q>>8]|=1<<(~(q>>4)&15),e|=m[q],q<l&&(l=q),q>p&&(p=q));e&&(n<g&&(g=n),n>k&&(k=n))}a||(this.v.L=k,this.v.I=g,this.v.H=l,this.v.J=p)};pa.prototype.ln=function(){var a,b,c,d=this.xa,f=this.X,e=this.O,k,g=this.W?49152:32768,l=this.W?3:1,p=this.ea,n=this.ba>>4,q=this.Qa;var m=0;var r=m+16;e.aa.fill(0);for(b=0;b<p;b+=1){var u=0;var t=f[b];var v=e[b];var A=0<b?e[b-1]:q;var w=b<p-1?e[b+1]:q;for(c=0;c<n;c+=1)if(k=t[c]){var z=v[c];var D=A[c];var F=w[c];for(a=15;0<=a;--a){if(0!==(k&1<<
a)){var L=!1;var O=0;var N=m;var V=d[N];if(V=V[u])L=!0,0!==(V&g)&&(O|=I.rb,O|=I.Cb),0!==(V&l)&&(O|=I.jb,O|=I.Db),O|=I.yb;for(N+=1;N<r-1;){V=d[N];if(V=V[u])L=!0,0!==(V&g)&&(O|=I.rb),0!==(V&l)&&(O|=I.jb);N+=1}V=d[N];if(V=V[u])L=!0,0!==(V&g)&&(O|=I.rb,O|=I.Eb),0!==(V&l)&&(O|=I.jb,O|=I.tb),O|=I.ub;L&&(z|=1<<a,O&&(0!==(O&I.rb)&&(15>a?z|=1<<a+1:0<c&&(v[c-1]|=1)),0!==(O&I.jb)&&(0<a?z|=1<<a-1:c<n-1&&(v[c+1]|=32768)),0!==(O&I.yb)&&(D|=1<<a),0!==(O&I.ub)&&(F|=1<<a),0!==(O&I.Cb)&&(15>a?D|=1<<a+1:0<c&&(A[c-1]|=
1)),0!==(O&I.Db)&&(0<a?D|=1<<a-1:c<n-1&&(A[c+1]|=32768)),0!==(O&I.Eb)&&(15>a?F|=1<<a+1:0<c&&(w[c-1]|=1)),0!==(O&I.tb)&&(0<a?F|=1<<a-1:c<n-1&&(w[c+1]|=32768))))}u+=1}v[c]|=z;0<b&&(A[c]|=D);b<p-1&&(w[c]|=F)}else u+=16;m+=16;r+=16}q.fill(0)};pa.prototype.nn=function(){var a,b,c,d=this.xa,f=this.X,e=this.m,k=this.O,g,l=this.ea,p=this.ba>>4,n=this.Qa;var q=0;var m=q+16;k.aa.fill(0);for(b=0;b<l;b+=1){var r=0;var u=f[b];var t=k[b];var v=0<b?k[b-1]:n;var A=b<l-1?k[b+1]:n;for(c=0;c<p;c+=1)if(g=u[c]){var w=
t[c];var z=v[c];var D=A[c];for(a=15;0<=a;--a){if(0!==(g&1<<a)){var F=!1;var L=0;var O=q;var N=d[O];var V=e[O];N=N[r];var W=r<<4;0<V[W]&&(N|=32768);W+=1;0<V[W]&&(N|=16384);W+=1;0<V[W]&&(N|=8192);W+=1;0<V[W]&&(N|=4096);W+=1;0<V[W]&&(N|=2048);W+=1;0<V[W]&&(N|=1024);W+=1;0<V[W]&&(N|=512);W+=1;0<V[W]&&(N|=256);W+=1;0<V[W]&&(N|=128);W+=1;0<V[W]&&(N|=64);W+=1;0<V[W]&&(N|=32);W+=1;0<V[W]&&(N|=16);W+=1;0<V[W]&&(N|=8);W+=1;0<V[W]&&(N|=4);W+=1;0<V[W]&&(N|=2);W+=1;0<V[W]&&(N|=1);N&&(F=!0,0!==(N&32768)&&(L|=I.rb,
L|=I.Cb),0!==(N&1)&&(L|=I.jb,L|=I.Db),L|=I.yb);for(O+=1;O<m-1;)N=d[O],V=e[O],N=N[r],W=r<<4,0<V[W]&&(N|=32768),W+=1,0<V[W]&&(N|=16384),W+=1,0<V[W]&&(N|=8192),W+=1,0<V[W]&&(N|=4096),W+=1,0<V[W]&&(N|=2048),W+=1,0<V[W]&&(N|=1024),W+=1,0<V[W]&&(N|=512),W+=1,0<V[W]&&(N|=256),W+=1,0<V[W]&&(N|=128),W+=1,0<V[W]&&(N|=64),W+=1,0<V[W]&&(N|=32),W+=1,0<V[W]&&(N|=16),W+=1,0<V[W]&&(N|=8),W+=1,0<V[W]&&(N|=4),W+=1,0<V[W]&&(N|=2),W+=1,0<V[W]&&(N|=1),N&&(F=!0,0!==(N&32768)&&(L|=I.rb),0!==(N&1)&&(L|=I.jb)),O+=1;N=d[O];
V=e[O];N=N[r];W=r<<4;0<V[W]&&(N|=32768);W+=1;0<V[W]&&(N|=16384);W+=1;0<V[W]&&(N|=8192);W+=1;0<V[W]&&(N|=4096);W+=1;0<V[W]&&(N|=2048);W+=1;0<V[W]&&(N|=1024);W+=1;0<V[W]&&(N|=512);W+=1;0<V[W]&&(N|=256);W+=1;0<V[W]&&(N|=128);W+=1;0<V[W]&&(N|=64);W+=1;0<V[W]&&(N|=32);W+=1;0<V[W]&&(N|=16);W+=1;0<V[W]&&(N|=8);W+=1;0<V[W]&&(N|=4);W+=1;0<V[W]&&(N|=2);W+=1;0<V[W]&&(N|=1);N&&(F=!0,0!==(N&32768)&&(L|=I.rb,L|=I.Eb),0!==(N&1)&&(L|=I.jb,L|=I.tb),L|=I.ub);F&&(w|=1<<a,L&&(0!==(L&I.rb)&&(15>a?w|=1<<a+1:0<c&&(t[c-
1]|=1)),0!==(L&I.jb)&&(0<a?w|=1<<a-1:c<p-1&&(t[c+1]|=32768)),0!==(L&I.yb)&&(z|=1<<a),0!==(L&I.ub)&&(D|=1<<a),0!==(L&I.Cb)&&(15>a?z|=1<<a+1:0<c&&(v[c-1]|=1)),0!==(L&I.Db)&&(0<a?z|=1<<a-1:c<p-1&&(v[c+1]|=32768)),0!==(L&I.Eb)&&(15>a?D|=1<<a+1:0<c&&(A[c-1]|=1)),0!==(L&I.tb)&&(0<a?D|=1<<a-1:c<p-1&&(A[c+1]|=32768))))}r+=1}t[c]|=w;0<b&&(v[c]|=z);b<l-1&&(A[c]|=D)}else r+=16;q+=16;m+=16}n.fill(0)};pa.prototype.Sl=function(a){var b,c=this.u+1,d=this.height,f=this.width,e=this.m,k=this.height,g=-1,l=this.width,
p=-1;var n=this.Z?-1:0;this.i&&0!==(this.counter&1)&&(e=this.Y);if(-1===this.C){var q=0;var m=f-1;var r=0;var u=d-1}else 0===this.M?(q=0,m=f-1):(q=Math.round((this.width-this.M)/2)+n,m=q+this.M),0===this.K?(r=0,u=d-1):(r=Math.round((this.height-this.K)/2)+n,u=r+this.K);for(b=r;b<u;b+=1){var t=e[b];var v=!1;for(n=q;n<m;n+=1){var A=t[n];A>=c&&255>=A&&(v=!0,n<l&&(l=n),n>p&&(p=n))}v&&(b<k&&(k=b),b>g&&(g=b))}if(0>g||k>=d||l>=f||0>p)k=g=u-r>>1,p=l=m-q>>1;g>d-1&&(g=d-1);0>k&&(k=0);0>l&&(l=0);p>f-1&&(p=f-
1);a.L=g;a.I=k;a.H=l;a.J=p};pa.prototype.Qb=function(){var a,b,c=this.width>>4,d=this.height,f=this.width,e=this.Da,k=this.m,g=this.v,l=this.na,p=this.cb,n=this.height,q=-1,m=this.width,r=-1,u=this.height,t=-1,v=this.width,A=-1,w,z=I.Ih,D=I.pe,F=this.Ca?this.view.Vh()>>1:0,L=this.Ia;if(this.lb){this.lb=!1;(this.i||this.o||this.l||this.A)&&0!==(this.counter&1)&&(k=this.Y);var O=0!==(this.counter&1)?this.Va:this.xa;-1!==this.C&&this.cf(k,0);if(e)for(b=0;b<d;b+=1){var N=e[b];var V=k[b];for(a=w=0;a<f;a+=
1){var W=N[a]||V[a]>=z&&V[a]<=D?1:0;w|=W;W&&(a<v&&(v=a),a>A&&(A=a))}w&&(b<u&&(u=b),b>t&&(t=b))}L.fill(0);if(-1!==this.h)for(b=0;b<d;b+=1){V=k[b];for(a=w=0;a<f;a+=1)W=V[a],w|=W,W&&(a<m&&(m=a),a>r&&(r=a));w&&(b<n&&(n=b),b>q&&(q=b))}else{for(b=0;b<d;b+=1){N=O[b];for(a=w=0;a<c;a+=1)W=N[a],w|=W,L[a]|=W;w&&(b<n&&(n=b),b>q&&(q=b))}for(a=0;a<c;a+=1)L[a]&&(a<m&&(m=a),a>r&&(r=a));m=(m<<4)+this.Ab(L[m]);r=(r<<4)+this.Gb(L[r])}if(0>q||n>=d||m>=f||0>r)n=q=d>>1,r=m=f>>1;e&&(t>q&&(q=t),u<n&&(n=u),v<m&&(m=v),A>r&&
(r=A));q>this.height-1-F&&(q=this.height-1-F);n<F&&(n=F);m<F&&(m=F);r>this.width-1-F&&(r=this.width-1-F);g.L=q;g.I=n;g.H=m;g.J=r;l.L=q;l.I=n;l.H=m;l.J=r;p.L=q;p.I=n;p.H=m;p.J=r}};pa.prototype.hi=function(a){var b,c,d=this.width>>4,f=this.height,e=this.width,k=this.Da;var g=this.m;var l=this.v,p=this.na,n=this.cb,q=this.height,m=-1,r=this.width,u=-1,t=this.height,v=-1,A=this.width,w=-1,z,D=this.Ia,F=this.ra,L=this.B;if(0!==(this.counter&1)){var O=this.Va;var N=this.X;var V=this.O}else O=this.xa,N=
this.O,V=this.X;if(k&&!a)for(c=0;c<f;c+=1){var W=k[c];for(b=z=0;b<e;b+=1){var H=W[b];z|=H;H&&(b<A&&(A=b),b>w&&(w=b))}z&&(c<t&&(t=c),c>v&&(v=c))}D.fill(0);V.aa.fill(0);if(-1!==this.h)for(c=0;c<f;c+=1){d=g[c];for(b=z=0;b<e;b+=1)H=d[b],z|=H,H&&(b<r&&(r=b),b>u&&(u=b));z&&(c<q&&(q=c),c>m&&(m=c))}else{for(c=0;c<f;c+=1){g=O[c];for(b=z=0;b<d;b+=1)H=g[b],z|=H,D[b]|=H;z&&(c<q&&(q=c),c>m&&(m=c))}for(b=0;b<d;b+=1)D[b]&&(b<r&&(r=b),b>u&&(u=b));r=(r<<4)+this.Ab(D[r]);u=(u<<4)+this.Gb(D[u])}if(0>m||q>=f||r>=e||
0>u)q=m=f>>1,u=r=e>>1,v=m,t=q,A=r,w=u;k&&!a&&-1!==v&&(v<m&&(m=v),t>q&&(q=t),A<r&&(r=A),w>u&&(u=w));m>this.height-1&&(m=this.height-1);0>q&&(q=0);0>r&&(r=0);u>this.width-1&&(u=this.width-1);l.L=m;l.I=q;l.H=r;l.J=u;p.L=m;p.I=q;p.H=r;p.J=u;n.L=m;n.I=q;n.H=r;n.J=u;0<r&&--r;0<q&&--q;u<this.width-1&&(u+=1);m<this.height-1&&(m+=1);H=m>>4;r>>=8;u>>=8;for(c=q>>4;c<=H;c+=1)for(q=V[c],b=r;b<=u;b+=1)q[b]=-1;-1!==this.h?this.nn():this.ln();k&&(this.$k(a),n.L=l.L,n.I=l.I,n.H=l.H,n.J=l.J);Array.vg(N,V);Array.vg(N,
F);Array.vg(N,L)};pa.prototype.mm=function(){var a=Math.round((this.width-this.M)/2),b=Math.round((this.height-this.K)/2),c=a+this.M-1,d=b+this.K-1,f=this.Da,e=!1,k;--a;c+=1;d+=1;--b;var g=f[d];var l=f[b];if(0===this.M)for(k=a;k<=c;k+=1)129===l[k]&&(e=!0,l[k]=0),129===g[k]&&(e=!0,g[k]=0);else if(0===this.K)for(b=0;b<this.height;b+=1)129===f[b][a]&&(e=!0,f[b][a]=0),129===f[b][c]&&(e=!0,f[b][c]=0);else{for(k=a;k<=c;k+=1)129===l[k]&&(e=!0,l[k]=0),129===g[k]&&(e=!0,g[k]=0);for(b+=1;b<=d-1;b+=1)129===
f[b][a]&&(e=!0,f[b][a]=0),129===f[b][c]&&(e=!0,f[b][c]=0)}e&&this.Za()};pa.prototype.Ik=function(){var a=Math.round((this.width-this.M)/2),b=Math.round((this.height-this.K)/2),c=a+this.M-1,d=b+this.K-1,f=a-16,e=b-16,k=c+16,g=d+16,l,p=this.m;0!==(this.counter&1)&&(p=this.Y);0>f&&(f=0);k>=this.width&&(k=this.width-1);0>e&&(e=0);e>=this.height&&(e=this.height-1);for(l=e;l<=g;l+=1){var n=p[l];if(l<b||l>d)for(e=f;e<=k;e+=1)0!==n[e]&&(n[e]=0);else for(e=f;e<=k;e+=1)(e<a||e>c)&&0!==n[e]&&(n[e]=0)}this.O.aa.fill(0);
this.X.aa.fill(0);this.ra.aa.fill(0);this.B.aa.fill(0);this.zg();this.s=0;for(l=b;l<=d;l+=1)for(n=p[l],e=a;e<=c;e+=1)0!==n[e]&&(this.s+=1)};pa.prototype.lm=function(a){var b=this.Z?-1:0,c=Math.round((this.width-this.M)/2)+b;b=Math.round((this.height-this.K)/2)+b;var d=c+this.M-1,f=b+this.K-1,e=d+a>>4;var k=c-a>>4;var g=d+a>>4;var l=~(1<<(~(c-a)&15)),p=~(1<<(~(d+a)&15)),n,q=this.oc,m=0;if(!(this.i||this.o||this.A)){var r=0!==(this.counter&1)?this.Va:this.xa;var u=r[f+a];var t=r[b-a];if(0===this.M)for(e=
this.width>>4,n=0;n<e;n+=1)m+=q[t[n]],t[n]=0,m+=q[u[n]],u[n]=0;else if(0===this.K)for(b=0,f=this.height,n=0;n<f;n+=1)e=r[n],e[k]&~l&&(m+=1),e[k]&=l,e[g]&~p&&(m+=1),e[g]&=p;else{for(n=c-a>>4;n<=e;n+=1)m+=q[t[n]],t[n]=0,m+=q[u[n]],u[n]=0;for(n=b-a+1;n<=f+a-1;n+=1)e=r[n],e[k]&~l&&(m+=1),e[k]&=l,e[g]&~p&&(m+=1),e[g]&=p}this.s-=m}if(-1!==this.h){r=this.m;(this.i||this.o||this.l||this.A)&&0!==(this.counter&1)&&(r=this.Y);c-=a;d+=a;f+=a;b-=a;k=r[f];g=r[b];if(0===this.M)for(n=0;n<this.width;n+=1)a=g[n],0!==
a&&(g[n]=0,m+=1),a=k[n],0!==a&&(k[n]=0,m+=1);else if(0===this.K)for(n=0;n<this.height;n+=1)a=r[n][c],0!==a&&(r[n][c]=0,m+=1),a=r[n][d],0!==a&&(r[n][d]=0,m+=1);else{for(n=0;n<this.width;n+=1)a=g[n],0!==a&&(g[n]=0,m+=1),a=k[n],0!==a&&(k[n]=0,m+=1);for(n=b+1;n<=f-1;n+=1)a=r[n][c],0!==a&&(r[n][c]=0,m+=1),a=r[n][d],0!==a&&(r[n][d]=0,m+=1)}if(this.o||this.A)this.s-=m}};pa.prototype.yi=function(a,b,c,d,f){var e=0;this.Ca&&(e=this.view.ni);if(!this.Wm(b,c,d,f))for(this.bg+=1,f=0;f<a.length;f+=1){var k=a[f];
if(this.F)for(d=0;d<k.length;d+=1){if(1===k[d]){var g=this.Pa(b+d,c+f,!1);3===g||5===g?this.Fd(b+d,c+f,4,!1):this.Fd(b+d,c+f,0,!1);this.$+=1}}else for(d=0;d<k.length;d+=1)1===k[d]&&(this.Fd(b+d,c+f,e,!1),this.$+=1)}};pa.prototype.Ja=function(a,b,c,d,f,e,k,g){var l,p=0,n=0,q=d+d,m=f+f,r=q+d,u=m+f,t=r+d,v=u+f,A=this.m;var w=this.Ca?this.na:this.v;var z=w.H;var D=w.J;var F=w.I;var L=w.L,O=this.Ya;b-=2;c-=2;var N=0;for(w=!0;w&&N<a.length;){var V=0;for(l=a[N];w&&V<l.length;){var W=l[V];var H=A[c+N][b+
V];H<O&&0===W||H>=O&&1===W||(w=!1);V+=1}N+=1}if(w){V=b+3+d+d;N=c+3+f+f;z=0>d?z-1:D+1;F=0>f?F-1:L+1;for(w=!1;!w&&V!==z&&N!==F;)D=A[N],H=D[V],H&64&&(p=V,n=N,w=!0),H=A[N+f][V],H&64&&(p=V,n=N+f,w=!0),H=D[V+d],H&64&&(p=V+d,n=N,w=!0),H=A[N+m][V],H&64&&(p=V,n=N+m,w=!0),H=D[V+q],H&64&&(p=V+q,n=N,w=!0),H=A[N+u][V],H&64&&(p=V,n=N+u,w=!0),H=D[V+r],H&64&&(p=V+r,n=N,w=!0),H=A[N+v][V],H&64&&(p=V,n=N+v,w=!0),H=D[V+t],H&64&&(p=V+t,n=N,w=!0),H=A[N+v+f][V],H&64&&(p=V,n=N+v+f,w=!0),H=D[V+t+d],H&64&&(p=V+t+d,n=N+f,w=
!0),H=A[N+v+f][V],H&64&&(p=V,n=N+v+f,w=!0),H=D[V+t+d],H&64&&(p=V+t+d,n=N,w=!0),H=A[N+v+m][V],H&64&&(p=V,n=N+v+m,w=!0),H=D[V+t+q],H&64&&(p=V+t+q,n=N,w=!0),H=A[N+v+u][V],H&64&&(p=V,n=N+v+u,w=!0),H=D[V+t+r],H&64&&(p=V+t+r,n=N,w=!0),H=A[N-v][V],H&64&&(p=V,n=N-v,w=!0),H=D[V-t],H&64&&(p=V-t,n=N,w=!0),H=A[N-v-f][V],H&64&&(p=V,n=N-v-f,w=!0),H=D[V-t-d],H&64&&(p=V-t-d,n=N,w=!0),H=A[N-v-m][V],H&64&&(p=V,n=N-v-m,w=!0),D=D[V-t-q],D&64&&(p=V-t-q,n=N,w=!0),V+=d,N+=f;this.Ge[this.Ge.length]={ft:a,x:b,y:c,PG:p,VG:n,
orientation:e,Iy:w,offset:k,Us:g}}return w};pa.prototype.Wm=function(a,b,c,d){var f=!1,e=this.Ca?this.na:this.v,k=e.H,g=e.J,l=e.I;e=e.L;var p=this.m,n=this.Ya;switch(c){case I.ah:if(d===I.Bi)for(b+=1,a+=1;b>=l&&!f;){if(p[b][a]>=n||p[b][a+1]>=n||p[b][a+2]>=n)f=!0;--b}else for(b+=5,a+=5;a<=g&&!f;){if(p[b][a]>=n||p[b-1][a]>=n||p[b-2][a]>=n)f=!0;a+=1}break;case I.dh:if(d===I.Bi)for(b+=5,a+=1;b<=e&&!f;){if(p[b][a]>=n||p[b][a+1]>=n||p[b][a+2]>=n)f=!0;b+=1}else for(b+=1,a+=5;a<=g&&!f;){if(p[b][a]>=n||p[b+
1][a]>=n||p[b+2][a]>=n)f=!0;a+=1}break;case I.eh:if(d===I.Ci)for(b+=5,a+=5;b<=e&&!f;){if(p[b][a]>=n||p[b][a-1]>=n||p[b][a-2]>=n)f=!0;b+=1}else for(b+=1,a+=1;a>=k&&!f;){if(p[b][a]>=n||p[b+1][a]>=n||p[b+2][a]>=n)f=!0;--a}break;case I.bh:if(d===I.Ci)for(b+=1,a+=5;b>=l&&!f;){if(p[b][a]>=n||p[b][a-1]>=n||p[b][a-2]>=n)f=!0;--b}else for(b+=5,a+=1;a>=k&&!f;){if(p[b][a]>=n||p[b-1][a]>=n||p[b-2][a]>=n)f=!0;--a}}return f};pa.prototype.gm=function(){var a,b=this.Ge.length,c;if(1<b)for(a=0;a<b;a+=1){var d=this.Ge[a];
if(d.Iy){var f=d.PG;var e=d.VG;var k=d.orientation;var g=0;for(c=!1;!c&&g<b;){if(g!==a){var l=this.Ge[g];var p=l.x+3;var n=l.y+3;f>=p-1&&f<=p+1&&e>=n-1&&e<=n+1&&l.orientation===k&&0===d.offset&&(this.yi(d.ft,d.x,d.y,d.orientation,d.Us),c=!0)}g+=1}}else{f=d.x+3;e=d.y+3;k=d.orientation;g=0;for(c=!1;!c&&g<b;){if(g!==a)switch(l=this.Ge[g],p=l.x+3,n=l.y+3,l=l.orientation,k){case I.bh:l===I.ah&&e>=n-6&&e<=n+6&&f>=p&&(c=!0);l===I.eh&&f>=p-6&&f<=p+6&&e>=n&&(c=!0);break;case I.ah:l===I.bh&&e>=n-6&&e<=n+6&&
f<=p&&(c=!0);l===I.dh&&f>=p-6&&f<=p+6&&e>=n&&(c=!0);break;case I.eh:l===I.dh&&e>=n-6&&e<=n+6&&f>=p&&(c=!0);l===I.bh&&f>=p-6&&f<=p+6&&e<=n&&(c=!0);break;case I.dh:l===I.eh&&e>=n-6&&e<=n+6&&f<=p&&(c=!0),l===I.ah&&f>=p-6&&f<=p+6&&e<=n&&(c=!0)}g+=1}c||0!==d.offset||this.yi(d.ft,d.x,d.y,d.orientation,d.Us)}}else 1===b&&(d=this.Ge[0],d.Iy||0!==d.offset||this.yi(d.ft,d.x,d.y,d.orientation,d.Us))};pa.prototype.nm=function(){var a=this.Ca?this.na:this.v;var b=a.H;var c=a.J;var d=a.I;var f=a.L,e=new Sa(0,0,
0,0),k=this.m,g=this.Ya;if(0!==this.s&&!(-1!==this.C||this.Ca&&1<this.V.o)){this.Ge=[];16>b&&(b=16);c>=this.width-16&&(c=this.width-16-1);16>d&&(d=16);f>=this.height-16&&(f=this.height-16-1);e.H=b;e.I=d;e.J=c;e.L=f;for(b-=6;b<=c+6;b+=1)for(a=0;5>=a;a+=1){d=e.I+a;f=k[d];f[b]>=g&&(this.Ja(this.Ti,b,d,-1,1,I.bh,a,I.sk)||this.Ja(this.Ui,b-1,d,-1,1,I.bh,a,I.sk)||this.Ja(this.Wi,b,d,-1,1,I.bh,a,I.sk)||this.Ja(this.Xi,b-1,d,-1,1,I.bh,a,I.sk)||this.Ja(this.Mi,b,d,1,1,I.ah,a,I.sk)||this.Ja(this.Pi,b-1,d,1,
1,I.ah,a,I.sk)||this.Ja(this.Qi,b-1,d,1,1,I.ah,a,I.sk)||this.Ja(this.Ri,b,d,1,1,I.ah,a,I.sk));f=e.L-a;var l=k[f];l[b]>=g&&(this.Ja(this.Th,b,f-2,-1,-1,I.eh,a,I.rk)||this.Ja(this.Uh,b-1,f-2,-1,-1,I.eh,a,I.rk)||this.Ja(this.Vh,b,f-2,-1,-1,I.eh,a,I.rk)||this.Ja(this.Wh,b-1,f-2,-1,-1,I.eh,a,I.rk)||this.Ja(this.Yi,b,f-2,1,-1,I.dh,a,I.rk)||this.Ja(this.Zi,b-1,f-2,1,-1,I.dh,a,I.rk)||this.Ja(this.$i,b-1,f-2,1,-1,I.dh,a,I.rk)||this.Ja(this.aj,b,f-2,1,-1,I.dh,a,I.rk))}for(d-=6;d<=f+6;d+=1)for(a=0;5>=a;a+=1)l=
k[d],b=e.H+a,l[b]>=g&&(this.Ja(this.Ti,b,d,1,-1,I.bh,a,I.Ci)||this.Ja(this.Ui,b,d-1,1,-1,I.bh,a,I.Ci)||this.Ja(this.Wi,b,d,1,-1,I.bh,a,I.Ci)||this.Ja(this.Xi,b,d-1,1,-1,I.bh,a,I.Ci)||this.Ja(this.Th,b,d-1,1,1,I.eh,a,I.Ci)||this.Ja(this.Uh,b,d,1,1,I.eh,a,I.Ci)||this.Ja(this.Vh,b,d,1,1,I.eh,a,I.Ci)||this.Ja(this.Wh,b,d-1,1,1,I.eh,a,I.Ci)),c=e.J-a,l[c]>=g&&(this.Ja(this.Mi,c-2,d,-1,-1,I.ah,a,I.Bi)||this.Ja(this.Pi,c-2,d-1,-1,-1,I.ah,a,I.Bi)||this.Ja(this.Qi,c-2,d,-1,-1,I.ah,a,I.Bi)||this.Ja(this.Ri,
c-2,d-1,-1,-1,I.ah,a,I.Bi)||this.Ja(this.Yi,c-2,d-1,-1,1,I.dh,a,I.Bi)||this.Ja(this.Zi,c-2,d,-1,1,I.dh,a,I.Bi)||this.Ja(this.$i,c-2,d,-1,1,I.dh,a,I.Bi)||this.Ja(this.aj,c-2,d-1,-1,1,I.dh,a,I.Bi));this.gm();this.Qb()}};pa.prototype.zg=function(){var a,b,c=this.Z?-1:0,d=this.M,f=this.K;for(b=0;1>=b;b+=1){var e=Math.round((this.width-d)/2-1)+c+b>>4;var k=Math.round((this.width+d)/2)+c-b>>4;var g=Math.round((this.height-f)/2-1+b)+c>>4;var l=Math.round((this.height+f)/2)+c-b>>4;0===f&&(g=0,l=(this.height>>
4)-1);0===d&&(e=0,k=(this.width>>4)-1);0>e&&(e=0);0>g&&(g=0);k>=this.width>>4&&(k=(this.width>>4)-1);l>=this.height>>4&&(l=(this.height>>4)-1);if(this.Te)for(;g<=l;g+=1){var p=this.O[g];var n=this.X[g];var q=this.ra[g];var m=this.B[g];for(a=e;a<=k;a+=1){var r=1<<(~a&15);p[a>>4]|=r;n[a>>4]|=r;q[a>>4]|=r;m[a>>4]|=r}}else{for(a=e;a<=k;a+=1)r=1<<(~a&15),this.O[g][a>>4]|=r,this.X[g][a>>4]|=r,this.ra[g][a>>4]|=r,this.B[g][a>>4]|=r,this.O[l][a>>4]|=r,this.X[l][a>>4]|=r,this.ra[l][a>>4]|=r,this.B[l][a>>4]|=
r;for(;g<=l;g+=1)r=1<<(~e&15),this.O[g][e>>4]|=r,this.X[g][e>>4]|=r,this.ra[g][e>>4]|=r,this.B[g][e>>4]|=r,r=1<<(~k&15),this.O[g][k>>4]|=r,this.X[g][k>>4]|=r,this.ra[g][k>>4]|=r,this.B[g][k>>4]|=r}}};pa.prototype.Jo=function(a){var b=this.M,c=this.K,d=Math.round((this.width-b)/2),f=Math.round((this.height-c)/2),e=d+b-1,k=f+c-1,g=this.Md,l=this.Nd,p=this.B,n=!1,q;0===this.M&&(d=0,e=this.width-1,b=this.width);0===this.K&&(f=0,k=this.height-1,c=this.height);if(0!==this.K)for(q=0;q<b;q+=1){var m=d+q;
var r=d+((q+g)%b+b)%b;var u=a[k][m];129===u&&(n=!0,a[f-1][r]=u,p[f-1>>4][r>>8]|=1<<(~(r>>4)&15),15===(f-1&15)&&(p[(f-1>>4)+1][r>>8]|=1<<(~(r>>4)&15)));r=d+((q-g)%b+b)%b;u=a[f][m];129===u&&(n=!0,a[k+1][r]=u,p[k+1>>4][r>>8]|=1<<(~(r>>4)&15),0===(k+1&15)&&(p[(k+1>>4)-1][r>>8]|=1<<(~(r>>4)&15)))}if(0!==this.M)for(q=0;q<c;q+=1)m=f+q,r=f+((q-l)%c+c)%c,u=a[m][d],129===u&&(n=!0,a[r][e+1]=u,p[r>>4][e+1>>8]|=1<<(~(e+1>>4)&15),0===(e+1&15)&&(p[r>>4][e-15>>8]|=1<<(~(e-15>>4)&15))),r=f+((q+l)%c+c)%c,u=a[m][e],
129===u&&(n=!0,a[r][d-1]=u,p[r>>4][d-1>>8]|=1<<(~(d-1>>4)&15),15===(d-1&15)&&(p[r>>4][d+15>>8]|=1<<(~(d+15>>4)&15)));0!==this.M&&0!==this.K&&(u=a[f+(c-1+l+c)%c][d+(-g+b)%b],129===u&&(a[f-1][e+1]=u,n=!0),u=a[f+(c-1-l+c)%c][d+(b-1-g+b)%b],129===u&&(a[f-1][d-1]=u,n=!0),u=a[f+(l+c)%c][d+(g+b)%b],129===u&&(a[k+1][e+1]=u,n=!0),u=a[f+(-l+c)%c][d+(b-1+g+b)%b],129===u&&(a[k+1][d-1]=u,n=!0));n&&this.Za()};pa.prototype.oo=function(a){var b=this.B,c=this.M,d=this.K,f=Math.round((this.width-c)/2),e=Math.round((this.height-
d)/2),k=f+c-1,g=e+d-1,l=this.Md,p=this.Nd,n=this.Nf,q=this.rh,m=!1,r;for(r=0;r<c;r+=1){var u=f+r;var t=n?k-(r+l+c)%c:f+(r+l+c)%c;var v=a[g][u];129===v&&(m=!0,a[e-1][t]=v,b[e-1>>4][t>>8]|=1<<(~(t>>4)&15),15===(e-1&15)&&(b[(e-1>>4)+1][t>>8]|=1<<(~(t>>4)&15)));t=n?k-(r+l+c)%c:f+(r+l+c)%c;v=a[e][u];129===v&&(m=!0,a[g+1][t]=v,b[g+1>>4][t>>8]|=1<<(~(t>>4)&15),0===(g+1&15)&&(b[(g+1>>4)-1][t>>8]|=1<<(~(t>>4)&15)))}for(r=0;r<d;r+=1)c=e+r,u=q?g-(r+p+d)%d:e+(r+p+d)%d,v=a[c][f],129===v&&(m=!0,a[u][k+1]=v,b[u>>
4][k+1>>8]|=1<<(~(k+1>>4)&15),0===(k+1&15)&&(b[u>>4][k-15>>8]|=1<<(~(k-15>>4)&15))),u=q?g-(r+p+d)%d:e+(r+p+d)%d,v=a[c][k],129===v&&(m=!0,a[u][f-1]=v,b[u>>4][f-1>>8]|=1<<(~(f-1>>4)&15),15===(f-1&15)&&(b[u>>4][f+15>>8]|=1<<(~(f+15>>4)&15)));0!==this.M&&0!==this.K&&this.ko(n,f,e,k,g,l,p,a,b)&&(m=!0);m&&this.Za()};pa.prototype.$n=function(a){var b=this.ra,c=this.M,d=this.K,f=Math.round((this.width-c)/2),e=Math.round((this.height-d)/2),k=f+c-1,g=e+d-1,l=!1,p;for(p=0;p<c;p+=1){var n=f+p;var q=k-p;var m=
a[g][n];129===m&&(l=!0,a[e-1][q]=m,b[e-1>>4][q>>8]|=1<<(~(q>>4)&15),15===(e-1&15)&&(b[(e-1>>4)+1][q>>8]|=1<<(~(q>>4)&15)));m=a[e][n];129===m&&(l=!0,a[g+1][q]=m,b[g+1>>4][q>>8]|=1<<(~(q>>4)&15),0===(g+1&15)&&(b[(g+1>>4)-1][q>>8]|=1<<(~(q>>4)&15)))}for(p=0;p<=d;p+=1)n=e+p,q=g-p,m=a[n][f],129===m&&(l=!0,a[q][k+1]=m,b[q>>4][k+1>>8]|=1<<(~(k+1>>4)&15),0===(k+1&15)&&(b[q>>4][k-15>>8]|=1<<(~(k-15>>4)&15))),m=a[n][k],129===m&&(l=!0,a[q][f-1]=m,b[q>>4][f-1>>8]|=1<<(~(f-1>>4)&15),15===(f-1&15)&&(b[q>>4][f+
15>>8]|=1<<(~(f+15>>4)&15)));m=a[g][f];129===m&&(a[g+1][f-1]=m,l=!0);m=a[g][k];129===m&&(a[g+1][k+1]=m,l=!0);m=a[e][f];129===m&&(a[e-1][f-1]=m,l=!0);m=a[e][k];129===m&&(a[e-1][k+1]=m,l=!0);l&&this.Za()};pa.prototype.Fo=function(a){var b=this.ra,c=this.M,d=this.K,f=Math.round((this.width-c)/2),e=Math.round((this.height-d)/2),k=f+c-1;d=e+d-1;var g=!1,l;if(this.Of)for(l=0;l<c;l+=1){var p=e+l;var n=f+l;var q=a[p][f];129===q&&(g=!0,a[e-1][n]=q,b[e-1>>4][n>>8]|=1<<(~(n>>4)&15),15===(e-1&15)&&(b[(e-1>>4)+
1][n>>8]|=1<<(~(n>>4)&15)));q=a[p][k];129===q&&(g=!0,a[d+1][n]=q,b[d+1>>4][n>>8]|=1<<(~(n>>4)&15),0===(d+1&15)&&(b[(d+1>>4)-1][n>>8]|=1<<(~(n>>4)&15)));q=a[e][n];129===q&&(g=!0,a[p][f-1]=q,b[p>>4][f-1>>8]|=1<<(~(f-1>>4)&15),15===(f-1&15)&&(b[p>>4][f+15>>8]|=1<<(~(f+15>>4)&15)));q=a[d][n];129===q&&(g=!0,a[p][k+1]=q,b[p>>4][k+1>>8]|=1<<(~(k+1>>4)&15),0===(k+1&15)&&(b[p>>4][k-15>>8]|=1<<(~(k-15>>4)&15)))}else for(l=0;l<c;l+=1)p=e+l,n=f+(c-l-1),q=a[p][k],129===q&&(g=!0,a[e-1][n]=q,b[e-1>>4][n>>8]|=1<<
(~(n>>4)&15),15===(e-1&15)&&(b[(e-1>>4)+1][n>>8]|=1<<(~(n>>4)&15))),q=a[p][f],129===q&&(g=!0,a[d+1][n]=q,b[d+1>>4][n>>8]|=1<<(~(n>>4)&15),0===(d+1&15)&&(b[(d+1>>4)-1][n>>8]|=1<<(~(n>>4)&15))),q=a[e][n],129===q&&(g=!0,a[p][k+1]=q,b[p>>4][f-1>>8]|=1<<(~(f-1>>4)&15),0===(k+1&15)&&(b[p>>4][f+15>>8]|=1<<(~(f+15>>4)&15),b[p>>4][k-15>>8]|=1<<(~(k-15>>4)&15))),q=a[d][n],129===q&&(g=!0,a[p][f-1]=q,b[p>>4][k+1>>8]|=1<<(~(k+1>>4)&15),15===(f+15&15)&&(b[p>>4][f+15>>8]|=1<<(~(f+15>>4)&15)));q=a[d][f];129===q&&
(g=!0,a[d+1][f-1]=q);q=a[d][k];129===q&&(g=!0,a[d+1][k+1]=q);q=a[e][f];129===q&&(g=!0,a[e-1][f-1]=q);q=a[e][k];129===q&&(g=!0,a[e-1][k+1]=q);g&&this.Za()};pa.prototype.Lo=function(a){var b=this.M,c=this.K,d=this.Z?-1:0,f=Math.round((this.width-b)/2)+d;d=Math.round((this.height-c)/2)+d;var e=f+b-1,k=d+c-1,g=this.Md,l=this.Nd,p=this.B,n;0===this.M&&(f=0,e=this.width-1,b=this.width);0===this.K&&(d=0,k=this.height-1,c=this.height);if(0!==this.K)for(n=0;n<b;n+=1){var q=f+n;var m=f+((n+g)%b+b)%b;var r=
a[k][q];0!==r&&(a[d-1][m]=r,p[d-1>>4][m>>8]|=1<<(~(m>>4)&15),15===(d-1&15)&&(p[(d-1>>4)+1][m>>8]|=1<<(~(m>>4)&15)));m=f+((n-g)%b+b)%b;r=a[d][q];0!==r&&(a[k+1][m]=r,p[k+1>>4][m>>8]|=1<<(~(m>>4)&15),0===(k+1&15)&&(p[(k+1>>4)-1][m>>8]|=1<<(~(m>>4)&15)))}if(0!==this.M)for(n=0;n<c;n+=1)q=d+n,m=d+((n+l)%c+c)%c,r=a[q][f],0!==r&&(a[m][e+1]=r,p[m>>4][e+1>>8]|=1<<(~(e+1>>4)&15),0===(e+1&15)&&(p[m>>4][e-15>>8]|=1<<(~(e-15>>4)&15))),m=d+((n+l)%c+c)%c,r=a[q][e],0!==r&&(a[m][f-1]=r,p[m>>4][f-1>>8]|=1<<(~(f-1>>
4)&15),15===(f-1&15)&&(p[m>>4][f+15>>8]|=1<<(~(f+15>>4)&15)));0!==this.M&&0!==this.K&&(r=a[d+(c-1+l+c)%c][f+(-g+b)%b],a[d-1][e+1]=r,r=a[d+(c-1-l+c)%c][f+(b-1-g+b)%b],a[d-1][f-1]=r,r=a[d+(l+c)%c][f+(g+b)%b],a[k+1][e+1]=r,r=a[d+(-l+c)%c][f+(b-1+g+b)%b],a[k+1][f-1]=r)};pa.prototype.yo=function(a){var b=this.B,c=this.M,d=this.K,f=this.Z?-1:0,e=Math.round((this.width-c)/2)+f;f=Math.round((this.height-d)/2)+f;var k=e+c-1,g=f+d-1,l=this.Md,p=this.Nd,n=this.Nf,q=this.rh,m;for(m=0;m<c;m+=1){var r=e+m;var u=
n?k-(m+l+c)%c:e+(m+l+c)%c;var t=a[g][r];0!==t&&(a[f-1][u]=t,b[f-1>>4][u>>8]|=1<<(~(u>>4)&15),15===(f-1&15)&&(b[(f-1>>4)+1][u>>8]|=1<<(~(u>>4)&15)));u=n?k-(m+l+c)%c:e+(m+l+c)%c;t=a[f][r];0!==t&&(a[g+1][u]=t,b[g+1>>4][u>>8]|=1<<(~(u>>4)&15),0===(g+1&15)&&(b[(g+1>>4)-1][u>>8]|=1<<(~(u>>4)&15)))}for(m=0;m<d;m+=1)c=f+m,r=q?g-(m+p+d)%d:f+(m+p+d)%d,t=a[c][e],0!==t&&(a[r][k+1]=t,b[r>>4][k+1>>8]|=1<<(~(k+1>>4)&15),0===(k+1&15)&&(b[r>>4][k-15>>8]|=1<<(~(k-15>>4)&15))),r=q?g-(m+p+d)%d:f+(m+p+d)%d,t=a[c][k],
0!==t&&(a[r][e-1]=t,b[r>>4][e-1>>8]|=1<<(~(e-1>>4)&15),15===(e-1&15)&&(b[r>>4][e+15>>8]|=1<<(~(e+15>>4)&15)));0!==this.M&&0!==this.K&&this.mo(n,e,f,k,g,l,p,a,b)};pa.prototype.bo=function(a){var b=this.ra,c=this.M,d=this.K,f=this.Z?-1:0,e=Math.round((this.width-c)/2)+f;f=Math.round((this.height-d)/2)+f;var k=e+c-1,g=f+d-1,l;for(l=0;l<c;l+=1){var p=e+l;var n=k-l;var q=a[g][p];0!==q&&(a[f-1][n]=q,b[f-1>>4][n>>8]|=1<<(~(n>>4)&15),15===(f-1&15)&&(b[(f-1>>4)+1][n>>8]|=1<<(~(n>>4)&15)));q=a[f][p];0!==q&&
(a[g+1][n]=q,b[g+1>>4][n>>8]|=1<<(~(n>>4)&15),0===(g+1&15)&&(b[(g+1>>4)-1][n>>8]|=1<<(~(n>>4)&15)))}for(l=0;l<=d;l+=1)p=f+l,n=g-l,q=a[p][e],0!==q&&(a[n][k+1]=q,b[n>>4][k+1>>8]|=1<<(~(k+1>>4)&15),0===(k+1&15)&&(b[n>>4][k-15>>8]|=1<<(~(k-15>>4)&15))),q=a[p][k],0!==q&&(a[n][e-1]=q,b[n>>4][e-1>>8]|=1<<(~(e-1>>4)&15),15===(e-1&15)&&(b[n>>4][e+15>>8]|=1<<(~(e+15>>4)&15)));q=a[g][e];a[g+1][e-1]=q;q=a[g][k];a[g+1][k+1]=q;q=a[f][e];a[f-1][e-1]=q;q=a[f][k];a[f-1][k+1]=q};pa.prototype.Ho=function(a){var b=this.ra,
c=this.M,d=this.K,f=this.Z?-1:0,e=Math.round((this.width-c)/2)+f;f=Math.round((this.height-d)/2)+f;var k=e+c-1;d=f+d-1;var g=this.u,l;if(this.Of)for(l=0;l<c;l+=1){var p=f+l;var n=e+l;var q=a[p][e];q>g&&(this.i&&(q-=g,q=(q>>1&15|(q&1)<<3)+g),a[f-1][n]=q,b[f-1>>4][n>>8]|=1<<(~(n>>4)&15),15===(f-1&15)&&(b[(f-1>>4)+1][n>>8]|=1<<(~(n>>4)&15)));q=a[p][k];q>g&&(this.i&&(q-=g,q=(q>>1&15|(q&1)<<3)+g),a[d+1][n]=q,b[d+1>>4][n>>8]|=1<<(~(n>>4)&15),0===(d+1&15)&&(b[(d+1>>4)-1][n>>8]|=1<<(~(n>>4)&15)));q=a[f][n];
q>g&&(this.i&&(q-=g,q=(q<<1&15|(q&8)>>3)+g),a[p][e-1]=q,b[p>>4][e-1>>8]|=1<<(~(e-1>>4)&15),15===(e-1&15)&&(b[p>>4][e+15>>8]|=1<<(~(e+15>>4)&15)));q=a[d][n];q>g&&(this.i&&(q-=g,q=(q<<1&15|(q&8)>>3)+g),a[p][k+1]=q,b[p>>4][k+1>>8]|=1<<(~(k+1>>4)&15),0===(k+1&15)&&(b[p>>4][k-15>>8]|=1<<(~(k-15>>4)&15)))}else for(l=0;l<c;l+=1)p=f+l,n=e+(c-l-1),q=a[p][k],q>g&&(this.i&&(q-=g,q=(q<<1&15|(q&8)>>3)+g),a[f-1][n]=q,b[f-1>>4][n>>8]|=1<<(~(n>>4)&15),15===(f-1&15)&&(b[(f-1>>4)+1][n>>8]|=1<<(~(n>>4)&15))),q=a[p][e],
q>g&&(this.i&&(q-=g,q=(q<<1&15|(q&8)>>3)+g),a[d+1][n]=q,b[d+1>>4][n>>8]|=1<<(~(n>>4)&15),0===(d+1&15)&&(b[(d+1>>4)-1][n>>8]|=1<<(~(n>>4)&15))),q=a[f][n],q>g&&(this.i&&(q-=g,q=(q>>1&15|(q&1)<<3)+g),a[p][k+1]=q,b[p>>4][e-1>>8]|=1<<(~(e-1>>4)&15),0===(k+1&15)&&(b[p>>4][e+15>>8]|=1<<(~(e+15>>4)&15),b[p>>4][k-15>>8]|=1<<(~(k-15>>4)&15))),q=a[d][n],q>g&&(this.i&&(q-=g,q=(q>>1&15|(q&1)<<3)+g),a[p][e-1]=q,b[p>>4][k+1>>8]|=1<<(~(k+1>>4)&15),15===(e+15&15)&&(b[p>>4][e+15>>8]|=1<<(~(e+15>>4)&15)));q=a[d][e];
a[d+1][e-1]=q;q=a[d][k];a[d+1][k+1]=q;q=a[f][e];a[f-1][e-1]=q;q=a[f][k];a[f-1][k+1]=q};pa.prototype.$j=function(){var a=this.ra,b=this.M,c=this.K;var d=this.Z?-1:0;var f=Math.round((this.width-b)/2)+d,e=Math.round((this.height-c)/2)+d,k=f+b-1,g=e+c-1,l=this.Md,p=this.Nd,n=this.W&&0<f&&k<this.width-1,q;if(0!==(this.counter&1)){d=this.Va;var m=this.X}else d=this.xa,m=this.O;0===this.M&&(f=0,k=this.width-1,b=this.width);0===this.K&&(e=0,g=this.height-1,c=this.height);if(0!==this.K)for(q=0;q<b;q+=1){var r=
f+q;var u=f+((q+l)%b+b)%b;0!==(d[g][r>>4]&1<<(~r&15))&&(d[e-1][u>>4]|=1<<(~u&15),m[e-1>>4][u>>8]|=1<<(~(u>>4)&15),a[e-1>>4][u>>8]|=1<<(~(u>>4)&15),15===(e-1&15)&&(m[(e-1>>4)+1][u>>8]|=1<<(~(u>>4)&15),a[(e-1>>4)+1][u>>8]|=1<<(~(u>>4)&15)));u=f+((q-l)%b+b)%b;0!==(d[e][r>>4]&1<<(~r&15))&&(d[g+1][u>>4]|=1<<(~u&15),m[g+1>>4][u>>8]|=1<<(~(u>>4)&15),a[g+1>>4][u>>8]|=1<<(~(u>>4)&15),0===(g+1&15)&&(m[(g+1>>4)-1][u>>8]|=1<<(~(u>>4)&15),a[(g+1>>4)-1][u>>8]|=1<<(~(u>>4)&15)))}if(0!==this.M)for(q=0;q<c;q+=1)r=
e+q,u=e+((q-p)%c+c)%c,0!==(d[r][f>>4]&1<<(~f&15))&&(d[u][k+1>>4]|=1<<(~(k+1)&15),m[u>>4][k+1>>8]|=1<<(~(k+1>>4)&15),a[u>>4][k+1>>8]|=1<<(~(k+1>>4)&15),0===(k+1&15)&&(m[u>>4][k-15>>8]|=1<<(~(k-15>>4)&15),a[u>>4][k-15>>8]|=1<<(~(k-15>>4)&15))),n&&(f+=1,k+=1,0!==(d[r][f>>4]&1<<(~f&15))&&(d[u][k+1>>4]|=1<<(~(k+1)&15),m[u>>4][k+1>>8]|=1<<(~(k+1>>4)&15),a[u>>4][k+1>>8]|=1<<(~(k+1>>4)&15),0===(k+1&15)&&(m[u>>4][k-15>>8]|=1<<(~(k-15>>4)&15),a[u>>4][k-15>>8]|=1<<(~(k-15>>4)&15))),--f,--k),u=e+((q+p)%c+c)%
c,0!==(d[r][k>>4]&1<<(~k&15))&&(d[u][f-1>>4]|=1<<(~(f-1)&15),m[u>>4][f-1>>8]|=1<<(~(f-1>>4)&15),a[u>>4][f-1>>8]|=1<<(~(f-1>>4)&15),15===(f-1&15)&&(m[u>>4][f+15>>8]|=1<<(~(f+15>>4)&15),a[u>>4][f+15>>8]|=1<<(~(f+15>>4)&15))),n&&(--f,--k,0!==(d[r][k>>4]&1<<(~k&15))&&(d[u][f-1>>4]|=1<<(~(f-1)&15),m[u>>4][f-1>>8]|=1<<(~(f-1>>4)&15),a[u>>4][f-1>>8]|=1<<(~(f-1>>4)&15),15===(f-1&15)&&(m[u>>4][f+15>>8]|=1<<(~(f+15>>4)&15),a[u>>4][f+15>>8]|=1<<(~(f+15>>4)&15))),f+=1,k+=1);0!==this.M&&0!==this.K&&(r=f+(-l+b)%
b,d[e-1][k+1>>4]=0!==(d[e+(c-1+p+c)%c][r>>4]&1<<(~r&15))?d[e-1][k+1>>4]|1<<(~(k+1)&15):d[e-1][k+1>>4]&~(1<<(~(k+1)&15)),r=f+(b-1-l+b)%b,d[e-1][f-1>>4]=0!==(d[e+(c-1-p+c)%c][r>>4]&1<<(~r&15))?d[e-1][f-1>>4]|1<<(~(f-1)&15):d[e-1][f-1>>4]&~(1<<(~(f-1)&15)),r=f+(l+b)%b,d[g+1][k+1>>4]=0!==(d[e+(p+c)%c][r>>4]&1<<(~r&15))?d[g+1][k+1>>4]|1<<(~(k+1)&15):d[g+1][k+1>>4]&~(1<<(~(k+1)&15)),r=f+(b-1+l+b)%b,d[g+1][f-1>>4]=0!==(d[e+(-p+c)%c][r>>4]&1<<(~r&15))?d[g+1][f-1>>4]|1<<(~(f-1)&15):d[g+1][f-1>>4]&~(1<<(~(f-
1)&15)),n&&(f+=1,k+=1,r=f+(-l+b)%b,d[e-1][k+1>>4]=0!==(d[e+(c-1+p+c)%c][r>>4]&1<<(~r&15))?d[e-1][k+1>>4]|1<<(~(k+1)&15):d[e-1][k+1>>4]&~(1<<(~(k+1)&15)),r=f+(b-1-l+b)%b,d[e-1][f-1>>4]=0!==(d[e+(c-1-p+c)%c][r>>4]&1<<(~r&15))?d[e-1][f-1>>4]|1<<(~(f-1)&15):d[e-1][f-1>>4]&~(1<<(~(f-1)&15)),r=f+(l+b)%b,d[g+1][k+1>>4]=0!==(d[e+(p+c)%c][r>>4]&1<<(~r&15))?d[g+1][k+1>>4]|1<<(~(k+1)&15):d[g+1][k+1>>4]&~(1<<(~(k+1)&15)),r=f+(b-1+l+b)%b,d[g+1][f-1>>4]=0!==(d[e+(-p+c)%c][r>>4]&1<<(~r&15))?d[g+1][f-1>>4]|1<<(~(f-
1)&15):d[g+1][f-1>>4]&~(1<<(~(f-1)&15)),f-=2,k-=2,r=f+(-l+b)%b,d[e-1][k+1>>4]=0!==(d[e+(c-1+p+c)%c][r>>4]&1<<(~r&15))?d[e-1][k+1>>4]|1<<(~(k+1)&15):d[e-1][k+1>>4]&~(1<<(~(k+1)&15)),r=f+(b-1-l+b)%b,d[e-1][f-1>>4]=0!==(d[e+(c-1-p+c)%c][r>>4]&1<<(~r&15))?d[e-1][f-1>>4]|1<<(~(f-1)&15):d[e-1][f-1>>4]&~(1<<(~(f-1)&15)),r=f+(l+b)%b,d[g+1][k+1>>4]=0!==(d[e+(p+c)%c][r>>4]&1<<(~r&15))?d[g+1][k+1>>4]|1<<(~(k+1)&15):d[g+1][k+1>>4]&~(1<<(~(k+1)&15)),r=f+(b-1+l+b)%b,d[g+1][f-1>>4]=0!==(d[e+(-p+c)%c][r>>4]&1<<(~r&
15))?d[g+1][f-1>>4]|1<<(~(f-1)&15):d[g+1][f-1>>4]&~(1<<(~(f-1)&15))))};pa.prototype.ko=function(a,b,c,d,f,e,k,g,l){var p=!1;if(a){k=d-e;k<b&&(k=d);var n=d+1;var q=c-1;a=g[f][k];129===a&&(p=!0,g[q][n]=a,l[q>>4][n>>8]|=1<<(~(n>>4)&15),15===(q&15)&&(l[(q>>4)+1][n>>8]|=1<<(~(n>>4)&15)));k=b-e;k<b&&(k=d);var m=f;n=b-1;q=c-1;a=g[m][k];129===a&&(p=!0,g[q][n]=a,l[q>>4][n>>8]|=1<<(~(n>>4)&15),15===(q&15)&&(l[(q>>4)+1][n>>8]|=1<<(~(n>>4)&15)));0!==(g[m][k>>4]&1<<(~k&15))&&(g[c-1][b-1>>4]|=1<<(~(b-1)&15));k=
d-e;k<b&&(k=d);n=d+1;q=f+1;a=g[c][k];129===a&&(p=!0,g[q][n]=a,l[q>>4][n>>8]|=1<<(~(n>>4)&15),15===(q&15)&&(l[(q>>4)-1][n>>8]|=1<<(~(n>>4)&15)));k=b-e;k<b&&(k=d);n=b-1;q=f+1;a=g[c][k];129===a&&(p=!0,g[q][n]=a,l[q>>4][n>>8]|=1<<(~(n>>4)&15),15===(q&15)&&(l[(q>>4)-1][n>>8]|=1<<(~(n>>4)&15)))}else m=c-k,m<c&&(m=f),n=d+1,q=c-1,a=g[m][b],129===a&&(p=!0,g[q][n]=a,l[q>>4][n>>8]|=1<<(~(n>>4)&15),15===(q&15)&&(l[(q>>4)+1][n>>8]|=1<<(~(n>>4)&15))),m=c-k,m<c&&(m=f),n=b-1,q=c-1,a=g[m][d],129===a&&(p=!0,g[q][n]=
a,l[q>>4][n>>8]|=1<<(~(n>>4)&15),15===(q&15)&&(l[(q>>4)+1][n>>8]|=1<<(~(n>>4)&15))),m=f-k,m<c&&(m=f),n=d+1,q=f+1,a=g[m][b],129===a&&(p=!0,g[q][n]=a,l[q>>4][n>>8]|=1<<(~(n>>4)&15),15===(q&15)&&(l[(q>>4)+1][n>>8]|=1<<(~(n>>4)&15))),m=f-k,m<c&&(m=f),n=b-1,q=f+1,a=g[m][d],129===a&&(p=!0,g[q][n]=a,l[q>>4][n>>8]|=1<<(~(n>>4)&15),15===(q&15)&&(l[(q>>4)+1][n>>8]|=1<<(~(n>>4)&15)));return p};pa.prototype.mo=function(a,b,c,d,f,e,k,g,l){if(a){k=d-e;k<b&&(k=d);a=c-1;var p=g[f][k];0!==p&&(g[a][d+1]=p,l[a>>4][b-
1>>8]|=1<<(~(b-1>>4)&15));k=b-e;k<b&&(k=d);a=c-1;p=g[f][k];0!==p&&(g[a][b-1]=p,l[a>>4][b-1>>8]|=1<<(~(b-1>>4)&15));k=d-e;k<b&&(k=d);a=f+1;p=g[c][k];0!==p&&(g[a][d+1]=p,l[a>>4][b-1>>8]|=1<<(~(b-1>>4)&15));k=b-e;k<b&&(k=d);e=b-1;a=f+1;p=g[c][k]}else p=c-k,p<c&&(p=f),a=c-1,p=g[p][b],0!==p&&(g[a][d+1]=p,l[a>>4][b-1>>8]|=1<<(~(b-1>>4)&15)),p=c-k,p<c&&(p=f),a=c-1,p=g[p][d],0!==p&&(g[a][b-1]=p,l[a>>4][b-1>>8]|=1<<(~(b-1>>4)&15)),p=f-k,p<c&&(p=f),a=f+1,p=g[p][b],0!==p&&(g[a][d+1]=p,l[a>>4][b-1>>8]|=1<<(~(b-
1>>4)&15)),p=f-k,p<c&&(p=f),e=b-1,a=f+1,p=g[p][d];0!==p&&(g[a][e]=p,l[a>>4][b-1>>8]|=1<<(~(b-1>>4)&15))};pa.prototype.di=function(a,b,c,d,f,e,k,g){a?(a=d-e,a<b&&(a=d),0!==(g[f][a>>4]&1<<(~a&15))&&(g[c-1][d+1>>4]|=1<<(~(d+1)&15)),a=b-e,a<b&&(a=d),0!==(g[f][a>>4]&1<<(~a&15))&&(g[c-1][b-1>>4]|=1<<(~(b-1)&15)),a=d-e,a<b&&(a=d),0!==(g[c][a>>4]&1<<(~a&15))&&(g[f+1][d+1>>4]|=1<<(~(d+1)&15)),a=b-e,a<b&&(a=d),0!==(g[c][a>>4]&1<<(~a&15))&&(g[f+1][b-1>>4]|=1<<(~(b-1)&15))):(a=b,e=c-k,e<c&&(e=f),0!==(g[e][a>>
4]&1<<(~a&15))&&(g[c-1][d+1>>4]|=1<<(~(d+1)&15)),a=d,e=c-k,e<c&&(e=f),0!==(g[e][a>>4]&1<<(~a&15))&&(g[c-1][b-1>>4]|=1<<(~(b-1)&15)),a=b,e=f-k,e<c&&(e=f),0!==(g[e][a>>4]&1<<(~a&15))&&(g[f+1][d+1>>4]|=1<<(~(d+1)&15)),a=d,e=f-k,e<c&&(e=f),0!==(g[e][a>>4]&1<<(~a&15))&&(g[f+1][b-1>>4]|=1<<(~(b-1)&15)))};pa.prototype.Yj=function(){var a=this.ra,b=this.M,c=this.K;var d=this.Z?-1:0;var f=Math.round((this.width-b)/2)+d,e=Math.round((this.height-c)/2)+d,k=f+b-1,g=e+c-1,l=this.Md,p=this.Nd,n=this.Nf,q=this.rh,
m=this.W&&0<f&&k<this.width-1,r;if(0!==(this.counter&1)){d=this.Va;var u=this.X}else d=this.xa,u=this.O;for(r=0;r<b;r+=1){var t=f+r;var v=n?k-(r+l)%b:t;0!==(d[g][v>>4]&1<<(~v&15))&&(d[e-1][t>>4]|=1<<(~t&15),u[e-1>>4][t>>8]|=1<<(~(t>>4)&15),a[e-1>>4][t>>8]|=1<<(~(t>>4)&15),15===(e-1&15)&&(u[(e-1>>4)+1][t>>8]|=1<<(~(t>>4)&15),a[(e-1>>4)+1][t>>8]|=1<<(~(t>>4)&15)));0!==(d[e][v>>4]&1<<(~v&15))&&(d[g+1][t>>4]|=1<<(~t&15),u[g+1>>4][t>>8]|=1<<(~(t>>4)&15),a[g+1>>4][t>>8]|=1<<(~(t>>4)&15),0===(g+1&15)&&(u[(g+
1>>4)-1][t>>8]|=1<<(~(t>>4)&15),a[(g+1>>4)-1][t>>8]|=1<<(~(t>>4)&15)))}for(r=0;r<c;r+=1)v=e+r,b=q?g-(r+p)%c:v,0!==(d[b][f>>4]&1<<(~f&15))&&(d[v][k+1>>4]|=1<<(~(k+1)&15),u[v>>4][k+1>>8]|=1<<(~(k+1>>4)&15),a[v>>4][k+1>>8]|=1<<(~(k+1>>4)&15),0===(k+1&15)&&(u[v>>4][k-15>>8]|=1<<(~(k-15>>4)&15),a[v>>4][k-15>>8]|=1<<(~(k-15>>4)&15))),m&&(f+=1,k+=1,0!==(d[b][f>>4]&1<<(~f&15))&&(d[v][k+1>>4]|=1<<(~(k+1)&15),u[v>>4][k+1>>8]|=1<<(~(k+1>>4)&15),a[v>>4][k+1>>8]|=1<<(~(k+1>>4)&15),0===(k+1&15)&&(u[v>>4][k-15>>
8]|=1<<(~(k-15>>4)&15),a[v>>4][k-15>>8]|=1<<(~(k-15>>4)&15))),--f,--k),0!==(d[b][k>>4]&1<<(~k&15))&&(d[v][f-1>>4]|=1<<(~(f-1)&15),u[v>>4][f-1>>8]|=1<<(~(f-1>>4)&15),a[v>>4][f-1>>8]|=1<<(~(f-1>>4)&15),15===(f-1&15)&&(u[v>>4][f+15>>8]|=1<<(~(f+15>>4)&15),a[v>>4][f+15>>8]|=1<<(~(f+15>>4)&15))),m&&(--f,--k,0!==(d[b][k>>4]&1<<(~k&15))&&(d[v][f-1>>4]|=1<<(~(f-1)&15),u[v>>4][f-1>>8]|=1<<(~(f-1>>4)&15),a[v>>4][f-1>>8]|=1<<(~(f-1>>4)&15),15===(f-1&15)&&(u[v>>4][f+15>>8]|=1<<(~(f+15>>4)&15),a[v>>4][f+15>>8]|=
1<<(~(f+15>>4)&15))),f+=1,k+=1);0!==this.M&&0!==this.K&&(this.di(n,f,e,k,g,l,p,d),m&&(f+=1,k+=1,this.di(n,f,e,k,g,l,p,d),this.di(n,f-2,e,k-2,g,l,p,d)))};pa.prototype.Xj=function(){var a=this.ra,b=this.M,c=this.K;var d=this.Z?-1:0;var f=Math.round((this.width-b)/2)+d,e=Math.round((this.height-c)/2)+d,k=f+b-1,g=e+c-1,l=this.W&&0<f&&k<this.width-1,p;if(0!==(this.counter&1)){d=this.Va;var n=this.X}else d=this.xa,n=this.O;for(p=0;p<b;p+=1){var q=f+p;var m=k-p;0!==(d[g][q>>4]&1<<(~q&15))&&(d[e-1][m>>4]|=
1<<(~m&15),n[e-1>>4][m>>8]|=1<<(~(m>>4)&15),a[e-1>>4][m>>8]|=1<<(~(m>>4)&15),15===(e-1&15)&&(n[(e-1>>4)+1][m>>8]|=1<<(~(m>>4)&15),a[(e-1>>4)+1][m>>8]|=1<<(~(m>>4)&15)));0!==(d[e][q>>4]&1<<(~q&15))&&(d[g+1][m>>4]|=1<<(~m&15),n[g+1>>4][m>>8]|=1<<(~(m>>4)&15),a[g+1>>4][m>>8]|=1<<(~(m>>4)&15),0===(g+1&15)&&(n[(g+1>>4)-1][m>>8]|=1<<(~(m>>4)&15),a[(g+1>>4)-1][m>>8]|=1<<(~(m>>4)&15)))}for(p=0;p<c;p+=1)q=e+p,m=g-p,0!==(d[q][f>>4]&1<<(~f&15))&&(d[m][k+1>>4]|=1<<(~(k+1)&15),n[m>>4][k+1>>8]|=1<<(~(k+1>>4)&15),
a[m>>4][k+1>>8]|=1<<(~(k+1>>4)&15),0===(k+1&15)&&(n[m>>4][k-15>>8]|=1<<(~(k-15>>4)&15),a[m>>4][k-15>>8]|=1<<(~(k-15>>4)&15))),l&&(f+=1,k+=1,0!==(d[q][f>>4]&1<<(~f&15))&&(d[m][k+1>>4]|=1<<(~(k+1)&15),n[m>>4][k+1>>8]|=1<<(~(k+1>>4)&15),a[m>>4][k+1>>8]|=1<<(~(k+1>>4)&15),0===(k+1&15)&&(n[m>>4][k-15>>8]|=1<<(~(k-15>>4)&15),a[m>>4][k-15>>8]|=1<<(~(k-15>>4)&15))),--f,--k),0!==(d[q][k>>4]&1<<(~k&15))&&(d[m][f-1>>4]|=1<<(~(f-1)&15),n[m>>4][f-1>>8]|=1<<(~(f-1>>4)&15),a[m>>4][f-1>>8]|=1<<(~(f-1>>4)&15),15===
(f-1&15)&&(n[m>>4][f+15>>8]|=1<<(~(f+15>>4)&15),a[m>>4][f+15>>8]|=1<<(~(f+15>>4)&15))),l&&(--f,--k,0!==(d[q][k>>4]&1<<(~k&15))&&(d[m][f-1>>4]|=1<<(~(f-1)&15),n[m>>4][f-1>>8]|=1<<(~(f-1>>4)&15),a[m>>4][f-1>>8]|=1<<(~(f-1>>4)&15),15===(f-1&15)&&(n[m>>4][f+15>>8]|=1<<(~(f+15>>4)&15),a[m>>4][f+15>>8]|=1<<(~(f+15>>4)&15))),f+=1,k+=1);0!==this.M&&0!==this.K&&(0!==(d[g][f>>4]&1<<(~f&15))&&(d[g+1][f-1>>4]|=1<<(~(f-1)&15)),0!==(d[g][k>>4]&1<<(~k&15))&&(d[g+1][k+1>>4]|=1<<(~(k+1)&15)),0!==(d[e][f>>4]&1<<(~f&
15))&&(d[e-1][f-1>>4]|=1<<(~(f-1)&15)),0!==(d[e][k>>4]&1<<(~k&15))&&(d[e-1][k+1>>4]|=1<<(~(k+1)&15)),l&&(f+=1,k+=1,0!==(d[g][f>>4]&1<<(~f&15))&&(d[g+1][f-1>>4]|=1<<(~(f-1)&15)),0!==(d[g][k>>4]&1<<(~k&15))&&(d[g+1][k+1>>4]|=1<<(~(k+1)&15)),0!==(d[e][f>>4]&1<<(~f&15))&&(d[e-1][f-1>>4]|=1<<(~(f-1)&15)),0!==(d[e][k>>4]&1<<(~k&15))&&(d[e-1][k+1>>4]|=1<<(~(k+1)&15)),f-=2,k-=2,0!==(d[g][f>>4]&1<<(~f&15))&&(d[g+1][f-1>>4]|=1<<(~(f-1)&15)),0!==(d[g][k>>4]&1<<(~k&15))&&(d[g+1][k+1>>4]|=1<<(~(k+1)&15)),0!==
(d[e][f>>4]&1<<(~f&15))&&(d[e-1][f-1>>4]|=1<<(~(f-1)&15)),0!==(d[e][k>>4]&1<<(~k&15))&&(d[e-1][k+1>>4]|=1<<(~(k+1)&15))))};pa.prototype.Zj=function(){var a=this.ra,b=this.M;var c=this.K;var d=this.Z?-1:0,f=Math.round((this.width-b)/2)+d;d=Math.round((this.height-c)/2)+d;var e=f+b-1,k=d+c-1,g;if(0!==(this.counter&1)){c=this.Va;var l=this.X}else c=this.xa,l=this.O;if(this.Of)for(g=0;g<b;g+=1){var p=d+g;var n=f+g;0!==(c[p][f>>4]&1<<(~f&15))&&(c[d-1][n>>4]|=1<<(~n&15),l[d-1>>4][n>>8]|=1<<(~(n>>4)&15),
a[d-1>>4][n>>8]|=1<<(~(n>>4)&15),15===(d-1&15)&&(l[(d-1>>4)+1][n>>8]|=1<<(~(n>>4)&15),a[(d-1>>4)+1][n>>8]|=1<<(~(n>>4)&15)));0!==(c[p][e>>4]&1<<(~e&15))&&(c[k+1][n>>4]|=1<<(~n&15),l[k+1>>4][n>>8]|=1<<(~(n>>4)&15),a[k+1>>4][n>>8]|=1<<(~(n>>4)&15),0===(k+1&15)&&(l[(k+1>>4)-1][n>>8]|=1<<(~(n>>4)&15),a[(k+1>>4)-1][n>>8]|=1<<(~(n>>4)&15)));0!==(c[d][n>>4]&1<<(~n&15))&&(c[p][f-1>>4]|=1<<(~(f-1)&15),l[p>>4][f-1>>8]|=1<<(~(f-1>>4)&15),a[p>>4][f-1>>8]|=1<<(~(f-1>>4)&15),15===(f-1&15)&&(l[p>>4][f+15>>8]|=1<<
(~(f+15>>4)&15),a[p>>4][f+15>>8]|=1<<(~(f+15>>4)&15)));0!==(c[k][n>>4]&1<<(~n&15))&&(c[p][e+1>>4]|=1<<(~(e+1)&15),l[p>>4][e+1>>8]|=1<<(~(e+1>>4)&15),a[p>>4][e+1>>8]|=1<<(~(e+1>>4)&15),0===(e+1&15)&&(l[p>>4][e-15>>8]|=1<<(~(e-15>>4)&15),a[p>>4][e-15>>8]|=1<<(~(e-15>>4)&15)))}else for(g=0;g<b;g+=1)p=d+g,n=f+(b-g-1),0!==(c[p][e>>4]&1<<(~e&15))&&(c[d-1][n>>4]|=1<<(~n&15),l[d-1>>4][n>>8]|=1<<(~(n>>4)&15),a[d-1>>4][n>>8]|=1<<(~(n>>4)&15),15===(d-1&15)&&(l[(d-1>>4)+1][n>>8]|=1<<(~(n>>4)&15),a[(d-1>>4)+1][n>>
8]|=1<<(~(n>>4)&15))),0!==(c[p][f>>4]&1<<(~f&15))&&(c[k+1][n>>4]|=1<<(~n&15),l[k+1>>4][n>>8]|=1<<(~(n>>4)&15),a[k+1>>4][n>>8]|=1<<(~(n>>4)&15),0===(k+1&15)&&(l[(k+1>>4)-1][n>>8]|=1<<(~(n>>4)&15),a[(k+1>>4)-1][n>>8]|=1<<(~(n>>4)&15))),0!==(c[d][n>>4]&1<<(~n&15))&&(c[p][e+1>>4]|=1<<(~(e+1)&15),l[p>>4][e+1>>8]|=1<<(~(e+1>>4)&15),a[p>>4][e+1>>8]|=1<<(~(e+1>>4)&15),15===(e+1&15)&&(l[p>>4][e-15>>8]|=1<<(~(e-15>>4)&15),a[p>>4][e-15>>8]|=1<<(~(e-15>>4)&15))),0!==(c[k][n>>4]&1<<(~n&15))&&(c[p][f-1>>4]|=1<<
(~(f-1)&15),l[p>>4][f-1>>8]|=1<<(~(f-1>>4)&15),a[p>>4][f-1>>8]|=1<<(~(f-1>>4)&15),0===(f-1&15)&&(l[p>>4][f+15>>8]|=1<<(~(f+15>>4)&15),a[p>>4][f+15>>8]|=1<<(~(f+15>>4)&15)));0!==(c[k][f>>4]&1<<(~f&15))&&(c[k+1][f-1>>4]|=1<<(~(f-1)&15));0!==(c[k][e>>4]&1<<(~e&15))&&(c[k+1][e+1>>4]|=1<<(~(e+1)&15));0!==(c[d][f>>4]&1<<(~f&15))&&(c[d-1][f-1>>4]|=1<<(~(f-1)&15));0!==(c[d][e>>4]&1<<(~e&15))&&(c[d-1][e+1>>4]|=1<<(~(e+1)&15))};pa.prototype.Rn=function(){var a,b=1;0!==this.C&&(b=2);this.W&&(b+=1);for(a=1;a<=
b+1;a+=1)this.lm(a);this.F&&this.mm();this.Te&&this.Ik()};pa.prototype.Wn=function(){var a=this.m,b=this.Da;(this.i||this.o||this.l||this.A)&&0!==(this.counter&1)&&(a=this.Y);this.cf(a,0);this.zg();switch(this.C){case 1:this.i||this.o||this.l||this.A?(this.Lo(a),(this.l||this.A)&&this.$j()):(this.$j(),this.F&&this.Jo(b));break;case 2:this.i||this.o||this.l||this.A?(this.yo(a),(this.l||this.A)&&this.Yj()):(this.Yj(),this.F&&this.oo(b));break;case 3:this.i||this.o||this.l||this.A?(this.bo(a),(this.l||
this.A)&&this.Xj()):(this.Xj(),this.F&&this.$n(b));break;case 4:this.i||this.o||this.l||this.A?(this.Ho(a),(this.l||this.A)&&this.Zj()):(this.Zj(),this.F&&this.Fo(b))}this.zg()};pa.prototype.wf=function(a){this.li&&(this.ff+=I.rp,this.Bh(a),this.li=!1)};pa.prototype.pf=function(a){this.da?this.counter+=1:this.Co(a)};pa.prototype.Co=function(a){var b=this.v,c=this.Na;this.li=this.counter!==this.ff-1||a?!1:!0;-1===this.C||this.Ca||this.Wn();this.Kc&&this.tn();this.o?null===this.Yb?this.xn():this.qm():
this.i?this.kn():this.Ca?this.V.Ia(this.counter):this.Z?this.hn():this.W?this.Pn():this.A||this.Nn();this.counter+=1;if(this.Z||this.i)this.bb?--this.Kb:this.Kb+=1,this.Kb>this.ge&&(this.ge=this.Kb);-1===this.h||this.Ca||this.i||this.o||this.l||this.A||this.fn();this.l&&this.Gn();this.A&&this.Ym();this.Kc&&this.rm();-1===this.C||this.Ca||this.Rn();if(this.width===this.T||this.height===this.T)if(a=this.Ca?2*this.V.o:this.A||this.o?1:16,b.H<a||b.J>=this.T-a||b.I<a||b.L>=this.T-a)a=this.s,this.Ca?this.Gk():
this.o?this.Kk():this.A?this.om():this.pm(),a!==this.s&&(this.lb=!0,this.Qb(),this.view.D.notification.notify("Cells deleted after hitting boundary",15,120,15,!0));0<this.s&&(b.H<c.H&&(c.H=b.H),b.J>c.J&&(c.J=b.J),b.I<c.I&&(c.I=b.I),b.L>c.L&&(c.L=b.L))};pa.prototype.Yg=function(){var a=this.counter>>I.uj,b=this.counter&(1<<I.uj)-1;this.counter<I.jq&&(this.s>this.Zf&&(this.Zf=this.s),this.ma>this.Pg&&(this.Pg=this.ma),this.$>this.Kf&&(this.Kf=this.$),this.Dc&&0<this.Dc.length&&(this.counter>=this.eg&&
(Array.No(this.Dc,"Life.popGraphData"),Array.No(this.Ef,"Life.birthGraphData"),Array.No(this.Jf,"Life.deathGraphData"),this.eg+=1<<I.uj),this.Dc[a][b]=this.s,this.Ef[a][b]=this.ma,this.Jf[a][b]=this.$))};pa.prototype.fi=function(a,b,c,d,f,e,k,g){var l=1,p,n=(1<<I.uj)-1,q=I.jq;var m=this.counter;m>q&&(m=q);m>c&&(l=c/m);if(g){a.strokeStyle=b;a.beginPath();var r=d-k[0][0]/this.nd*d|0;a.moveTo(e+.5,r+f+e+.5)}else a.fillStyle=b;k.length<<I.uj<q&&(q=k.length<<I.uj);var u=0;for(b=m=1;b<c;b+=1){if(m<q){var t=
m>>I.uj;r=m&n;var v=p=k[t][r];u+=l;for(m+=1;0===(u|0)&&m<q;)t=m>>I.uj,r=m&n,t=k[t][r],m+=1,t>v&&(v=t),t<p&&(p=t),u+=l;--u}else v=p=0;b<=this.counter&&(t=e+1+b,r=d-p/this.nd*d|0,g?(a.lineTo(t+.5,r+f+e+.5),p!==v&&(r=d-v/this.nd*d|0,a.lineTo(t+.5,r+f+e+.5))):0<p&&0<v&&(p!==v&&(r=d-v/this.nd*d|0),a.fillRect(t+.5,r+f+e+.5,1,1)))}g&&a.stroke()};pa.prototype.zj=function(a,b,c,d,f){var e=this.ha,k=f.h.s,g=40*f.h.C,l=40*k,p=this.displayWidth-l,n=this.displayHeight-g-l,q=this.counter,m="rgb("+this.jd[0]+","+
this.jd[1]+","+this.jd[2]+")",r="rgb("+this.hd[0]+","+this.hd[1]+","+this.hd[2]+")",u="rgb("+this.gd[0]+","+this.gd[1]+","+this.gd[2]+")",t="rgb("+this.kd[0]+","+this.kd[1]+","+this.kd[2]+")",v="rgb("+this.ld[0]+","+this.ld[1]+","+this.ld[2]+")";this.Yg();if(this.Dc&&0<this.Dc.length){c?(n=this.displayHeight,g=0):d&&(n=this.displayHeight,g=0,p=this.displayWidth,l=0);var A=p-l;q>I.jq&&(q=I.jq);this.nd=0;-1===this.C&&(f.th&&(this.nd=this.Pg),f.uh&&this.Kf>this.nd&&(this.nd=this.Kf));f.vh&&this.Zf>this.nd&&
(this.nd=this.Zf);e.save();e.fillStyle=m;e.globalAlpha=b;e.fillRect(0,g,p+l,n);e.globalAlpha=1;c&&(n-=l);if(!d){e.font=(16*k|0)+"px Arial";e.textAlign="center";e.fillStyle=f.D.mc;for(b=2;0<=b;b-=2)e.save(),e.translate(this.displayWidth/2,n+l/2-(6*k|0)),e.fillText("Generation",b,b),e.restore(),e.save(),e.translate(l/2+(6*k|0),this.displayHeight/2),e.rotate(-90*Math.PI/180),320>this.displayHeight?e.fillText("Pop",b,b):e.fillText("Population",b,b),e.restore(),e.fillStyle=r;e.fillStyle=f.D.mc;for(b=2;0<=
b;b-=2)e.save(),e.translate(l-l/2+(6*k|0),g+l),e.rotate(-90*Math.PI/180),e.fillText(String(this.nd),b,b),e.restore(),e.save(),e.translate(l-l/2+(6*k|0),n),e.rotate(-90*Math.PI/180),e.fillText("0",b,b),e.restore(),e.save(),e.translate(l,n+l/2-(6*k|0)),e.fillText("0",b,b),e.restore(),e.save(),e.translate(p,n+l/2-(6*k|0)),e.fillText(String(q>A?q:A|0),b,b),e.restore(),e.fillStyle=r}-1===this.C&&(f.uh&&this.fi(e,v,A,n-g-l,g,l,this.Jf,a),f.th&&this.fi(e,t,A,n-g-l,g,l,this.Ef,a));(-1!==this.C||f.vh)&&this.fi(e,
u,A,n-g-l,g,l,this.Dc,a);-1!==this.C||f.uh||f.th||f.vh||(e.save(),e.font=(24*k|0)+"px Arial",e.translate(this.displayWidth/2,this.displayHeight/2),e.fillStyle=f.D.mc,e.fillText("Select Data",2,2),e.fillStyle=r,e.fillText("Select Data",0,0),e.restore());e.strokeStyle=r;e.lineWidth=1;e.beginPath();e.moveTo(l+.5,g+l+.5);e.lineTo(l+.5,n+.5);e.lineTo(p+.5,n+.5);e.lineTo(p+.5,n+2.5);e.moveTo(l+.5,n+.5);e.lineTo(l+.5,n+2.5);e.moveTo(l+.5,n+.5);e.lineTo(l+.5-2,n+.5);e.moveTo(l+.5,g+l+.5);e.lineTo(l+.5-2,
g+l+.5);e.stroke();e.restore()}};pa.prototype.Wg=function(){var a;if(this.Dc&&0<this.Dc.length){if(0<this.counter)for(a=0;a<this.Dc.length;a+=1)this.Dc[a].fill(0),this.Ef[a].fill(0),this.Jf[a].fill(0);this.Dc[0][0]=this.s}this.Zf=this.s;this.Pg=this.ma;this.Kf=this.$};pa.prototype.Vg=function(){var a=this.v,b=this.Na;b.H=a.H;b.J=a.J;b.L=a.L;b.I=a.I};pa.prototype.tn=function(){var a,b,c,d,f=this.Kc,e=this.Zd,k=this.Gd,g=this.Uc,l=this.ea,p=this.ba>>4,n;var q=0;var m=0!==(this.counter&1)?this.Va:this.xa;
for(a=0;a<l;a+=1){var r=0;var u=g[a];for(b=0;b<p;b+=1)if(n=u[b])for(c=15;0<=c;--c){if(0!==(n&1<<c))for(d=q;d<q+16;d+=1)e[d][r]=(m[d][r]|k[d][r])&f[d][r];r+=1}else r+=16;q+=16}};pa.prototype.rm=function(){var a,b,c,d,f,e=this.oc,k=this.Zd,g=this.Gd,l=this.Uc,p=this.ea,n=this.ba>>4,q;var m=0!==(this.counter&1)?this.Va:this.xa;for(a=f=0;a<p;a+=1){var r=0;var u=l[a];for(b=0;b<n;b+=1)if(q=u[b])for(c=15;0<=c;--c){if(0!==(q&1<<c))for(d=f;d<f+16;d+=1){var t=m[d][r];var v=t&~k[d][r];var A=t&~g[d][r];v!==t&&
(m[d][r]=v,v=e[t]-e[v],t=e[t]-e[A],this.s-=v,this.ma-=t,this.$+=v-t)}r+=1}else r+=16;f+=16}};pa.prototype.ei=function(a,b,c,d){var f,e,k=this.yd,g=0,l=this.Mb[g],p=this.Nb[g],n=0,q=I.Yl,m=q-1,r=0,u=q,t=this.Ie,v=this.Aa,A=this.ya,w=this.h+this.u-2,z=0;l[n]=a;p[n]=b;n+=1;-1===this.h&&(w=this.Ya);if(c[b][a>>4]&1<<(~a&15)){c[b][a>>4]&=~(1<<(~a&15));z+=1;if(this.l)switch(d[b][a]){case 3:case 4:w=4;break;case 7:case 8:w=8;break;case 9:w=10;break;case 11:w=12;break;case 13:case 15:case 17:case 19:case 21:case 23:case 25:w=
0;break;default:w=2}d[b][a]=w}for(;0<n;)for(--n,n<r&&(--g,r-=q,u-=q,l=this.Mb[g],p=this.Nb[g]),a=l[n&m],b=p[n&m],e=b-t;e<=b+t;){for(f=a-t;f<=a+t;){if(f===(f&v)&&e===(e&A)&&0!==(c[e][f>>4]&1<<(~f&15))){c[e][f>>4]&=~(1<<(~f&15));z+=1;if(this.l)switch(d[e][f]){case 3:case 4:w=4;break;case 7:case 8:w=8;break;case 9:w=10;break;case 11:w=12;break;case 13:case 15:case 17:case 19:case 21:case 23:case 25:w=0;break;default:w=2}d[e][f]=w;n===u&&(g+=1,r+=q,u+=q,g>k&&(this.Mb[g]=this.S.h(ra.Id,q,"Life.boundaryX"+
g),this.Nb[g]=this.S.h(ra.Id,q,"Life.boundaryY"+g),this.yd=k+=1),l=this.Mb[g],p=this.Nb[g]);l[n&m]=f;p[n&m]=e;n+=1}f+=1}e+=1}this.s-=z;this.$+=z};pa.prototype.ak=function(a,b,c,d){for(var f=c[b][a],e=15;0<=e;)0!==(f&1<<e)&&this.ei((a<<4)+(~e&15),b,c,d),--e};pa.prototype.tm=function(a,b,c){this.ei(0,a,b,c)};pa.prototype.vm=function(a,b,c,d){this.ei((a<<4)+15,b,c,d)};pa.prototype.pm=function(){var a=this.m,b;(this.i||this.o||this.l||this.A)&&0!==(this.counter&1)&&(a=this.Y);var c=0!==(this.counter&
1)?this.Va:this.xa;var d=c.length;var f=c[0].length;var e=c[0];var k=c[d-1];for(b=0;b<f;)e[b]&&this.ak(b,0,c,a),k[b]&&this.ak(b,d-1,c,a),b+=1;for(b=0;b<d;)0!==(c[b][0]&32768)&&this.tm(b,c,a),0!==(c[b][f-1]&1)&&this.vm(f-1,b,c,a),b+=1};pa.prototype.Ug=function(a,b){var c,d=this.m,f,e=this.yd,k=0,g=this.Mb[k],l=this.Nb[k],p=0,n=I.Yl,q=n-1,m=0,r=n,u=this.Aa,t=this.ya,v=this.Ie,A=0;0!==(this.counter&1)&&(d=this.Y);g[p]=a;l[p]=b;p+=1;0<d[b][a]&&(d[b][a]=0,A+=1);for(;0<p;)for(--p,p<m&&(--k,m-=n,r-=n,g=
this.Mb[k],l=this.Nb[k]),a=g[p&q],b=l[p&q],c=b-v;c<=b+v;){var w=a-v;for(f=d[c];w<=a+v;)w===(w&u)&&c===(c&t)&&0<f[w]&&(f[w]=0,A+=1,p===r&&(k+=1,m+=n,r+=n,k>e&&(this.Mb[k]=this.S.h(ra.Id,n,"Life.boundaryX"+k),this.Nb[k]=this.S.h(ra.Id,n,"Life.boundaryY"+k),this.yd=e+=1),g=this.Mb[k],l=this.Nb[k]),g[p&q]=w,l[p&q]=c,p+=1),w+=1;c+=1}this.s-=A;this.$+=A};pa.prototype.Rg=function(a,b){var c,d=this.m,f,e=this.yd,k=0,g=this.Mb[k],l=this.Nb[k],p=0,n=I.Yl,q=n-1,m=0,r=n,u=this.Aa,t=this.ya,v=this.Ie,A=0;0!==
(this.counter&1)&&(d=this.Y);g[p]=a;l[p]=b;p+=1;1===d[b][a]&&(d[b][a]=0,A+=1);for(;0<p;)for(--p,p<m&&(--k,m-=n,r-=n,g=this.Mb[k],l=this.Nb[k]),a=g[p&q],b=l[p&q],c=b-v;c<=b+v;){var w=a-v;for(f=d[c];w<=a+v;)w===(w&u)&&c===(c&t)&&1===f[w]&&(f[w]=0,A+=1,p===r&&(k+=1,m+=n,r+=n,k>e&&(this.Mb[k]=this.S.h(ra.Id,n,"Life.boundaryX"+k),this.Nb[k]=this.S.h(ra.Id,n,"Life.boundaryY"+k),this.yd=e+=1),g=this.Mb[k],l=this.Nb[k]),g[p&q]=w,l[p&q]=c,p+=1),w+=1;c+=1}this.s-=A;this.$+=A};pa.prototype.Sg=function(a,b){var c,
d=this.m,f,e=this.yd,k=0,g=this.Mb[k],l=this.Nb[k],p=0,n=I.Yl,q=n-1,m=0,r=n,u=this.Aa,t=this.ya,v=I.Ya,A=I.pe,w=this.Ie,z=0;g[p]=a;l[p]=b;p+=1;d[b][a]>=v&&(d[b][a]=A,z+=1);for(;0<p;)for(--p,p<m&&(--k,m-=n,r-=n,g=this.Mb[k],l=this.Nb[k]),a=g[p&q],b=l[p&q],c=b-w;c<=b+w;){var D=a-w;for(f=d[c];D<=a+w;)D===(D&u)&&c===(c&t)&&f[D]>=v&&(f[D]=A,z+=1,p===r&&(k+=1,m+=n,r+=n,k>e&&(this.Mb[k]=this.S.h(ra.Id,n,"Life.boundaryX"+k),this.Nb[k]=this.S.h(ra.Id,n,"Life.boundaryY"+k),this.yd=e+=1),g=this.Mb[k],l=this.Nb[k]),
g[p&q]=D,l[p&q]=c,p+=1),D+=1;c+=1}this.s-=z;this.$+=z};pa.prototype.Tg=function(a,b){var c,d=this.m,f,e=this.yd,k=0,g=this.Mb[k],l=this.Nb[k],p=0,n=I.Yl,q=n-1,m=0,r=n,u=this.Aa,t=this.ya,v=this.h+this.u,A=this.Ie,w=0;g[p]=a;l[p]=b;p+=1;d[b][a]===v&&(d[b][a]=0,w+=1);for(;0<p;)for(--p,p<m&&(--k,m-=n,r-=n,g=this.Mb[k],l=this.Nb[k]),a=g[p&q],b=l[p&q],c=b-A;c<=b+A;){var z=a-A;for(f=d[c];z<=a+A;)z===(z&u)&&c===(c&t)&&f[z]===v&&(f[z]=0,w+=1,p===r&&(k+=1,m+=n,r+=n,k>e&&(this.Mb[k]=this.S.h(ra.Id,n,"Life.boundaryX"+
k),this.Nb[k]=this.S.h(ra.Id,n,"Life.boundaryY"+k),this.yd=e+=1),g=this.Mb[k],l=this.Nb[k]),g[p&q]=z,l[p&q]=c,p+=1),z+=1;c+=1}this.s-=w;this.$+=w};pa.prototype.Kk=function(){var a=this.m,b=a.length,c=a[0].length,d=this.v,f=d.H,e=d.J,k=d.I,g=d.L,l,p;0!==(this.counter&1)&&(a=this.Y);if(1>=b-g-1){for(p=b-1-1;p<=g;p+=1){var n=a[p];for(l=f;l<=e;l+=1)0<n[l]&&this.Ug(l,p)}d.L=b-1}if(1>=k){for(p=k;1>=p;p+=1)for(n=a[p],l=f;l<=e;l+=1)0<n[l]&&this.Ug(l,p);d.I=1}if(1>=f){for(p=k;p<=g;p+=1)for(n=a[p],l=f;1>=l;l+=
1)0<n[l]&&this.Ug(l,p);d.H=1}if(1>=c-e-1){for(p=k;p<=g;p+=1)for(n=a[p],l=c-1-1;l<=e;l+=1)0<n[l]&&this.Ug(l,p);d.J=c-1}};pa.prototype.om=function(){var a=this.m,b=a.length,c=a[0].length,d=this.v,f=d.H,e=d.J,k=d.I,g=d.L,l,p;0!==(this.counter&1)&&(a=this.Y);if(1>=b-g-1){for(p=b-1-1;p<=g;p+=1){var n=a[p];for(l=f;l<=e;l+=1)0<n[l]&&this.Rg(l,p)}d.L=b-1}if(1>=k){for(p=k;1>=p;p+=1)for(n=a[p],l=f;l<=e;l+=1)0<n[l]&&this.Rg(l,p);d.I=1}if(1>=f){for(p=k;p<=g;p+=1)for(n=a[p],l=f;1>=l;l+=1)0<n[l]&&this.Rg(l,p);
d.H=1}if(1>=c-e-1){for(p=k;p<=g;p+=1)for(n=a[p],l=c-1-1;l<=e;l+=1)0<n[l]&&this.Rg(l,p);d.J=c-1}};pa.prototype.Gk=function(){var a=this.m,b=a.length,c=a[0].length,d=this.v,f=d.H,e=d.J,k=d.I,g=d.L,l=2*this.V.o+1,p=2*this.V.l+1,n=2<this.h?1:I.Ya,q,m;if(b-g-1<=p){for(m=b-p-1;m<=g;m+=1){var r=a[m];for(q=f;q<=e;q+=1)r[q]>=n&&(2===this.h?this.Sg(q,m):this.Tg(q,m))}d.L=b-p}if(k<=p){for(m=k;m<=p;m+=1)for(r=a[m],q=f;q<=e;q+=1)r[q]>=n&&(2===this.h?this.Sg(q,m):this.Tg(q,m));d.I=p}if(f<=l){for(m=k;m<=g;m+=1)for(r=
a[m],q=f;q<=l;q+=1)r[q]>=n&&(2===this.h?this.Sg(q,m):this.Tg(q,m));d.H=l}if(c-e-1<=l){for(m=k;m<=g;m+=1)for(r=a[m],q=c-l-1;q<=e;q+=1)r[q]>=n&&(2===this.h?this.Sg(q,m):this.Tg(q,m));d.J=c-l}};pa.prototype.Pn=function(){var a=this.Wf,b,c,d,f,e,k=this.Ia,g,l=this.height,p=this.width,n=p>>4,q=this.v,m=l,r=-1,u=p,t=-1,v=this.ea,A=this.ba>>4,w=this.Qa;var z=0;var D=v,F=this.oc,L=0,O=0,N=0;if(0!==(this.counter&1)){var V=this.Va;var W=this.xa;var H=this.X;var P=this.O;this.gb&&(a=this.Og)}else V=this.xa,
W=this.Va,H=this.O,P=this.X;k.fill(0);0>z&&(z=0);D>v&&(D=v);var R=z<<4;var T=R+16;P.aa.fill(0);for(c=z;c<D;c+=1){var Z=0;var oa=H[c];var ha=P[c];var ba=0<c?P[c-1]:w;var ia=c<v-1?P[c+1]:w;for(d=0;d<A;d+=1)if(f=oa[d]){var ma=ha[d];var fa=ba[d];var U=ia[d];for(b=15;0<=b;--b){if(0!==(f&1<<b)){var ka=g=0;var ca=R;var aa=0===ca?this.he:V[ca-1];var X=V[ca];z=V[ca+1];var na=e=X[Z];aa=aa[Z-1]<<18|aa[Z]<<2|aa[Z+1]>>14;var Q=X[Z-1]<<18|e<<2|X[Z+1]>>14;var E=z[Z-1]<<18|z[Z]<<2|z[Z+1]>>14;var y=a[aa>>7&7936|E>>
11&224|Q>>15&31]<<15;y|=a[E>>6&7936|aa>>10&224|Q>>14&31]<<14;y|=a[aa>>5&7936|E>>9&224|Q>>13&31]<<13;y|=a[E>>4&7936|aa>>8&224|Q>>12&31]<<12;y|=a[aa>>3&7936|E>>7&224|Q>>11&31]<<11;y|=a[E>>2&7936|aa>>6&224|Q>>10&31]<<10;y|=a[aa>>1&7936|E>>5&224|Q>>9&31]<<9;y|=a[E>>0&7936|aa>>4&224|Q>>8&31]<<8;y|=a[aa<<1&7936|E>>3&224|Q>>7&31]<<7;y|=a[E<<2&7936|aa>>2&224|Q>>6&31]<<6;y|=a[aa<<3&7936|E>>1&224|Q>>5&31]<<5;y|=a[E<<4&7936|aa>>0&224|Q>>4&31]<<4;y|=a[aa<<5&7936|E<<1&224|Q>>3&31]<<3;y|=a[E<<6&7936|aa<<2&224|
Q>>2&31]<<2;y|=a[aa<<7&7936|E<<3&224|Q>>1&31]<<1;y|=a[E<<8&7936|aa<<4&224|Q>>0&31]<<0;W[ca][Z]=y;L+=F[y];O+=F[y&~e];N+=F[e&~y];y&&(g|=y,ca<m&&(m=ca),ca>r&&(r=ca),0!==(y&49152)&&(ka|=I.Cb),0!==(y&3)&&(ka|=I.Db),ka|=I.yb);for(ca+=1;ca<T-1;){e=z[Z];na|=e;z=V[ca+1];aa=Q;Q=E;E=z[Z-1]<<18|z[Z]<<2|z[Z+1]>>14;0!==(ca&1)&&(X=aa,aa=E,E=X);y=a[aa>>7&7936|E>>11&224|Q>>15&31]<<15;y|=a[E>>6&7936|aa>>10&224|Q>>14&31]<<14;y|=a[aa>>5&7936|E>>9&224|Q>>13&31]<<13;y|=a[E>>4&7936|aa>>8&224|Q>>12&31]<<12;y|=a[aa>>3&7936|
E>>7&224|Q>>11&31]<<11;y|=a[E>>2&7936|aa>>6&224|Q>>10&31]<<10;y|=a[aa>>1&7936|E>>5&224|Q>>9&31]<<9;y|=a[E>>0&7936|aa>>4&224|Q>>8&31]<<8;y|=a[aa<<1&7936|E>>3&224|Q>>7&31]<<7;y|=a[E<<2&7936|aa>>2&224|Q>>6&31]<<6;y|=a[aa<<3&7936|E>>1&224|Q>>5&31]<<5;y|=a[E<<4&7936|aa>>0&224|Q>>4&31]<<4;y|=a[aa<<5&7936|E<<1&224|Q>>3&31]<<3;y|=a[E<<6&7936|aa<<2&224|Q>>2&31]<<2;y|=a[aa<<7&7936|E<<3&224|Q>>1&31]<<1;y|=a[E<<8&7936|aa<<4&224|Q>>0&31]<<0;L+=F[y];O+=F[y&~e];N+=F[e&~y];0!==(ca&1)&&(E=X=aa);if(W[ca][Z]=y)g|=y,
ca<m&&(m=ca),ca>r&&(r=ca);ca+=1}e=z[Z];na|=e;z=ca===this.height-1?this.he:V[ca+1];aa=Q;Q=E;E=z[Z-1]<<18|z[Z]<<2|z[Z+1]>>14;0!==(ca&1)&&(X=aa,aa=E,E=X);y=a[aa>>7&7936|E>>11&224|Q>>15&31]<<15;y|=a[E>>6&7936|aa>>10&224|Q>>14&31]<<14;y|=a[aa>>5&7936|E>>9&224|Q>>13&31]<<13;y|=a[E>>4&7936|aa>>8&224|Q>>12&31]<<12;y|=a[aa>>3&7936|E>>7&224|Q>>11&31]<<11;y|=a[E>>2&7936|aa>>6&224|Q>>10&31]<<10;y|=a[aa>>1&7936|E>>5&224|Q>>9&31]<<9;y|=a[E>>0&7936|aa>>4&224|Q>>8&31]<<8;y|=a[aa<<1&7936|E>>3&224|Q>>7&31]<<7;y|=a[E<<
2&7936|aa>>2&224|Q>>6&31]<<6;y|=a[aa<<3&7936|E>>1&224|Q>>5&31]<<5;y|=a[E<<4&7936|aa>>0&224|Q>>4&31]<<4;y|=a[aa<<5&7936|E<<1&224|Q>>3&31]<<3;y|=a[E<<6&7936|aa<<2&224|Q>>2&31]<<2;y|=a[aa<<7&7936|E<<3&224|Q>>1&31]<<1;y|=a[E<<8&7936|aa<<4&224|Q>>0&31]<<0;L+=F[y];O+=F[y&~e];N+=F[e&~y];if(W[ca][Z]=y)g|=y,ca<m&&(m=ca),ca>r&&(r=ca),0!==(y&49152)&&(ka|=I.Eb),0!==(y&3)&&(ka|=I.tb),ka|=I.ub;g&&(0!==(g&49152)&&(ka|=I.rb),0!==(g&3)&&(ka|=I.jb));k[Z]|=g;if(g||na)ma|=1<<b,ka&&(0!==(ka&I.rb)&&(15>b?ma|=1<<b+1:0<
d&&0<Z&&(ha[d-1]|=1)),0!==(ka&I.jb)&&(0<b?ma|=1<<b-1:d<A-1&&Z<n-1&&(ha[d+1]|=32768)),0!==(ka&I.yb)&&(fa|=1<<b),0!==(ka&I.ub)&&(U|=1<<b),0!==(ka&I.Cb)&&(15>b?fa|=1<<b+1:0<d&&0<Z&&(ba[d-1]|=1)),0!==(ka&I.Db)&&(0<b?fa|=1<<b-1:d<A-1&&Z<n-1&&(ba[d+1]|=32768)),0!==(ka&I.Eb)&&(15>b?U|=1<<b+1:0<d&&0<Z&&(ia[d-1]|=1)),0!==(ka&I.tb)&&(0<b?U|=1<<b-1:d<A-1&&Z<n-1&&(ia[d+1]|=32768)))}Z+=1}ha[d]|=ma;0<c&&(ba[d]|=fa);c<v-1&&(ia[d]|=U)}else Z+=16;R+=16;T+=16}for(d=0;d<n;d+=1)k[d]&&(d<u&&(u=d),d>t&&(t=d));u=(u<<4)+
this.Ab(k[u]);t=(t<<4)+this.Gb(k[t]);0>r&&(r=l-1);m>=l&&(m=0);u>=p&&(u=0);0>t&&(t=p-1);r>l-1&&(r=l-1);0>m&&(m=0);0>u&&(u=0);t>p-1&&(t=p-1);q.L=r;q.I=m;q.H=u;q.J=t;w.fill(0);this.s=L;this.ma=O;this.$=N};pa.prototype.hn=function(){var a=this.Td,b,c,d,f=this.Ua,e=this.Ia,k,g=this.height,l=this.width,p=l>>4,n=this.v,q=g,m=-1,r=l,u=-1,t=this.ea,v=this.ba>>4,A=this.Qa,w=this.oc,z=0,D=0,F=0,L=this.counter&1;this.Fb&&(this.bb=!this.bb,this.Fb=!1);if(0!==L){var O=this.Va;var N=this.xa;var V=this.X;var W=this.O;
this.bb&&(a=this.eb)}else O=this.xa,N=this.Va,V=this.O,W=this.X,this.gb&&(a=this.df),this.bb&&(a=this.gb?this.Ud:this.eb);this.bb&&(L=1-L);e.fill(0);var H=1-L;var P=H+16;W.aa.fill(0);for(c=0;c<V.length;c+=1){var R=0;var T=V[c];var Z=W[c];var oa=f[c];var ha=0<c?W[c-1]:A;var ba=c<t-1?W[c+1]:A;for(d=0;d<v;d+=1){var ia=T[d];var ma=0;if(ia){var fa=Z[d];var U=ha[d];var ka=ba[d];for(b=15;0<=b;--b){var ca=0===b&&d===v-1?!0:!1;if(0!==(ia&1<<b)){var aa=k=0;if(0!==L){var X=H;var na=O[X][R];var Q=O[X+1][R];var E=
na|Q;var y=a[na&65280|Q>>8];var K=y&65280;var M=(y&255)<<8;y=a[(na&255)<<8|Q&255];K|=y>>8;M|=y&255;N[X][R]=K;N[X+1][R]=M;z+=w[K];D+=w[K&~na];F+=w[na&~K];z+=w[M];D+=w[M&~Q];F+=w[Q&~M];if(y=K|M)k|=y,K&&(X<q&&(q=X),X>m&&(m=X)),M&&(X+1<q&&(q=X+1),X+1>m&&(m=X+1)),0!==(y&49152)&&(aa|=I.Cb),0!==(y&3)&&(aa|=I.Db),aa|=I.yb;for(X+=2;X<P-2;){na=O[X][R];Q=O[X+1][R];E|=na|Q;y=a[na&65280|Q>>8];K=y&65280;M=(y&255)<<8;y=a[(na&255)<<8|Q&255];K|=y>>8;M|=y&255;N[X][R]=K;N[X+1][R]=M;z+=w[K];D+=w[K&~na];F+=w[na&~K];z+=
w[M];D+=w[M&~Q];F+=w[Q&~M];if(y=K|M)k|=y,K&&(X<q&&(q=X),X>m&&(m=X)),M&&(X+1<q&&(q=X+1),X+1>m&&(m=X+1));X+=2}na=O[X][R];Q=O[X+1][R];E|=na|Q;y=a[na&65280|Q>>8];K=y&65280;M=(y&255)<<8;y=a[(na&255)<<8|Q&255];K|=y>>8;M|=y&255;N[X][R]=K;N[X+1][R]=M;z+=w[K];D+=w[K&~na];F+=w[na&~K];z+=w[M];D+=w[M&~Q];F+=w[Q&~M];if(y=K|M)k|=y,K&&(X<q&&(q=X),X>m&&(m=X)),M&&(X+1<q&&(q=X+1),X+1>m&&(m=X+1)),y&&(0!==(y&49152)&&(aa|=I.Eb),0!==(y&3)&&(aa|=I.tb),aa|=I.ub);k&&(0!==(k&49152)&&(aa|=I.rb),0!==(k&3)&&(aa|=I.jb),e[R]|=
k);if(k||E)aa|=I.tb,aa|=I.jb}else{X=H;ca?(na=O[X][R]<<1&65535,Q=O[X+1][R]<<1&65535):(na=(O[X][R]<<1|O[X][R+1]>>15)&65535,Q=(O[X+1][R]<<1|O[X+1][R+1]>>15)&65535);E=na|Q;y=a[na&65280|Q>>8];K=y&65280;M=(y&255)<<8;y=a[(na&255)<<8|Q&255];K|=y>>8;M|=y&255;ca?(N[X][R]=N[X][R]&32768|K>>1,N[X+1][R]=N[X+1][R]&32768|M>>1):(N[X][R]=N[X][R]&32768|K>>1,N[X][R+1]=N[X][R+1]&32767|(K&1)<<15,N[X+1][R]=N[X+1][R]&32768|M>>1,N[X+1][R+1]=N[X+1][R+1]&32767|(M&1)<<15);z+=w[K];D+=w[K&~na];F+=w[na&~K];z+=w[M];D+=w[M&~Q];F+=
w[Q&~M];if(y=K|M)k|=y,K&&(X<q&&(q=X),X>m&&(m=X)),M&&(X+1<q&&(q=X+1),X+1>m&&(m=X+1));for(X+=2;X<P-2;){ca?(na=O[X][R]<<1&65535,Q=O[X+1][R]<<1&65535):(na=(O[X][R]<<1|O[X][R+1]>>15)&65535,Q=(O[X+1][R]<<1|O[X+1][R+1]>>15)&65535);E|=na|Q;y=a[na&65280|Q>>8];K=y&65280;M=(y&255)<<8;y=a[(na&255)<<8|Q&255];K|=y>>8;M|=y&255;ca?(N[X][R]=N[X][R]&32768|K>>1,N[X+1][R]=N[X+1][R]&32768|M>>1):(N[X][R]=N[X][R]&32768|K>>1,N[X][R+1]=N[X][R+1]&32767|(K&1)<<15,N[X+1][R]=N[X+1][R]&32768|M>>1,N[X+1][R+1]=N[X+1][R+1]&32767|
(M&1)<<15);z+=w[K];D+=w[K&~na];F+=w[na&~K];z+=w[M];D+=w[M&~Q];F+=w[Q&~M];if(y=K|M)k|=y,K&&(X<q&&(q=X),X>m&&(m=X)),M&&(X+1<q&&(q=X+1),X+1>m&&(m=X+1));X+=2}ca?(na=O[X][R]<<1&65535,Q=O[X+1][R]<<1&65535):(na=(O[X][R]<<1|O[X][R+1]>>15)&65535,Q=(O[X+1][R]<<1|O[X+1][R+1]>>15)&65535);E|=na|Q;y=a[na&65280|Q>>8];K=y&65280;M=(y&255)<<8;y=a[(na&255)<<8|Q&255];K|=y>>8;M|=y&255;ca?(N[X][R]=N[X][R]&32768|K>>1,N[X+1][R]=N[X+1][R]&32768|M>>1):(N[X][R]=N[X][R]&32768|K>>1,N[X][R+1]=N[X][R+1]&32767|(K&1)<<15,N[X+1][R]=
N[X+1][R]&32768|M>>1,N[X+1][R+1]=N[X+1][R+1]&32767|(M&1)<<15);z+=w[K];D+=w[K&~na];F+=w[na&~K];z+=w[M];D+=w[M&~Q];F+=w[Q&~M];if(y=K|M)k|=y,K&&(X<q&&(q=X),X>m&&(m=X)),M&&(X+1<q&&(q=X+1),X+1>m&&(m=X+1)),0!==(y&3)&&(aa|=I.tb),aa|=I.ub;na|Q&&(0!==((na|Q)&3)&&(aa|=I.tb),aa|=I.ub);k&&(0!==(k&3)&&(aa|=I.jb),e[R]|=k>>1,e[R+1]|=(k&1)<<15);0!==(E&3)&&(aa|=I.jb)}if(k||E)fa|=1<<b,aa&&(0!==(aa&I.rb)&&(15>b?fa|=1<<b+1:0<d&&0<R&&(Z[d-1]|=1)),0!==(aa&I.jb)&&(0<b?fa|=1<<b-1:d<v-1&&R<p-1&&(Z[d+1]|=32768)),0!==(aa&I.yb)&&
(U|=1<<b),0!==(aa&I.ub)&&(ka|=1<<b),0!==(aa&I.Cb)&&(15>b?U|=1<<b+1:0<d&&0<R&&(ha[d-1]|=1)),0!==(aa&I.Db)&&(0<b?U|=1<<b-1:d<v-1&&R<p-1&&(ha[d+1]|=32768)),0!==(aa&I.Eb)&&(15>b?ka|=1<<b+1:0<d&&0<R&&(ba[d-1]|=1)),0!==(aa&I.tb)&&(0<b?ka|=1<<b-1:d<v-1&&R<p-1&&(ba[d+1]|=32768)));0===k&&E&&(ma|=1<<b)}R+=1}Z[d]|=fa;0<c&&(ha[d]|=U);c<t-1&&(ba[d]|=ka)}else R+=16;oa[d]=ma}H+=16;P+=16;P>=g&&(P=g-1)}for(d=0;d<p;d+=1)e[d]&&(d<r&&(r=d),d>u&&(u=d));r=(r<<4)+this.Ab(e[r]);u=(u<<4)+this.Gb(e[u]);0>m&&(m=g-1);q>=g&&
(q=0);r>=l&&(r=0);0>u&&(u=l-1);m>g-1&&(m=g-1);0>q&&(q=0);0>r&&(r=0);u>l-1&&(u=l-1);n.L=m;n.I=q;n.H=r;n.J=u;A.fill(0);this.Lk(O);this.s=z;this.ma=D;this.$=F};pa.prototype.Nn=function(){var a=this.Vf,b,c,d,f,e,k,g=this.Ia,l,p=this.Wa,n,q=this.oc,m=0,r=0,u=0,t=this.height,v=this.width,A=v>>4,w=this.v,z=t,D=-1,F=v,L=-1,O=this.ea,N=this.ba>>4,V=this.Qa,W=this.M,H=this.K,P=Math.round((this.width-W)/2),R=Math.round((this.height-H)/2),T=P+W-1,Z=R+H-1;if(0!==(this.counter&1)){var oa=this.Va;var ha=this.xa;
var ba=this.X;var ia=this.O;this.gb&&(a=this.mf)}else oa=this.xa,ha=this.Va,ba=this.O,ia=this.X;g.fill(0);p.fill(0);var ma=0;var fa=ma+16;ia.aa.fill(0);for(d=0;d<ba.length;d+=1){var U=0;var ka=ba[d];var ca=ia[d];var aa=0<d?ia[d-1]:V;var X=d<O-1?ia[d+1]:V;for(f=0;f<N;f+=1)if(e=ka[f]){var na=ca[f];var Q=aa[f];var E=X[f];for(b=15;0<=b;--b){if(0!==(e&1<<b)){var y=n=l=0;var K=ma;var M=32768;var J=0===K?this.he:oa[K-1];var x=oa[K];var B=oa[K+1];var la=k=x[U];if(U)if(U>=A-1){J=(J[U-1]&1)<<17|J[U]<<1;x=(x[U-
1]&1)<<17|k<<1;var Y=(B[U-1]&1)<<17|B[U]<<1;if(c=J|x|Y)if(c=a[J>>12|x>>12<<6|Y&258048]<<12,c|=a[J>>8&63|x>>2&4032|Y<<4&258048]<<8,c|=a[J>>4&63|x<<2&4032|Y<<8&258048]<<4,c|=a[J&63|(x&63)<<6|(Y&63)<<12])l|=c,n|=M,m+=q[c],0!==(c&32768)&&(y|=I.Cb),y|=I.yb;ha[K][U]=c;c|k&&(r+=q[c&~k],u+=q[k&~c]);K+=1;for(M>>=1;K<fa-1;){k=B[U];la|=k;B=oa[K+1];J=x;x=Y;Y=(B[U-1]&1)<<17|B[U]<<1;if(c=J|x|Y)if(c=a[J>>12|x>>12<<6|Y&258048]<<12,c|=a[J>>8&63|x>>2&4032|Y<<4&258048]<<8,c|=a[J>>4&63|x<<2&4032|Y<<8&258048]<<4,c|=a[J&
63|(x&63)<<6|(Y&63)<<12])l|=c,n|=M,m+=q[c];ha[K][U]=c;c|k&&(r+=q[c&~k],u+=q[k&~c]);K+=1;M>>=1}k=B[U];la|=k;B=K===this.height-1?this.he:oa[K+1];J=x;x=Y;Y=(B[U-1]&1)<<17|B[U]<<1;if(c=J|x|Y)if(c=a[J>>12|x>>12<<6|Y&258048]<<12,c|=a[J>>8&63|x>>2&4032|Y<<4&258048]<<8,c|=a[J>>4&63|x<<2&4032|Y<<8&258048]<<4,c|=a[J&63|(x&63)<<6|(Y&63)<<12])l|=c,n|=M,m+=q[c],0!==(c&32768)&&(y|=I.Eb),y|=I.ub}else{J=(J[U-1]&1)<<17|J[U]<<1|J[U+1]>>15;x=(x[U-1]&1)<<17|k<<1|x[U+1]>>15;Y=(B[U-1]&1)<<17|B[U]<<1|B[U+1]>>15;if(c=J|
x|Y)if(c=a[J>>12|x>>12<<6|Y&258048]<<12,c|=a[J>>8&63|x>>2&4032|Y<<4&258048]<<8,c|=a[J>>4&63|x<<2&4032|Y<<8&258048]<<4,c|=a[J&63|(x&63)<<6|(Y&63)<<12])l|=c,n|=M,m+=q[c],0!==(c&32768)&&(y|=I.Cb),0!==(c&1)&&(y|=I.Db),y|=I.yb;ha[K][U]=c;c|k&&(r+=q[c&~k],u+=q[k&~c]);K+=1;M>>=1;k=B[U];la|=k;B=oa[K+1];J=x;x=Y;Y=(B[U-1]&1)<<17|B[U]<<1|B[U+1]>>15;if(c=J|x|Y)if(c=a[J>>12|x>>12<<6|Y&258048]<<12,c|=a[J>>8&63|x>>2&4032|Y<<4&258048]<<8,c|=a[J>>4&63|x<<2&4032|Y<<8&258048]<<4,c|=a[J&63|(x&63)<<6|(Y&63)<<12])l|=c,
n|=M,m+=q[c];ha[K][U]=c;c|k&&(r+=q[c&~k],u+=q[k&~c]);K+=1;M>>=1;k=B[U];la|=k;B=oa[K+1];J=x;x=Y;Y=(B[U-1]&1)<<17|B[U]<<1|B[U+1]>>15;if(c=J|x|Y)if(c=a[J>>12|x>>12<<6|Y&258048]<<12,c|=a[J>>8&63|x>>2&4032|Y<<4&258048]<<8,c|=a[J>>4&63|x<<2&4032|Y<<8&258048]<<4,c|=a[J&63|(x&63)<<6|(Y&63)<<12])l|=c,n|=M,m+=q[c];ha[K][U]=c;c|k&&(r+=q[c&~k],u+=q[k&~c]);K+=1;M>>=1;k=B[U];la|=k;B=oa[K+1];J=x;x=Y;Y=(B[U-1]&1)<<17|B[U]<<1|B[U+1]>>15;if(c=J|x|Y)if(c=a[J>>12|x>>12<<6|Y&258048]<<12,c|=a[J>>8&63|x>>2&4032|Y<<4&258048]<<
8,c|=a[J>>4&63|x<<2&4032|Y<<8&258048]<<4,c|=a[J&63|(x&63)<<6|(Y&63)<<12])l|=c,n|=M,m+=q[c];ha[K][U]=c;c|k&&(r+=q[c&~k],u+=q[k&~c]);K+=1;M>>=1;k=B[U];la|=k;B=oa[K+1];J=x;x=Y;Y=(B[U-1]&1)<<17|B[U]<<1|B[U+1]>>15;if(c=J|x|Y)if(c=a[J>>12|x>>12<<6|Y&258048]<<12,c|=a[J>>8&63|x>>2&4032|Y<<4&258048]<<8,c|=a[J>>4&63|x<<2&4032|Y<<8&258048]<<4,c|=a[J&63|(x&63)<<6|(Y&63)<<12])l|=c,n|=M,m+=q[c];ha[K][U]=c;c|k&&(r+=q[c&~k],u+=q[k&~c]);K+=1;M>>=1;k=B[U];la|=k;B=oa[K+1];J=x;x=Y;Y=(B[U-1]&1)<<17|B[U]<<1|B[U+1]>>15;
if(c=J|x|Y)if(c=a[J>>12|x>>12<<6|Y&258048]<<12,c|=a[J>>8&63|x>>2&4032|Y<<4&258048]<<8,c|=a[J>>4&63|x<<2&4032|Y<<8&258048]<<4,c|=a[J&63|(x&63)<<6|(Y&63)<<12])l|=c,n|=M,m+=q[c];ha[K][U]=c;c|k&&(r+=q[c&~k],u+=q[k&~c]);K+=1;M>>=1;k=B[U];la|=k;B=oa[K+1];J=x;x=Y;Y=(B[U-1]&1)<<17|B[U]<<1|B[U+1]>>15;if(c=J|x|Y)if(c=a[J>>12|x>>12<<6|Y&258048]<<12,c|=a[J>>8&63|x>>2&4032|Y<<4&258048]<<8,c|=a[J>>4&63|x<<2&4032|Y<<8&258048]<<4,c|=a[J&63|(x&63)<<6|(Y&63)<<12])l|=c,n|=M,m+=q[c];ha[K][U]=c;c|k&&(r+=q[c&~k],u+=q[k&
~c]);K+=1;M>>=1;k=B[U];la|=k;B=oa[K+1];J=x;x=Y;Y=(B[U-1]&1)<<17|B[U]<<1|B[U+1]>>15;if(c=J|x|Y)if(c=a[J>>12|x>>12<<6|Y&258048]<<12,c|=a[J>>8&63|x>>2&4032|Y<<4&258048]<<8,c|=a[J>>4&63|x<<2&4032|Y<<8&258048]<<4,c|=a[J&63|(x&63)<<6|(Y&63)<<12])l|=c,n|=M,m+=q[c];ha[K][U]=c;c|k&&(r+=q[c&~k],u+=q[k&~c]);K+=1;M>>=1;k=B[U];la|=k;B=oa[K+1];J=x;x=Y;Y=(B[U-1]&1)<<17|B[U]<<1|B[U+1]>>15;if(c=J|x|Y)if(c=a[J>>12|x>>12<<6|Y&258048]<<12,c|=a[J>>8&63|x>>2&4032|Y<<4&258048]<<8,c|=a[J>>4&63|x<<2&4032|Y<<8&258048]<<4,
c|=a[J&63|(x&63)<<6|(Y&63)<<12])l|=c,n|=M,m+=q[c];ha[K][U]=c;c|k&&(r+=q[c&~k],u+=q[k&~c]);K+=1;M>>=1;k=B[U];la|=k;B=oa[K+1];J=x;x=Y;Y=(B[U-1]&1)<<17|B[U]<<1|B[U+1]>>15;if(c=J|x|Y)if(c=a[J>>12|x>>12<<6|Y&258048]<<12,c|=a[J>>8&63|x>>2&4032|Y<<4&258048]<<8,c|=a[J>>4&63|x<<2&4032|Y<<8&258048]<<4,c|=a[J&63|(x&63)<<6|(Y&63)<<12])l|=c,n|=M,m+=q[c];ha[K][U]=c;c|k&&(r+=q[c&~k],u+=q[k&~c]);K+=1;M>>=1;k=B[U];la|=k;B=oa[K+1];J=x;x=Y;Y=(B[U-1]&1)<<17|B[U]<<1|B[U+1]>>15;if(c=J|x|Y)if(c=a[J>>12|x>>12<<6|Y&258048]<<
12,c|=a[J>>8&63|x>>2&4032|Y<<4&258048]<<8,c|=a[J>>4&63|x<<2&4032|Y<<8&258048]<<4,c|=a[J&63|(x&63)<<6|(Y&63)<<12])l|=c,n|=M,m+=q[c];ha[K][U]=c;c|k&&(r+=q[c&~k],u+=q[k&~c]);K+=1;M>>=1;k=B[U];la|=k;B=oa[K+1];J=x;x=Y;Y=(B[U-1]&1)<<17|B[U]<<1|B[U+1]>>15;if(c=J|x|Y)if(c=a[J>>12|x>>12<<6|Y&258048]<<12,c|=a[J>>8&63|x>>2&4032|Y<<4&258048]<<8,c|=a[J>>4&63|x<<2&4032|Y<<8&258048]<<4,c|=a[J&63|(x&63)<<6|(Y&63)<<12])l|=c,n|=M,m+=q[c];ha[K][U]=c;c|k&&(r+=q[c&~k],u+=q[k&~c]);K+=1;M>>=1;k=B[U];la|=k;B=oa[K+1];J=x;
x=Y;Y=(B[U-1]&1)<<17|B[U]<<1|B[U+1]>>15;if(c=J|x|Y)if(c=a[J>>12|x>>12<<6|Y&258048]<<12,c|=a[J>>8&63|x>>2&4032|Y<<4&258048]<<8,c|=a[J>>4&63|x<<2&4032|Y<<8&258048]<<4,c|=a[J&63|(x&63)<<6|(Y&63)<<12])l|=c,n|=M,m+=q[c];ha[K][U]=c;c|k&&(r+=q[c&~k],u+=q[k&~c]);K+=1;M>>=1;k=B[U];la|=k;B=oa[K+1];J=x;x=Y;Y=(B[U-1]&1)<<17|B[U]<<1|B[U+1]>>15;if(c=J|x|Y)if(c=a[J>>12|x>>12<<6|Y&258048]<<12,c|=a[J>>8&63|x>>2&4032|Y<<4&258048]<<8,c|=a[J>>4&63|x<<2&4032|Y<<8&258048]<<4,c|=a[J&63|(x&63)<<6|(Y&63)<<12])l|=c,n|=M,m+=
q[c];ha[K][U]=c;c|k&&(r+=q[c&~k],u+=q[k&~c]);K+=1;M>>=1;k=B[U];la|=k;B=oa[K+1];J=x;x=Y;Y=(B[U-1]&1)<<17|B[U]<<1|B[U+1]>>15;if(c=J|x|Y)if(c=a[J>>12|x>>12<<6|Y&258048]<<12,c|=a[J>>8&63|x>>2&4032|Y<<4&258048]<<8,c|=a[J>>4&63|x<<2&4032|Y<<8&258048]<<4,c|=a[J&63|(x&63)<<6|(Y&63)<<12])l|=c,n|=M,m+=q[c];ha[K][U]=c;c|k&&(r+=q[c&~k],u+=q[k&~c]);K+=1;M>>=1;k=B[U];la|=k;B=K===this.height-1?this.he:oa[K+1];J=x;x=Y;Y=(B[U-1]&1)<<17|B[U]<<1|B[U+1]>>15;if(c=J|x|Y)if(c=a[J>>12|x>>12<<6|Y&258048]<<12,c|=a[J>>8&63|
x>>2&4032|Y<<4&258048]<<8,c|=a[J>>4&63|x<<2&4032|Y<<8&258048]<<4,c|=a[J&63|(x&63)<<6|(Y&63)<<12])l|=c,n|=M,m+=q[c],0!==(c&32768)&&(y|=I.Eb),0!==(c&1)&&(y|=I.tb),y|=I.ub}else{J=J[U]<<1|J[U+1]>>15;x=k<<1|x[U+1]>>15;Y=B[U]<<1|B[U+1]>>15;if(c=J|x|Y)if(c=a[J>>12|x>>12<<6|Y&258048]<<12,c|=a[J>>8&63|x>>2&4032|Y<<4&258048]<<8,c|=a[J>>4&63|x<<2&4032|Y<<8&258048]<<4,c|=a[J&63|(x&63)<<6|(Y&63)<<12])l|=c,n|=M,0!==(c&1)&&(y|=I.Db),y|=I.yb,m+=q[c];ha[K][U]=c;c|k&&(r+=q[c&~k],u+=q[k&~c]);K+=1;for(M>>=1;K<fa-1;){k=
B[U];la|=k;B=oa[K+1];J=x;x=Y;Y=B[U]<<1|B[U+1]>>15;if(c=J|x|Y)if(c=a[J>>12|x>>12<<6|Y&258048]<<12,c|=a[J>>8&63|x>>2&4032|Y<<4&258048]<<8,c|=a[J>>4&63|x<<2&4032|Y<<8&258048]<<4,c|=a[J&63|(x&63)<<6|(Y&63)<<12])l|=c,n|=M,m+=q[c];ha[K][U]=c;c|k&&(r+=q[c&~k],u+=q[k&~c]);K+=1;M>>=1}k=B[U];la|=k;B=K===this.height-1?this.he:oa[K+1];J=x;x=Y;Y=B[U]<<1|B[U+1]>>15;if(c=J|x|Y)if(c=a[J>>12|x>>12<<6|Y&258048]<<12,c|=a[J>>8&63|x>>2&4032|Y<<4&258048]<<8,c|=a[J>>4&63|x<<2&4032|Y<<8&258048]<<4,c|=a[J&63|(x&63)<<6|(Y&
63)<<12])l|=c,n|=M,m+=q[c],0!==(c&1)&&(y|=I.tb),y|=I.ub}ha[K][U]=c;c|k&&(r+=q[c&~k],u+=q[k&~c]);l&&(0!==(l&32768)&&(y|=I.rb),0!==(l&1)&&(y|=I.jb));g[U]|=l;if(l||la)na|=1<<b,y&&(0!==(y&I.rb)&&(15>b?na|=1<<b+1:0<f&&0<U&&(ca[f-1]|=1)),0!==(y&I.jb)&&(0<b?na|=1<<b-1:f<N-1&&U<A-1&&(ca[f+1]|=32768)),0!==(y&I.yb)&&(Q|=1<<b),0!==(y&I.ub)&&(E|=1<<b),0!==(y&I.Cb)&&(15>b?Q|=1<<b+1:0<f&&0<U&&(aa[f-1]|=1)),0!==(y&I.Db)&&(0<b?Q|=1<<b-1:f<N-1&&U<A-1&&(aa[f+1]|=32768)),0!==(y&I.Eb)&&(15>b?E|=1<<b+1:0<f&&0<U&&(X[f-
1]|=1)),0!==(y&I.tb)&&(0<b?E|=1<<b-1:f<N-1&&U<A-1&&(X[f+1]|=32768)));p[d]|=n}U+=1}ca[f]|=na;0<d&&(aa[f]|=Q);d<O-1&&(X[f]|=E)}else U+=16;ma+=16;fa+=16}-1!==this.C&&(0!==W&&(g[P-1>>4]&=~(1<<(~(P-1)&15)),g[T+1>>4]&=~(1<<(~(T+1)&15)),g[P-2>>4]&=~(1<<(~(P-2)&15)),g[T+2>>4]&=~(1<<(~(T+2)&15))),0!==H&&(p[R-1>>4]&=~(1<<(~(R-1)&15)),p[Z+1>>4]&=~(1<<(~(Z+1)&15)),p[R-2>>4]&=~(1<<(~(R-2)&15)),p[Z+2>>4]&=~(1<<(~(Z+2)&15))));for(f=0;f<A;f+=1)g[f]&&(f<F&&(F=f),f>L&&(L=f));for(d=0;d<p.length;d+=1)p[d]&&(d<z&&(z=
d),d>D&&(D=d));F=(F<<4)+this.Ab(g[F]);L=(L<<4)+this.Gb(g[L]);z=(z<<4)+this.Ab(p[z]);D=(D<<4)+this.Gb(p[D]);0>D&&(D=t-1);z>=t&&(z=0);F>=v&&(F=0);0>L&&(L=v-1);D>t-1&&(D=t-1);0>z&&(z=0);0>F&&(F=0);L>v-1&&(L=v-1);w.L=D;w.I=z;w.H=F;w.J=L;V.fill(0);this.s=m;this.ma=r;this.$=u};pa.prototype.Rk=function(a,b){var c,d=this.B,f,e,k,g,l=this.ea,p=this.ba>>4;var n=0;var q=n+16;for(f=0;f<l;f+=1){var m=0;var r=d[f];for(e=0;e<p;e+=1)if(g=r[e])for(k=15;0<=k;--k){if(0!==(g&1<<k))for(c=n;c<q;c+=2){var u=b[c];var t=
a[c];var v=a[c+1];var A=m<<3;var w=t[A];var z=w&255|(w&1)<<5;var D=z-(w>>8|w&32);z-=D&D>>255;w=v[A];D=z-(w&255|(w&1)<<5);z-=D&D>>255;D=z-(w>>8|w&32);u[A+A]=z-(D&D>>255)&31;A+=1;w=t[A];z=w&255|(w&1)<<5;D=z-(w>>8|w&32);z-=D&D>>255;w=v[A];D=z-(w&255|(w&1)<<5);z-=D&D>>255;D=z-(w>>8|w&32);u[A+A]=z-(D&D>>255)&31;A+=1;w=t[A];z=w&255|(w&1)<<5;D=z-(w>>8|w&32);z-=D&D>>255;w=v[A];D=z-(w&255|(w&1)<<5);z-=D&D>>255;D=z-(w>>8|w&32);u[A+A]=z-(D&D>>255)&31;A+=1;w=t[A];z=w&255|(w&1)<<5;D=z-(w>>8|w&32);z-=D&D>>255;
w=v[A];D=z-(w&255|(w&1)<<5);z-=D&D>>255;D=z-(w>>8|w&32);u[A+A]=z-(D&D>>255)&31;A+=1;w=t[A];z=w&255|(w&1)<<5;D=z-(w>>8|w&32);z-=D&D>>255;w=v[A];D=z-(w&255|(w&1)<<5);z-=D&D>>255;D=z-(w>>8|w&32);u[A+A]=z-(D&D>>255)&31;A+=1;w=t[A];z=w&255|(w&1)<<5;D=z-(w>>8|w&32);z-=D&D>>255;w=v[A];D=z-(w&255|(w&1)<<5);z-=D&D>>255;D=z-(w>>8|w&32);u[A+A]=z-(D&D>>255)&31;A+=1;w=t[A];z=w&255|(w&1)<<5;D=z-(w>>8|w&32);z-=D&D>>255;w=v[A];D=z-(w&255|(w&1)<<5);z-=D&D>>255;D=z-(w>>8|w&32);u[A+A]=z-(D&D>>255)&31;A+=1;w=t[A];z=
w&255|(w&1)<<5;D=z-(w>>8|w&32);z-=D&D>>255;w=v[A];D=z-(w&255|(w&1)<<5);z-=D&D>>255;D=z-(w>>8|w&32);u[A+A]=z-(D&D>>255)&31}m+=1}else m+=16;n+=16;q+=16}};pa.prototype.mj=function(a,b){var c,d=this.B,f,e,k,g,l=this.ea,p=this.ba>>4;var n=0;var q=n+16;for(f=0;f<l;f+=1){var m=0;var r=d[f];for(e=0;e<p;e+=1)if(g=r[e])for(k=15;0<=k;--k){if(0!==(g&1<<k))for(c=n;c<q;c+=2){var u=b[c];var t=a[c];var v=a[c+1];var A=m<<3;var w=t[A];var z=w&255;var D=z-(w>>8);z-=D&D>>255;w=v[A];D=z-(w&255);z-=D&D>>255;D=z-(w>>8);
u[A+A]=z-(D&D>>255);A+=1;w=t[A];z=w&255;D=z-(w>>8);z-=D&D>>255;w=v[A];D=z-(w&255);z-=D&D>>255;D=z-(w>>8);u[A+A]=z-(D&D>>255);A+=1;w=t[A];z=w&255;D=z-(w>>8);z-=D&D>>255;w=v[A];D=z-(w&255);z-=D&D>>255;D=z-(w>>8);u[A+A]=z-(D&D>>255);A+=1;w=t[A];z=w&255;D=z-(w>>8);z-=D&D>>255;w=v[A];D=z-(w&255);z-=D&D>>255;D=z-(w>>8);u[A+A]=z-(D&D>>255);A+=1;w=t[A];z=w&255;D=z-(w>>8);z-=D&D>>255;w=v[A];D=z-(w&255);z-=D&D>>255;D=z-(w>>8);u[A+A]=z-(D&D>>255);A+=1;w=t[A];z=w&255;D=z-(w>>8);z-=D&D>>255;w=v[A];D=z-(w&255);
z-=D&D>>255;D=z-(w>>8);u[A+A]=z-(D&D>>255);A+=1;w=t[A];z=w&255;D=z-(w>>8);z-=D&D>>255;w=v[A];D=z-(w&255);z-=D&D>>255;D=z-(w>>8);u[A+A]=z-(D&D>>255);A+=1;w=t[A];z=w&255;D=z-(w>>8);z-=D&D>>255;w=v[A];D=z-(w&255);z-=D&D>>255;D=z-(w>>8);u[A+A]=z-(D&D>>255)}m+=1}else m+=16;n+=16;q+=16}};pa.prototype.Tk=function(a,b){var c,d,f=this.B,e,k,g,l,p,n=this.ea,q=this.ba>>4;var m=0;var r=m+16;for(k=0;k<n;k+=1){var u=0;var t=f[k];for(g=0;g<q;g+=1)if(p=t[g])for(l=15;0<=l;--l){if(0!==(p&1<<l))for(c=m;c<r;c+=4){var v=
b[c];var A=a[c];var w=a[c+1];var z=a[c+2];var D=a[c+3];var F=u<<2;var L=u<<4;for(d=0;4>d;d+=1){var O=0;if(e=A[F]){var N=O-(e&255|(e&1)<<5);O-=N&N>>255;e>>=8;N=O-(e&255|(e&1)<<5);O-=N&N>>255;e>>=8;N=O-(e&255|(e&1)<<5);O-=N&N>>255;e>>=8;N=O-(e&255|(e&1)<<5);O-=N&N>>255}if(e=w[F])N=O-(e&255|(e&1)<<5),O-=N&N>>255,e>>=8,N=O-(e&255|(e&1)<<5),O-=N&N>>255,e>>=8,N=O-(e&255|(e&1)<<5),O-=N&N>>255,e>>=8,N=O-(e&255|(e&1)<<5),O-=N&N>>255;if(e=z[F])N=O-(e&255|(e&1)<<5),O-=N&N>>255,e>>=8,N=O-(e&255|(e&1)<<5),O-=
N&N>>255,e>>=8,N=O-(e&255|(e&1)<<5),O-=N&N>>255,e>>=8,N=O-(e&255|(e&1)<<5),O-=N&N>>255;if(e=D[F])N=O-(e&255|(e&1)<<5),O-=N&N>>255,e>>=8,N=O-(e&255|(e&1)<<5),O-=N&N>>255,e>>=8,N=O-(e&255|(e&1)<<5),O-=N&N>>255,e>>=8,N=O-(e&255|(e&1)<<5),O-=N&N>>255;v[L]=O&31;F+=1;L+=4}}u+=1}else u+=16;m+=16;r+=16}};pa.prototype.oj=function(a,b){var c,d,f=this.B,e,k,g,l,p,n=this.ea,q=this.ba>>4;var m=0;var r=m+16;for(k=0;k<n;k+=1){var u=0;var t=f[k];for(g=0;g<q;g+=1)if(p=t[g])for(l=15;0<=l;--l){if(0!==(p&1<<l))for(c=
m;c<r;c+=4){var v=b[c];var A=a[c];var w=a[c+1];var z=a[c+2];var D=a[c+3];var F=u<<2;var L=u<<4;for(d=0;4>d;d+=1){var O=0;if(e=A[F])O-=O-(e&255)&O-(e&255)>>255,e>>=8,O-=O-(e&255)&O-(e&255)>>255,e>>=8,O-=O-(e&255)&O-(e&255)>>255,e>>=8,O-=O-(e&255)&O-(e&255)>>255;if(e=w[F])O-=O-(e&255)&O-(e&255)>>255,e>>=8,O-=O-(e&255)&O-(e&255)>>255,e>>=8,O-=O-(e&255)&O-(e&255)>>255,e>>=8,O-=O-(e&255)&O-(e&255)>>255;if(e=z[F])O-=O-(e&255)&O-(e&255)>>255,e>>=8,O-=O-(e&255)&O-(e&255)>>255,e>>=8,O-=O-(e&255)&O-(e&255)>>
255,e>>=8,O-=O-(e&255)&O-(e&255)>>255;if(e=D[F])O-=O-(e&255)&O-(e&255)>>255,e>>=8,O-=O-(e&255)&O-(e&255)>>255,e>>=8,O-=O-(e&255)&O-(e&255)>>255,e>>=8,O-=O-(e&255)&O-(e&255)>>255;v[L]=O;F+=1;L+=4}}u+=1}else u+=16;m+=16;r+=16}};pa.prototype.Vk=function(a,b){var c,d,f=this.B,e,k,g,l,p,n=this.ea,q=this.ba>>4;var m=0;var r=m+16;for(k=0;k<n;k+=1){var u=0;var t=f[k];for(g=0;g<q;g+=1)if(p=t[g])for(l=15;0<=l;--l){if(0!==(p&1<<l))for(c=m;c<r;c+=8){var v=b[c];var A=a[c];var w=a[c+1];var z=a[c+2];var D=a[c+3];
var F=a[c+4];var L=a[c+5];var O=a[c+6];var N=a[c+7];var V=u<<2;var W=u<<4;for(d=0;2>d;d+=1){var H=0;if(e=A[V]){var P=H-(e&255|(e&1)<<5);H-=P&P>>255;e>>=8;P=H-(e&255|(e&1)<<5);H-=P&P>>255;e>>=8;P=H-(e&255|(e&1)<<5);H-=P&P>>255;e>>=8;P=H-(e&255|(e&1)<<5);H-=P&P>>255}if(e=A[V+1])P=H-(e&255|(e&1)<<5),H-=P&P>>255,e>>=8,P=H-(e&255|(e&1)<<5),H-=P&P>>255,e>>=8,P=H-(e&255|(e&1)<<5),H-=P&P>>255,e>>=8,P=H-(e&255|(e&1)<<5),H-=P&P>>255;if(e=w[V])P=H-(e&255|(e&1)<<5),H-=P&P>>255,e>>=8,P=H-(e&255|(e&1)<<5),H-=P&
P>>255,e>>=8,P=H-(e&255|(e&1)<<5),H-=P&P>>255,e>>=8,P=H-(e&255|(e&1)<<5),H-=P&P>>255;if(e=w[V+1])P=H-(e&255|(e&1)<<5),H-=P&P>>255,e>>=8,P=H-(e&255|(e&1)<<5),H-=P&P>>255,e>>=8,P=H-(e&255|(e&1)<<5),H-=P&P>>255,e>>=8,P=H-(e&255|(e&1)<<5),H-=P&P>>255;if(e=z[V])P=H-(e&255|(e&1)<<5),H-=P&P>>255,e>>=8,P=H-(e&255|(e&1)<<5),H-=P&P>>255,e>>=8,P=H-(e&255|(e&1)<<5),H-=P&P>>255,e>>=8,P=H-(e&255|(e&1)<<5),H-=P&P>>255;if(e=z[V+1])P=H-(e&255|(e&1)<<5),H-=P&P>>255,e>>=8,P=H-(e&255|(e&1)<<5),H-=P&P>>255,e>>=8,P=H-
(e&255|(e&1)<<5),H-=P&P>>255,e>>=8,P=H-(e&255|(e&1)<<5),H-=P&P>>255;if(e=D[V])P=H-(e&255|(e&1)<<5),H-=P&P>>255,e>>=8,P=H-(e&255|(e&1)<<5),H-=P&P>>255,e>>=8,P=H-(e&255|(e&1)<<5),H-=P&P>>255,e>>=8,P=H-(e&255|(e&1)<<5),H-=P&P>>255;if(e=D[V+1])P=H-(e&255|(e&1)<<5),H-=P&P>>255,e>>=8,P=H-(e&255|(e&1)<<5),H-=P&P>>255,e>>=8,P=H-(e&255|(e&1)<<5),H-=P&P>>255,e>>=8,P=H-(e&255|(e&1)<<5),H-=P&P>>255;if(e=F[V])P=H-(e&255|(e&1)<<5),H-=P&P>>255,e>>=8,P=H-(e&255|(e&1)<<5),H-=P&P>>255,e>>=8,P=H-(e&255|(e&1)<<5),H-=
P&P>>255,e>>=8,P=H-(e&255|(e&1)<<5),H-=P&P>>255;if(e=F[V+1])P=H-(e&255|(e&1)<<5),H-=P&P>>255,e>>=8,P=H-(e&255|(e&1)<<5),H-=P&P>>255,e>>=8,P=H-(e&255|(e&1)<<5),H-=P&P>>255,e>>=8,P=H-(e&255|(e&1)<<5),H-=P&P>>255;if(e=L[V])P=H-(e&255|(e&1)<<5),H-=P&P>>255,e>>=8,P=H-(e&255|(e&1)<<5),H-=P&P>>255,e>>=8,P=H-(e&255|(e&1)<<5),H-=P&P>>255,e>>=8,P=H-(e&255|(e&1)<<5),H-=P&P>>255;if(e=L[V+1])P=H-(e&255|(e&1)<<5),H-=P&P>>255,e>>=8,P=H-(e&255|(e&1)<<5),H-=P&P>>255,e>>=8,P=H-(e&255|(e&1)<<5),H-=P&P>>255,e>>=8,P=
H-(e&255|(e&1)<<5),H-=P&P>>255;if(e=O[V])P=H-(e&255|(e&1)<<5),H-=P&P>>255,e>>=8,P=H-(e&255|(e&1)<<5),H-=P&P>>255,e>>=8,P=H-(e&255|(e&1)<<5),H-=P&P>>255,e>>=8,P=H-(e&255|(e&1)<<5),H-=P&P>>255;if(e=O[V+1])P=H-(e&255|(e&1)<<5),H-=P&P>>255,e>>=8,P=H-(e&255|(e&1)<<5),H-=P&P>>255,e>>=8,P=H-(e&255|(e&1)<<5),H-=P&P>>255,e>>=8,P=H-(e&255|(e&1)<<5),H-=P&P>>255;if(e=N[V])P=H-(e&255|(e&1)<<5),H-=P&P>>255,e>>=8,P=H-(e&255|(e&1)<<5),H-=P&P>>255,e>>=8,P=H-(e&255|(e&1)<<5),H-=P&P>>255,e>>=8,P=H-(e&255|(e&1)<<5),
H-=P&P>>255;if(e=N[V+1])P=H-(e&255|(e&1)<<5),H-=P&P>>255,e>>=8,P=H-(e&255|(e&1)<<5),H-=P&P>>255,e>>=8,P=H-(e&255|(e&1)<<5),H-=P&P>>255,e>>=8,P=H-(e&255|(e&1)<<5),H-=P&P>>255;v[W]=H&31;V+=2;W+=8}}u+=1}else u+=16;m+=16;r+=16}};pa.prototype.pj=function(a,b){var c,d,f=this.B,e,k,g,l,p,n=this.ea,q=this.ba>>4;var m=0;var r=m+16;for(k=0;k<n;k+=1){var u=0;var t=f[k];for(g=0;g<q;g+=1)if(p=t[g])for(l=15;0<=l;--l){if(0!==(p&1<<l))for(c=m;c<r;c+=8){var v=b[c];var A=a[c];var w=a[c+1];var z=a[c+2];var D=a[c+3];
var F=a[c+4];var L=a[c+5];var O=a[c+6];var N=a[c+7];var V=u<<2;var W=u<<4;for(d=0;2>d;d+=1){var H=0;if(e=A[V])H-=H-(e&255)&H-(e&255)>>255,e>>=8,H-=H-(e&255)&H-(e&255)>>255,e>>=8,H-=H-(e&255)&H-(e&255)>>255,e>>=8,H-=H-(e&255)&H-(e&255)>>255;if(e=A[V+1])H-=H-(e&255)&H-(e&255)>>255,e>>=8,H-=H-(e&255)&H-(e&255)>>255,e>>=8,H-=H-(e&255)&H-(e&255)>>255,e>>=8,H-=H-(e&255)&H-(e&255)>>255;if(e=w[V])H-=H-(e&255)&H-(e&255)>>255,e>>=8,H-=H-(e&255)&H-(e&255)>>255,e>>=8,H-=H-(e&255)&H-(e&255)>>255,e>>=8,H-=H-(e&
255)&H-(e&255)>>255;if(e=w[V+1])H-=H-(e&255)&H-(e&255)>>255,e>>=8,H-=H-(e&255)&H-(e&255)>>255,e>>=8,H-=H-(e&255)&H-(e&255)>>255,e>>=8,H-=H-(e&255)&H-(e&255)>>255;if(e=z[V])H-=H-(e&255)&H-(e&255)>>255,e>>=8,H-=H-(e&255)&H-(e&255)>>255,e>>=8,H-=H-(e&255)&H-(e&255)>>255,e>>=8,H-=H-(e&255)&H-(e&255)>>255;if(e=z[V+1])H-=H-(e&255)&H-(e&255)>>255,e>>=8,H-=H-(e&255)&H-(e&255)>>255,e>>=8,H-=H-(e&255)&H-(e&255)>>255,e>>=8,H-=H-(e&255)&H-(e&255)>>255;if(e=D[V])H-=H-(e&255)&H-(e&255)>>255,e>>=8,H-=H-(e&255)&
H-(e&255)>>255,e>>=8,H-=H-(e&255)&H-(e&255)>>255,e>>=8,H-=H-(e&255)&H-(e&255)>>255;if(e=D[V+1])H-=H-(e&255)&H-(e&255)>>255,e>>=8,H-=H-(e&255)&H-(e&255)>>255,e>>=8,H-=H-(e&255)&H-(e&255)>>255,e>>=8,H-=H-(e&255)&H-(e&255)>>255;if(e=F[V])H-=H-(e&255)&H-(e&255)>>255,e>>=8,H-=H-(e&255)&H-(e&255)>>255,e>>=8,H-=H-(e&255)&H-(e&255)>>255,e>>=8,H-=H-(e&255)&H-(e&255)>>255;if(e=F[V+1])H-=H-(e&255)&H-(e&255)>>255,e>>=8,H-=H-(e&255)&H-(e&255)>>255,e>>=8,H-=H-(e&255)&H-(e&255)>>255,e>>=8,H-=H-(e&255)&H-(e&255)>>
255;if(e=L[V])H-=H-(e&255)&H-(e&255)>>255,e>>=8,H-=H-(e&255)&H-(e&255)>>255,e>>=8,H-=H-(e&255)&H-(e&255)>>255,e>>=8,H-=H-(e&255)&H-(e&255)>>255;if(e=L[V+1])H-=H-(e&255)&H-(e&255)>>255,e>>=8,H-=H-(e&255)&H-(e&255)>>255,e>>=8,H-=H-(e&255)&H-(e&255)>>255,e>>=8,H-=H-(e&255)&H-(e&255)>>255;if(e=O[V])H-=H-(e&255)&H-(e&255)>>255,e>>=8,H-=H-(e&255)&H-(e&255)>>255,e>>=8,H-=H-(e&255)&H-(e&255)>>255,e>>=8,H-=H-(e&255)&H-(e&255)>>255;if(e=O[V+1])H-=H-(e&255)&H-(e&255)>>255,e>>=8,H-=H-(e&255)&H-(e&255)>>255,e>>=
8,H-=H-(e&255)&H-(e&255)>>255,e>>=8,H-=H-(e&255)&H-(e&255)>>255;if(e=N[V])H-=H-(e&255)&H-(e&255)>>255,e>>=8,H-=H-(e&255)&H-(e&255)>>255,e>>=8,H-=H-(e&255)&H-(e&255)>>255,e>>=8,H-=H-(e&255)&H-(e&255)>>255;if(e=N[V+1])H-=H-(e&255)&H-(e&255)>>255,e>>=8,H-=H-(e&255)&H-(e&255)>>255,e>>=8,H-=H-(e&255)&H-(e&255)>>255,e>>=8,H-=H-(e&255)&H-(e&255)>>255;v[W]=H;V+=2;W+=8}}u+=1}else u+=16;m+=16;r+=16}};pa.prototype.Qk=function(a,b){var c=this.B,d,f,e,k,g,l,p=this.ea,n=this.ba>>4;var q=0;var m=q+16;for(f=0;f<
p;f+=1){var r=0;var u=c[f];for(e=0;e<n;e+=1)if(l=u[e])for(k=15;0<=k;--k){if(0!==(l&1<<k)){var t=0;for(g=q;g<m;g+=1){var v=a[g];var A=r<<2;if(d=v[A]){var w=t-(d&255|(d&1)<<5);t-=w&w>>255;d>>=8;w=t-(d&255|(d&1)<<5);t-=w&w>>255;d>>=8;w=t-(d&255|(d&1)<<5);t-=w&w>>255;d>>=8;w=t-(d&255|(d&1)<<5);t-=w&w>>255}if(d=v[A+1])w=t-(d&255|(d&1)<<5),t-=w&w>>255,d>>=8,w=t-(d&255|(d&1)<<5),t-=w&w>>255,d>>=8,w=t-(d&255|(d&1)<<5),t-=w&w>>255,d>>=8,w=t-(d&255|(d&1)<<5),t-=w&w>>255;if(d=v[A+2])w=t-(d&255|(d&1)<<5),t-=
w&w>>255,d>>=8,w=t-(d&255|(d&1)<<5),t-=w&w>>255,d>>=8,w=t-(d&255|(d&1)<<5),t-=w&w>>255,d>>=8,w=t-(d&255|(d&1)<<5),t-=w&w>>255;if(d=v[A+3])w=t-(d&255|(d&1)<<5),t-=w&w>>255,d>>=8,w=t-(d&255|(d&1)<<5),t-=w&w>>255,d>>=8,w=t-(d&255|(d&1)<<5),t-=w&w>>255,d>>=8,w=t-(d&255|(d&1)<<5),t-=w&w>>255}v=b[q];A=r<<4;v[A]=t&31}r+=1}else r+=16;q+=16;m+=16}};pa.prototype.lj=function(a,b){var c=this.B,d,f,e,k,g,l,p=this.ea,n=this.ba>>4;var q=0;var m=q+16;for(f=0;f<p;f+=1){var r=0;var u=c[f];for(e=0;e<n;e+=1)if(l=u[e])for(k=
15;0<=k;--k){if(0!==(l&1<<k)){var t=0;for(g=q;g<m;g+=1){var v=a[g];var A=r<<2;if(d=v[A])t-=t-(d&255)&t-(d&255)>>255,d>>=8,t-=t-(d&255)&t-(d&255)>>255,d>>=8,t-=t-(d&255)&t-(d&255)>>255,d>>=8,t-=t-(d&255)&t-(d&255)>>255;if(d=v[A+1])t-=t-(d&255)&t-(d&255)>>255,d>>=8,t-=t-(d&255)&t-(d&255)>>255,d>>=8,t-=t-(d&255)&t-(d&255)>>255,d>>=8,t-=t-(d&255)&t-(d&255)>>255;if(d=v[A+2])t-=t-(d&255)&t-(d&255)>>255,d>>=8,t-=t-(d&255)&t-(d&255)>>255,d>>=8,t-=t-(d&255)&t-(d&255)>>255,d>>=8,t-=t-(d&255)&t-(d&255)>>255;
if(d=v[A+3])t-=t-(d&255)&t-(d&255)>>255,d>>=8,t-=t-(d&255)&t-(d&255)>>255,d>>=8,t-=t-(d&255)&t-(d&255)>>255,d>>=8,t-=t-(d&255)&t-(d&255)>>255}v=b[q];A=r<<4;v[A]=t}r+=1}else r+=16;q+=16;m+=16}};pa.prototype.Sk=function(a,b){var c=this.B,d,f,e,k,g,l=this.ea,p=this.ba>>4;var n=0;var q=n+32;for(f=0;f<l;f+=2){var m=0;var r=c[f];var u=c[f+1];for(e=0;e<p;e+=1){var t=r[e]|u[e];if(0!==t)for(k=49152;0<k;k>>=2){if(0!==(t&k)){var v=0;for(g=n;g<q;g+=1){var A=a[g];var w=m<<2;if(d=A[w]){var z=v-(d&255|(d&1)<<5);
v-=z&z>>255;d>>=8;z=v-(d&255|(d&1)<<5);v-=z&z>>255;d>>=8;z=v-(d&255|(d&1)<<5);v-=z&z>>255;d>>=8;z=v-(d&255|(d&1)<<5);v-=z&z>>255}if(d=A[w+1])z=v-(d&255|(d&1)<<5),v-=z&z>>255,d>>=8,z=v-(d&255|(d&1)<<5),v-=z&z>>255,d>>=8,z=v-(d&255|(d&1)<<5),v-=z&z>>255,d>>=8,z=v-(d&255|(d&1)<<5),v-=z&z>>255;if(d=A[w+2])z=v-(d&255|(d&1)<<5),v-=z&z>>255,d>>=8,z=v-(d&255|(d&1)<<5),v-=z&z>>255,d>>=8,z=v-(d&255|(d&1)<<5),v-=z&z>>255,d>>=8,z=v-(d&255|(d&1)<<5),v-=z&z>>255;if(d=A[w+3])z=v-(d&255|(d&1)<<5),v-=z&z>>255,d>>=
8,z=v-(d&255|(d&1)<<5),v-=z&z>>255,d>>=8,z=v-(d&255|(d&1)<<5),v-=z&z>>255,d>>=8,z=v-(d&255|(d&1)<<5),v-=z&z>>255;if(d=A[w+4])z=v-(d&255|(d&1)<<5),v-=z&z>>255,d>>=8,z=v-(d&255|(d&1)<<5),v-=z&z>>255,d>>=8,z=v-(d&255|(d&1)<<5),v-=z&z>>255,d>>=8,z=v-(d&255|(d&1)<<5),v-=z&z>>255;if(d=A[w+5])z=v-(d&255|(d&1)<<5),v-=z&z>>255,d>>=8,z=v-(d&255|(d&1)<<5),v-=z&z>>255,d>>=8,z=v-(d&255|(d&1)<<5),v-=z&z>>255,d>>=8,z=v-(d&255|(d&1)<<5),v-=z&z>>255;if(d=A[w+6])z=v-(d&255|(d&1)<<5),v-=z&z>>255,d>>=8,z=v-(d&255|(d&
1)<<5),v-=z&z>>255,d>>=8,z=v-(d&255|(d&1)<<5),v-=z&z>>255,d>>=8,z=v-(d&255|(d&1)<<5),v-=z&z>>255;if(d=A[w+7])z=v-(d&255|(d&1)<<5),v-=z&z>>255,d>>=8,z=v-(d&255|(d&1)<<5),v-=z&z>>255,d>>=8,z=v-(d&255|(d&1)<<5),v-=z&z>>255,d>>=8,z=v-(d&255|(d&1)<<5),v-=z&z>>255}A=b[n];w=m<<4;A[w]=v&31}m+=2}else m+=16}n+=32;q+=32}};pa.prototype.nj=function(a,b){var c=this.B,d,f,e,k,g,l=this.ea,p=this.ba>>4;var n=0;var q=n+32;for(f=0;f<l;f+=2){var m=0;var r=c[f];var u=c[f+1];for(e=0;e<p;e+=1){var t=r[e]|u[e];if(0!==t)for(k=
49152;0<k;k>>=2){if(0!==(t&k)){var v=0;for(g=n;g<q;g+=1){var A=a[g];var w=m<<2;if(d=A[w])v-=v-(d&255)&v-(d&255)>>255,d>>=8,v-=v-(d&255)&v-(d&255)>>255,d>>=8,v-=v-(d&255)&v-(d&255)>>255,d>>=8,v-=v-(d&255)&v-(d&255)>>255;if(d=A[w+1])v-=v-(d&255)&v-(d&255)>>255,d>>=8,v-=v-(d&255)&v-(d&255)>>255,d>>=8,v-=v-(d&255)&v-(d&255)>>255,d>>=8,v-=v-(d&255)&v-(d&255)>>255;if(d=A[w+2])v-=v-(d&255)&v-(d&255)>>255,d>>=8,v-=v-(d&255)&v-(d&255)>>255,d>>=8,v-=v-(d&255)&v-(d&255)>>255,d>>=8,v-=v-(d&255)&v-(d&255)>>255;
if(d=A[w+3])v-=v-(d&255)&v-(d&255)>>255,d>>=8,v-=v-(d&255)&v-(d&255)>>255,d>>=8,v-=v-(d&255)&v-(d&255)>>255,d>>=8,v-=v-(d&255)&v-(d&255)>>255;if(d=A[w+4])v-=v-(d&255)&v-(d&255)>>255,d>>=8,v-=v-(d&255)&v-(d&255)>>255,d>>=8,v-=v-(d&255)&v-(d&255)>>255,d>>=8,v-=v-(d&255)&v-(d&255)>>255;if(d=A[w+5])v-=v-(d&255)&v-(d&255)>>255,d>>=8,v-=v-(d&255)&v-(d&255)>>255,d>>=8,v-=v-(d&255)&v-(d&255)>>255,d>>=8,v-=v-(d&255)&v-(d&255)>>255;if(d=A[w+6])v-=v-(d&255)&v-(d&255)>>255,d>>=8,v-=v-(d&255)&v-(d&255)>>255,d>>=
8,v-=v-(d&255)&v-(d&255)>>255,d>>=8,v-=v-(d&255)&v-(d&255)>>255;if(d=A[w+7])v-=v-(d&255)&v-(d&255)>>255,d>>=8,v-=v-(d&255)&v-(d&255)>>255,d>>=8,v-=v-(d&255)&v-(d&255)>>255,d>>=8,v-=v-(d&255)&v-(d&255)>>255}A=b[n];w=m<<4;A[w]=v}m+=2}else m+=16}n+=32;q+=32}};pa.prototype.le=function(a){this.$h&&a.aa.fill(0)};pa.prototype.wi=function(a,b,c){.5<=c&&1>c?(this.le(this.Ea),this.l?this.Rk(a,this.Ea):this.mj(a,this.Ea)):.25<=c&&.5>c?(this.le(this.Ea),this.l?this.Tk(b,this.Ea):this.oj(b,this.Ea)):.125<=c&&
.25>c?(this.le(this.Ea),this.l?this.Vk(b,this.Ea):this.pj(b,this.Ea)):.0625<=c&&.125>c?(this.le(this.Ea),this.l?this.Qk(b,this.Ea):this.lj(b,this.Ea)):this.l?this.Sk(b,this.Ea):this.nj(b,this.Ea);this.yc&&(.5<=c&&1>c?(this.le(this.mb),this.mj(this.dg,this.mb)):.25<=c&&.5>c?(this.le(this.mb),this.oj(this.Fe,this.mb)):.125<=c&&.25>c?(this.le(this.mb),this.pj(this.Fe,this.mb)):.0625<=c&&.125>c?(this.le(this.mb),this.lj(this.Fe,this.mb)):this.nj(this.Fe,this.mb));this.$h=.0625>c?!0:!1};pa.prototype.Rb=
function(a,b,c,d,f){var e=-1,k=-1,g,l=this.width,p=this.height;for(g=0;g<a.length;g+=1)a[g]&&(g<c&&(c=g),g>e&&(e=g));for(g=0;g<b.length;g+=1)b[g]&&(g<d&&(d=g),g>k&&(k=g));c=(c<<4)+this.Ab(a[c]);e=(e<<4)+this.Gb(a[e]);d=(d<<4)+this.Ab(b[d]);k=(k<<4)+this.Gb(b[k]);0>k&&(k=p-1);d>=p&&(d=0);c>=l&&(c=0);0>e&&(e=l-1);k>p-1&&(k=p-1);0>d&&(d=0);0>c&&(c=0);e>l-1&&(e=l-1);f.L=k;f.I=d;f.H=c;f.J=e};pa.prototype.Ob=function(a){var b,c,d,f=this.ba>>4,e=this.Ua,k,g;var l=0;var p=l+16;for(b=0;b<e.length;b+=1){var n=
0;var q=e[b];for(c=0;c<f;c+=1)if(k=q[c])for(g=15;0<=g;--g){if(k&1<<g){var m=n>>2;for(d=l;d<p;d+=1){var r=a[d];r[m]=0;r[m+1]=0;r[m+2]=0;r[m+3]=0}}n+=16}else n+=256;l+=16;p+=16}};pa.prototype.Lk=function(a){var b,c,d,f=this.ba>>4,e=this.Ua,k,g;var l=0;var p=l+16;for(b=0;b<e.length;b+=1){var n=0;var q=e[b];for(c=0;c<f;c+=1)if(k=q[c])for(g=15;0<=g;--g){if(k&1<<g){var m=n;for(d=l;d<p;d+=1){var r=a[d];r[m]=0}}n+=1}else n+=16;l+=16;p+=16}};pa.prototype.dn=function(){var a=this.Ua,b,c,d,f=this.width,e=this.height,
k=this.v,g=0,l=0,p=0,n,q,m=this.Ia,r,u=this.Wa,t,v,A=this.ea,w=this.ba>>4,z=this.Qa,D=this.U.o,F=[0,1,2,3,4,5,7,6,8,9,11,10,13,12,14,15,16,17,18,20,19];if(0===(this.counter&1)){var L=this.Y;var O=this.va;var N=this.m;var V=this.X;var W=this.O;this.gb&&(D=this.U.qa)}else L=this.m,O=this.wa,N=this.Y,V=this.O,W=this.X;m.fill(0);u.fill(0);var H=0;var P=H+16;W.aa.fill(0);for(b=0;b<V.length;b+=1){var R=0;var T=R+16;var Z=V[b];var oa=W[b];var ha=a[b];var ba=0<b?W[b-1]:z;var ia=b<A-1?W[b+1]:z;for(c=0;c<w;c+=
1){var ma=Z[c];var fa=0;if(ma){var U=oa[c];var ka=ba[c];var ca=ia[c];for(d=15;0<=d;--d){if(0!==(ma&1<<d)){var aa=t=r=n=0;var X=H;for(v=32768;X<P;){var na=0===X?this.pa:L[X-1];var Q=L[X];var E=X===this.height-1?this.pa:L[X+1];var y=N[X];var K=32768;var M=R;var J=0===M?0:Q[M-1];for(q=Q[M];M<T-1;){var x=na[M];var B=J;J=q;q=Q[M+1];var la=E[M];if(2<=J)x=F[J];else{var Y=1<<x|1<<B|1<<q|1<<la;Y&(J?82124:29440)?x=1-J:J||!(Y&98304)||Y&2?(Y=J?1414486:759126,x=D[(Y>>la&1)<<7|(Y>>B&1)<<5|J<<4|(Y>>q&1)<<3|(Y>>
x&1)<<1]):x=0}y[M]=x;B=J?1:0;0<x?(p+=1,g+=1-B):l+=B;0<x&&(t|=v,r|=K);n|=J;K>>=1;M+=1}x=na[M];B=J;J=q;q=M===f-1?0:Q[M+1];la=E[M];2<=J?x=F[J]:(Y=1<<x|1<<B|1<<q|1<<la,Y&(J?82124:29440)?x=1-J:J||!(Y&98304)||Y&2?(Y=J?1414486:759126,x=D[(Y>>la&1)<<7|(Y>>B&1)<<5|J<<4|(Y>>q&1)<<3|(Y>>x&1)<<1]):x=0);y[M]=x;B=J?1:0;0<x?(p+=1,g+=1-B):l+=B;0<x&&(t|=v,r|=K);n|=J;X+=1;v>>=1}m[R>>4]|=r;r?(U|=1<<d,t&1&&(aa|=I.ub,r&32768&&(aa|=I.Eb),r&1&&(aa|=I.tb)),t&32768&&(aa|=I.yb,r&32768&&(aa|=I.Cb),r&1&&(aa|=I.Db)),r&32768&&
(aa|=I.rb),r&1&&(aa|=I.jb),aa&&(0!==(aa&I.rb)&&(15>d?U|=1<<d+1:0<c&&0<R&&(oa[c-1]|=1)),0!==(aa&I.jb)&&(0<d?U|=1<<d-1:c<w-1&&R<f-1&&(oa[c+1]|=32768)),0!==(aa&I.yb)&&(ka|=1<<d),0!==(aa&I.ub)&&(ca|=1<<d),0!==(aa&I.Cb)&&(15>d?ka|=1<<d+1:0<c&&0<R&&(ba[c-1]|=1)),0!==(aa&I.Db)&&(0<d?ka|=1<<d-1:c<w-1&&R<f-1&&(ba[c+1]|=32768)),0!==(aa&I.Eb)&&(15>d?ca|=1<<d+1:0<c&&0<R&&(ia[c-1]|=1)),0!==(aa&I.tb)&&(0<d?ca|=1<<d-1:c<w-1&&R<f-1&&(ia[c+1]|=32768)))):n&&(fa|=1<<d);u[b]|=t}R+=16;T+=16}oa[c]|=U;0<b&&(ba[c]|=ka);
b<A-1&&(ia[c]|=ca)}else R+=256,T+=256;ha[c]=fa}H+=16;P+=16}this.Rb(m,u,f,e,k);z.fill(0);this.Ob(O);for(X=0;X<this.B.aa.length;X+=1)this.B.aa[X]=this.B.aa[X]|V.aa[X]|W.aa[X];this.s=p;this.ma=g;this.$=l};pa.prototype.$m=function(){var a=this.Ua,b,c,d,f=this.width,e=this.height,k=this.v,g=0,l=0,p=0,n,q,m,r,u=this.Ia,t,v=this.Wa,A,w,z=this.ea,D=this.ba>>4,F=this.Qa,L=this.U.o,O=[0,1,2,3,4,5,7,6,8,9,11,10,13,12,14,15,16,17,18,20,19];if(0===(this.counter&1)){var N=this.Y;var V=this.va;var W=this.m;var H=
this.X;var P=this.O;this.gb&&(L=this.U.o)}else N=this.m,V=this.wa,W=this.Y,H=this.O,P=this.X,this.gb&&(L=this.U.qa);u.fill(0);v.fill(0);var R=0;var T=R+16;P.aa.fill(0);for(b=0;b<H.length;b+=1){var Z=0;var oa=Z+16;var ha=H[b];var ba=P[b];var ia=a[b];var ma=0<b?P[b-1]:F;var fa=b<z-1?P[b+1]:F;for(c=0;c<D;c+=1){var U=ha[c];var ka=0;if(U){var ca=ba[c];var aa=ma[c];var X=fa[c];for(d=15;0<=d;--d){if(0!==(U&1<<d)){var na=A=t=n=0;var Q=R;for(w=32768;Q<T;){var E=0===Q?this.pa:N[Q-1];var y=N[Q];var K=Q===this.height-
1?this.pa:N[Q+1];var M=W[Q];var J=32768;var x=Z;if(0===x)var B=m=q=0;else q=E[x-1],m=y[x-1],B=K[x-1];var la=E[x];var Y=y[x];for(r=K[x];x<oa-1;){var qa=q;var sa=m;var ja=B;q=la;m=Y;B=r;la=E[x+1];Y=y[x+1];r=K[x+1];if(2<=m)qa=O[m];else{var ta=1<<qa|1<<q|1<<sa|1<<Y|1<<B|1<<r;ta&(m?82124:29440)?qa=1-m:m||!(ta&98304)||ta&2?(ta=m?1414486:759126,qa=L[(ta>>ja&1)<<8|(ta>>B&1)<<7|(ta>>r&1)<<6|(ta>>sa&1)<<5|m<<4|(ta>>Y&1)<<3|(ta>>qa&1)<<2|(ta>>q&1)<<1|ta>>la&1]):qa=0}M[x]=qa;sa=m?1:0;0<qa?(p+=1,g+=1-sa):l+=sa;
0<qa&&(A|=w,t|=J);n|=m;J>>=1;x+=1}qa=q;sa=m;ja=B;q=la;m=Y;B=r;x===f-1?la=r=Y=0:(la=E[x+1],Y=y[x+1],r=K[x+1]);2<=m?qa=O[m]:(ta=1<<qa|1<<q|1<<sa|1<<Y|1<<B|1<<r,ta&(m?82124:29440)?qa=1-m:m||!(ta&98304)||ta&2?(ta=m?1414486:759126,qa=L[(ta>>ja&1)<<8|(ta>>B&1)<<7|(ta>>r&1)<<6|(ta>>sa&1)<<5|m<<4|(ta>>Y&1)<<3|(ta>>qa&1)<<2|(ta>>q&1)<<1|ta>>la&1]):qa=0);M[x]=qa;sa=m?1:0;0<qa?(p+=1,g+=1-sa):l+=sa;0<qa&&(A|=w,t|=J);n|=m;Q+=1;w>>=1}u[Z>>4]|=t;t?(ca|=1<<d,A&1&&(na|=I.ub,t&32768&&(na|=I.Eb),t&1&&(na|=I.tb)),A&
32768&&(na|=I.yb,t&32768&&(na|=I.Cb),t&1&&(na|=I.Db)),t&32768&&(na|=I.rb),t&1&&(na|=I.jb),na&&(0!==(na&I.rb)&&(15>d?ca|=1<<d+1:0<c&&0<Z&&(ba[c-1]|=1)),0!==(na&I.jb)&&(0<d?ca|=1<<d-1:c<D-1&&Z<f-1&&(ba[c+1]|=32768)),0!==(na&I.yb)&&(aa|=1<<d),0!==(na&I.ub)&&(X|=1<<d),0!==(na&I.Cb)&&(15>d?aa|=1<<d+1:0<c&&0<Z&&(ma[c-1]|=1)),0!==(na&I.Db)&&(0<d?aa|=1<<d-1:c<D-1&&Z<f-1&&(ma[c+1]|=32768)),0!==(na&I.Eb)&&(15>d?X|=1<<d+1:0<c&&0<Z&&(fa[c-1]|=1)),0!==(na&I.tb)&&(0<d?X|=1<<d-1:c<D-1&&Z<f-1&&(fa[c+1]|=32768)))):
n&&(ka|=1<<d);v[b]|=A}Z+=16;oa+=16}ba[c]|=ca;0<b&&(ma[c]|=aa);b<z-1&&(fa[c]|=X)}else Z+=256,oa+=256;ia[c]=ka}R+=16;T+=16}this.Rb(u,v,f,e,k);F.fill(0);this.Ob(V);for(Q=0;Q<this.B.aa.length;Q+=1)this.B.aa[Q]=this.B.aa[Q]|H.aa[Q]|P.aa[Q];this.s=p;this.ma=g;this.$=l};pa.prototype.bn=function(){var a=this.Ua,b,c,d,f=this.width,e=this.height,k=this.v,g=0,l=0,p=0,n,q,m,r,u=this.Ia,t,v=this.Wa,A,w,z=this.ea,D=this.ba>>4,F=this.Qa,L=this.U.o,O=[0,1,2,3,4,5,7,6,8,9,11,10,13,12,14,15,16,17,18,20,19];if(0===
(this.counter&1)){var N=this.Y;var V=this.va;var W=this.m;var H=this.X;var P=this.O;this.gb&&(L=this.U.o)}else N=this.m,V=this.wa,W=this.Y,H=this.O,P=this.X,this.gb&&(L=this.U.qa);u.fill(0);v.fill(0);var R=0;var T=R+16;P.aa.fill(0);for(b=0;b<H.length;b+=1){var Z=0;var oa=Z+16;var ha=H[b];var ba=P[b];var ia=a[b];var ma=0<b?P[b-1]:F;var fa=b<z-1?P[b+1]:F;for(c=0;c<D;c+=1){var U=ha[c];var ka=0;if(U){var ca=ba[c];var aa=ma[c];var X=fa[c];for(d=15;0<=d;--d){if(0!==(U&1<<d)){var na=A=t=n=0;var Q=R;for(w=
32768;Q<T;){var E=0===Q?this.pa:N[Q-1];var y=N[Q];var K=Q===this.height-1?this.pa:N[Q+1];var M=W[Q];var J=32768;var x=Z;if(0===x)var B=m=q=0;else q=E[x-1],m=y[x-1],B=K[x-1];var la=E[x];var Y=y[x];for(r=K[x];x<oa-1;){var qa=q;var sa=m;var ja=B;q=la;m=Y;B=r;la=E[x+1];Y=y[x+1];r=K[x+1];if(2<=m)qa=O[m];else{var ta=1<<qa|1<<q|1<<la|1<<sa|1<<Y|1<<ja|1<<B|1<<r;1===ta&&0===m?qa=0:ta&(m?82124:29440)?qa=1-m:m||!(ta&98304)||ta&2?(ta=m?1414486:759126,qa=L[(ta>>ja&1)<<8|(ta>>B&1)<<7|(ta>>r&1)<<6|(ta>>sa&1)<<5|
m<<4|(ta>>Y&1)<<3|(ta>>qa&1)<<2|(ta>>q&1)<<1|ta>>la&1]):qa=0}M[x]=qa;sa=m?1:0;0<qa?(p+=1,g+=1-sa):l+=sa;0<qa&&(A|=w,t|=J);n|=m;J>>=1;x+=1}qa=q;sa=m;ja=B;q=la;m=Y;B=r;x===f-1?r=Y=la=0:(la=E[x+1],Y=y[x+1],r=K[x+1]);2<=m?qa=O[m]:(ta=1<<qa|1<<q|1<<la|1<<sa|1<<Y|1<<ja|1<<B|1<<r,1===ta&&0===m?qa=0:ta&(m?82124:29440)?qa=1-m:m||!(ta&98304)||ta&2?(ta=m?1414486:759126,qa=L[(ta>>ja&1)<<8|(ta>>B&1)<<7|(ta>>r&1)<<6|(ta>>sa&1)<<5|m<<4|(ta>>Y&1)<<3|(ta>>qa&1)<<2|(ta>>q&1)<<1|ta>>la&1]):qa=0);M[x]=qa;sa=m?1:0;0<
qa?(p+=1,g+=1-sa):l+=sa;0<qa&&(A|=w,t|=J);n|=m;Q+=1;w>>=1}u[Z>>4]|=t;t?(ca|=1<<d,A&1&&(na|=I.ub,t&32768&&(na|=I.Eb),t&1&&(na|=I.tb)),A&32768&&(na|=I.yb,t&32768&&(na|=I.Cb),t&1&&(na|=I.Db)),t&32768&&(na|=I.rb),t&1&&(na|=I.jb),na&&(0!==(na&I.rb)&&(15>d?ca|=1<<d+1:0<c&&0<Z&&(ba[c-1]|=1)),0!==(na&I.jb)&&(0<d?ca|=1<<d-1:c<D-1&&Z<f-1&&(ba[c+1]|=32768)),0!==(na&I.yb)&&(aa|=1<<d),0!==(na&I.ub)&&(X|=1<<d),0!==(na&I.Cb)&&(15>d?aa|=1<<d+1:0<c&&0<Z&&(ma[c-1]|=1)),0!==(na&I.Db)&&(0<d?aa|=1<<d-1:c<D-1&&Z<f-1&&
(ma[c+1]|=32768)),0!==(na&I.Eb)&&(15>d?X|=1<<d+1:0<c&&0<Z&&(fa[c-1]|=1)),0!==(na&I.tb)&&(0<d?X|=1<<d-1:c<D-1&&Z<f-1&&(fa[c+1]|=32768)))):n&&(ka|=1<<d);v[b]|=A}Z+=16;oa+=16}ba[c]|=ca;0<b&&(ma[c]|=aa);b<z-1&&(fa[c]|=X)}else Z+=256,oa+=256;ia[c]=ka}R+=16;T+=16}this.Rb(u,v,f,e,k);F.fill(0);this.Ob(V);for(Q=0;Q<this.B.aa.length;Q+=1)this.B.aa[Q]=this.B.aa[Q]|H.aa[Q]|P.aa[Q];this.s=p;this.ma=g;this.$=l};pa.prototype.In=function(){var a=this.B,b=this.ra,c=this.pa,d,f,e,k,g=this.width,l=g>>4,p=this.height,
n=g,q=-1,m=-1,r=p,u=this.v,t=g,v=-1,A=-1,w=p,z=this.nh,D,F=this.Ia,L=this.Rf,O,N,V,W=this.Wa,H=this.ig,P;var R=this.ea;var T=this.ba>>4;var Z=0;var oa=R,ha=this.oc;if(0!==(this.counter&1)){var ba=this.Va;var ia=this.X;var ma=this.m;var fa=this.Y}else ba=this.xa,ia=this.O,ma=this.Y,fa=this.m;0>Z&&(Z=0);oa>R&&(oa=R);F.fill(0);L.fill(0);W.fill(0);H.fill(0);R=Z<<4;var U=R+16;for(d=Z;d<oa;d+=1){var ka=0;var ca=ia[d];var aa=b[d];var X=a[d];for(f=0;f<T;f+=1){if(k=ca[f]|aa[f])for(e=15;0<=e;--e){if(0!==(k&
1<<e)){var na=P=N=O=0;var Q=32768;for(Z=R;Z<U;Z+=1){var E=ba[Z];var y=ma[Z];var K=0===Z?c:ma[Z-1];var M=Z===this.height-1?c:ma[Z+1];var J=fa[Z];var x=ka<<4;if(0===x)var B=D=0;else D=y[x-1],B=K[x-1];var la=M[x];var Y=y[x];var qa=E[ka];for(V=32768;0<V;){var sa=B;B=K[x];var ja=D;D=Y;Y=y[x+1];var ta=la;la=M[x+1];var za=D;sa=1<<sa|1<<B|1<<Y|1<<ja|1<<ta|1<<la;ja=!0;if(0!==(sa&64)){ja=!1;if(7===D||8===D||13<=D)za=0;else switch(D){case 1:za=2;break;case 3:case 5:za=4;break;case 9:za=10;break;case 11:za=12;
break;default:ja=!0}ja||0===(D&1)||(E[ka]&=~V,this.$+=1,--this.s)}if(ja)if(0!==(qa&V)){if(0===(D&1))switch(D){case 4:za=3;break;case 6:E[ka]&V&&(E[ka]&=~V,this.$+=1,--this.s);break;case 8:za=7;break;default:za=1,ja=sa&44739072,0===(sa&170)&&1===ha[ja&65535]+ha[ja>>16]?(za=0,65535<ja&&(ja>>=16,za+=16),255<ja&&(ja>>=8,za+=8),15<ja&&(ja>>=4,za+=4),3<ja&&(ja>>=2,za+=2),za+=ja>>1):(ja=sa&44736512,0!==(sa&8)&&0===(sa&2722)&&1===ha[ja&65535]+ha[ja>>16]?(za=0,65535<ja&&(ja>>=16,za+=16),255<ja&&(ja>>=8,za+=
8),15<ja&&(ja>>=4,za+=4),3<ja&&(ja>>=2,za+=2),za+=ja>>1):(ja=sa&2560,0!==(sa&128)&&0===(sa&44736554)&&1===ha[ja&65535]+ha[ja>>16]?(za=0,65535<ja&&(ja>>=16,za+=16),255<ja&&(ja>>=8,za+=8),15<ja&&(ja>>=4,za+=4),3<ja&&(ja>>=2,za+=2),za+=ja>>1):(ja=sa&44736640)&&0===(sa&2602)&&(za=13)))}}else if(0!==(D&1))za=11>=D?5===D?4:D+1:0;else if(14===D)za=0;else if(14<D)switch(D){case 16:0!==(sa&44755626)&&(za=14);break;case 18:0!==(sa&4194304)&&(za=22);break;case 20:0!==(sa&262144)&&(za=18);break;case 22:0!==(sa&
1048576)&&(za=20);break;case 24:0!==(sa&45017770)&&(za=18)}J[x]=za;0<za&&(O|=V,P|=Q,za&1&&(N|=V,na|=Q));V>>=1;x+=1}Q>>=1}F[ka]|=O;W[d]|=P;L[ka]|=N;H[d]|=na}ka+=1}else ka+=16;aa[f]=k|0;X[f]=X[f]|k|0}R+=16;U+=16}for(f=0;f<l;f+=1)F[f]&&(f<n&&(n=f),f>q&&(q=f)),L[f]&&(f<t&&(t=f),f>v&&(v=f));for(d=0;d<W.length;d+=1)W[d]&&(d<r&&(r=d),d>m&&(m=d)),H[d]&&(d<w&&(w=d),d>A&&(A=d));n=(n<<4)+this.Ab(F[n]);q=(q<<4)+this.Gb(F[q]);r=(r<<4)+this.Ab(W[r]);m=(m<<4)+this.Gb(W[m]);0>m&&(m=p-1);r>=p&&(r=0);n>=g&&(n=0);0>
q&&(q=g-1);m>p-1&&(m=p-1);0>r&&(r=0);0>n&&(n=0);q>g-1&&(q=g-1);u.L=m;u.I=r;u.H=n;u.J=q;t=(t<<4)+this.Ab(L[t]);v=(v<<4)+this.Gb(L[v]);w=(w<<4)+this.Ab(H[w]);A=(A<<4)+this.Gb(H[A]);0>A&&(A=p-1);w>=p&&(w=0);t>=g&&(t=0);0>v&&(v=g-1);A>p-1&&(A=p-1);0>w&&(w=0);0>t&&(t=0);v>g-1&&(v=g-1);z.L=A;z.I=w;z.H=t;z.J=v};pa.prototype.Mn=function(){var a=this.B,b=this.ra,c=this.pa,d,f,e,k,g=this.width,l=g>>4,p=this.height,n=g,q=-1,m=-1,r=p,u=this.v,t=g,v=-1,A=-1,w=p,z=this.nh,D=this.Ia,F=this.Rf,L,O,N,V=this.Wa,W=
this.ig,H;var P=this.ea;var R=this.ba>>4;var T=0;var Z=P,oa=this.oc;if(0!==(this.counter&1)){var ha=this.Va;var ba=this.X;var ia=this.m;var ma=this.Y}else ha=this.xa,ba=this.O,ia=this.Y,ma=this.m;0>T&&(T=0);Z>P&&(Z=P);D.fill(0);F.fill(0);V.fill(0);W.fill(0);P=T<<4;var fa=P+16;for(d=T;d<Z;d+=1){var U=0;var ka=ba[d];var ca=b[d];var aa=a[d];for(f=0;f<R;f+=1){if(k=ka[f]|ca[f])for(e=15;0<=e;--e){if(0!==(k&1<<e)){var X=H=O=L=0;var na=32768;for(T=P;T<fa;T+=1){var Q=ha[T];var E=ia[T];var y=0===T?c:ia[T-1];
var K=T===this.height-1?c:ia[T+1];var M=ma[T];var J=U<<4;var x=0===J?0:E[J-1];var B=E[J];var la=Q[U];for(N=32768;0<N;){var Y=y[J];var qa=x;x=B;B=E[J+1];var sa=K[J];var ja=x;Y=1<<Y|1<<B|1<<qa|1<<sa;qa=!0;if(0!==(Y&64)){qa=!1;if(7===x||8===x||13<=x)ja=0;else switch(x){case 1:ja=2;break;case 3:case 5:ja=4;break;case 9:ja=10;break;case 11:ja=12;break;default:qa=!0}qa||0===(x&1)||(Q[U]&=~N,this.$+=1,--this.s)}if(qa)if(0!==(la&N)){if(0===(x&1))switch(x){case 4:ja=3;break;case 6:Q[U]&N&&(Q[U]&=~N,this.$+=
1,--this.s);break;case 8:ja=7;break;default:ja=1,qa=Y&44739072,0===(Y&170)&&1===oa[qa&65535]+oa[qa>>16]?(ja=0,65535<qa&&(qa>>=16,ja+=16),255<qa&&(qa>>=8,ja+=8),15<qa&&(qa>>=4,ja+=4),3<qa&&(qa>>=2,ja+=2),ja+=qa>>1):(qa=Y&44736512,0!==(Y&8)&&0===(Y&2722)&&1===oa[qa&65535]+oa[qa>>16]?(ja=0,65535<qa&&(qa>>=16,ja+=16),255<qa&&(qa>>=8,ja+=8),15<qa&&(qa>>=4,ja+=4),3<qa&&(qa>>=2,ja+=2),ja+=qa>>1):(qa=Y&2560,0!==(Y&128)&&0===(Y&44736554)&&1===oa[qa&65535]+oa[qa>>16]?(ja=0,65535<qa&&(qa>>=16,ja+=16),255<qa&&
(qa>>=8,ja+=8),15<qa&&(qa>>=4,ja+=4),3<qa&&(qa>>=2,ja+=2),ja+=qa>>1):(qa=Y&44736640)&&0===(Y&2602)&&(ja=13)))}}else if(0!==(x&1))ja=11>=x?5===x?4:x+1:0;else if(14===x)ja=0;else if(14<x)switch(x){case 16:0!==(Y&44755626)&&(ja=14);break;case 18:0!==(Y&4194304)&&(ja=22);break;case 20:0!==(Y&262144)&&(ja=18);break;case 22:0!==(Y&1048576)&&(ja=20);break;case 24:0!==(Y&45017770)&&(ja=18)}M[J]=ja;0<ja&&(L|=N,H|=na,ja&1&&(O|=N,X|=na));N>>=1;J+=1}na>>=1}D[U]|=L;V[d]|=H;F[U]|=O;W[d]|=X}U+=1}else U+=16;ca[f]=
k|0;aa[f]=aa[f]|k|0}P+=16;fa+=16}for(f=0;f<l;f+=1)D[f]&&(f<n&&(n=f),f>q&&(q=f)),F[f]&&(f<t&&(t=f),f>v&&(v=f));for(d=0;d<V.length;d+=1)V[d]&&(d<r&&(r=d),d>m&&(m=d)),W[d]&&(d<w&&(w=d),d>A&&(A=d));n=(n<<4)+this.Ab(D[n]);q=(q<<4)+this.Gb(D[q]);r=(r<<4)+this.Ab(V[r]);m=(m<<4)+this.Gb(V[m]);0>m&&(m=p-1);r>=p&&(r=0);n>=g&&(n=0);0>q&&(q=g-1);m>p-1&&(m=p-1);0>r&&(r=0);0>n&&(n=0);q>g-1&&(q=g-1);u.L=m;u.I=r;u.H=n;u.J=q;t=(t<<4)+this.Ab(F[t]);v=(v<<4)+this.Gb(F[v]);w=(w<<4)+this.Ab(W[w]);A=(A<<4)+this.Gb(W[A]);
0>A&&(A=p-1);w>=p&&(w=0);t>=g&&(t=0);0>v&&(v=g-1);A>p-1&&(A=p-1);0>w&&(w=0);0>t&&(t=0);v>g-1&&(v=g-1);z.L=A;z.I=w;z.H=t;z.J=v};pa.prototype.Jn=function(){var a=this.B,b=this.ra,c=this.pa,d,f,e,k,g=this.width,l=g>>4,p=this.height,n=g,q=-1,m=-1,r=p,u=this.v,t=g,v=-1,A=-1,w=p,z=this.nh,D=this.Ia,F=this.Rf,L,O,N,V=this.Wa,W=this.ig,H;var P=this.ea;var R=this.ba>>4;var T=0;var Z=P;if(0!==(this.counter&1)){var oa=this.Va;var ha=this.X;var ba=this.m;var ia=this.Y}else oa=this.xa,ha=this.O,ba=this.Y,ia=this.m;
0>T&&(T=0);Z>P&&(Z=P);D.fill(0);F.fill(0);V.fill(0);W.fill(0);P=T<<4;var ma=P+16;for(d=T;d<Z;d+=1){var fa=0;var U=ha[d];var ka=b[d];var ca=a[d];for(f=0;f<R;f+=1){if(k=U[f]|ka[f])for(e=15;0<=e;--e){if(0!==(k&1<<e)){var aa=H=O=L=0;var X=32768;for(T=P;T<ma;T+=1){var na=oa[T];var Q=ba[T];var E=0===T?c:ba[T-1];var y=T===this.height-1?c:ba[T+1];var K=ia[T];var M=fa<<4;if(0===M)var J=0;else{var x=Q[M-1];J=1<<E[M-1]|1<<x|1<<y[M-1]}var B=Q[M];var la=1<<B|1<<y[M]|1<<E[M];var Y=na[fa];for(N=32768;0<N;){M+=1;
x=B;B=Q[M];var qa=J;J=la;la=1<<B|1<<y[M]|1<<E[M];var sa=x;qa=qa|J|la;var ja=!0;if(0!==(qa&64)){ja=!1;if(7===x||8===x||13<=x)sa=0;else switch(x){case 1:sa=2;break;case 3:case 5:sa=4;break;case 9:sa=10;break;case 11:sa=12;break;default:ja=!0}!ja&&0!==(x&1)&&na[fa]&N&&(na[fa]&=~N,this.$+=1,--this.s)}if(ja)if(0!==(Y&N)){if(0===(x&1))switch(x){case 4:sa=3;break;case 6:na[fa]&N&&(na[fa]&=~N,--this.ma,--this.s);break;case 8:sa=7;break;default:sa=1,x=qa&44739072,0===(qa&170)&&x&&0===(x&x-1)?(sa=0,65535<x&&
(x>>=16,sa+=16),sa+=31-Math.clz32(x)):(x=qa&44736512,0!==(qa&8)&&0===(qa&2722)&&x&&0===(x&x-1)?(sa=0,65535<x&&(x>>=16,sa+=16),sa+=31-Math.clz32(x)):(x=qa&2560,0!==(qa&128)&&0===(qa&44736554)&&x&&0===(x&x-1)?(sa=0,65535<x&&(x>>=16,sa+=16),sa+=31-Math.clz32(x)):(x=qa&44736640)&&0===(qa&2602)&&(sa=13)))}}else if(0!==(x&1))sa=11>=x?5===x?4:x+1:0;else if(14<=x)switch(x){case 14:sa=0;break;case 16:0!==(qa&44755626)&&(sa=14);break;case 18:0!==(qa&4194304)&&(sa=22);break;case 20:0!==(qa&262144)&&(sa=18);
break;case 22:0!==(qa&1048576)&&(sa=20);break;case 24:0!==(qa&45017770)&&(sa=18)}K[M-1]=sa;0<sa&&(L|=N,H|=X,sa&1&&(O|=N,aa|=X));N>>=1}X>>=1}D[fa]|=L;V[d]|=H;F[fa]|=O;W[d]|=aa}fa+=1}else fa+=16;ka[f]=k|0;ca[f]=ca[f]|k|0}P+=16;ma+=16}for(f=0;f<l;f+=1)D[f]&&(f<n&&(n=f),f>q&&(q=f)),F[f]&&(f<t&&(t=f),f>v&&(v=f));for(d=0;d<V.length;d+=1)V[d]&&(d<r&&(r=d),d>m&&(m=d)),W[d]&&(d<w&&(w=d),d>A&&(A=d));n=(n<<4)+this.Ab(D[n]);q=(q<<4)+this.Gb(D[q]);r=(r<<4)+this.Ab(V[r]);m=(m<<4)+this.Gb(V[m]);0>m&&(m=p-1);r>=
p&&(r=0);n>=g&&(n=0);0>q&&(q=g-1);m>p-1&&(m=p-1);0>r&&(r=0);0>n&&(n=0);q>g-1&&(q=g-1);u.L=m;u.I=r;u.H=n;u.J=q;t=(t<<4)+this.Ab(F[t]);v=(v<<4)+this.Gb(F[v]);w=(w<<4)+this.Ab(W[w]);A=(A<<4)+this.Gb(W[A]);0>A&&(A=p-1);w>=p&&(w=0);t>=g&&(t=0);0>v&&(v=g-1);A>p-1&&(A=p-1);0>w&&(w=0);0>t&&(t=0);v>g-1&&(v=g-1);z.L=A;z.I=w;z.H=t;z.J=v};pa.prototype.fn=function(){var a=this.m,b=this.B,c=this.ra,d,f,e,k,g,l=0,p=0,n=0,q=this.width,m=q>>4,r=this.height,u=q,t=-1,v=-1,A=r,w=this.v,z=this.Ia,D,F,L=this.Wa;var O=
this.ea;var N=this.ba>>4;var V=0;var W=O,H=this.h+this.u-1,P=this.u,R=0<this.u?1:0;if(0!==(this.counter&1)){var T=this.Va;var Z=this.X}else T=this.xa,Z=this.O;0>V&&(V=0);W>O&&(W=O);z.fill(0);L.fill(0);O=V<<4;var oa=O+16;for(f=V;f<W;f+=1){var ha=0;var ba=Z[f];var ia=c[f];var ma=b[f];for(e=0;e<N;e+=1){var fa=ba[e]|ia[e];var U=0;if(fa)for(k=15;0<=k;--k){if(0!==(fa&1<<k)){var ka=D=0;var ca=32768;var aa=0;for(V=O;V<oa;V+=1){var X=T[V];var na=a[V];var Q=ha<<4;var E=X[ha];for(g=F=32768;0<g;){var y=d=na[Q];
(d<=P||d===H)&&0!==(E&g)?d=H:(E&=~g,d>R&&--d);na[Q]=d;d>R&&(aa=1,d>P&&(D|=F,ka|=ca),d===H&&(l+=1,y!==H&&(p+=1)));y===H&&d!==H&&(n+=1);F>>=1;Q+=1;g>>=1;y=d=na[Q];(d<=P||d===H)&&0!==(E&g)?d=H:(E&=~g,d>R&&--d);na[Q]=d;d>R&&(aa=1,d>P&&(D|=F,ka|=ca),d===H&&(l+=1,y!==H&&(p+=1)));y===H&&d!==H&&(n+=1);F>>=1;Q+=1;g>>=1;y=d=na[Q];(d<=P||d===H)&&0!==(E&g)?d=H:(E&=~g,d>R&&--d);na[Q]=d;d>R&&(aa=1,d>P&&(D|=F,ka|=ca),d===H&&(l+=1,y!==H&&(p+=1)));y===H&&d!==H&&(n+=1);F>>=1;Q+=1;g>>=1;y=d=na[Q];(d<=P||d===H)&&0!==
(E&g)?d=H:(E&=~g,d>R&&--d);na[Q]=d;d>R&&(aa=1,d>P&&(D|=F,ka|=ca),d===H&&(l+=1,y!==H&&(p+=1)));y===H&&d!==H&&(n+=1);F>>=1;Q+=1;g>>=1}X[ha]=E;ca>>=1}z[ha]|=D;L[f]|=ka;aa&&(U|=1<<k)}ha+=1}else ha+=16;ia[e]=U;ma[e]|=U}O+=16;oa+=16}for(e=0;e<m;e+=1)z[e]&&(e<u&&(u=e),e>t&&(t=e));for(f=0;f<L.length;f+=1)L[f]&&(f<A&&(A=f),f>v&&(v=f));u=(u<<4)+this.Ab(z[u]);t=(t<<4)+this.Gb(z[t]);A=(A<<4)+this.Ab(L[A]);v=(v<<4)+this.Gb(L[v]);0>v&&(v=r-1);A>=r&&(A=0);u>=q&&(u=0);0>t&&(t=q-1);v>r-1&&(v=r-1);0>A&&(A=0);0>u&&
(u=0);t>q-1&&(t=q-1);w.L=v;w.I=A;w.H=u;w.J=t;this.s=l;this.ma=p;this.$=n};pa.prototype.xe=function(){this.da||this.i||this.o||this.l||this.A||(-1===this.h&&(this.Xb?this.Nk():this.Ok()),this.fd&&this.nm())};pa.prototype.Hk=function(){var a,b=this.we,c=this.B,d,f,e,k=0,g,l=this.ea,p=this.ba>>4;var n=16;for(d=0;d<l;d+=1){var q=0;var m=c[d];for(f=0;f<p;f+=1)if(g=m[f])for(e=15;0<=e;--e){if(0!==(g&1<<e))for(a=k;a<n;){var r=b[a];var u=q<<3;r[u]&=16448;u+=1;r[u]&=16448;u+=1;r[u]&=16448;u+=1;r[u]&=16448;
u+=1;r[u]&=16448;u+=1;r[u]&=16448;u+=1;r[u]&=16448;u+=1;r[u]&=16448;a+=1}q+=1}else q+=16;k+=16;n+=16}};pa.prototype.Ym=function(){var a=this.M,b=this.K,c=this.v;this.ga?this.$m():this.bd?this.dn():this.bn();if(-1!==this.C){var d=Math.round((this.width-a)/2);var f=Math.round((this.height-b)/2);a=d+a-1;b=f+b-1;c.H<d&&(c.H=d);c.J>a&&(c.J=a);c.I<f&&(c.I=f);c.L>b&&(c.L=b)}};pa.prototype.Gn=function(){var a=this.M,b=this.K,c=this.v;this.ga?this.In():this.bd?this.Mn():this.Jn();if(-1!==this.C){var d=Math.round((this.width-
a)/2);var f=Math.round((this.height-b)/2);a=d+a-1;b=f+b-1;c.H<d&&(c.H=d);c.J>a&&(c.J=a);c.I<f&&(c.I=f);c.L>b&&(c.L=b)}};pa.prototype.qm=function(){switch(this.Sc){case Ba.Si:if(null!==this.Fa&&this.cc&&-1===this.hb)switch(this.Yd){case 1:this.Pj();break;case 2:this.Qj();break;case 3:this.Rj();break;case 4:this.Sj();break;case 5:this.Tj();break;default:this.ai()}else this.un();break;case Ba.Bg:if(null!==this.Fa&&this.cc&&-1===this.hb)switch(this.Yd){case 1:this.Mj();break;case 2:this.Nj();break;case 3:this.Oj();
break;default:this.Vj()}else this.Vj();break;case Ba.Ag:if(null!==this.Fa&&this.cc&&-1===this.hb)switch(this.Yd){case 1:this.mn();break;case 2:this.on();break;case 3:this.qn();break;default:this.Uj()}else this.Uj();break;case Ba.yj:this.sn()}};pa.prototype.sn=function(){var a=this.sd;var b=a[0],c=a[1],d=a[2],f=this.Yb,e=this.rd,k,g,l,p,n,q=this.Ua,m,r=this.Ia,u,t=this.Wa,v,A,w=0,z=0,D=0,F=this.width,L=this.v,O=this.height,N=this.ea,V=this.ba>>4,W=this.Qa;if(0!==(this.counter&1)){var H=this.Y;var P=
this.va;var R=this.m;var T=this.X;var Z=this.O}else H=this.m,P=this.wa,R=this.Y,T=this.O,Z=this.X;r.fill(0);t.fill(0);var oa=0;var ha=oa+16;Z.aa.fill(0);for(p=0;p<T.length;p+=1){var ba=0;var ia=ba+16;var ma=T[p];var fa=Z[p];var U=q[p];var ka=0<p?Z[p-1]:W;var ca=p<N-1?Z[p+1]:W;for(n=0;n<V;n+=1){var aa=ma[n];var X=0;if(aa){var na=fa[n];var Q=ka[n];var E=ca[n];for(l=15;0<=l;--l){if(0!==(aa&1<<l)){var y=v=u=m=0;var K=oa;for(A=32768;K<ha;){a=H[K];var M=R[K];var J=32768;var x=ba;var B=0===x?0:a[x-1];for(g=
a[x];x<ia-1;){var la=B;B=g;g=a[x+1];var Y=b[B];var qa=c[la];var sa=d[g];var ja=B;for(k=0;k<e;k+=1)if(la=Y[k]&qa[k]&sa[k]){Y=0;for(sa=1;!(la&sa);)Y+=1,sa<<=1;ja=f[(k<<5)+Y];break}M[x]=ja;0<ja?(w+=1,0===B&&(z+=1),v|=A,u|=J):0<B&&(D+=1);m|=B;J>>=1;x+=1}la=B;B=g;g=x===F-1?0:a[x+1];Y=b[B];qa=c[la];sa=d[g];ja=B;for(k=0;k<e;k+=1)if(la=Y[k]&qa[k]&sa[k]){Y=0;for(sa=1;!(la&sa);)Y+=1,sa<<=1;ja=f[(k<<5)+Y];break}M[x]=ja;0<ja?(w+=1,0===B&&(z+=1),v|=A,u|=J):0<B&&(D+=1);m|=B;K+=1;A>>=1}r[ba>>4]|=u;u?(na|=1<<l,v&
1&&(y|=I.ub,u&32768&&(y|=I.Eb),u&1&&(y|=I.tb)),v&32768&&(y|=I.yb,u&32768&&(y|=I.Cb),u&1&&(y|=I.Db)),u&32768&&(y|=I.rb),u&1&&(y|=I.jb),y&&(0!==(y&I.rb)&&(15>l?na|=1<<l+1:0<n&&0<ba&&(fa[n-1]|=1)),0!==(y&I.jb)&&(0<l?na|=1<<l-1:n<V-1&&ba<F-1&&(fa[n+1]|=32768)),0!==(y&I.yb)&&(Q|=1<<l),0!==(y&I.ub)&&(E|=1<<l),0!==(y&I.Cb)&&(15>l?Q|=1<<l+1:0<n&&0<ba&&(ka[n-1]|=1)),0!==(y&I.Db)&&(0<l?Q|=1<<l-1:n<V-1&&ba<F-1&&(ka[n+1]|=32768)),0!==(y&I.Eb)&&(15>l?E|=1<<l+1:0<n&&0<ba&&(ca[n-1]|=1)),0!==(y&I.tb)&&(0<l?E|=1<<
l-1:n<V-1&&ba<F-1&&(ca[n+1]|=32768)))):m&&(X|=1<<l);t[p]|=v}ba+=16;ia+=16}fa[n]|=na;0<p&&(ka[n]|=Q);p<N-1&&(ca[n]|=E)}else ba+=256,ia+=256;U[n]=X}oa+=16;ha+=16}this.Rb(r,t,F,O,L);W.fill(0);this.Ob(P);for(K=0;K<this.B.aa.length;K+=1)this.B.aa[K]=this.B.aa[K]|T.aa[K]|Z.aa[K];this.s=w;this.ma=z;this.$=D};pa.prototype.un=function(){var a=this.sd;var b=a[0],c=a[1],d=a[2],f=a[3],e=a[4],k=this.Yb,g=this.rd,l,p,n,q,m=this.Ua,r,u=this.Ia,t,v=this.Wa,A,w,z=0,D=0,F=0,L=this.width,O=this.v,N=this.height,V=this.ea,
W=this.ba>>4,H=this.Qa;if(0!==(this.counter&1)){var P=this.Y;var R=this.va;var T=this.m;var Z=this.X;var oa=this.O}else P=this.m,R=this.wa,T=this.Y,Z=this.O,oa=this.X;u.fill(0);v.fill(0);var ha=0;var ba=ha+16;oa.aa.fill(0);for(n=0;n<Z.length;n+=1){var ia=0;var ma=ia+16;var fa=Z[n];var U=oa[n];var ka=m[n];var ca=0<n?oa[n-1]:H;var aa=n<V-1?oa[n+1]:H;for(q=0;q<W;q+=1){var X=fa[q];var na=0;if(X){var Q=U[q];var E=ca[q];var y=aa[q];for(p=15;0<=p;--p){if(0!==(X&1<<p)){var K=A=t=r=0;var M=ha;for(w=32768;M<
ba;){a=0===M?this.pa:P[M-1];var J=P[M];var x=M===this.height-1?this.pa:P[M+1];var B=T[M];var la=32768;var Y=ia;var qa=0===Y?0:J[Y-1];for(l=J[Y];Y<ma-1;){var sa=qa;qa=l;var ja=a[Y];l=J[Y+1];var ta=x[Y];var za=b[qa];ja=c[ja];var Ha=d[l];var Da=f[ta];var Pa=e[sa];var Qa=qa;for(ta=0;ta<g;ta+=1)if(sa=za[ta]&ja[ta])if(sa&=Ha[ta]&Da[ta]&Pa[ta]){za=0;for(ja=1;!(sa&ja);)za+=1,ja<<=1;Qa=k[(ta<<5)+za];break}B[Y]=Qa;0<Qa?(z+=1,0===qa&&(D+=1),A|=w,t|=la):0<qa&&(F+=1);r|=qa;la>>=1;Y+=1}sa=qa;qa=l;ja=a[Y];l=Y===
L-1?0:J[Y+1];ta=x[Y];za=b[qa];ja=c[ja];Ha=d[l];Da=f[ta];Pa=e[sa];Qa=qa;for(ta=0;ta<g;ta+=1)if(sa=za[ta]&ja[ta])if(sa&=Ha[ta]&Da[ta]&Pa[ta]){za=0;for(ja=1;!(sa&ja);)za+=1,ja<<=1;Qa=k[(ta<<5)+za];break}B[Y]=Qa;0<Qa?(z+=1,0===qa&&(D+=1),A|=w,t|=la):0<qa&&(F+=1);r|=qa;M+=1;w>>=1}u[ia>>4]|=t;t?(Q|=1<<p,A&1&&(K|=I.ub,t&32768&&(K|=I.Eb),t&1&&(K|=I.tb)),A&32768&&(K|=I.yb,t&32768&&(K|=I.Cb),t&1&&(K|=I.Db)),t&32768&&(K|=I.rb),t&1&&(K|=I.jb),K&&(0!==(K&I.rb)&&(15>p?Q|=1<<p+1:0<q&&0<ia&&(U[q-1]|=1)),0!==(K&I.jb)&&
(0<p?Q|=1<<p-1:q<W-1&&ia<L-1&&(U[q+1]|=32768)),0!==(K&I.yb)&&(E|=1<<p),0!==(K&I.ub)&&(y|=1<<p),0!==(K&I.Cb)&&(15>p?E|=1<<p+1:0<q&&0<ia&&(ca[q-1]|=1)),0!==(K&I.Db)&&(0<p?E|=1<<p-1:q<W-1&&ia<L-1&&(ca[q+1]|=32768)),0!==(K&I.Eb)&&(15>p?y|=1<<p+1:0<q&&0<ia&&(aa[q-1]|=1)),0!==(K&I.tb)&&(0<p?y|=1<<p-1:q<W-1&&ia<L-1&&(aa[q+1]|=32768)))):r&&(na|=1<<p);v[n]|=A}ia+=16;ma+=16}U[q]|=Q;0<n&&(ca[q]|=E);n<V-1&&(aa[q]|=y)}else ia+=256,ma+=256;ka[q]=na}ha+=16;ba+=16}this.Rb(u,v,L,N,O);H.fill(0);this.Ob(R);for(M=0;M<
this.B.aa.length;M+=1)this.B.aa[M]=this.B.aa[M]|Z.aa[M]|oa.aa[M];this.s=z;this.ma=D;this.$=F};pa.prototype.Vj=function(){var a=this.sd;var b=a[0],c=a[1],d=a[2],f=a[3],e=a[4],k=a[5],g=a[6],l=a[7],p=a[8],n=this.Yb,q=this.rd,m,r,u,t,v,A,w=this.Ua,z,D=this.Ia,F,L=this.Wa,O,N,V=0,W=0,H=0,P=this.width,R=this.v,T=this.height,Z=this.ea,oa=this.ba>>4,ha=this.Qa;if(0!==(this.counter&1)){var ba=this.Y;var ia=this.va;var ma=this.m;var fa=this.X;var U=this.O}else ba=this.m,ia=this.wa,ma=this.Y,fa=this.O,U=this.X;
D.fill(0);L.fill(0);var ka=0;var ca=ka+16;U.aa.fill(0);for(v=0;v<fa.length;v+=1){var aa=0;var X=aa+16;var na=fa[v];var Q=U[v];var E=w[v];var y=0<v?U[v-1]:ha;var K=v<Z-1?U[v+1]:ha;for(A=0;A<oa;A+=1){var M=na[A];var J=0;if(M){var x=Q[A];var B=y[A];var la=K[A];for(t=15;0<=t;--t){if(0!==(M&1<<t)){var Y=O=F=z=0;var qa=ka;for(N=32768;qa<ca;){a=0===qa?this.pa:ba[qa-1];var sa=ba[qa];var ja=qa===this.height-1?this.pa:ba[qa+1];var ta=ma[qa];var za=32768;var Ha=aa;if(0===Ha)var Da=u=m=0;else m=a[Ha-1],u=ja[Ha-
1],Da=sa[Ha-1];var Pa=a[Ha];var Qa=ja[Ha];for(r=sa[Ha];Ha<X-1;){var La=m;m=Pa;Pa=a[Ha+1];var Ga=Da;Da=r;r=sa[Ha+1];var Za=u;u=Qa;Qa=ja[Ha+1];var $a=Da;var ib=b[Da];var Ua=c[m];var cb=d[Pa];var nb=f[r];var ob=e[Qa];var mb=k[u];Za=g[Za];var jb=l[Ga];var Ra=p[La];for(Ga=0;Ga<q;Ga+=1)if(La=ib[Ga]&Ua[Ga])if(La&=cb[Ga]&nb[Ga])if(La&=ob[Ga]&mb[Ga])if(La&=Za[Ga]&jb[Ga]&Ra[Ga]){Ua=0;for(cb=1;!(La&cb);)Ua+=1,cb<<=1;$a=n[(Ga<<5)+Ua];break}ta[Ha]=$a;0<$a?(V+=1,0===Da&&(W+=1),O|=N,F|=za):0<Da&&(H+=1);z|=Da;za>>=
1;Ha+=1}La=m;m=Pa;Ga=Da;Da=r;Za=u;u=Qa;Ha===P-1?Qa=r=Pa=0:(Pa=a[Ha+1],r=sa[Ha+1],Qa=ja[Ha+1]);ib=b[Da];Ua=c[m];cb=d[Pa];nb=f[r];ob=e[Qa];mb=k[u];Za=g[Za];jb=l[Ga];Ra=p[La];$a=Da;for(Ga=0;Ga<q;Ga+=1)if(La=ib[Ga]&Ua[Ga])if(La&=cb[Ga]&nb[Ga])if(La&=ob[Ga]&mb[Ga])if(La&=Za[Ga]&jb[Ga]&Ra[Ga]){Ua=0;for(cb=1;!(La&cb);)Ua+=1,cb<<=1;$a=n[(Ga<<5)+Ua];break}ta[Ha]=$a;0<$a?(V+=1,0===Da&&(W+=1),O|=N,F|=za):0<Da&&(H+=1);z|=Da;qa+=1;N>>=1}D[aa>>4]|=F;F?(x|=1<<t,O&1&&(Y|=I.ub,F&32768&&(Y|=I.Eb),F&1&&(Y|=I.tb)),O&
32768&&(Y|=I.yb,F&32768&&(Y|=I.Cb),F&1&&(Y|=I.Db)),F&32768&&(Y|=I.rb),F&1&&(Y|=I.jb),Y&&(0!==(Y&I.rb)&&(15>t?x|=1<<t+1:0<A&&0<aa&&(Q[A-1]|=1)),0!==(Y&I.jb)&&(0<t?x|=1<<t-1:A<oa-1&&aa<P-1&&(Q[A+1]|=32768)),0!==(Y&I.yb)&&(B|=1<<t),0!==(Y&I.ub)&&(la|=1<<t),0!==(Y&I.Cb)&&(15>t?B|=1<<t+1:0<A&&0<aa&&(y[A-1]|=1)),0!==(Y&I.Db)&&(0<t?B|=1<<t-1:A<oa-1&&aa<P-1&&(y[A+1]|=32768)),0!==(Y&I.Eb)&&(15>t?la|=1<<t+1:0<A&&0<aa&&(K[A-1]|=1)),0!==(Y&I.tb)&&(0<t?la|=1<<t-1:A<oa-1&&aa<P-1&&(K[A+1]|=32768)))):z&&(J|=1<<t);
L[v]|=O}aa+=16;X+=16}Q[A]|=x;0<v&&(y[A]|=B);v<Z-1&&(K[A]|=la)}else aa+=256,X+=256;E[A]=J}ka+=16;ca+=16}this.Rb(D,L,P,T,R);ha.fill(0);this.Ob(ia);for(qa=0;qa<this.B.aa.length;qa+=1)this.B.aa[qa]=this.B.aa[qa]|fa.aa[qa]|U.aa[qa];this.s=V;this.ma=W;this.$=H};pa.prototype.Uj=function(){var a=this.sd;var b=a[0],c=a[1],d=a[2],f=a[3],e=a[4],k=a[5],g=a[6],l=this.Yb,p=this.rd,n,q,m,r,u,t=this.Ua,v,A=this.Ia,w,z=this.Wa,D,F,L=0,O=0,N=0,V=this.width,W=this.v,H=this.height,P=this.ea,R=this.ba>>4,T=this.Qa;if(0!==
(this.counter&1)){var Z=this.Y;var oa=this.va;var ha=this.m;var ba=this.X;var ia=this.O}else Z=this.m,oa=this.wa,ha=this.Y,ba=this.O,ia=this.X;A.fill(0);z.fill(0);var ma=0;var fa=ma+16;ia.aa.fill(0);for(r=0;r<ba.length;r+=1){var U=0;var ka=U+16;var ca=ba[r];var aa=ia[r];var X=t[r];var na=0<r?ia[r-1]:T;var Q=r<P-1?ia[r+1]:T;for(u=0;u<R;u+=1){var E=ca[u];var y=0;if(E){var K=aa[u];var M=na[u];var J=Q[u];for(m=15;0<=m;--m){if(0!==(E&1<<m)){var x=D=w=v=0;var B=ma;for(F=32768;B<fa;){a=0===B?this.pa:Z[B-
1];var la=Z[B];var Y=B===this.height-1?this.pa:Z[B+1];var qa=ha[B];var sa=32768;var ja=U;if(0===ja)var ta=n=0;else n=a[ja-1],ta=la[ja-1];var za=Y[ja];for(q=la[ja];ja<ka-1;){var Ha=n;n=a[ja];var Da=ta;ta=q;q=la[ja+1];var Pa=za;za=Y[ja+1];var Qa=b[ta];var La=c[n];var Ga=d[q];var Za=f[za];Pa=e[Pa];var $a=k[Da];var ib=g[Ha];var Ua=ta;for(Da=0;Da<p;Da+=1)if(Ha=Qa[Da]&La[Da])if(Ha&=Ga[Da]&Za[Da])if(Ha&=Pa[Da]&$a[Da]&ib[Da]){La=0;for(Ga=1;!(Ha&Ga);)La+=1,Ga<<=1;Ua=l[(Da<<5)+La];break}qa[ja]=Ua;0<Ua?(L+=
1,0===ta&&(O+=1),D|=F,w|=sa):0<ta&&(N+=1);v|=ta;sa>>=1;ja+=1}Ha=n;n=a[ja];Da=ta;ta=q;Pa=za;ja===V-1?za=q=0:(q=la[ja+1],za=Y[ja+1]);Qa=b[ta];La=c[n];Ga=d[q];Za=f[za];Pa=e[Pa];$a=k[Da];ib=g[Ha];Ua=ta;for(Da=0;Da<p;Da+=1)if(Ha=Qa[Da]&La[Da])if(Ha&=Ga[Da]&Za[Da])if(Ha&=Pa[Da]&$a[Da]&ib[Da]){La=0;for(Ga=1;!(Ha&Ga);)La+=1,Ga<<=1;Ua=l[(Da<<5)+La];break}qa[ja]=Ua;0<Ua?(L+=1,0===ta&&(O+=1),D|=F,w|=sa):0<ta&&(N+=1);v|=ta;B+=1;F>>=1}A[U>>4]|=w;w?(K|=1<<m,D&1&&(x|=I.ub,w&32768&&(x|=I.Eb),w&1&&(x|=I.tb)),D&32768&&
(x|=I.yb,w&32768&&(x|=I.Cb),w&1&&(x|=I.Db)),w&32768&&(x|=I.rb),w&1&&(x|=I.jb),x&&(0!==(x&I.rb)&&(15>m?K|=1<<m+1:0<u&&0<U&&(aa[u-1]|=1)),0!==(x&I.jb)&&(0<m?K|=1<<m-1:u<R-1&&U<V-1&&(aa[u+1]|=32768)),0!==(x&I.yb)&&(M|=1<<m),0!==(x&I.ub)&&(J|=1<<m),0!==(x&I.Cb)&&(15>m?M|=1<<m+1:0<u&&0<U&&(na[u-1]|=1)),0!==(x&I.Db)&&(0<m?M|=1<<m-1:u<R-1&&U<V-1&&(na[u+1]|=32768)),0!==(x&I.Eb)&&(15>m?J|=1<<m+1:0<u&&0<U&&(Q[u-1]|=1)),0!==(x&I.tb)&&(0<m?J|=1<<m-1:u<R-1&&U<V-1&&(Q[u+1]|=32768)))):v&&(y|=1<<m);z[r]|=D}U+=16;
ka+=16}aa[u]|=K;0<r&&(na[u]|=M);r<P-1&&(Q[u]|=J)}else U+=256,ka+=256;X[u]=y}ma+=16;fa+=16}this.Rb(A,z,V,H,W);T.fill(0);this.Ob(oa);for(B=0;B<this.B.aa.length;B+=1)this.B.aa[B]=this.B.aa[B]|ba.aa[B]|ia.aa[B];this.s=L;this.ma=O;this.$=N};pa.prototype.xn=function(){if(4===this.wd)if(null!==this.Fa&&this.cc&&-1===this.hb)switch(this.Yd){case 1:this.Pj();break;case 2:this.Qj();break;case 3:this.Rj();break;case 4:this.Sj();break;case 5:this.Tj();break;default:this.ai()}else this.ai();else if(null!==this.Fa&&
this.cc&&-1===this.hb)switch(this.Yd){case 1:this.Mj();break;case 2:this.Nj();break;case 3:this.Oj();break;default:this.Wj()}else null!==this.Je&&this.cc?this.En():this.Wj()};pa.prototype.ai=function(){var a=this.Ue,b=this.We,c=this.Mf,d,f,e,k=this.Ua,g,l=this.Ia,p,n=this.Wa,q,m,r=0,u=0,t=0,v=this.width,A=this.v,w=this.height,z=this.ea,D=this.ba>>4,F=this.Qa;if(0!==(this.counter&1)){var L=this.Y;var O=this.va;var N=this.wa;var V=this.X;var W=this.O}else L=this.m,O=this.wa,N=this.va,V=this.O,W=this.X;
l.fill(0);n.fill(0);var H=0;var P=H+16;W.aa.fill(0);for(f=0;f<V.length;f+=1){var R=0;var T=V[f];var Z=W[f];var oa=k[f];var ha=0<f?W[f-1]:F;var ba=f<z-1?W[f+1]:F;for(e=0;e<D;e+=1){var ia=T[e];var ma=0;if(ia){var fa=Z[e];var U=ha[e];var ka=ba[e];for(d=15;0<=d;--d){if(0!==(ia&1<<d)){var ca=q=p=g=0;var aa=H;for(m=32768;aa<P;){var X=0===aa?this.pa:L[aa-1];var na=L[aa];var Q=aa===this.height-1?this.pa:L[aa+1];var E=N[aa];var y=32768;var K=0;var M=R;var J=0===M?0:na[M-1];var x=na[M];var B=J;J=x;var la=X[M];
x=na[M+1];var Y=Q[M];var qa=la=b[a[a[a[a[c+la]+B]+x]+Y]+J];0<la?(r+=1,0===J&&(u+=1),K|=y):0<J&&(t+=1);g|=J;y>>=1;M+=1;B=J;J=x;la=X[M];x=na[M+1];Y=Q[M];la=b[a[a[a[a[c+la]+B]+x]+Y]+J];qa|=la<<8;0<la?(r+=1,0===J&&(u+=1),K|=y):0<J&&(t+=1);g|=J;y>>=1;M+=1;B=J;J=x;la=X[M];x=na[M+1];Y=Q[M];la=b[a[a[a[a[c+la]+B]+x]+Y]+J];qa|=la<<16;0<la?(r+=1,0===J&&(u+=1),K|=y):0<J&&(t+=1);g|=J;y>>=1;M+=1;B=J;J=x;la=X[M];x=na[M+1];Y=Q[M];la=b[a[a[a[a[c+la]+B]+x]+Y]+J];qa|=la<<24;E[M>>2]=qa;0<la?(r+=1,0===J&&(u+=1),K|=y):
0<J&&(t+=1);g|=J;y>>=1;M+=1;B=J;J=x;la=X[M];x=na[M+1];Y=Q[M];qa=la=b[a[a[a[a[c+la]+B]+x]+Y]+J];0<la?(r+=1,0===J&&(u+=1),K|=y):0<J&&(t+=1);g|=J;y>>=1;M+=1;B=J;J=x;la=X[M];x=na[M+1];Y=Q[M];la=b[a[a[a[a[c+la]+B]+x]+Y]+J];qa|=la<<8;0<la?(r+=1,0===J&&(u+=1),K|=y):0<J&&(t+=1);g|=J;y>>=1;M+=1;B=J;J=x;la=X[M];x=na[M+1];Y=Q[M];la=b[a[a[a[a[c+la]+B]+x]+Y]+J];qa|=la<<16;0<la?(r+=1,0===J&&(u+=1),K|=y):0<J&&(t+=1);g|=J;y>>=1;M+=1;B=J;J=x;la=X[M];x=na[M+1];Y=Q[M];la=b[a[a[a[a[c+la]+B]+x]+Y]+J];qa|=la<<24;E[M>>
2]=qa;0<la?(r+=1,0===J&&(u+=1),K|=y):0<J&&(t+=1);g|=J;y>>=1;M+=1;B=J;J=x;la=X[M];x=na[M+1];Y=Q[M];qa=la=b[a[a[a[a[c+la]+B]+x]+Y]+J];0<la?(r+=1,0===J&&(u+=1),K|=y):0<J&&(t+=1);g|=J;y>>=1;M+=1;B=J;J=x;la=X[M];x=na[M+1];Y=Q[M];la=b[a[a[a[a[c+la]+B]+x]+Y]+J];qa|=la<<8;0<la?(r+=1,0===J&&(u+=1),K|=y):0<J&&(t+=1);g|=J;y>>=1;M+=1;B=J;J=x;la=X[M];x=na[M+1];Y=Q[M];la=b[a[a[a[a[c+la]+B]+x]+Y]+J];qa|=la<<16;0<la?(r+=1,0===J&&(u+=1),K|=y):0<J&&(t+=1);g|=J;y>>=1;M+=1;B=J;J=x;la=X[M];x=na[M+1];Y=Q[M];la=b[a[a[a[a[c+
la]+B]+x]+Y]+J];qa|=la<<24;E[M>>2]=qa;0<la?(r+=1,0===J&&(u+=1),K|=y):0<J&&(t+=1);g|=J;y>>=1;M+=1;B=J;J=x;la=X[M];x=na[M+1];Y=Q[M];qa=la=b[a[a[a[a[c+la]+B]+x]+Y]+J];0<la?(r+=1,0===J&&(u+=1),K|=y):0<J&&(t+=1);g|=J;y>>=1;M+=1;B=J;J=x;la=X[M];x=na[M+1];Y=Q[M];la=b[a[a[a[a[c+la]+B]+x]+Y]+J];qa|=la<<8;0<la?(r+=1,0===J&&(u+=1),K|=y):0<J&&(t+=1);g|=J;y>>=1;M+=1;B=J;J=x;la=X[M];x=na[M+1];Y=Q[M];la=b[a[a[a[a[c+la]+B]+x]+Y]+J];qa|=la<<16;0<la?(r+=1,0===J&&(u+=1),K|=y):0<J&&(t+=1);g|=J;y>>=1;M+=1;B=J;J=x;la=
X[M];x=M===v-1?0:na[M+1];Y=Q[M];la=b[a[a[a[a[c+la]+B]+x]+Y]+J];qa|=la<<24;E[M>>2]=qa;0<la?(r+=1,0===J&&(u+=1),K|=y):0<J&&(t+=1);g|=J;K&&(p|=K,q|=m);aa+=1;m>>=1}l[R>>4]|=p;p?(fa|=1<<d,q&1&&(ca|=I.ub,p&32768&&(ca|=I.Eb),p&1&&(ca|=I.tb)),q&32768&&(ca|=I.yb,p&32768&&(ca|=I.Cb),p&1&&(ca|=I.Db)),p&32768&&(ca|=I.rb),p&1&&(ca|=I.jb),ca&&(0!==(ca&I.rb)&&(15>d?fa|=1<<d+1:0<e&&0<R&&(Z[e-1]|=1)),0!==(ca&I.jb)&&(0<d?fa|=1<<d-1:e<D-1&&R<v-1&&(Z[e+1]|=32768)),0!==(ca&I.yb)&&(U|=1<<d),0!==(ca&I.ub)&&(ka|=1<<d),0!==
(ca&I.Cb)&&(15>d?U|=1<<d+1:0<e&&0<R&&(ha[e-1]|=1)),0!==(ca&I.Db)&&(0<d?U|=1<<d-1:e<D-1&&R<v-1&&(ha[e+1]|=32768)),0!==(ca&I.Eb)&&(15>d?ka|=1<<d+1:0<e&&0<R&&(ba[e-1]|=1)),0!==(ca&I.tb)&&(0<d?ka|=1<<d-1:e<D-1&&R<v-1&&(ba[e+1]|=32768)))):g&&(ma|=1<<d);n[f]|=q}R+=16}Z[e]|=fa;0<f&&(ha[e]|=U);f<z-1&&(ba[e]|=ka)}else R+=256;oa[e]=ma}H+=16;P+=16}this.Rb(l,n,v,w,A);F.fill(0);this.Ob(O);for(aa=0;aa<this.B.aa.length;aa+=1)this.B.aa[aa]=this.B.aa[aa]|V.aa[aa]|W.aa[aa];this.s=r;this.ma=u;this.$=t};pa.prototype.Xm=
function(){var a="MAP",b=this.sd,c=this.Yb,d=this.rd,f,e=0;switch(this.Sc){case Ba.Bg:var k=b[0];var g=b[1];var l=b[2];var p=b[3];var n=b[4];var q=b[5];var m=b[6];var r=b[7];b=b[8];for(f=0;512>f;f+=1){var u=(f&256)>>8;var t=(f&128)>>7;var v=(f&64)>>6;var A=(f&32)>>5;var w=(f&16)>>4;var z=(f&8)>>3;var D=(f&4)>>2;var F=(f&2)>>1;var L=f&1;var O=w;w=k[w];t=g[t];v=l[v];z=p[z];L=n[L];F=q[F];D=m[D];var N=r[A];var V=b[u];for(A=0;A<d;A+=1)if(u=w[A]&t[A])if(u&=v[A]&z[A])if(u&=L[A]&F[A])if(u&=D[A]&N[A]&V[A]){O=
0;for(w=1;!(u&w);)O+=1,w<<=1;O=c[(A<<5)+O];break}e=e<<1|O&1;5===f%6&&(a+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"[e],e=0)}a+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"[e<<6-f%6];break;case Ba.Si:k=b[0];g=b[1];l=b[2];p=b[3];n=b[4];for(f=0;32>f;f+=1){t=(f&16)>>4;A=(f&8)>>3;w=(f&4)>>2;z=(f&2)>>1;F=f&1;O=w;w=k[w];t=g[t];z=l[z];F=p[F];N=n[A];for(A=0;A<d;A+=1)if(u=w[A]&t[A])if(u&=z[A]&F[A]&N[A]){O=0;for(w=1;!(u&w);)O+=1,w<<=1;O=c[(A<<5)+O];break}e=e<<1|
O&1;5===f%6&&(a+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"[e],e=0)}a+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"[e<<6-f%6];break;case Ba.Ag:k=b[0];g=b[1];l=b[2];p=b[3];n=b[4];q=b[5];m=b[6];for(f=0;128>f;f+=1){F=(f&64)>>6;L=(f&32)>>5;A=(f&16)>>4;w=(f&8)>>3;z=(f&4)>>2;u=(f&2)>>1;t=f&1;O=w;w=k[w];t=g[t];z=l[z];L=p[L];F=n[F];N=q[A];V=m[u];for(A=0;A<d;A+=1)if(u=w[A]&t[A])if(u&=z[A]&L[A])if(u&=F[A]&N[A]&V[A]){O=0;for(w=1;!(u&w);)O+=1,w<<=1;O=c[(A<<5)+O];
break}e=e<<1|O&1;5===f%6&&(a+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"[e],e=0)}a+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"[e<<6-f%6]}return a};pa.prototype.Zm=function(){var a="MAP",b=this.Ue,c=this.We,d=this.Mf,f,e=0;if(8===this.wd)for(f=0;512>f;f+=1){var k=(f&256)>>8;var g=(f&128)>>7;var l=(f&64)>>6;var p=(f&32)>>5;var n=(f&16)>>4;var q=(f&8)>>3;var m=(f&4)>>2;var r=(f&2)>>1;var u=f&1;g=c[b[b[b[b[b[b[b[b[d+k]+l]+m]+u]+g]+p]+q]+r]+n];e=e<<1|g&1;
5===f%6&&(a+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"[e],e=0)}else for(f=0;32>f;f+=1)g=(f&16)>>4,p=(f&8)>>3,n=(f&4)>>2,q=(f&2)>>1,r=f&1,g=c[b[b[b[b[d+g]+p]+q]+r]+n],e=e<<1|g&1,5===f%6&&(a+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"[e],e=0);return a+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"[e<<6-f%6]};pa.prototype.Vm=function(){return null===this.Yb?this.Zm():this.Xm()};pa.prototype.En=function(){var a=this.Ue,b=this.We,c=
this.Je,d,f,e,k,g,l=this.Ua,p,n=this.Ia,q,m=this.Wa,r,u,t=0,v=0,A=0,w=this.width,z=this.v,D=this.height,F=this.ea,L=this.ba>>4,O=this.Qa;if(0!==(this.counter&1)){var N=this.Y;var V=this.va;var W=this.m;var H=this.X;var P=this.O}else N=this.m,V=this.wa,W=this.Y,H=this.O,P=this.X;n.fill(0);m.fill(0);var R=0;var T=R+16;P.aa.fill(0);for(k=0;k<H.length;k+=1){var Z=0;var oa=H[k];var ha=P[k];var ba=l[k];var ia=0<k?P[k-1]:O;var ma=k<F-1?P[k+1]:O;for(g=0;g<L;g+=1){var fa=oa[g];var U=0;if(fa){var ka=ha[g];
var ca=ia[g];var aa=ma[g];for(e=15;0<=e;--e){if(0!==(fa&1<<e)){var X=r=q=p=0;var na=R;for(u=32768;na<T;){var Q=0===na?this.pa:N[na-1];var E=N[na];var y=na===this.height-1?this.pa:N[na+1];var K=W[na];var M=32768;var J=0;var x=Z;if(0===x)var B=f=d=0;else d=Q[x-1],f=y[x-1],B=E[x-1];var la=Q[x];var Y=y[x];var qa=E[x];var sa=d;d=la;la=Q[x+1];var ja=B;B=qa;qa=E[x+1];var ta=f;f=Y;Y=y[x+1];ja=ja|d<<4|Y<<8|ta<<12|la<<16|sa<<20;ja=b[a[a[c[ja]+qa]+f]+B];K[x]=ja;0<ja?(t+=1,0===B&&(v+=1),J|=M):0<B&&(A+=1);p|=
B;M>>=1;x+=1;sa=d;d=la;la=Q[x+1];ja=B;B=qa;qa=E[x+1];ta=f;f=Y;Y=y[x+1];ja=ja|d<<4|Y<<8|ta<<12|la<<16|sa<<20;ja=b[a[a[c[ja]+qa]+f]+B];K[x]=ja;0<ja?(t+=1,0===B&&(v+=1),J|=M):0<B&&(A+=1);p|=B;M>>=1;x+=1;sa=d;d=la;la=Q[x+1];ja=B;B=qa;qa=E[x+1];ta=f;f=Y;Y=y[x+1];ja=ja|d<<4|Y<<8|ta<<12|la<<16|sa<<20;ja=b[a[a[c[ja]+qa]+f]+B];K[x]=ja;0<ja?(t+=1,0===B&&(v+=1),J|=M):0<B&&(A+=1);p|=B;M>>=1;x+=1;sa=d;d=la;la=Q[x+1];ja=B;B=qa;qa=E[x+1];ta=f;f=Y;Y=y[x+1];ja=ja|d<<4|Y<<8|ta<<12|la<<16|sa<<20;ja=b[a[a[c[ja]+qa]+
f]+B];K[x]=ja;0<ja?(t+=1,0===B&&(v+=1),J|=M):0<B&&(A+=1);p|=B;M>>=1;x+=1;sa=d;d=la;la=Q[x+1];ja=B;B=qa;qa=E[x+1];ta=f;f=Y;Y=y[x+1];ja=ja|d<<4|Y<<8|ta<<12|la<<16|sa<<20;ja=b[a[a[c[ja]+qa]+f]+B];K[x]=ja;0<ja?(t+=1,0===B&&(v+=1),J|=M):0<B&&(A+=1);p|=B;M>>=1;x+=1;sa=d;d=la;la=Q[x+1];ja=B;B=qa;qa=E[x+1];ta=f;f=Y;Y=y[x+1];ja=ja|d<<4|Y<<8|ta<<12|la<<16|sa<<20;ja=b[a[a[c[ja]+qa]+f]+B];K[x]=ja;0<ja?(t+=1,0===B&&(v+=1),J|=M):0<B&&(A+=1);p|=B;M>>=1;x+=1;sa=d;d=la;la=Q[x+1];ja=B;B=qa;qa=E[x+1];ta=f;f=Y;Y=y[x+
1];ja=ja|d<<4|Y<<8|ta<<12|la<<16|sa<<20;ja=b[a[a[c[ja]+qa]+f]+B];K[x]=ja;0<ja?(t+=1,0===B&&(v+=1),J|=M):0<B&&(A+=1);p|=B;M>>=1;x+=1;sa=d;d=la;la=Q[x+1];ja=B;B=qa;qa=E[x+1];ta=f;f=Y;Y=y[x+1];ja=ja|d<<4|Y<<8|ta<<12|la<<16|sa<<20;ja=b[a[a[c[ja]+qa]+f]+B];K[x]=ja;0<ja?(t+=1,0===B&&(v+=1),J|=M):0<B&&(A+=1);p|=B;M>>=1;x+=1;sa=d;d=la;la=Q[x+1];ja=B;B=qa;qa=E[x+1];ta=f;f=Y;Y=y[x+1];ja=ja|d<<4|Y<<8|ta<<12|la<<16|sa<<20;ja=b[a[a[c[ja]+qa]+f]+B];K[x]=ja;0<ja?(t+=1,0===B&&(v+=1),J|=M):0<B&&(A+=1);p|=B;M>>=1;
x+=1;sa=d;d=la;la=Q[x+1];ja=B;B=qa;qa=E[x+1];ta=f;f=Y;Y=y[x+1];ja=ja|d<<4|Y<<8|ta<<12|la<<16|sa<<20;ja=b[a[a[c[ja]+qa]+f]+B];K[x]=ja;0<ja?(t+=1,0===B&&(v+=1),J|=M):0<B&&(A+=1);p|=B;M>>=1;x+=1;sa=d;d=la;la=Q[x+1];ja=B;B=qa;qa=E[x+1];ta=f;f=Y;Y=y[x+1];ja=ja|d<<4|Y<<8|ta<<12|la<<16|sa<<20;ja=b[a[a[c[ja]+qa]+f]+B];K[x]=ja;0<ja?(t+=1,0===B&&(v+=1),J|=M):0<B&&(A+=1);p|=B;M>>=1;x+=1;sa=d;d=la;la=Q[x+1];ja=B;B=qa;qa=E[x+1];ta=f;f=Y;Y=y[x+1];ja=ja|d<<4|Y<<8|ta<<12|la<<16|sa<<20;ja=b[a[a[c[ja]+qa]+f]+B];K[x]=
ja;0<ja?(t+=1,0===B&&(v+=1),J|=M):0<B&&(A+=1);p|=B;M>>=1;x+=1;sa=d;d=la;la=Q[x+1];ja=B;B=qa;qa=E[x+1];ta=f;f=Y;Y=y[x+1];ja=ja|d<<4|Y<<8|ta<<12|la<<16|sa<<20;ja=b[a[a[c[ja]+qa]+f]+B];K[x]=ja;0<ja?(t+=1,0===B&&(v+=1),J|=M):0<B&&(A+=1);p|=B;M>>=1;x+=1;sa=d;d=la;la=Q[x+1];ja=B;B=qa;qa=E[x+1];ta=f;f=Y;Y=y[x+1];ja=ja|d<<4|Y<<8|ta<<12|la<<16|sa<<20;ja=b[a[a[c[ja]+qa]+f]+B];K[x]=ja;0<ja?(t+=1,0===B&&(v+=1),J|=M):0<B&&(A+=1);p|=B;M>>=1;x+=1;sa=d;d=la;la=Q[x+1];ja=B;B=qa;qa=E[x+1];ta=f;f=Y;Y=y[x+1];ja=ja|d<<
4|Y<<8|ta<<12|la<<16|sa<<20;ja=b[a[a[c[ja]+qa]+f]+B];K[x]=ja;0<ja?(t+=1,0===B&&(v+=1),J|=M):0<B&&(A+=1);p|=B;M>>=1;x+=1;sa=d;d=la;ja=B;B=qa;ta=f;f=Y;x===w-1?Y=qa=la=0:(la=Q[x+1],qa=E[x+1],Y=y[x+1]);ja=ja|d<<4|Y<<8|ta<<12|la<<16|sa<<20;ja=b[a[a[c[ja]+qa]+f]+B];K[x]=ja;0<ja?(t+=1,0===B&&(v+=1),J|=M):0<B&&(A+=1);p|=B;J&&(q|=J,r|=u);na+=1;u>>=1}n[Z>>4]|=q;q?(ka|=1<<e,r&1&&(X|=I.ub,q&32768&&(X|=I.Eb),q&1&&(X|=I.tb)),r&32768&&(X|=I.yb,q&32768&&(X|=I.Cb),q&1&&(X|=I.Db)),q&32768&&(X|=I.rb),q&1&&(X|=I.jb),
X&&(0!==(X&I.rb)&&(15>e?ka|=1<<e+1:0<g&&0<Z&&(ha[g-1]|=1)),0!==(X&I.jb)&&(0<e?ka|=1<<e-1:g<L-1&&Z<w-1&&(ha[g+1]|=32768)),0!==(X&I.yb)&&(ca|=1<<e),0!==(X&I.ub)&&(aa|=1<<e),0!==(X&I.Cb)&&(15>e?ca|=1<<e+1:0<g&&0<Z&&(ia[g-1]|=1)),0!==(X&I.Db)&&(0<e?ca|=1<<e-1:g<L-1&&Z<w-1&&(ia[g+1]|=32768)),0!==(X&I.Eb)&&(15>e?aa|=1<<e+1:0<g&&0<Z&&(ma[g-1]|=1)),0!==(X&I.tb)&&(0<e?aa|=1<<e-1:g<L-1&&Z<w-1&&(ma[g+1]|=32768)))):p&&(U|=1<<e);m[k]|=r}Z+=16}ha[g]|=ka;0<k&&(ia[g]|=ca);k<F-1&&(ma[g]|=aa)}else Z+=256;ba[g]=U}R+=
16;T+=16}this.Rb(n,m,w,D,z);O.fill(0);this.Ob(V);for(na=0;na<this.B.aa.length;na+=1)this.B.aa[na]=this.B.aa[na]|H.aa[na]|P.aa[na];this.s=t;this.ma=v;this.$=A};pa.prototype.Wj=function(){var a=this.Ue,b=this.We,c=this.Mf,d,f,e,k,g,l=this.Ua,p,n=this.Ia,q,m=this.Wa,r,u,t=0,v=0,A=0,w=this.width,z=this.v,D=this.height,F=this.ea,L=this.ba>>4,O=this.Qa;if(0!==(this.counter&1)){var N=this.Y;var V=this.va;var W=this.m;var H=this.X;var P=this.O}else N=this.m,V=this.wa,W=this.Y,H=this.O,P=this.X;n.fill(0);
m.fill(0);var R=0;var T=R+16;P.aa.fill(0);for(k=0;k<H.length;k+=1){var Z=0;var oa=H[k];var ha=P[k];var ba=l[k];var ia=0<k?P[k-1]:O;var ma=k<F-1?P[k+1]:O;for(g=0;g<L;g+=1){var fa=oa[g];var U=0;if(fa){var ka=ha[g];var ca=ia[g];var aa=ma[g];for(e=15;0<=e;--e){if(0!==(fa&1<<e)){var X=r=q=p=0;var na=R;for(u=32768;na<T;){var Q=0===na?this.pa:N[na-1];var E=N[na];var y=na===this.height-1?this.pa:N[na+1];var K=W[na];var M=32768;var J=0;var x=Z;if(0===x)var B=f=d=0;else d=Q[x-1],f=y[x-1],B=E[x-1];var la=Q[x];
var Y=y[x];var qa=E[x];var sa=d;d=la;la=Q[x+1];var ja=B;B=qa;qa=E[x+1];var ta=f;f=Y;Y=y[x+1];ja=b[a[a[a[a[a[a[a[a[c+sa]+la]+ta]+Y]+d]+ja]+qa]+f]+B];K[x]=ja;0<ja?(t+=1,0===B&&(v+=1),J|=M):0<B&&(A+=1);p|=B;M>>=1;x+=1;sa=d;d=la;la=Q[x+1];ja=B;B=qa;qa=E[x+1];ta=f;f=Y;Y=y[x+1];ja=b[a[a[a[a[a[a[a[a[c+sa]+la]+ta]+Y]+d]+ja]+qa]+f]+B];K[x]=ja;0<ja?(t+=1,0===B&&(v+=1),J|=M):0<B&&(A+=1);p|=B;M>>=1;x+=1;sa=d;d=la;la=Q[x+1];ja=B;B=qa;qa=E[x+1];ta=f;f=Y;Y=y[x+1];ja=b[a[a[a[a[a[a[a[a[c+sa]+la]+ta]+Y]+d]+ja]+qa]+
f]+B];K[x]=ja;0<ja?(t+=1,0===B&&(v+=1),J|=M):0<B&&(A+=1);p|=B;M>>=1;x+=1;sa=d;d=la;la=Q[x+1];ja=B;B=qa;qa=E[x+1];ta=f;f=Y;Y=y[x+1];ja=b[a[a[a[a[a[a[a[a[c+sa]+la]+ta]+Y]+d]+ja]+qa]+f]+B];K[x]=ja;0<ja?(t+=1,0===B&&(v+=1),J|=M):0<B&&(A+=1);p|=B;M>>=1;x+=1;sa=d;d=la;la=Q[x+1];ja=B;B=qa;qa=E[x+1];ta=f;f=Y;Y=y[x+1];ja=b[a[a[a[a[a[a[a[a[c+sa]+la]+ta]+Y]+d]+ja]+qa]+f]+B];K[x]=ja;0<ja?(t+=1,0===B&&(v+=1),J|=M):0<B&&(A+=1);p|=B;M>>=1;x+=1;sa=d;d=la;la=Q[x+1];ja=B;B=qa;qa=E[x+1];ta=f;f=Y;Y=y[x+1];ja=b[a[a[a[a[a[a[a[a[c+
sa]+la]+ta]+Y]+d]+ja]+qa]+f]+B];K[x]=ja;0<ja?(t+=1,0===B&&(v+=1),J|=M):0<B&&(A+=1);p|=B;M>>=1;x+=1;sa=d;d=la;la=Q[x+1];ja=B;B=qa;qa=E[x+1];ta=f;f=Y;Y=y[x+1];ja=b[a[a[a[a[a[a[a[a[c+sa]+la]+ta]+Y]+d]+ja]+qa]+f]+B];K[x]=ja;0<ja?(t+=1,0===B&&(v+=1),J|=M):0<B&&(A+=1);p|=B;M>>=1;x+=1;sa=d;d=la;la=Q[x+1];ja=B;B=qa;qa=E[x+1];ta=f;f=Y;Y=y[x+1];ja=b[a[a[a[a[a[a[a[a[c+sa]+la]+ta]+Y]+d]+ja]+qa]+f]+B];K[x]=ja;0<ja?(t+=1,0===B&&(v+=1),J|=M):0<B&&(A+=1);p|=B;M>>=1;x+=1;sa=d;d=la;la=Q[x+1];ja=B;B=qa;qa=E[x+1];ta=
f;f=Y;Y=y[x+1];ja=b[a[a[a[a[a[a[a[a[c+sa]+la]+ta]+Y]+d]+ja]+qa]+f]+B];K[x]=ja;0<ja?(t+=1,0===B&&(v+=1),J|=M):0<B&&(A+=1);p|=B;M>>=1;x+=1;sa=d;d=la;la=Q[x+1];ja=B;B=qa;qa=E[x+1];ta=f;f=Y;Y=y[x+1];ja=b[a[a[a[a[a[a[a[a[c+sa]+la]+ta]+Y]+d]+ja]+qa]+f]+B];K[x]=ja;0<ja?(t+=1,0===B&&(v+=1),J|=M):0<B&&(A+=1);p|=B;M>>=1;x+=1;sa=d;d=la;la=Q[x+1];ja=B;B=qa;qa=E[x+1];ta=f;f=Y;Y=y[x+1];ja=b[a[a[a[a[a[a[a[a[c+sa]+la]+ta]+Y]+d]+ja]+qa]+f]+B];K[x]=ja;0<ja?(t+=1,0===B&&(v+=1),J|=M):0<B&&(A+=1);p|=B;M>>=1;x+=1;sa=d;
d=la;la=Q[x+1];ja=B;B=qa;qa=E[x+1];ta=f;f=Y;Y=y[x+1];ja=b[a[a[a[a[a[a[a[a[c+sa]+la]+ta]+Y]+d]+ja]+qa]+f]+B];K[x]=ja;0<ja?(t+=1,0===B&&(v+=1),J|=M):0<B&&(A+=1);p|=B;M>>=1;x+=1;sa=d;d=la;la=Q[x+1];ja=B;B=qa;qa=E[x+1];ta=f;f=Y;Y=y[x+1];ja=b[a[a[a[a[a[a[a[a[c+sa]+la]+ta]+Y]+d]+ja]+qa]+f]+B];K[x]=ja;0<ja?(t+=1,0===B&&(v+=1),J|=M):0<B&&(A+=1);p|=B;M>>=1;x+=1;sa=d;d=la;la=Q[x+1];ja=B;B=qa;qa=E[x+1];ta=f;f=Y;Y=y[x+1];ja=b[a[a[a[a[a[a[a[a[c+sa]+la]+ta]+Y]+d]+ja]+qa]+f]+B];K[x]=ja;0<ja?(t+=1,0===B&&(v+=1),
J|=M):0<B&&(A+=1);p|=B;M>>=1;x+=1;sa=d;d=la;la=Q[x+1];ja=B;B=qa;qa=E[x+1];ta=f;f=Y;Y=y[x+1];ja=b[a[a[a[a[a[a[a[a[c+sa]+la]+ta]+Y]+d]+ja]+qa]+f]+B];K[x]=ja;0<ja?(t+=1,0===B&&(v+=1),J|=M):0<B&&(A+=1);p|=B;M>>=1;x+=1;sa=d;d=la;ja=B;B=qa;ta=f;f=Y;x===w-1?Y=qa=la=0:(la=Q[x+1],qa=E[x+1],Y=y[x+1]);ja=b[a[a[a[a[a[a[a[a[c+sa]+la]+ta]+Y]+d]+ja]+qa]+f]+B];K[x]=ja;0<ja?(t+=1,0===B&&(v+=1),J|=M):0<B&&(A+=1);p|=B;J&&(q|=J,r|=u);na+=1;u>>=1}n[Z>>4]|=q;q?(ka|=1<<e,r&1&&(X|=I.ub,q&32768&&(X|=I.Eb),q&1&&(X|=I.tb)),
r&32768&&(X|=I.yb,q&32768&&(X|=I.Cb),q&1&&(X|=I.Db)),q&32768&&(X|=I.rb),q&1&&(X|=I.jb),X&&(0!==(X&I.rb)&&(15>e?ka|=1<<e+1:0<g&&0<Z&&(ha[g-1]|=1)),0!==(X&I.jb)&&(0<e?ka|=1<<e-1:g<L-1&&Z<w-1&&(ha[g+1]|=32768)),0!==(X&I.yb)&&(ca|=1<<e),0!==(X&I.ub)&&(aa|=1<<e),0!==(X&I.Cb)&&(15>e?ca|=1<<e+1:0<g&&0<Z&&(ia[g-1]|=1)),0!==(X&I.Db)&&(0<e?ca|=1<<e-1:g<L-1&&Z<w-1&&(ia[g+1]|=32768)),0!==(X&I.Eb)&&(15>e?aa|=1<<e+1:0<g&&0<Z&&(ma[g-1]|=1)),0!==(X&I.tb)&&(0<e?aa|=1<<e-1:g<L-1&&Z<w-1&&(ma[g+1]|=32768)))):p&&(U|=
1<<e);m[k]|=r}Z+=16}ha[g]|=ka;0<k&&(ia[g]|=ca);k<F-1&&(ma[g]|=aa)}else Z+=256;ba[g]=U}R+=16;T+=16}this.Rb(n,m,w,D,z);O.fill(0);this.Ob(V);for(na=0;na<this.B.aa.length;na+=1)this.B.aa[na]=this.B.aa[na]|H.aa[na]|P.aa[na];this.s=t;this.ma=v;this.$=A};pa.prototype.mn=function(){var a=this.Fa,b,c,d,f=this.Ua,e,k=this.Ia,g,l=this.Wa,p,n,q=0,m=0,r=0,u=this.width,t=this.v,v=this.height,A=this.ea,w=this.ba>>4,z=this.Qa;if(0!==(this.counter&1)){var D=this.Y;var F=this.va;var L=this.wa;var O=this.X;var N=this.O}else D=
this.m,F=this.wa,L=this.va,O=this.O,N=this.X;k.fill(0);l.fill(0);var V=0;var W=V+16;N.aa.fill(0);for(c=0;c<O.length;c+=1){var H=0;var P=O[c];var R=N[c];var T=f[c];var Z=0<c?N[c-1]:z;var oa=c<A-1?N[c+1]:z;for(d=0;d<w;d+=1){var ha=P[d];var ba=0;if(ha){var ia=R[d];var ma=Z[d];var fa=oa[d];for(b=15;0<=b;--b){if(0!==(ha&1<<b)){var U=p=g=e=0;var ka=V;for(n=32768;ka<W;){var ca=0===ka?this.pa:D[ka-1];var aa=D[ka];var X=ka===this.height-1?this.pa:D[ka+1];var na=L[ka];var Q=32768;var E=H;var y=aa[E+1];var K=
X[E+1];var M=ca[E];var J=aa[E];var x=X[E];var B=0===E?J|x<<1|y<<2|M<<4|K<<5:ca[E-1]<<6|aa[E-1]<<3|J|x<<1|y<<2|M<<4|K<<5;var la=a[B];0<la?(q+=1,0===(B&1)&&(m+=1),p|=n,g|=Q):0!==(B&1)&&(r+=1);e|=J;Q>>=1;E+=1;B=M;M=ca[E];var Y=J;J=y;y=aa[E+1];x=K;K=X[E+1];B=J|x<<1|y<<2|Y<<3|M<<4|K<<5|B<<6;x=a[B];la|=x<<8;0<x?(q+=1,0===(B&1)&&(m+=1),p|=n,g|=Q):0!==(B&1)&&(r+=1);e|=J;Q>>=1;E+=1;B=M;M=ca[E];Y=J;J=y;y=aa[E+1];x=K;K=X[E+1];B=J|x<<1|y<<2|Y<<3|M<<4|K<<5|B<<6;x=a[B];la|=x<<16;0<x?(q+=1,0===(B&1)&&(m+=1),p|=
n,g|=Q):0!==(B&1)&&(r+=1);e|=J;Q>>=1;E+=1;B=M;M=ca[E];Y=J;J=y;y=aa[E+1];x=K;K=X[E+1];B=J|x<<1|y<<2|Y<<3|M<<4|K<<5|B<<6;x=a[B];la|=x<<24;na[E>>2]=la;0<x?(q+=1,0===(B&1)&&(m+=1),p|=n,g|=Q):0!==(B&1)&&(r+=1);e|=J;Q>>=1;E+=1;B=M;M=ca[E];Y=J;J=y;y=aa[E+1];x=K;K=X[E+1];B=J|x<<1|y<<2|Y<<3|M<<4|K<<5|B<<6;la=a[B];0<la?(q+=1,0===(B&1)&&(m+=1),p|=n,g|=Q):0!==(B&1)&&(r+=1);e|=J;Q>>=1;E+=1;B=M;M=ca[E];Y=J;J=y;y=aa[E+1];x=K;K=X[E+1];B=J|x<<1|y<<2|Y<<3|M<<4|K<<5|B<<6;x=a[B];la|=x<<8;0<x?(q+=1,0===(B&1)&&(m+=1),
p|=n,g|=Q):0!==(B&1)&&(r+=1);e|=J;Q>>=1;E+=1;B=M;M=ca[E];Y=J;J=y;y=aa[E+1];x=K;K=X[E+1];B=J|x<<1|y<<2|Y<<3|M<<4|K<<5|B<<6;x=a[B];la|=x<<16;0<x?(q+=1,0===(B&1)&&(m+=1),p|=n,g|=Q):0!==(B&1)&&(r+=1);e|=J;Q>>=1;E+=1;B=M;M=ca[E];Y=J;J=y;y=aa[E+1];x=K;K=X[E+1];B=J|x<<1|y<<2|Y<<3|M<<4|K<<5|B<<6;x=a[B];la|=x<<24;na[E>>2]=la;0<x?(q+=1,0===(B&1)&&(m+=1),p|=n,g|=Q):0!==(B&1)&&(r+=1);e|=J;Q>>=1;E+=1;B=M;M=ca[E];Y=J;J=y;y=aa[E+1];x=K;K=X[E+1];B=J|x<<1|y<<2|Y<<3|M<<4|K<<5|B<<6;la=a[B];0<la?(q+=1,0===(B&1)&&(m+=
1),p|=n,g|=Q):0!==(B&1)&&(r+=1);e|=J;Q>>=1;E+=1;B=M;M=ca[E];Y=J;J=y;y=aa[E+1];x=K;K=X[E+1];B=J|x<<1|y<<2|Y<<3|M<<4|K<<5|B<<6;x=a[B];la|=x<<8;0<x?(q+=1,0===(B&1)&&(m+=1),p|=n,g|=Q):0!==(B&1)&&(r+=1);e|=J;Q>>=1;E+=1;B=M;M=ca[E];Y=J;J=y;y=aa[E+1];x=K;K=X[E+1];B=J|x<<1|y<<2|Y<<3|M<<4|K<<5|B<<6;x=a[B];la|=x<<16;0<x?(q+=1,0===(B&1)&&(m+=1),p|=n,g|=Q):0!==(B&1)&&(r+=1);e|=J;Q>>=1;E+=1;B=M;M=ca[E];Y=J;J=y;y=aa[E+1];x=K;K=X[E+1];B=J|x<<1|y<<2|Y<<3|M<<4|K<<5|B<<6;x=a[B];la|=x<<24;na[E>>2]=la;0<x?(q+=1,0===
(B&1)&&(m+=1),p|=n,g|=Q):0!==(B&1)&&(r+=1);e|=J;Q>>=1;E+=1;B=M;M=ca[E];Y=J;J=y;y=aa[E+1];x=K;K=X[E+1];B=J|x<<1|y<<2|Y<<3|M<<4|K<<5|B<<6;la=a[B];0<la?(q+=1,0===(B&1)&&(m+=1),p|=n,g|=Q):0!==(B&1)&&(r+=1);e|=J;Q>>=1;E+=1;B=M;M=ca[E];Y=J;J=y;y=aa[E+1];x=K;K=X[E+1];B=J|x<<1|y<<2|Y<<3|M<<4|K<<5|B<<6;x=a[B];la|=x<<8;0<x?(q+=1,0===(B&1)&&(m+=1),p|=n,g|=Q):0!==(B&1)&&(r+=1);e|=J;Q>>=1;E+=1;B=M;M=ca[E];Y=J;J=y;y=aa[E+1];x=K;K=X[E+1];B=J|x<<1|y<<2|Y<<3|M<<4|K<<5|B<<6;x=a[B];la|=x<<16;0<x?(q+=1,0===(B&1)&&(m+=
1),p|=n,g|=Q):0!==(B&1)&&(r+=1);e|=J;Q>>=1;E+=1;B=M;M=ca[E];Y=J;J=y;x=K;E===u-1?K=y=0:(y=aa[E+1],K=X[E+1]);B=J|x<<1|y<<2|Y<<3|M<<4|K<<5|B<<6;x=a[B];la|=x<<24;na[E>>2]=la;0<x?(q+=1,0===(B&1)&&(m+=1),p|=n,g|=Q):0!==(B&1)&&(r+=1);e|=J;ka+=1;n>>=1}k[H>>4]|=g;g?(ia|=1<<b,p&1&&(U|=I.ub,g&32768&&(U|=I.Eb),g&1&&(U|=I.tb)),p&32768&&(U|=I.yb,g&32768&&(U|=I.Cb),g&1&&(U|=I.Db)),g&32768&&(U|=I.rb),g&1&&(U|=I.jb),U&&(0!==(U&I.rb)&&(15>b?ia|=1<<b+1:0<d&&0<H&&(R[d-1]|=1)),0!==(U&I.jb)&&(0<b?ia|=1<<b-1:d<w-1&&H<u-
1&&(R[d+1]|=32768)),0!==(U&I.yb)&&(ma|=1<<b),0!==(U&I.ub)&&(fa|=1<<b),0!==(U&I.Cb)&&(15>b?ma|=1<<b+1:0<d&&0<H&&(Z[d-1]|=1)),0!==(U&I.Db)&&(0<b?ma|=1<<b-1:d<w-1&&H<u-1&&(Z[d+1]|=32768)),0!==(U&I.Eb)&&(15>b?fa|=1<<b+1:0<d&&0<H&&(oa[d-1]|=1)),0!==(U&I.tb)&&(0<b?fa|=1<<b-1:d<w-1&&H<u-1&&(oa[d+1]|=32768)))):e&&(ba|=1<<b);l[c]|=p}H+=16}R[d]|=ia;0<c&&(Z[d]|=ma);c<A-1&&(oa[d]|=fa)}else H+=256;T[d]=ba}V+=16;W+=16}this.Rb(k,l,u,v,t);z.fill(0);this.Ob(F);for(ka=0;ka<this.B.aa.length;ka+=1)this.B.aa[ka]=this.B.aa[ka]|
O.aa[ka]|N.aa[ka];this.s=q;this.ma=m;this.$=r};pa.prototype.on=function(){var a=this.Fa,b,c,d,f=this.Ua,e,k=this.Ia,g,l=this.Wa,p,n,q=0,m=0,r=0,u=this.width,t=this.v,v=this.height,A=this.ea,w=this.ba>>4,z=this.Qa;if(0!==(this.counter&1)){var D=this.Y;var F=this.va;var L=this.wa;var O=this.X;var N=this.O}else D=this.m,F=this.wa,L=this.va,O=this.O,N=this.X;k.fill(0);l.fill(0);var V=0;var W=V+16;N.aa.fill(0);for(c=0;c<O.length;c+=1){var H=0;var P=O[c];var R=N[c];var T=f[c];var Z=0<c?N[c-1]:z;var oa=
c<A-1?N[c+1]:z;for(d=0;d<w;d+=1){var ha=P[d];var ba=0;if(ha){var ia=R[d];var ma=Z[d];var fa=oa[d];for(b=15;0<=b;--b){if(0!==(ha&1<<b)){var U=p=g=e=0;var ka=V;for(n=32768;ka<W;){var ca=0===ka?this.pa:D[ka-1];var aa=D[ka];var X=ka===this.height-1?this.pa:D[ka+1];var na=L[ka];var Q=32768;var E=H;var y=aa[E+1];var K=X[E+1];var M=ca[E];var J=aa[E];var x=X[E];var B=0===E?J|x<<2|y<<4|M<<8|K<<10:ca[E-1]<<12|aa[E-1]<<6|J|x<<2|y<<4|M<<8|K<<10;var la=a[B];0<la?(q+=1,0===(B&3)&&(m+=1),p|=n,g|=Q):0!==(B&3)&&(r+=
1);e|=J;Q>>=1;E+=1;B=M;M=ca[E];var Y=J;J=y;y=aa[E+1];x=K;K=X[E+1];B=J|x<<2|y<<4|Y<<6|M<<8|K<<10|B<<12;x=a[B];la|=x<<8;0<x?(q+=1,0===(B&3)&&(m+=1),p|=n,g|=Q):0!==(B&3)&&(r+=1);e|=J;Q>>=1;E+=1;B=M;Y=J;J=y;x=K;M=ca[E];y=aa[E+1];K=X[E+1];B=J|x<<2|y<<4|Y<<6|M<<8|K<<10|B<<12;x=a[B];la|=x<<16;0<x?(q+=1,0===(B&3)&&(m+=1),p|=n,g|=Q):0!==(B&3)&&(r+=1);e|=J;Q>>=1;E+=1;B=M;Y=J;J=y;x=K;M=ca[E];y=aa[E+1];K=X[E+1];B=J|x<<2|y<<4|Y<<6|M<<8|K<<10|B<<12;x=a[B];la|=x<<24;na[E>>2]=la;0<x?(q+=1,0===(B&3)&&(m+=1),p|=n,
g|=Q):0!==(B&3)&&(r+=1);e|=J;Q>>=1;E+=1;B=M;Y=J;J=y;x=K;M=ca[E];y=aa[E+1];K=X[E+1];B=J|x<<2|y<<4|Y<<6|M<<8|K<<10|B<<12;la=a[B];0<la?(q+=1,0===(B&3)&&(m+=1),p|=n,g|=Q):0!==(B&3)&&(r+=1);e|=J;Q>>=1;E+=1;B=M;Y=J;J=y;x=K;M=ca[E];y=aa[E+1];K=X[E+1];B=J|x<<2|y<<4|Y<<6|M<<8|K<<10|B<<12;x=a[B];la|=x<<8;0<x?(q+=1,0===(B&3)&&(m+=1),p|=n,g|=Q):0!==(B&3)&&(r+=1);e|=J;Q>>=1;E+=1;B=M;Y=J;J=y;x=K;M=ca[E];y=aa[E+1];K=X[E+1];B=J|x<<2|y<<4|Y<<6|M<<8|K<<10|B<<12;x=a[B];la|=x<<16;0<x?(q+=1,0===(B&3)&&(m+=1),p|=n,g|=
Q):0!==(B&3)&&(r+=1);e|=J;Q>>=1;E+=1;B=M;Y=J;J=y;x=K;M=ca[E];y=aa[E+1];K=X[E+1];B=J|x<<2|y<<4|Y<<6|M<<8|K<<10|B<<12;x=a[B];la|=x<<24;na[E>>2]=la;0<x?(q+=1,0===(B&3)&&(m+=1),p|=n,g|=Q):0!==(B&3)&&(r+=1);e|=J;Q>>=1;E+=1;B=M;Y=J;J=y;x=K;M=ca[E];y=aa[E+1];K=X[E+1];B=J|x<<2|y<<4|Y<<6|M<<8|K<<10|B<<12;la=a[B];0<la?(q+=1,0===(B&3)&&(m+=1),p|=n,g|=Q):0!==(B&3)&&(r+=1);e|=J;Q>>=1;E+=1;B=M;Y=J;J=y;x=K;M=ca[E];y=aa[E+1];K=X[E+1];B=J|x<<2|y<<4|Y<<6|M<<8|K<<10|B<<12;x=a[B];la|=x<<8;0<x?(q+=1,0===(B&3)&&(m+=1),
p|=n,g|=Q):0!==(B&3)&&(r+=1);e|=J;Q>>=1;E+=1;B=M;Y=J;J=y;x=K;M=ca[E];y=aa[E+1];K=X[E+1];B=J|x<<2|y<<4|Y<<6|M<<8|K<<10|B<<12;x=a[B];la|=x<<16;0<x?(q+=1,0===(B&3)&&(m+=1),p|=n,g|=Q):0!==(B&3)&&(r+=1);e|=J;Q>>=1;E+=1;B=M;Y=J;J=y;x=K;M=ca[E];y=aa[E+1];K=X[E+1];B=J|x<<2|y<<4|Y<<6|M<<8|K<<10|B<<12;x=a[B];la|=x<<24;na[E>>2]=la;0<x?(q+=1,0===(B&3)&&(m+=1),p|=n,g|=Q):0!==(B&3)&&(r+=1);e|=J;Q>>=1;E+=1;B=M;Y=J;J=y;x=K;M=ca[E];y=aa[E+1];K=X[E+1];B=J|x<<2|y<<4|Y<<6|M<<8|K<<10|B<<12;la=a[B];0<la?(q+=1,0===(B&3)&&
(m+=1),p|=n,g|=Q):0!==(B&3)&&(r+=1);e|=J;Q>>=1;E+=1;B=M;Y=J;J=y;x=K;M=ca[E];y=aa[E+1];K=X[E+1];B=J|x<<2|y<<4|Y<<6|M<<8|K<<10|B<<12;x=a[B];la|=x<<8;0<x?(q+=1,0===(B&3)&&(m+=1),p|=n,g|=Q):0!==(B&3)&&(r+=1);e|=J;Q>>=1;E+=1;B=M;Y=J;J=y;x=K;M=ca[E];y=aa[E+1];K=X[E+1];B=J|x<<2|y<<4|Y<<6|M<<8|K<<10|B<<12;x=a[B];la|=x<<16;0<x?(q+=1,0===(B&3)&&(m+=1),p|=n,g|=Q):0!==(B&3)&&(r+=1);e|=J;Q>>=1;E+=1;B=M;M=ca[E];Y=J;J=y;x=K;E===u-1?K=y=0:(y=aa[E+1],K=X[E+1]);B=J|x<<2|y<<4|Y<<6|M<<8|K<<10|B<<12;x=a[B];la|=x<<24;
na[E>>2]=la;0<x?(q+=1,0===(B&3)&&(m+=1),p|=n,g|=Q):0!==(B&3)&&(r+=1);e|=J;ka+=1;n>>=1}k[H>>4]|=g;g?(ia|=1<<b,p&1&&(U|=I.ub,g&32768&&(U|=I.Eb),g&1&&(U|=I.tb)),p&32768&&(U|=I.yb,g&32768&&(U|=I.Cb),g&1&&(U|=I.Db)),g&32768&&(U|=I.rb),g&1&&(U|=I.jb),U&&(0!==(U&I.rb)&&(15>b?ia|=1<<b+1:0<d&&0<H&&(R[d-1]|=1)),0!==(U&I.jb)&&(0<b?ia|=1<<b-1:d<w-1&&H<u-1&&(R[d+1]|=32768)),0!==(U&I.yb)&&(ma|=1<<b),0!==(U&I.ub)&&(fa|=1<<b),0!==(U&I.Cb)&&(15>b?ma|=1<<b+1:0<d&&0<H&&(Z[d-1]|=1)),0!==(U&I.Db)&&(0<b?ma|=1<<b-1:d<w-
1&&H<u-1&&(Z[d+1]|=32768)),0!==(U&I.Eb)&&(15>b?fa|=1<<b+1:0<d&&0<H&&(oa[d-1]|=1)),0!==(U&I.tb)&&(0<b?fa|=1<<b-1:d<w-1&&H<u-1&&(oa[d+1]|=32768)))):e&&(ba|=1<<b);l[c]|=p}H+=16}R[d]|=ia;0<c&&(Z[d]|=ma);c<A-1&&(oa[d]|=fa)}else H+=256;T[d]=ba}V+=16;W+=16}this.Rb(k,l,u,v,t);z.fill(0);this.Ob(F);for(ka=0;ka<this.B.aa.length;ka+=1)this.B.aa[ka]=this.B.aa[ka]|O.aa[ka]|N.aa[ka];this.s=q;this.ma=m;this.$=r};pa.prototype.qn=function(){var a=this.Fa,b,c,d,f=this.Ua,e,k=this.Ia,g,l=this.Wa,p,n,q=0,m=0,r=0,u=this.width,
t=this.v,v=this.height,A=this.ea,w=this.ba>>4,z=this.Qa;if(0!==(this.counter&1)){var D=this.Y;var F=this.va;var L=this.wa;var O=this.X;var N=this.O}else D=this.m,F=this.wa,L=this.va,O=this.O,N=this.X;k.fill(0);l.fill(0);var V=0;var W=V+16;N.aa.fill(0);for(c=0;c<O.length;c+=1){var H=0;var P=O[c];var R=N[c];var T=f[c];var Z=0<c?N[c-1]:z;var oa=c<A-1?N[c+1]:z;for(d=0;d<w;d+=1){var ha=P[d];var ba=0;if(ha){var ia=R[d];var ma=Z[d];var fa=oa[d];for(b=15;0<=b;--b){if(0!==(ha&1<<b)){var U=p=g=e=0;var ka=V;
for(n=32768;ka<W;){var ca=0===ka?this.pa:D[ka-1];var aa=D[ka];var X=ka===this.height-1?this.pa:D[ka+1];var na=L[ka];var Q=32768;var E=H;var y=aa[E+1];var K=X[E+1];var M=ca[E];var J=aa[E];var x=X[E];var B=0===E?J|x<<3|y<<6|M<<12|K<<15:ca[E-1]<<18|aa[E-1]<<9|J|x<<3|y<<6|M<<12|K<<15;var la=a[B];0<la?(q+=1,0===(B&7)&&(m+=1),p|=n,g|=Q):0!==(B&7)&&(r+=1);e|=J;Q>>=1;E+=1;B=M;M=ca[E];var Y=J;J=y;y=aa[E+1];x=K;K=X[E+1];B=J|x<<3|y<<6|Y<<9|M<<12|K<<15|B<<18;x=a[B];la|=x<<8;0<x?(q+=1,0===(B&7)&&(m+=1),p|=n,g|=
Q):0!==(B&7)&&(r+=1);e|=J;Q>>=1;E+=1;B=M;Y=J;J=y;x=K;M=ca[E];y=aa[E+1];K=X[E+1];B=J|x<<3|y<<6|Y<<9|M<<12|K<<15|B<<18;x=a[B];la|=x<<16;0<x?(q+=1,0===(B&7)&&(m+=1),p|=n,g|=Q):0!==(B&7)&&(r+=1);e|=J;Q>>=1;E+=1;B=M;Y=J;J=y;x=K;M=ca[E];y=aa[E+1];K=X[E+1];B=J|x<<3|y<<6|Y<<9|M<<12|K<<15|B<<18;x=a[B];la|=x<<24;na[E>>2]=la;0<x?(q+=1,0===(B&7)&&(m+=1),p|=n,g|=Q):0!==(B&7)&&(r+=1);e|=J;Q>>=1;E+=1;B=M;Y=J;J=y;x=K;M=ca[E];y=aa[E+1];K=X[E+1];B=J|x<<3|y<<6|Y<<9|M<<12|K<<15|B<<18;la=a[B];0<la?(q+=1,0===(B&7)&&(m+=
1),p|=n,g|=Q):0!==(B&7)&&(r+=1);e|=J;Q>>=1;E+=1;B=M;Y=J;J=y;x=K;M=ca[E];y=aa[E+1];K=X[E+1];B=J|x<<3|y<<6|Y<<9|M<<12|K<<15|B<<18;x=a[B];la|=x<<8;0<x?(q+=1,0===(B&7)&&(m+=1),p|=n,g|=Q):0!==(B&7)&&(r+=1);e|=J;Q>>=1;E+=1;B=M;Y=J;J=y;x=K;M=ca[E];y=aa[E+1];K=X[E+1];B=J|x<<3|y<<6|Y<<9|M<<12|K<<15|B<<18;x=a[B];la|=x<<16;0<x?(q+=1,0===(B&7)&&(m+=1),p|=n,g|=Q):0!==(B&7)&&(r+=1);e|=J;Q>>=1;E+=1;B=M;Y=J;J=y;x=K;M=ca[E];y=aa[E+1];K=X[E+1];B=J|x<<3|y<<6|Y<<9|M<<12|K<<15|B<<18;x=a[B];la|=x<<24;na[E>>2]=la;0<x?(q+=
1,0===(B&7)&&(m+=1),p|=n,g|=Q):0!==(B&7)&&(r+=1);e|=J;Q>>=1;E+=1;B=M;Y=J;J=y;x=K;M=ca[E];y=aa[E+1];K=X[E+1];B=J|x<<3|y<<6|Y<<9|M<<12|K<<15|B<<18;la=a[B];0<la?(q+=1,0===(B&7)&&(m+=1),p|=n,g|=Q):0!==(B&7)&&(r+=1);e|=J;Q>>=1;E+=1;B=M;Y=J;J=y;x=K;M=ca[E];y=aa[E+1];K=X[E+1];B=J|x<<3|y<<6|Y<<9|M<<12|K<<15|B<<18;x=a[B];la|=x<<8;0<x?(q+=1,0===(B&7)&&(m+=1),p|=n,g|=Q):0!==(B&7)&&(r+=1);e|=J;Q>>=1;E+=1;B=M;Y=J;J=y;x=K;M=ca[E];y=aa[E+1];K=X[E+1];B=J|x<<3|y<<6|Y<<9|M<<12|K<<15|B<<18;x=a[B];la|=x<<16;0<x?(q+=
1,0===(B&7)&&(m+=1),p|=n,g|=Q):0!==(B&7)&&(r+=1);e|=J;Q>>=1;E+=1;B=M;Y=J;J=y;x=K;M=ca[E];y=aa[E+1];K=X[E+1];B=J|x<<3|y<<6|Y<<9|M<<12|K<<15|B<<18;x=a[B];la|=x<<24;na[E>>2]=la;0<x?(q+=1,0===(B&7)&&(m+=1),p|=n,g|=Q):0!==(B&7)&&(r+=1);e|=J;Q>>=1;E+=1;B=M;Y=J;J=y;x=K;M=ca[E];y=aa[E+1];K=X[E+1];B=J|x<<3|y<<6|Y<<9|M<<12|K<<15|B<<18;la=a[B];0<la?(q+=1,0===(B&7)&&(m+=1),p|=n,g|=Q):0!==(B&7)&&(r+=1);e|=J;Q>>=1;E+=1;B=M;Y=J;J=y;x=K;M=ca[E];y=aa[E+1];K=X[E+1];B=J|x<<3|y<<6|Y<<9|M<<12|K<<15|B<<18;x=a[B];la|=x<<
8;0<x?(q+=1,0===(B&7)&&(m+=1),p|=n,g|=Q):0!==(B&7)&&(r+=1);e|=J;Q>>=1;E+=1;B=M;Y=J;J=y;x=K;M=ca[E];y=aa[E+1];K=X[E+1];B=J|x<<3|y<<6|Y<<9|M<<12|K<<15|B<<18;x=a[B];la|=x<<16;0<x?(q+=1,0===(B&7)&&(m+=1),p|=n,g|=Q):0!==(B&7)&&(r+=1);e|=J;Q>>=1;E+=1;B=M;M=ca[E];Y=J;J=y;x=K;E===u-1?K=y=0:(y=aa[E+1],K=X[E+1]);B=J|x<<3|y<<6|Y<<9|M<<12|K<<15|B<<18;x=a[B];la|=x<<24;na[E>>2]=la;0<x?(q+=1,0===(B&7)&&(m+=1),p|=n,g|=Q):0!==(B&7)&&(r+=1);e|=J;ka+=1;n>>=1}k[H>>4]|=g;g?(ia|=1<<b,p&1&&(U|=I.ub,g&32768&&(U|=I.Eb),g&
1&&(U|=I.tb)),p&32768&&(U|=I.yb,g&32768&&(U|=I.Cb),g&1&&(U|=I.Db)),g&32768&&(U|=I.rb),g&1&&(U|=I.jb),U&&(0!==(U&I.rb)&&(15>b?ia|=1<<b+1:0<d&&0<H&&(R[d-1]|=1)),0!==(U&I.jb)&&(0<b?ia|=1<<b-1:d<w-1&&H<u-1&&(R[d+1]|=32768)),0!==(U&I.yb)&&(ma|=1<<b),0!==(U&I.ub)&&(fa|=1<<b),0!==(U&I.Cb)&&(15>b?ma|=1<<b+1:0<d&&0<H&&(Z[d-1]|=1)),0!==(U&I.Db)&&(0<b?ma|=1<<b-1:d<w-1&&H<u-1&&(Z[d+1]|=32768)),0!==(U&I.Eb)&&(15>b?fa|=1<<b+1:0<d&&0<H&&(oa[d-1]|=1)),0!==(U&I.tb)&&(0<b?fa|=1<<b-1:d<w-1&&H<u-1&&(oa[d+1]|=32768)))):
e&&(ba|=1<<b);l[c]|=p}H+=16}R[d]|=ia;0<c&&(Z[d]|=ma);c<A-1&&(oa[d]|=fa)}else H+=256;T[d]=ba}V+=16;W+=16}this.Rb(k,l,u,v,t);z.fill(0);this.Ob(F);for(ka=0;ka<this.B.aa.length;ka+=1)this.B.aa[ka]=this.B.aa[ka]|O.aa[ka]|N.aa[ka];this.s=q;this.ma=m;this.$=r};pa.prototype.Mj=function(){var a=this.Fa,b,c,d,f=this.Ua,e,k=this.Ia,g,l=this.Wa,p,n,q=0,m=0,r=0,u=this.width,t=this.v,v=this.height,A=this.ea,w=this.ba>>4,z=this.Qa;if(0!==(this.counter&1)){var D=this.Y;var F=this.va;var L=this.wa;var O=this.X;var N=
this.O}else D=this.m,F=this.wa,L=this.va,O=this.O,N=this.X;k.fill(0);l.fill(0);var V=0;var W=V+16;N.aa.fill(0);for(c=0;c<O.length;c+=1){var H=0;var P=O[c];var R=N[c];var T=f[c];var Z=0<c?N[c-1]:z;var oa=c<A-1?N[c+1]:z;for(d=0;d<w;d+=1){var ha=P[d];var ba=0;if(ha){var ia=R[d];var ma=Z[d];var fa=oa[d];for(b=15;0<=b;--b){if(0!==(ha&1<<b)){var U=p=g=e=0;var ka=V;for(n=32768;ka<W;){var ca=0===ka?this.pa:D[ka-1];var aa=D[ka];var X=ka===this.height-1?this.pa:D[ka+1];var na=L[ka];var Q=32768;var E=H;var y=
ca[E+1];var K=aa[E+1];var M=X[E+1];var J=ca[E];var x=aa[E];var B=X[E];B=0===E?J<<3|x<<4|B<<5|y<<6|K<<7|M<<8:ca[E-1]|aa[E-1]<<1|X[E-1]<<2|J<<3|x<<4|B<<5|y<<6|K<<7|M<<8;J=a[B];0<J?(q+=1,0===(B&16)&&(m+=1),p|=n,g|=Q):0!==(B&16)&&(r+=1);e|=x;Q>>=1;E+=1;x=K;y=ca[E+1];K=aa[E+1];M=X[E+1];B=B>>3|y<<6|K<<7|M<<8;y=a[B];J|=y<<8;0<y?(q+=1,0===(B&16)&&(m+=1),p|=n,g|=Q):0!==(B&16)&&(r+=1);e|=x;Q>>=1;E+=1;x=K;y=ca[E+1];K=aa[E+1];M=X[E+1];B=B>>3|y<<6|K<<7|M<<8;y=a[B];J|=y<<16;0<y?(q+=1,0===(B&16)&&(m+=1),p|=n,g|=
Q):0!==(B&16)&&(r+=1);e|=x;Q>>=1;E+=1;x=K;y=ca[E+1];K=aa[E+1];M=X[E+1];B=B>>3|y<<6|K<<7|M<<8;y=a[B];J|=y<<24;na[E>>2]=J;0<y?(q+=1,0===(B&16)&&(m+=1),p|=n,g|=Q):0!==(B&16)&&(r+=1);e|=x;Q>>=1;E+=1;x=K;y=ca[E+1];K=aa[E+1];M=X[E+1];B=B>>3|y<<6|K<<7|M<<8;J=a[B];0<J?(q+=1,0===(B&16)&&(m+=1),p|=n,g|=Q):0!==(B&16)&&(r+=1);e|=x;Q>>=1;E+=1;x=K;y=ca[E+1];K=aa[E+1];M=X[E+1];B=B>>3|y<<6|K<<7|M<<8;y=a[B];J|=y<<8;0<y?(q+=1,0===(B&16)&&(m+=1),p|=n,g|=Q):0!==(B&16)&&(r+=1);e|=x;Q>>=1;E+=1;x=K;y=ca[E+1];K=aa[E+1];
M=X[E+1];B=B>>3|y<<6|K<<7|M<<8;y=a[B];J|=y<<16;0<y?(q+=1,0===(B&16)&&(m+=1),p|=n,g|=Q):0!==(B&16)&&(r+=1);e|=x;Q>>=1;E+=1;x=K;y=ca[E+1];K=aa[E+1];M=X[E+1];B=B>>3|y<<6|K<<7|M<<8;y=a[B];J|=y<<24;na[E>>2]=J;0<y?(q+=1,0===(B&16)&&(m+=1),p|=n,g|=Q):0!==(B&16)&&(r+=1);e|=x;Q>>=1;E+=1;x=K;y=ca[E+1];K=aa[E+1];M=X[E+1];B=B>>3|y<<6|K<<7|M<<8;J=a[B];0<J?(q+=1,0===(B&16)&&(m+=1),p|=n,g|=Q):0!==(B&16)&&(r+=1);e|=x;Q>>=1;E+=1;x=K;y=ca[E+1];K=aa[E+1];M=X[E+1];B=B>>3|y<<6|K<<7|M<<8;y=a[B];J|=y<<8;0<y?(q+=1,0===(B&
16)&&(m+=1),p|=n,g|=Q):0!==(B&16)&&(r+=1);e|=x;Q>>=1;E+=1;x=K;y=ca[E+1];K=aa[E+1];M=X[E+1];B=B>>3|y<<6|K<<7|M<<8;y=a[B];J|=y<<16;0<y?(q+=1,0===(B&16)&&(m+=1),p|=n,g|=Q):0!==(B&16)&&(r+=1);e|=x;Q>>=1;E+=1;x=K;y=ca[E+1];K=aa[E+1];M=X[E+1];B=B>>3|y<<6|K<<7|M<<8;y=a[B];J|=y<<24;na[E>>2]=J;0<y?(q+=1,0===(B&16)&&(m+=1),p|=n,g|=Q):0!==(B&16)&&(r+=1);e|=x;Q>>=1;E+=1;x=K;y=ca[E+1];K=aa[E+1];M=X[E+1];B=B>>3|y<<6|K<<7|M<<8;J=a[B];0<J?(q+=1,0===(B&16)&&(m+=1),p|=n,g|=Q):0!==(B&16)&&(r+=1);e|=x;Q>>=1;E+=1;x=K;
y=ca[E+1];K=aa[E+1];M=X[E+1];B=B>>3|y<<6|K<<7|M<<8;y=a[B];J|=y<<8;0<y?(q+=1,0===(B&16)&&(m+=1),p|=n,g|=Q):0!==(B&16)&&(r+=1);e|=x;Q>>=1;E+=1;x=K;y=ca[E+1];K=aa[E+1];M=X[E+1];B=B>>3|y<<6|K<<7|M<<8;y=a[B];J|=y<<16;0<y?(q+=1,0===(B&16)&&(m+=1),p|=n,g|=Q):0!==(B&16)&&(r+=1);e|=x;Q>>=1;E+=1;x=K;E===u-1?M=K=y=0:(y=ca[E+1],K=aa[E+1],M=X[E+1]);B=B>>3|y<<6|K<<7|M<<8;y=a[B];J|=y<<24;na[E>>2]=J;0<y?(q+=1,0===(B&16)&&(m+=1),p|=n,g|=Q):0!==(B&16)&&(r+=1);e|=x;ka+=1;n>>=1}k[H>>4]|=g;g?(ia|=1<<b,p&1&&(U|=I.ub,g&
32768&&(U|=I.Eb),g&1&&(U|=I.tb)),p&32768&&(U|=I.yb,g&32768&&(U|=I.Cb),g&1&&(U|=I.Db)),g&32768&&(U|=I.rb),g&1&&(U|=I.jb),U&&(0!==(U&I.rb)&&(15>b?ia|=1<<b+1:0<d&&0<H&&(R[d-1]|=1)),0!==(U&I.jb)&&(0<b?ia|=1<<b-1:d<w-1&&H<u-1&&(R[d+1]|=32768)),0!==(U&I.yb)&&(ma|=1<<b),0!==(U&I.ub)&&(fa|=1<<b),0!==(U&I.Cb)&&(15>b?ma|=1<<b+1:0<d&&0<H&&(Z[d-1]|=1)),0!==(U&I.Db)&&(0<b?ma|=1<<b-1:d<w-1&&H<u-1&&(Z[d+1]|=32768)),0!==(U&I.Eb)&&(15>b?fa|=1<<b+1:0<d&&0<H&&(oa[d-1]|=1)),0!==(U&I.tb)&&(0<b?fa|=1<<b-1:d<w-1&&H<u-1&&
(oa[d+1]|=32768)))):e&&(ba|=1<<b);l[c]|=p}H+=16}R[d]|=ia;0<c&&(Z[d]|=ma);c<A-1&&(oa[d]|=fa)}else H+=256;T[d]=ba}V+=16;W+=16}this.Rb(k,l,u,v,t);z.fill(0);this.Ob(F);for(ka=0;ka<this.B.aa.length;ka+=1)this.B.aa[ka]=this.B.aa[ka]|O.aa[ka]|N.aa[ka];this.s=q;this.ma=m;this.$=r};pa.prototype.Nj=function(){var a=this.Fa,b,c,d,f=this.Ua,e,k=this.Ia,g,l=this.Wa,p,n,q=0,m=0,r=0,u=this.width,t=this.v,v=this.height,A=this.ea,w=this.ba>>4,z=this.Qa;if(0!==(this.counter&1)){var D=this.Y;var F=this.va;var L=this.wa;
var O=this.X;var N=this.O}else D=this.m,F=this.wa,L=this.va,O=this.O,N=this.X;k.fill(0);l.fill(0);var V=0;var W=V+16;N.aa.fill(0);for(c=0;c<O.length;c+=1){var H=0;var P=O[c];var R=N[c];var T=f[c];var Z=0<c?N[c-1]:z;var oa=c<A-1?N[c+1]:z;for(d=0;d<w;d+=1){var ha=P[d];var ba=0;if(ha){var ia=R[d];var ma=Z[d];var fa=oa[d];for(b=15;0<=b;--b){if(0!==(ha&1<<b)){var U=p=g=e=0;var ka=V;for(n=32768;ka<W;){var ca=0===ka?this.pa:D[ka-1];var aa=D[ka];var X=ka===this.height-1?this.pa:D[ka+1];var na=L[ka];var Q=
32768;var E=H;var y=ca[E+1];var K=aa[E+1];var M=X[E+1];var J=ca[E];var x=aa[E];var B=X[E];B=0===E?J<<6|x<<8|B<<10|y<<12|K<<14|M<<16:ca[E-1]|aa[E-1]<<2|X[E-1]<<4|J<<6|x<<8|B<<10|y<<12|K<<14|M<<16;J=a[B];0<J?(q+=1,0===(B&768)&&(m+=1),p|=n,g|=Q):0!==(B&768)&&(r+=1);e|=x;Q>>=1;E+=1;x=K;y=ca[E+1];K=aa[E+1];M=X[E+1];B=B>>6|y<<12|K<<14|M<<16;y=a[B];J|=y<<8;0<y?(q+=1,0===(B&768)&&(m+=1),p|=n,g|=Q):0!==(B&768)&&(r+=1);e|=x;Q>>=1;E+=1;x=K;y=ca[E+1];K=aa[E+1];M=X[E+1];B=B>>6|y<<12|K<<14|M<<16;y=a[B];J|=y<<16;
0<y?(q+=1,0===(B&768)&&(m+=1),p|=n,g|=Q):0!==(B&768)&&(r+=1);e|=x;Q>>=1;E+=1;x=K;y=ca[E+1];K=aa[E+1];M=X[E+1];B=B>>6|y<<12|K<<14|M<<16;y=a[B];J|=y<<24;na[E>>2]=J;0<y?(q+=1,0===(B&768)&&(m+=1),p|=n,g|=Q):0!==(B&768)&&(r+=1);e|=x;Q>>=1;E+=1;x=K;y=ca[E+1];K=aa[E+1];M=X[E+1];B=B>>6|y<<12|K<<14|M<<16;J=a[B];0<J?(q+=1,0===(B&768)&&(m+=1),p|=n,g|=Q):0!==(B&768)&&(r+=1);e|=x;Q>>=1;E+=1;x=K;y=ca[E+1];K=aa[E+1];M=X[E+1];B=B>>6|y<<12|K<<14|M<<16;y=a[B];J|=y<<8;0<y?(q+=1,0===(B&768)&&(m+=1),p|=n,g|=Q):0!==(B&
768)&&(r+=1);e|=x;Q>>=1;E+=1;x=K;y=ca[E+1];K=aa[E+1];M=X[E+1];B=B>>6|y<<12|K<<14|M<<16;y=a[B];J|=y<<16;0<y?(q+=1,0===(B&768)&&(m+=1),p|=n,g|=Q):0!==(B&768)&&(r+=1);e|=x;Q>>=1;E+=1;x=K;y=ca[E+1];K=aa[E+1];M=X[E+1];B=B>>6|y<<12|K<<14|M<<16;y=a[B];J|=y<<24;na[E>>2]=J;0<y?(q+=1,0===(B&768)&&(m+=1),p|=n,g|=Q):0!==(B&768)&&(r+=1);e|=x;Q>>=1;E+=1;x=K;y=ca[E+1];K=aa[E+1];M=X[E+1];B=B>>6|y<<12|K<<14|M<<16;J=a[B];0<J?(q+=1,0===(B&768)&&(m+=1),p|=n,g|=Q):0!==(B&768)&&(r+=1);e|=x;Q>>=1;E+=1;x=K;y=ca[E+1];K=aa[E+
1];M=X[E+1];B=B>>6|y<<12|K<<14|M<<16;y=a[B];J|=y<<8;0<y?(q+=1,0===(B&768)&&(m+=1),p|=n,g|=Q):0!==(B&768)&&(r+=1);e|=x;Q>>=1;E+=1;x=K;y=ca[E+1];K=aa[E+1];M=X[E+1];B=B>>6|y<<12|K<<14|M<<16;y=a[B];J|=y<<16;0<y?(q+=1,0===(B&768)&&(m+=1),p|=n,g|=Q):0!==(B&768)&&(r+=1);e|=x;Q>>=1;E+=1;x=K;y=ca[E+1];K=aa[E+1];M=X[E+1];B=B>>6|y<<12|K<<14|M<<16;y=a[B];J|=y<<24;na[E>>2]=J;0<y?(q+=1,0===(B&768)&&(m+=1),p|=n,g|=Q):0!==(B&768)&&(r+=1);e|=x;Q>>=1;E+=1;x=K;y=ca[E+1];K=aa[E+1];M=X[E+1];B=B>>6|y<<12|K<<14|M<<16;J=
a[B];0<J?(q+=1,0===(B&768)&&(m+=1),p|=n,g|=Q):0!==(B&768)&&(r+=1);e|=x;Q>>=1;E+=1;x=K;y=ca[E+1];K=aa[E+1];M=X[E+1];B=B>>6|y<<12|K<<14|M<<16;y=a[B];J|=y<<8;0<y?(q+=1,0===(B&768)&&(m+=1),p|=n,g|=Q):0!==(B&768)&&(r+=1);e|=x;Q>>=1;E+=1;x=K;y=ca[E+1];K=aa[E+1];M=X[E+1];B=B>>6|y<<12|K<<14|M<<16;y=a[B];J|=y<<16;0<y?(q+=1,0===(B&768)&&(m+=1),p|=n,g|=Q):0!==(B&768)&&(r+=1);e|=x;Q>>=1;E+=1;x=K;E===u-1?M=K=y=0:(y=ca[E+1],K=aa[E+1],M=X[E+1]);B=B>>6|y<<12|K<<14|M<<16;y=a[B];J|=y<<24;na[E>>2]=J;0<y?(q+=1,0===(B&
768)&&(m+=1),p|=n,g|=Q):0!==(B&768)&&(r+=1);e|=x;ka+=1;n>>=1}k[H>>4]|=g;g?(ia|=1<<b,p&1&&(U|=I.ub,g&32768&&(U|=I.Eb),g&1&&(U|=I.tb)),p&32768&&(U|=I.yb,g&32768&&(U|=I.Cb),g&1&&(U|=I.Db)),g&32768&&(U|=I.rb),g&1&&(U|=I.jb),U&&(0!==(U&I.rb)&&(15>b?ia|=1<<b+1:0<d&&0<H&&(R[d-1]|=1)),0!==(U&I.jb)&&(0<b?ia|=1<<b-1:d<w-1&&H<u-1&&(R[d+1]|=32768)),0!==(U&I.yb)&&(ma|=1<<b),0!==(U&I.ub)&&(fa|=1<<b),0!==(U&I.Cb)&&(15>b?ma|=1<<b+1:0<d&&0<H&&(Z[d-1]|=1)),0!==(U&I.Db)&&(0<b?ma|=1<<b-1:d<w-1&&H<u-1&&(Z[d+1]|=32768)),
0!==(U&I.Eb)&&(15>b?fa|=1<<b+1:0<d&&0<H&&(oa[d-1]|=1)),0!==(U&I.tb)&&(0<b?fa|=1<<b-1:d<w-1&&H<u-1&&(oa[d+1]|=32768)))):e&&(ba|=1<<b);l[c]|=p}H+=16}R[d]|=ia;0<c&&(Z[d]|=ma);c<A-1&&(oa[d]|=fa)}else H+=256;T[d]=ba}V+=16;W+=16}this.Rb(k,l,u,v,t);z.fill(0);this.Ob(F);for(ka=0;ka<this.B.aa.length;ka+=1)this.B.aa[ka]=this.B.aa[ka]|O.aa[ka]|N.aa[ka];this.s=q;this.ma=m;this.$=r};pa.prototype.Oj=function(){var a=this.Fa,b,c,d,f=this.Ua,e,k=this.Ia,g,l=this.Wa,p,n,q=0,m=0,r=0,u=this.width,t=this.v,v=this.height,
A=this.ea,w=this.ba>>4,z=this.Qa;if(0!==(this.counter&1)){var D=this.Y;var F=this.va;var L=this.wa;var O=this.X;var N=this.O}else D=this.m,F=this.wa,L=this.va,O=this.O,N=this.X;k.fill(0);l.fill(0);var V=0;var W=V+16;N.aa.fill(0);for(c=0;c<O.length;c+=1){var H=0;var P=O[c];var R=N[c];var T=f[c];var Z=0<c?N[c-1]:z;var oa=c<A-1?N[c+1]:z;for(d=0;d<w;d+=1){var ha=P[d];var ba=0;if(ha){var ia=R[d];var ma=Z[d];var fa=oa[d];for(b=15;0<=b;--b){if(0!==(ha&1<<b)){var U=p=g=e=0;var ka=V;for(n=32768;ka<W;){var ca=
0===ka?this.pa:D[ka-1];var aa=D[ka];var X=ka===this.height-1?this.pa:D[ka+1];var na=L[ka];var Q=32768;var E=H;var y=ca[E+1];var K=aa[E+1];var M=X[E+1];var J=ca[E];var x=aa[E];var B=X[E];B=0===E?J<<9|x<<12|B<<15|y<<18|K<<21|M<<24:ca[E-1]|aa[E-1]<<3|X[E-1]<<6|J<<9|x<<12|B<<15|y<<18|K<<21|M<<24;J=a[B];0<J?(q+=1,0===(B&45056)&&(m+=1),p|=n,g|=Q):0!==(B&45056)&&(r+=1);e|=x;Q>>=1;E+=1;x=K;y=ca[E+1];K=aa[E+1];M=X[E+1];B=B>>9|y<<18|K<<21|M<<24;y=a[B];J|=y<<8;0<y?(q+=1,0===(B&45056)&&(m+=1),p|=n,g|=Q):0!==
(B&45056)&&(r+=1);e|=x;Q>>=1;E+=1;x=K;y=ca[E+1];K=aa[E+1];M=X[E+1];B=B>>9|y<<18|K<<21|M<<24;y=a[B];J|=y<<16;0<y?(q+=1,0===(B&45056)&&(m+=1),p|=n,g|=Q):0!==(B&45056)&&(r+=1);e|=x;Q>>=1;E+=1;x=K;y=ca[E+1];K=aa[E+1];M=X[E+1];B=B>>9|y<<18|K<<21|M<<24;y=a[B];J|=y<<24;na[E>>2]=J;0<y?(q+=1,0===(B&45056)&&(m+=1),p|=n,g|=Q):0!==(B&45056)&&(r+=1);e|=x;Q>>=1;E+=1;x=K;y=ca[E+1];K=aa[E+1];M=X[E+1];B=B>>9|y<<18|K<<21|M<<24;J=a[B];0<J?(q+=1,0===(B&45056)&&(m+=1),p|=n,g|=Q):0!==(B&45056)&&(r+=1);e|=x;Q>>=1;E+=1;
x=K;y=ca[E+1];K=aa[E+1];M=X[E+1];B=B>>9|y<<18|K<<21|M<<24;y=a[B];J|=y<<8;0<y?(q+=1,0===(B&45056)&&(m+=1),p|=n,g|=Q):0!==(B&45056)&&(r+=1);e|=x;Q>>=1;E+=1;x=K;y=ca[E+1];K=aa[E+1];M=X[E+1];B=B>>9|y<<18|K<<21|M<<24;y=a[B];J|=y<<16;0<y?(q+=1,0===(B&45056)&&(m+=1),p|=n,g|=Q):0!==(B&45056)&&(r+=1);e|=x;Q>>=1;E+=1;x=K;y=ca[E+1];K=aa[E+1];M=X[E+1];B=B>>9|y<<18|K<<21|M<<24;y=a[B];J|=y<<24;na[E>>2]=J;0<y?(q+=1,0===(B&45056)&&(m+=1),p|=n,g|=Q):0!==(B&45056)&&(r+=1);e|=x;Q>>=1;E+=1;x=K;y=ca[E+1];K=aa[E+1];M=
X[E+1];B=B>>9|y<<18|K<<21|M<<24;J=a[B];0<J?(q+=1,0===(B&45056)&&(m+=1),p|=n,g|=Q):0!==(B&45056)&&(r+=1);e|=x;Q>>=1;E+=1;x=K;y=ca[E+1];K=aa[E+1];M=X[E+1];B=B>>9|y<<18|K<<21|M<<24;y=a[B];J|=y<<8;0<y?(q+=1,0===(B&45056)&&(m+=1),p|=n,g|=Q):0!==(B&45056)&&(r+=1);e|=x;Q>>=1;E+=1;x=K;y=ca[E+1];K=aa[E+1];M=X[E+1];B=B>>9|y<<18|K<<21|M<<24;y=a[B];J|=y<<16;0<y?(q+=1,0===(B&45056)&&(m+=1),p|=n,g|=Q):0!==(B&45056)&&(r+=1);e|=x;Q>>=1;E+=1;x=K;y=ca[E+1];K=aa[E+1];M=X[E+1];B=B>>9|y<<18|K<<21|M<<24;y=a[B];J|=y<<24;
na[E>>2]=J;0<y?(q+=1,0===(B&45056)&&(m+=1),p|=n,g|=Q):0!==(B&45056)&&(r+=1);e|=x;Q>>=1;E+=1;x=K;y=ca[E+1];K=aa[E+1];M=X[E+1];B=B>>9|y<<18|K<<21|M<<24;J=a[B];0<J?(q+=1,0===(B&45056)&&(m+=1),p|=n,g|=Q):0!==(B&45056)&&(r+=1);e|=x;Q>>=1;E+=1;x=K;y=ca[E+1];K=aa[E+1];M=X[E+1];B=B>>9|y<<18|K<<21|M<<24;y=a[B];J|=y<<8;0<y?(q+=1,0===(B&45056)&&(m+=1),p|=n,g|=Q):0!==(B&45056)&&(r+=1);e|=x;Q>>=1;E+=1;x=K;y=ca[E+1];K=aa[E+1];M=X[E+1];B=B>>9|y<<18|K<<21|M<<24;y=a[B];J|=y<<16;0<y?(q+=1,0===(B&45056)&&(m+=1),p|=
n,g|=Q):0!==(B&45056)&&(r+=1);e|=x;Q>>=1;E+=1;x=K;E===u-1?M=K=y=0:(y=ca[E+1],K=aa[E+1],M=X[E+1]);B=B>>9|y<<18|K<<21|M<<24;y=a[B];J|=y<<24;na[E>>2]=J;0<y?(q+=1,0===(B&45056)&&(m+=1),p|=n,g|=Q):0!==(B&45056)&&(r+=1);e|=x;ka+=1;n>>=1}k[H>>4]|=g;g?(ia|=1<<b,p&1&&(U|=I.ub,g&32768&&(U|=I.Eb),g&1&&(U|=I.tb)),p&32768&&(U|=I.yb,g&32768&&(U|=I.Cb),g&1&&(U|=I.Db)),g&32768&&(U|=I.rb),g&1&&(U|=I.jb),U&&(0!==(U&I.rb)&&(15>b?ia|=1<<b+1:0<d&&0<H&&(R[d-1]|=1)),0!==(U&I.jb)&&(0<b?ia|=1<<b-1:d<w-1&&H<u-1&&(R[d+1]|=
32768)),0!==(U&I.yb)&&(ma|=1<<b),0!==(U&I.ub)&&(fa|=1<<b),0!==(U&I.Cb)&&(15>b?ma|=1<<b+1:0<d&&0<H&&(Z[d-1]|=1)),0!==(U&I.Db)&&(0<b?ma|=1<<b-1:d<w-1&&H<u-1&&(Z[d+1]|=32768)),0!==(U&I.Eb)&&(15>b?fa|=1<<b+1:0<d&&0<H&&(oa[d-1]|=1)),0!==(U&I.tb)&&(0<b?fa|=1<<b-1:d<w-1&&H<u-1&&(oa[d+1]|=32768)))):e&&(ba|=1<<b);l[c]|=p}H+=16}R[d]|=ia;0<c&&(Z[d]|=ma);c<A-1&&(oa[d]|=fa)}else H+=256;T[d]=ba}V+=16;W+=16}this.Rb(k,l,u,v,t);z.fill(0);this.Ob(F);for(ka=0;ka<this.B.aa.length;ka+=1)this.B.aa[ka]=this.B.aa[ka]|O.aa[ka]|
N.aa[ka];this.s=q;this.ma=m;this.$=r};pa.prototype.Pj=function(){var a=this.Fa,b,c,d,f=this.Ua,e,k=this.Ia,g,l=this.Wa,p,n,q=0,m=0,r=0,u=this.width,t=this.v,v=this.height,A=this.ea,w=this.ba>>4,z=this.Qa;if(0!==(this.counter&1)){var D=this.Y;var F=this.va;var L=this.wa;var O=this.X;var N=this.O}else D=this.m,F=this.wa,L=this.va,O=this.O,N=this.X;k.fill(0);l.fill(0);var V=0;var W=V+16;N.aa.fill(0);for(c=0;c<O.length;c+=1){var H=0;var P=O[c];var R=N[c];var T=f[c];var Z=0<c?N[c-1]:z;var oa=c<A-1?N[c+
1]:z;for(d=0;d<w;d+=1){var ha=P[d];var ba=0;if(ha){var ia=R[d];var ma=Z[d];var fa=oa[d];for(b=15;0<=b;--b){if(0!==(ha&1<<b)){var U=p=g=e=0;var ka=V;for(n=32768;ka<W;){var ca=0===ka?this.pa:D[ka-1];var aa=D[ka];var X=ka===this.height-1?this.pa:D[ka+1];var na=L[ka];var Q=32768;var E=H;var y=ca[E];var K=aa[E+1];var M=X[E];var J=aa[E];var x=0===E?J<<3|K<<2|y<<1|M:aa[E-1]<<4|J<<3|K<<2|y<<1|M;var B=a[x];0<B?(q+=1,0===(x&8)&&(m+=1),p|=n,g|=Q):0!==(x&8)&&(r+=1);e|=J;Q>>=1;E+=1;J=K;y=ca[E];K=aa[E+1];M=X[E];
x=x<<1&24|K<<2|y<<1|M;y=a[x];B|=y<<8;0<y?(q+=1,0===(x&8)&&(m+=1),p|=n,g|=Q):0!==(x&8)&&(r+=1);e|=J;Q>>=1;E+=1;J=K;y=ca[E];K=aa[E+1];M=X[E];x=x<<1&24|K<<2|y<<1|M;y=a[x];B|=y<<16;0<y?(q+=1,0===(x&8)&&(m+=1),p|=n,g|=Q):0!==(x&8)&&(r+=1);e|=J;Q>>=1;E+=1;J=K;y=ca[E];K=aa[E+1];M=X[E];x=x<<1&24|K<<2|y<<1|M;y=a[x];B|=y<<24;na[E>>2]=B;0<y?(q+=1,0===(x&8)&&(m+=1),p|=n,g|=Q):0!==(x&8)&&(r+=1);e|=J;Q>>=1;E+=1;J=K;y=ca[E];K=aa[E+1];M=X[E];x=x<<1&24|K<<2|y<<1|M;B=a[x];0<B?(q+=1,0===(x&8)&&(m+=1),p|=n,g|=Q):0!==
(x&8)&&(r+=1);e|=J;Q>>=1;E+=1;J=K;y=ca[E];K=aa[E+1];M=X[E];x=x<<1&24|K<<2|y<<1|M;y=a[x];B|=y<<8;0<y?(q+=1,0===(x&8)&&(m+=1),p|=n,g|=Q):0!==(x&8)&&(r+=1);e|=J;Q>>=1;E+=1;J=K;y=ca[E];K=aa[E+1];M=X[E];x=x<<1&24|K<<2|y<<1|M;y=a[x];B|=y<<16;0<y?(q+=1,0===(x&8)&&(m+=1),p|=n,g|=Q):0!==(x&8)&&(r+=1);e|=J;Q>>=1;E+=1;J=K;y=ca[E];K=aa[E+1];M=X[E];x=x<<1&24|K<<2|y<<1|M;y=a[x];B|=y<<24;na[E>>2]=B;0<y?(q+=1,0===(x&8)&&(m+=1),p|=n,g|=Q):0!==(x&8)&&(r+=1);e|=J;Q>>=1;E+=1;J=K;y=ca[E];K=aa[E+1];M=X[E];x=x<<1&24|K<<
2|y<<1|M;B=a[x];0<B?(q+=1,0===(x&8)&&(m+=1),p|=n,g|=Q):0!==(x&8)&&(r+=1);e|=J;Q>>=1;E+=1;J=K;y=ca[E];K=aa[E+1];M=X[E];x=x<<1&24|K<<2|y<<1|M;y=a[x];B|=y<<8;0<y?(q+=1,0===(x&8)&&(m+=1),p|=n,g|=Q):0!==(x&8)&&(r+=1);e|=J;Q>>=1;E+=1;J=K;y=ca[E];K=aa[E+1];M=X[E];x=x<<1&24|K<<2|y<<1|M;y=a[x];B|=y<<16;0<y?(q+=1,0===(x&8)&&(m+=1),p|=n,g|=Q):0!==(x&8)&&(r+=1);e|=J;Q>>=1;E+=1;J=K;y=ca[E];K=aa[E+1];M=X[E];x=x<<1&24|K<<2|y<<1|M;y=a[x];B|=y<<24;na[E>>2]=B;0<y?(q+=1,0===(x&8)&&(m+=1),p|=n,g|=Q):0!==(x&8)&&(r+=1);
e|=J;Q>>=1;E+=1;J=K;y=ca[E];K=aa[E+1];M=X[E];x=x<<1&24|K<<2|y<<1|M;B=a[x];0<B?(q+=1,0===(x&8)&&(m+=1),p|=n,g|=Q):0!==(x&8)&&(r+=1);e|=J;Q>>=1;E+=1;J=K;y=ca[E];K=aa[E+1];M=X[E];x=x<<1&24|K<<2|y<<1|M;y=a[x];B|=y<<8;0<y?(q+=1,0===(x&8)&&(m+=1),p|=n,g|=Q):0!==(x&8)&&(r+=1);e|=J;Q>>=1;E+=1;J=K;y=ca[E];K=aa[E+1];M=X[E];x=x<<1&24|K<<2|y<<1|M;y=a[x];B|=y<<16;0<y?(q+=1,0===(x&8)&&(m+=1),p|=n,g|=Q):0!==(x&8)&&(r+=1);e|=J;Q>>=1;E+=1;J=K;y=ca[E];K=E===u-1?0:aa[E+1];M=X[E];x=x<<1&24|K<<2|y<<1|M;y=a[x];B|=y<<24;
na[E>>2]=B;0<y?(q+=1,0===(x&8)&&(m+=1),p|=n,g|=Q):0!==(x&8)&&(r+=1);e|=J;ka+=1;n>>=1}k[H>>4]|=g;g?(ia|=1<<b,p&1&&(U|=I.ub,g&32768&&(U|=I.Eb),g&1&&(U|=I.tb)),p&32768&&(U|=I.yb,g&32768&&(U|=I.Cb),g&1&&(U|=I.Db)),g&32768&&(U|=I.rb),g&1&&(U|=I.jb),U&&(0!==(U&I.rb)&&(15>b?ia|=1<<b+1:0<d&&0<H&&(R[d-1]|=1)),0!==(U&I.jb)&&(0<b?ia|=1<<b-1:d<w-1&&H<u-1&&(R[d+1]|=32768)),0!==(U&I.yb)&&(ma|=1<<b),0!==(U&I.ub)&&(fa|=1<<b),0!==(U&I.Cb)&&(15>b?ma|=1<<b+1:0<d&&0<H&&(Z[d-1]|=1)),0!==(U&I.Db)&&(0<b?ma|=1<<b-1:d<w-
1&&H<u-1&&(Z[d+1]|=32768)),0!==(U&I.Eb)&&(15>b?fa|=1<<b+1:0<d&&0<H&&(oa[d-1]|=1)),0!==(U&I.tb)&&(0<b?fa|=1<<b-1:d<w-1&&H<u-1&&(oa[d+1]|=32768)))):e&&(ba|=1<<b);l[c]|=p}H+=16}R[d]|=ia;0<c&&(Z[d]|=ma);c<A-1&&(oa[d]|=fa)}else H+=256;T[d]=ba}V+=16;W+=16}this.Rb(k,l,u,v,t);z.fill(0);this.Ob(F);for(ka=0;ka<this.B.aa.length;ka+=1)this.B.aa[ka]=this.B.aa[ka]|O.aa[ka]|N.aa[ka];this.s=q;this.ma=m;this.$=r};pa.prototype.Qj=function(){var a=this.Fa,b,c,d,f=this.Ua,e,k=this.Ia,g,l=this.Wa,p,n,q=0,m=0,r=0,u=this.width,
t=this.v,v=this.height,A=this.ea,w=this.ba>>4,z=this.Qa;if(0!==(this.counter&1)){var D=this.Y;var F=this.va;var L=this.wa;var O=this.X;var N=this.O}else D=this.m,F=this.wa,L=this.va,O=this.O,N=this.X;k.fill(0);l.fill(0);var V=0;var W=V+16;N.aa.fill(0);for(c=0;c<O.length;c+=1){var H=0;var P=O[c];var R=N[c];var T=f[c];var Z=0<c?N[c-1]:z;var oa=c<A-1?N[c+1]:z;for(d=0;d<w;d+=1){var ha=P[d];var ba=0;if(ha){var ia=R[d];var ma=Z[d];var fa=oa[d];for(b=15;0<=b;--b){if(0!==(ha&1<<b)){var U=p=g=e=0;var ka=V;
for(n=32768;ka<W;){var ca=0===ka?this.pa:D[ka-1];var aa=D[ka];var X=ka===this.height-1?this.pa:D[ka+1];var na=L[ka];var Q=32768;var E=H;var y=ca[E];var K=aa[E+1];var M=X[E];var J=aa[E];var x=0===E?J<<6|K<<4|y<<2|M:aa[E-1]<<8|J<<6|K<<4|y<<2|M;var B=a[x];0<B?(q+=1,0===(x&192)&&(m+=1),p|=n,g|=Q):0!==(x&192)&&(r+=1);e|=J;Q>>=1;E+=1;J=K;y=ca[E];K=aa[E+1];M=X[E];x=x<<2&960|K<<4|y<<2|M;y=a[x];B|=y<<8;0<y?(q+=1,0===(x&192)&&(m+=1),p|=n,g|=Q):0!==(x&192)&&(r+=1);e|=J;Q>>=1;E+=1;J=K;y=ca[E];K=aa[E+1];M=X[E];
x=x<<2&960|K<<4|y<<2|M;y=a[x];B|=y<<16;0<y?(q+=1,0===(x&192)&&(m+=1),p|=n,g|=Q):0!==(x&192)&&(r+=1);e|=J;Q>>=1;E+=1;J=K;y=ca[E];K=aa[E+1];M=X[E];x=x<<2&960|K<<4|y<<2|M;y=a[x];B|=y<<24;na[E>>2]=B;0<y?(q+=1,0===(x&192)&&(m+=1),p|=n,g|=Q):0!==(x&192)&&(r+=1);e|=J;Q>>=1;E+=1;J=K;y=ca[E];K=aa[E+1];M=X[E];x=x<<2&960|K<<4|y<<2|M;B=a[x];0<B?(q+=1,0===(x&192)&&(m+=1),p|=n,g|=Q):0!==(x&192)&&(r+=1);e|=J;Q>>=1;E+=1;J=K;y=ca[E];K=aa[E+1];M=X[E];x=x<<2&960|K<<4|y<<2|M;y=a[x];B|=y<<8;0<y?(q+=1,0===(x&192)&&(m+=
1),p|=n,g|=Q):0!==(x&192)&&(r+=1);e|=J;Q>>=1;E+=1;J=K;y=ca[E];K=aa[E+1];M=X[E];x=x<<2&960|K<<4|y<<2|M;y=a[x];B|=y<<16;0<y?(q+=1,0===(x&192)&&(m+=1),p|=n,g|=Q):0!==(x&192)&&(r+=1);e|=J;Q>>=1;E+=1;J=K;y=ca[E];K=aa[E+1];M=X[E];x=x<<2&960|K<<4|y<<2|M;y=a[x];B|=y<<24;na[E>>2]=B;0<y?(q+=1,0===(x&192)&&(m+=1),p|=n,g|=Q):0!==(x&192)&&(r+=1);e|=J;Q>>=1;E+=1;J=K;y=ca[E];K=aa[E+1];M=X[E];x=x<<2&960|K<<4|y<<2|M;B=a[x];0<B?(q+=1,0===(x&192)&&(m+=1),p|=n,g|=Q):0!==(x&192)&&(r+=1);e|=J;Q>>=1;E+=1;J=K;y=ca[E];K=
aa[E+1];M=X[E];x=x<<2&960|K<<4|y<<2|M;y=a[x];B|=y<<8;0<y?(q+=1,0===(x&192)&&(m+=1),p|=n,g|=Q):0!==(x&192)&&(r+=1);e|=J;Q>>=1;E+=1;J=K;y=ca[E];K=aa[E+1];M=X[E];x=x<<2&960|K<<4|y<<2|M;y=a[x];B|=y<<16;0<y?(q+=1,0===(x&192)&&(m+=1),p|=n,g|=Q):0!==(x&192)&&(r+=1);e|=J;Q>>=1;E+=1;J=K;y=ca[E];K=aa[E+1];M=X[E];x=x<<2&960|K<<4|y<<2|M;y=a[x];B|=y<<24;na[E>>2]=B;0<y?(q+=1,0===(x&192)&&(m+=1),p|=n,g|=Q):0!==(x&192)&&(r+=1);e|=J;Q>>=1;E+=1;J=K;y=ca[E];K=aa[E+1];M=X[E];x=x<<2&960|K<<4|y<<2|M;B=a[x];0<B?(q+=1,0===
(x&192)&&(m+=1),p|=n,g|=Q):0!==(x&192)&&(r+=1);e|=J;Q>>=1;E+=1;J=K;y=ca[E];K=aa[E+1];M=X[E];x=x<<2&960|K<<4|y<<2|M;y=a[x];B|=y<<8;0<y?(q+=1,0===(x&192)&&(m+=1),p|=n,g|=Q):0!==(x&192)&&(r+=1);e|=J;Q>>=1;E+=1;J=K;y=ca[E];K=aa[E+1];M=X[E];x=x<<2&960|K<<4|y<<2|M;y=a[x];B|=y<<16;0<y?(q+=1,0===(x&192)&&(m+=1),p|=n,g|=Q):0!==(x&192)&&(r+=1);e|=J;Q>>=1;E+=1;J=K;y=ca[E];K=E===u-1?0:aa[E+1];M=X[E];x=x<<2&960|K<<4|y<<2|M;y=a[x];B|=y<<24;na[E>>2]=B;0<y?(q+=1,0===(x&192)&&(m+=1),p|=n,g|=Q):0!==(x&192)&&(r+=1);
e|=J;ka+=1;n>>=1}k[H>>4]|=g;g?(ia|=1<<b,p&1&&(U|=I.ub,g&32768&&(U|=I.Eb),g&1&&(U|=I.tb)),p&32768&&(U|=I.yb,g&32768&&(U|=I.Cb),g&1&&(U|=I.Db)),g&32768&&(U|=I.rb),g&1&&(U|=I.jb),U&&(0!==(U&I.rb)&&(15>b?ia|=1<<b+1:0<d&&0<H&&(R[d-1]|=1)),0!==(U&I.jb)&&(0<b?ia|=1<<b-1:d<w-1&&H<u-1&&(R[d+1]|=32768)),0!==(U&I.yb)&&(ma|=1<<b),0!==(U&I.ub)&&(fa|=1<<b),0!==(U&I.Cb)&&(15>b?ma|=1<<b+1:0<d&&0<H&&(Z[d-1]|=1)),0!==(U&I.Db)&&(0<b?ma|=1<<b-1:d<w-1&&H<u-1&&(Z[d+1]|=32768)),0!==(U&I.Eb)&&(15>b?fa|=1<<b+1:0<d&&0<H&&
(oa[d-1]|=1)),0!==(U&I.tb)&&(0<b?fa|=1<<b-1:d<w-1&&H<u-1&&(oa[d+1]|=32768)))):e&&(ba|=1<<b);l[c]|=p}H+=16}R[d]|=ia;0<c&&(Z[d]|=ma);c<A-1&&(oa[d]|=fa)}else H+=256;T[d]=ba}V+=16;W+=16}this.Rb(k,l,u,v,t);z.fill(0);this.Ob(F);for(ka=0;ka<this.B.aa.length;ka+=1)this.B.aa[ka]=this.B.aa[ka]|O.aa[ka]|N.aa[ka];this.s=q;this.ma=m;this.$=r};pa.prototype.Rj=function(){var a=this.Fa,b,c,d,f=this.Ua,e,k=this.Ia,g,l=this.Wa,p,n,q=0,m=0,r=0,u=this.width,t=this.v,v=this.height,A=this.ea,w=this.ba>>4,z=this.Qa;if(0!==
(this.counter&1)){var D=this.Y;var F=this.va;var L=this.wa;var O=this.X;var N=this.O}else D=this.m,F=this.wa,L=this.va,O=this.O,N=this.X;k.fill(0);l.fill(0);var V=0;var W=V+16;N.aa.fill(0);for(c=0;c<O.length;c+=1){var H=0;var P=O[c];var R=N[c];var T=f[c];var Z=0<c?N[c-1]:z;var oa=c<A-1?N[c+1]:z;for(d=0;d<w;d+=1){var ha=P[d];var ba=0;if(ha){var ia=R[d];var ma=Z[d];var fa=oa[d];for(b=15;0<=b;--b){if(0!==(ha&1<<b)){var U=p=g=e=0;var ka=V;for(n=32768;ka<W;){var ca=0===ka?this.pa:D[ka-1];var aa=D[ka];
var X=ka===this.height-1?this.pa:D[ka+1];var na=L[ka];var Q=32768;var E=H;var y=ca[E];var K=aa[E+1];var M=X[E];var J=aa[E];var x=0===E?J<<9|K<<6|y<<3|M:aa[E-1]<<12|J<<9|K<<6|y<<3|M;var B=a[x];0<B?(q+=1,0===(x&3584)&&(m+=1),p|=n,g|=Q):0!==(x&3584)&&(r+=1);e|=J;Q>>=1;E+=1;J=K;y=ca[E];K=aa[E+1];M=X[E];x=x<<3&32256|K<<6|y<<3|M;y=a[x];B|=y<<8;0<y?(q+=1,0===(x&3584)&&(m+=1),p|=n,g|=Q):0!==(x&3584)&&(r+=1);e|=J;Q>>=1;E+=1;J=K;y=ca[E];K=aa[E+1];M=X[E];x=x<<3&32256|K<<6|y<<3|M;y=a[x];B|=y<<16;0<y?(q+=1,0===
(x&3584)&&(m+=1),p|=n,g|=Q):0!==(x&3584)&&(r+=1);e|=J;Q>>=1;E+=1;J=K;y=ca[E];K=aa[E+1];M=X[E];x=x<<3&32256|K<<6|y<<3|M;y=a[x];B|=y<<24;na[E>>2]=B;0<y?(q+=1,0===(x&3584)&&(m+=1),p|=n,g|=Q):0!==(x&3584)&&(r+=1);e|=J;Q>>=1;E+=1;J=K;y=ca[E];K=aa[E+1];M=X[E];x=x<<3&32256|K<<6|y<<3|M;B=a[x];0<B?(q+=1,0===(x&3584)&&(m+=1),p|=n,g|=Q):0!==(x&3584)&&(r+=1);e|=J;Q>>=1;E+=1;J=K;y=ca[E];K=aa[E+1];M=X[E];x=x<<3&32256|K<<6|y<<3|M;y=a[x];B|=y<<8;0<y?(q+=1,0===(x&3584)&&(m+=1),p|=n,g|=Q):0!==(x&3584)&&(r+=1);e|=J;
Q>>=1;E+=1;J=K;y=ca[E];K=aa[E+1];M=X[E];x=x<<3&32256|K<<6|y<<3|M;y=a[x];B|=y<<16;0<y?(q+=1,0===(x&3584)&&(m+=1),p|=n,g|=Q):0!==(x&3584)&&(r+=1);e|=J;Q>>=1;E+=1;J=K;y=ca[E];K=aa[E+1];M=X[E];x=x<<3&32256|K<<6|y<<3|M;y=a[x];B|=y<<24;na[E>>2]=B;0<y?(q+=1,0===(x&3584)&&(m+=1),p|=n,g|=Q):0!==(x&3584)&&(r+=1);e|=J;Q>>=1;E+=1;J=K;y=ca[E];K=aa[E+1];M=X[E];x=x<<3&32256|K<<6|y<<3|M;B=a[x];0<B?(q+=1,0===(x&3584)&&(m+=1),p|=n,g|=Q):0!==(x&3584)&&(r+=1);e|=J;Q>>=1;E+=1;J=K;y=ca[E];K=aa[E+1];M=X[E];x=x<<3&32256|
K<<6|y<<3|M;y=a[x];B|=y<<8;0<y?(q+=1,0===(x&3584)&&(m+=1),p|=n,g|=Q):0!==(x&3584)&&(r+=1);e|=J;Q>>=1;E+=1;J=K;y=ca[E];K=aa[E+1];M=X[E];x=x<<3&32256|K<<6|y<<3|M;y=a[x];B|=y<<16;0<y?(q+=1,0===(x&3584)&&(m+=1),p|=n,g|=Q):0!==(x&3584)&&(r+=1);e|=J;Q>>=1;E+=1;J=K;y=ca[E];K=aa[E+1];M=X[E];x=x<<3&32256|K<<6|y<<3|M;y=a[x];B|=y<<24;na[E>>2]=B;0<y?(q+=1,0===(x&3584)&&(m+=1),p|=n,g|=Q):0!==(x&3584)&&(r+=1);e|=J;Q>>=1;E+=1;J=K;y=ca[E];K=aa[E+1];M=X[E];x=x<<3&32256|K<<6|y<<3|M;B=a[x];0<B?(q+=1,0===(x&3584)&&(m+=
1),p|=n,g|=Q):0!==(x&3584)&&(r+=1);e|=J;Q>>=1;E+=1;J=K;y=ca[E];K=aa[E+1];M=X[E];x=x<<3&32256|K<<6|y<<3|M;y=a[x];B|=y<<8;0<y?(q+=1,0===(x&3584)&&(m+=1),p|=n,g|=Q):0!==(x&3584)&&(r+=1);e|=J;Q>>=1;E+=1;J=K;y=ca[E];K=aa[E+1];M=X[E];x=x<<3&32256|K<<6|y<<3|M;y=a[x];B|=y<<16;0<y?(q+=1,0===(x&3584)&&(m+=1),p|=n,g|=Q):0!==(x&3584)&&(r+=1);e|=J;Q>>=1;E+=1;J=K;y=ca[E];K=E===u-1?0:aa[E+1];M=X[E];x=x<<3&32256|K<<6|y<<3|M;y=a[x];B|=y<<24;na[E>>2]=B;0<y?(q+=1,0===(x&3584)&&(m+=1),p|=n,g|=Q):0!==(x&3584)&&(r+=1);
e|=J;ka+=1;n>>=1}k[H>>4]|=g;g?(ia|=1<<b,p&1&&(U|=I.ub,g&32768&&(U|=I.Eb),g&1&&(U|=I.tb)),p&32768&&(U|=I.yb,g&32768&&(U|=I.Cb),g&1&&(U|=I.Db)),g&32768&&(U|=I.rb),g&1&&(U|=I.jb),U&&(0!==(U&I.rb)&&(15>b?ia|=1<<b+1:0<d&&0<H&&(R[d-1]|=1)),0!==(U&I.jb)&&(0<b?ia|=1<<b-1:d<w-1&&H<u-1&&(R[d+1]|=32768)),0!==(U&I.yb)&&(ma|=1<<b),0!==(U&I.ub)&&(fa|=1<<b),0!==(U&I.Cb)&&(15>b?ma|=1<<b+1:0<d&&0<H&&(Z[d-1]|=1)),0!==(U&I.Db)&&(0<b?ma|=1<<b-1:d<w-1&&H<u-1&&(Z[d+1]|=32768)),0!==(U&I.Eb)&&(15>b?fa|=1<<b+1:0<d&&0<H&&
(oa[d-1]|=1)),0!==(U&I.tb)&&(0<b?fa|=1<<b-1:d<w-1&&H<u-1&&(oa[d+1]|=32768)))):e&&(ba|=1<<b);l[c]|=p}H+=16}R[d]|=ia;0<c&&(Z[d]|=ma);c<A-1&&(oa[d]|=fa)}else H+=256;T[d]=ba}V+=16;W+=16}this.Rb(k,l,u,v,t);z.fill(0);this.Ob(F);for(ka=0;ka<this.B.aa.length;ka+=1)this.B.aa[ka]=this.B.aa[ka]|O.aa[ka]|N.aa[ka];this.s=q;this.ma=m;this.$=r};pa.prototype.Sj=function(){var a=this.Fa,b,c,d,f=this.Ua,e,k=this.Ia,g,l=this.Wa,p,n,q=0,m=0,r=0,u=this.width,t=this.v,v=this.height,A=this.ea,w=this.ba>>4,z=this.Qa;if(0!==
(this.counter&1)){var D=this.Y;var F=this.va;var L=this.wa;var O=this.X;var N=this.O}else D=this.m,F=this.wa,L=this.va,O=this.O,N=this.X;k.fill(0);l.fill(0);var V=0;var W=V+16;N.aa.fill(0);for(c=0;c<O.length;c+=1){var H=0;var P=O[c];var R=N[c];var T=f[c];var Z=0<c?N[c-1]:z;var oa=c<A-1?N[c+1]:z;for(d=0;d<w;d+=1){var ha=P[d];var ba=0;if(ha){var ia=R[d];var ma=Z[d];var fa=oa[d];for(b=15;0<=b;--b){if(0!==(ha&1<<b)){var U=p=g=e=0;var ka=V;for(n=32768;ka<W;){var ca=0===ka?this.pa:D[ka-1];var aa=D[ka];
var X=ka===this.height-1?this.pa:D[ka+1];var na=L[ka];var Q=32768;var E=H;var y=ca[E];var K=aa[E+1];var M=X[E];var J=aa[E];var x=0===E?J<<12|K<<8|y<<4|M:aa[E-1]<<16|J<<12|K<<8|y<<4|M;var B=a[x];0<B?(q+=1,0===(x&61440)&&(m+=1),p|=n,g|=Q):0!==(x&61440)&&(r+=1);e|=J;Q>>=1;E+=1;J=K;y=ca[E];K=aa[E+1];M=X[E];x=x<<4&1044480|K<<8|y<<4|M;y=a[x];B|=y<<8;0<y?(q+=1,0===(x&61440)&&(m+=1),p|=n,g|=Q):0!==(x&61440)&&(r+=1);e|=J;Q>>=1;E+=1;J=K;y=ca[E];K=aa[E+1];M=X[E];x=x<<4&1044480|K<<8|y<<4|M;y=a[x];B|=y<<16;0<
y?(q+=1,0===(x&61440)&&(m+=1),p|=n,g|=Q):0!==(x&61440)&&(r+=1);e|=J;Q>>=1;E+=1;J=K;y=ca[E];K=aa[E+1];M=X[E];x=x<<4&1044480|K<<8|y<<4|M;y=a[x];B|=y<<24;na[E>>2]=B;0<y?(q+=1,0===(x&61440)&&(m+=1),p|=n,g|=Q):0!==(x&61440)&&(r+=1);e|=J;Q>>=1;E+=1;J=K;y=ca[E];K=aa[E+1];M=X[E];x=x<<4&1044480|K<<8|y<<4|M;B=a[x];0<B?(q+=1,0===(x&61440)&&(m+=1),p|=n,g|=Q):0!==(x&61440)&&(r+=1);e|=J;Q>>=1;E+=1;J=K;y=ca[E];K=aa[E+1];M=X[E];x=x<<4&1044480|K<<8|y<<4|M;y=a[x];B|=y<<8;0<y?(q+=1,0===(x&61440)&&(m+=1),p|=n,g|=Q):
0!==(x&61440)&&(r+=1);e|=J;Q>>=1;E+=1;J=K;y=ca[E];K=aa[E+1];M=X[E];x=x<<4&1044480|K<<8|y<<4|M;y=a[x];B|=y<<16;0<y?(q+=1,0===(x&61440)&&(m+=1),p|=n,g|=Q):0!==(x&61440)&&(r+=1);e|=J;Q>>=1;E+=1;J=K;y=ca[E];K=aa[E+1];M=X[E];x=x<<4&1044480|K<<8|y<<4|M;y=a[x];B|=y<<24;na[E>>2]=B;0<y?(q+=1,0===(x&61440)&&(m+=1),p|=n,g|=Q):0!==(x&61440)&&(r+=1);e|=J;Q>>=1;E+=1;J=K;y=ca[E];K=aa[E+1];M=X[E];x=x<<4&1044480|K<<8|y<<4|M;B=a[x];0<B?(q+=1,0===(x&61440)&&(m+=1),p|=n,g|=Q):0!==(x&61440)&&(r+=1);e|=J;Q>>=1;E+=1;J=
K;y=ca[E];K=aa[E+1];M=X[E];x=x<<4&1044480|K<<8|y<<4|M;y=a[x];B|=y<<8;0<y?(q+=1,0===(x&61440)&&(m+=1),p|=n,g|=Q):0!==(x&61440)&&(r+=1);e|=J;Q>>=1;E+=1;J=K;y=ca[E];K=aa[E+1];M=X[E];x=x<<4&1044480|K<<8|y<<4|M;y=a[x];B|=y<<16;0<y?(q+=1,0===(x&61440)&&(m+=1),p|=n,g|=Q):0!==(x&61440)&&(r+=1);e|=J;Q>>=1;E+=1;J=K;y=ca[E];K=aa[E+1];M=X[E];x=x<<4&1044480|K<<8|y<<4|M;y=a[x];B|=y<<24;na[E>>2]=B;0<y?(q+=1,0===(x&61440)&&(m+=1),p|=n,g|=Q):0!==(x&61440)&&(r+=1);e|=J;Q>>=1;E+=1;J=K;y=ca[E];K=aa[E+1];M=X[E];x=x<<
4&1044480|K<<8|y<<4|M;B=a[x];0<B?(q+=1,0===(x&61440)&&(m+=1),p|=n,g|=Q):0!==(x&61440)&&(r+=1);e|=J;Q>>=1;E+=1;J=K;y=ca[E];K=aa[E+1];M=X[E];x=x<<4&1044480|K<<8|y<<4|M;y=a[x];B|=y<<8;0<y?(q+=1,0===(x&61440)&&(m+=1),p|=n,g|=Q):0!==(x&61440)&&(r+=1);e|=J;Q>>=1;E+=1;J=K;y=ca[E];K=aa[E+1];M=X[E];x=x<<4&1044480|K<<8|y<<4|M;y=a[x];B|=y<<16;0<y?(q+=1,0===(x&61440)&&(m+=1),p|=n,g|=Q):0!==(x&61440)&&(r+=1);e|=J;Q>>=1;E+=1;J=K;y=ca[E];K=E===u-1?0:aa[E+1];M=X[E];x=x<<4&1044480|K<<8|y<<4|M;y=a[x];B|=y<<24;na[E>>
2]=B;0<y?(q+=1,0===(x&61440)&&(m+=1),p|=n,g|=Q):0!==(x&61440)&&(r+=1);e|=J;ka+=1;n>>=1}k[H>>4]|=g;g?(ia|=1<<b,p&1&&(U|=I.ub,g&32768&&(U|=I.Eb),g&1&&(U|=I.tb)),p&32768&&(U|=I.yb,g&32768&&(U|=I.Cb),g&1&&(U|=I.Db)),g&32768&&(U|=I.rb),g&1&&(U|=I.jb),U&&(0!==(U&I.rb)&&(15>b?ia|=1<<b+1:0<d&&0<H&&(R[d-1]|=1)),0!==(U&I.jb)&&(0<b?ia|=1<<b-1:d<w-1&&H<u-1&&(R[d+1]|=32768)),0!==(U&I.yb)&&(ma|=1<<b),0!==(U&I.ub)&&(fa|=1<<b),0!==(U&I.Cb)&&(15>b?ma|=1<<b+1:0<d&&0<H&&(Z[d-1]|=1)),0!==(U&I.Db)&&(0<b?ma|=1<<b-1:d<
w-1&&H<u-1&&(Z[d+1]|=32768)),0!==(U&I.Eb)&&(15>b?fa|=1<<b+1:0<d&&0<H&&(oa[d-1]|=1)),0!==(U&I.tb)&&(0<b?fa|=1<<b-1:d<w-1&&H<u-1&&(oa[d+1]|=32768)))):e&&(ba|=1<<b);l[c]|=p}H+=16}R[d]|=ia;0<c&&(Z[d]|=ma);c<A-1&&(oa[d]|=fa)}else H+=256;T[d]=ba}V+=16;W+=16}this.Rb(k,l,u,v,t);z.fill(0);this.Ob(F);for(ka=0;ka<this.B.aa.length;ka+=1)this.B.aa[ka]=this.B.aa[ka]|O.aa[ka]|N.aa[ka];this.s=q;this.ma=m;this.$=r};pa.prototype.Tj=function(){var a=this.Fa,b,c,d,f=this.Ua,e,k=this.Ia,g,l=this.Wa,p,n,q=0,m=0,r=0,u=
this.width,t=this.v,v=this.height,A=this.ea,w=this.ba>>4,z=this.Qa;if(0!==(this.counter&1)){var D=this.Y;var F=this.va;var L=this.wa;var O=this.X;var N=this.O}else D=this.m,F=this.wa,L=this.va,O=this.O,N=this.X;k.fill(0);l.fill(0);var V=0;var W=V+16;N.aa.fill(0);for(c=0;c<O.length;c+=1){var H=0;var P=O[c];var R=N[c];var T=f[c];var Z=0<c?N[c-1]:z;var oa=c<A-1?N[c+1]:z;for(d=0;d<w;d+=1){var ha=P[d];var ba=0;if(ha){var ia=R[d];var ma=Z[d];var fa=oa[d];for(b=15;0<=b;--b){if(0!==(ha&1<<b)){var U=p=g=e=
0;var ka=V;for(n=32768;ka<W;){var ca=0===ka?this.pa:D[ka-1];var aa=D[ka];var X=ka===this.height-1?this.pa:D[ka+1];var na=L[ka];var Q=32768;var E=H;var y=ca[E];var K=aa[E+1];var M=X[E];var J=aa[E];var x=0===E?J<<15|K<<10|y<<5|M:aa[E-1]<<20|J<<15|K<<10|y<<5|M;var B=a[x];0<B?(q+=1,0===(x&1015808)&&(m+=1),p|=n,g|=Q):0!==(x&1015808)&&(r+=1);e|=J;Q>>=1;E+=1;J=K;y=ca[E];K=aa[E+1];M=X[E];x=x<<5&33521664|K<<10|y<<5|M;y=a[x];B|=y<<8;0<y?(q+=1,0===(x&1015808)&&(m+=1),p|=n,g|=Q):0!==(x&1015808)&&(r+=1);e|=J;
Q>>=1;E+=1;J=K;y=ca[E];K=aa[E+1];M=X[E];x=x<<5&33521664|K<<10|y<<5|M;y=a[x];B|=y<<16;0<y?(q+=1,0===(x&1015808)&&(m+=1),p|=n,g|=Q):0!==(x&1015808)&&(r+=1);e|=J;Q>>=1;E+=1;J=K;y=ca[E];K=aa[E+1];M=X[E];x=x<<5&33521664|K<<10|y<<5|M;y=a[x];B|=y<<24;na[E>>2]=B;0<y?(q+=1,0===(x&1015808)&&(m+=1),p|=n,g|=Q):0!==(x&1015808)&&(r+=1);e|=J;Q>>=1;E+=1;J=K;y=ca[E];K=aa[E+1];M=X[E];x=x<<5&33521664|K<<10|y<<5|M;B=a[x];0<B?(q+=1,0===(x&1015808)&&(m+=1),p|=n,g|=Q):0!==(x&1015808)&&(r+=1);e|=J;Q>>=1;E+=1;J=K;y=ca[E];
K=aa[E+1];M=X[E];x=x<<5&33521664|K<<10|y<<5|M;y=a[x];B|=y<<8;0<y?(q+=1,0===(x&1015808)&&(m+=1),p|=n,g|=Q):0!==(x&1015808)&&(r+=1);e|=J;Q>>=1;E+=1;J=K;y=ca[E];K=aa[E+1];M=X[E];x=x<<5&33521664|K<<10|y<<5|M;y=a[x];B|=y<<16;0<y?(q+=1,0===(x&1015808)&&(m+=1),p|=n,g|=Q):0!==(x&1015808)&&(r+=1);e|=J;Q>>=1;E+=1;J=K;y=ca[E];K=aa[E+1];M=X[E];x=x<<5&33521664|K<<10|y<<5|M;y=a[x];B|=y<<24;na[E>>2]=B;0<y?(q+=1,0===(x&1015808)&&(m+=1),p|=n,g|=Q):0!==(x&1015808)&&(r+=1);e|=J;Q>>=1;E+=1;J=K;y=ca[E];K=aa[E+1];M=X[E];
x=x<<5&33521664|K<<10|y<<5|M;B=a[x];0<B?(q+=1,0===(x&1015808)&&(m+=1),p|=n,g|=Q):0!==(x&1015808)&&(r+=1);e|=J;Q>>=1;E+=1;J=K;y=ca[E];K=aa[E+1];M=X[E];x=x<<5&33521664|K<<10|y<<5|M;y=a[x];B|=y<<8;0<y?(q+=1,0===(x&1015808)&&(m+=1),p|=n,g|=Q):0!==(x&1015808)&&(r+=1);e|=J;Q>>=1;E+=1;J=K;y=ca[E];K=aa[E+1];M=X[E];x=x<<5&33521664|K<<10|y<<5|M;y=a[x];B|=y<<16;0<y?(q+=1,0===(x&1015808)&&(m+=1),p|=n,g|=Q):0!==(x&1015808)&&(r+=1);e|=J;Q>>=1;E+=1;J=K;y=ca[E];K=aa[E+1];M=X[E];x=x<<5&33521664|K<<10|y<<5|M;y=a[x];
B|=y<<24;na[E>>2]=B;0<y?(q+=1,0===(x&1015808)&&(m+=1),p|=n,g|=Q):0!==(x&1015808)&&(r+=1);e|=J;Q>>=1;E+=1;J=K;y=ca[E];K=aa[E+1];M=X[E];x=x<<5&33521664|K<<10|y<<5|M;B=a[x];0<B?(q+=1,0===(x&1015808)&&(m+=1),p|=n,g|=Q):0!==(x&1015808)&&(r+=1);e|=J;Q>>=1;E+=1;J=K;y=ca[E];K=aa[E+1];M=X[E];x=x<<5&33521664|K<<10|y<<5|M;y=a[x];B|=y<<8;0<y?(q+=1,0===(x&1015808)&&(m+=1),p|=n,g|=Q):0!==(x&1015808)&&(r+=1);e|=J;Q>>=1;E+=1;J=K;y=ca[E];K=aa[E+1];M=X[E];x=x<<5&33521664|K<<10|y<<5|M;y=a[x];B|=y<<16;0<y?(q+=1,0===
(x&1015808)&&(m+=1),p|=n,g|=Q):0!==(x&1015808)&&(r+=1);e|=J;Q>>=1;E+=1;J=K;y=ca[E];K=E===u-1?0:aa[E+1];M=X[E];x=x<<5&33521664|K<<10|y<<5|M;y=a[x];B|=y<<24;na[E>>2]=B;0<y?(q+=1,0===(x&1015808)&&(m+=1),p|=n,g|=Q):0!==(x&1015808)&&(r+=1);e|=J;ka+=1;n>>=1}k[H>>4]|=g;g?(ia|=1<<b,p&1&&(U|=I.ub,g&32768&&(U|=I.Eb),g&1&&(U|=I.tb)),p&32768&&(U|=I.yb,g&32768&&(U|=I.Cb),g&1&&(U|=I.Db)),g&32768&&(U|=I.rb),g&1&&(U|=I.jb),U&&(0!==(U&I.rb)&&(15>b?ia|=1<<b+1:0<d&&0<H&&(R[d-1]|=1)),0!==(U&I.jb)&&(0<b?ia|=1<<b-1:d<
w-1&&H<u-1&&(R[d+1]|=32768)),0!==(U&I.yb)&&(ma|=1<<b),0!==(U&I.ub)&&(fa|=1<<b),0!==(U&I.Cb)&&(15>b?ma|=1<<b+1:0<d&&0<H&&(Z[d-1]|=1)),0!==(U&I.Db)&&(0<b?ma|=1<<b-1:d<w-1&&H<u-1&&(Z[d+1]|=32768)),0!==(U&I.Eb)&&(15>b?fa|=1<<b+1:0<d&&0<H&&(oa[d-1]|=1)),0!==(U&I.tb)&&(0<b?fa|=1<<b-1:d<w-1&&H<u-1&&(oa[d+1]|=32768)))):e&&(ba|=1<<b);l[c]|=p}H+=16}R[d]|=ia;0<c&&(Z[d]|=ma);c<A-1&&(oa[d]|=fa)}else H+=256;T[d]=ba}V+=16;W+=16}this.Rb(k,l,u,v,t);z.fill(0);this.Ob(F);for(ka=0;ka<this.B.aa.length;ka+=1)this.B.aa[ka]=
this.B.aa[ka]|O.aa[ka]|N.aa[ka];this.s=q;this.ma=m;this.$=r};pa.prototype.kn=function(){var a=this.Td,b=this.v,c=this.Na,d=c.H;var f=c.I;var e=c.J,k=c.L,g=0,l=0,p=0,n=this.width,q=this.height,m=0,r=0,u=this.width,t=this.height,v=0,A=0,w=this.B,z,D=this.oc,F=this.u,L=0<this.u?1:0;var O=this.M;var N=this.K;var V=Math.round((this.width-O)/2);var W=Math.round((this.height-N)/2);O=V+O-1;N=W+N-1;-1!==this.C&&(0===this.M&&(V=0,O=this.width-1),0===this.K&&(W=0,N=this.height-1),d=V+1,f=W+1,e=O-1,k=N-1);this.Fb&&
(this.bb=!this.bb,this.Fb=!1);0!==(this.counter&1)?(V=this.Y,W=this.m,this.bb&&(a=this.gb?this.Ud:this.eb)):(V=this.m,W=this.Y,this.gb&&(a=this.df),this.bb&&(a=this.eb));2>f&&(f=2);k>this.height-3&&(k=this.height-3);1>d&&(d=1);e>this.width-3&&(e=this.width-3);for(--f;f<=k+1;f+=1){O=V[f-1];var H=V[f];var P=V[f+1];var R=w[f>>4];var T=W[f];var Z=z=!1;var oa=H[d-2];for(N=d-1;N<=e+1;N+=1){var ha=P[N];var ba=H[N+1];var ia=O[N];0<F&&(ha=ha<=F?0:ha-F,ba=ba<=F?0:ba-F,ia=ia<=F?0:ia-F,oa=oa<=F?0:oa-F);oa=oa|
ha<<4|ba<<8|ia<<12;ha=a[oa];oa=H[N];0<ha?(g+=D[ha],T[N]=ha+F,z=!0,R[N>>8]=65535,N<n&&(n=N),N>m&&(m=N)):(ha=oa,ha>F?ha=F:ha>L&&--ha,T[N]=ha,0<ha&&(z=!0,N<n&&(n=N),N>m&&(m=N)),ha=0);oa>F?(oa-=F,l+=D[ha&~oa],p+=D[oa&~ha],oa+=F):l+=D[ha];0<ha&&(N<u&&(u=N),N>v&&(v=N),Z=!0)}z&&(f<q&&(q=f),f>r&&(r=f));Z&&(f<t&&(t=f),f>A&&(A=f))}this.s=g;this.ma=l;this.$=p;c.H=n;c.I=q;c.J=m;c.L=r;b.H=u;b.I=t;b.J=v;b.L=A};pa.prototype.Ok=function(){var a=this.we,b=this.B,c=this.ra,d=this.hj,f,e,k;var g=this.ea;var l=this.ba>>
4;var p=0;var n=g;if(0!==(this.counter&1)){var q=this.Va;var m=this.X}else q=this.xa,m=this.O;0>p&&(p=0);n>g&&(n=g);g=p<<4;var r=g+16;for(f=p;f<n;f+=1){var u=0;var t=m[f];var v=c[f];var A=b[f];for(e=0;e<l;e+=1){var w=t[e]|v[e];var z=0;if(w)for(k=15;0<=k;--k){if(0!==(w&1<<k)){var D=0;for(p=g;p<r;){var F=q[p];var L=a[p];var O=u<<3;F=F[u];var N=d[L[O]|(F&49152)<<1];D|=N;L[O]=N;O+=1;N=d[L[O]|(F&12288)<<3];D|=N;L[O]=N;O+=1;N=d[L[O]|(F&3072)<<5];D|=N;L[O]=N;O+=1;N=d[L[O]|(F&768)<<7];D|=N;L[O]=N;O+=1;N=
d[L[O]|(F&192)<<9];D|=N;L[O]=N;O+=1;N=d[L[O]|(F&48)<<11];D|=N;L[O]=N;O+=1;N=d[L[O]|(F&12)<<13];D|=N;L[O]=N;O+=1;N=d[L[O]|(F&3)<<15];D|=N;L[O]=N;p+=1}0!==(D&65278)&&(z|=1<<k)}u+=1}else u+=16;v[e]=z;A[e]|=z}g+=16;r+=16}};pa.prototype.Nk=function(){var a=this.we,b=this.B,c=this.ra,d=this.Hf,f,e,k;var g=this.ea;var l=this.ba>>4;var p=0;var n=g;if(0!==(this.counter&1)){var q=this.Va;var m=this.X}else q=this.xa,m=this.O;0>p&&(p=0);n>g&&(n=g);g=p<<4;var r=g+16;for(f=p;f<n;f+=1){var u=0;var t=m[f];var v=
c[f];var A=b[f];for(e=0;e<l;e+=1){var w=t[e]|v[e];var z=0;if(w)for(k=15;0<=k;--k){if(0!==(w&1<<k)){var D=0;for(p=g;p<r;){var F=q[p];var L=a[p];var O=u<<3;F=F[u];var N=d[(F&49152)>>7|p+O+O&127];D|=N;L[O]=N;O+=1;N=d[(F&12288)>>5|p+O+O&127];D|=N;L[O]=N;O+=1;N=d[(F&3072)>>3|p+O+O&127];D|=N;L[O]=N;O+=1;N=d[(F&768)>>1|p+O+O&127];D|=N;L[O]=N;O+=1;N=d[(F&192)<<1|p+O+O&127];D|=N;L[O]=N;O+=1;N=d[(F&48)<<3|p+O+O&127];D|=N;L[O]=N;O+=1;N=d[(F&12)<<5|p+O+O&127];D|=N;L[O]=N;O+=1;N=d[(F&3)<<7|p+O+O&127];D|=N;L[O]=
N;p+=1}if(1<(D&255)||1<D>>8)z|=1<<k}u+=1}else u+=16;v[e]=z;A[e]|=z}g+=16;r+=16}};pa.prototype.pk=function(a,b,c,d,f,e,k,g,l,p){var n=this.cb;d=d*a+n.L;c=c*a+n.J;b=b*a+n.I;f=f*a+n.H;n=c-f+1;a=d-b+1;this.ga&&(n=c-b/2-(f-d/2)+1);0===n&&(n=1);0===a&&(a=1);e/=n;k/=a;p=Math.round(2E4*(e>k?k:e)/p)/2E4;p<g?p=g:p>l&&(p=l);return p};pa.prototype.Sm=function(a){var b=a;1>a&&(b=1/a);var c=Math.round(b);(c<b?c/b:b/c)>=G.oE&&(a=1>a?1/c:c);return a};pa.prototype.dj=function(a,b,c,d,f,e,k,g,l,p,n,q,m){var r=this.v,
u=this.cb,t=this.Na,v=this.m,A=0,w=0,z=0;(this.i||this.o||this.l||this.A)&&0!==(this.counter&1)&&(v=this.Y);var D=2>=this.h&&!this.o?I.Ya:this.u+1;n?r=t:this.Ca&&(r=this.na);if(a===G.Uo){t=b.H;var F=b.J;var L=b.L;b=b.I}else t=r.H,F=r.J,L=r.L,b=r.I,this.F&&!q&&(u.H<t&&(t=u.H),u.J>F&&(F=u.J),u.L>L&&(L=u.L),u.I<b&&(b=u.I)),-1!==this.C&&(A=this.M+2,w=this.K+2,2<A?(t=this.width/2-A/2+(A&1)/2,F=this.width/2+A/2):A=F-t+1,2<w?(b=this.height/2-w/2+(w&1)/2,L=this.height/2+w/2):w=L-b+1);p?(A=g,w=l,t=this.width/
2-A/2,F=this.width/2+A/2,L=this.height/2+w/2,b=this.height/2-w/2):-1===this.C&&(A=F-t+1,w=L-b+1);if(this.ga){if(a===G.Uo)t-=L/2,F-=b/2;else{A=2*(this.width+this.height);g=-A;b|=0;L|=0;t|=0;F|=0;-1!==this.C&&this.cf(v,this.Zb);n&&(D=1);for(p=b;p<=L;p+=1)for(n=v[p],l=t;l<=F;l+=1)q=n[l],q>=D&&(z+=1,q=l-p/2,q<A&&(A=q),q>g&&(g=q));0===z?(t-=b/2,F=t+1):(t=A,F=g,t>F&&(v=t,t=F,F=v))}A=F-t+1}0===A&&(A=1);0===w&&(w=1);c/=A;d/=w;this.W&&(d/=G.jm);this.ga&&(d/=G.wl);k=Math.round(2E4*(c>d?d:c)/k)/2E4;k/=this.Ga;
k<f?k=f:k>e&&(k=e);f=b-this.oa+w/2;e=t-this.ua+A/2;m||(k=this.Sm(k));a===G.bt&&(k=this.zoom);this.Z&&-1!==this.C&&(--e,--f);return[k,e,f]};pa.prototype.Di=function(a,b,c,d){var f=this.Xc,e=this.displayWidth,k=this.displayHeight;if(a>b){var g=b;b=a;a=g}0>a?a=0:a>=e&&(a=e-1);0>b?b=0:b>=e&&(b=e-1);0<=c&&c<k&&f.fill(d,c*e+a,c*e+b)};pa.prototype.Gi=function(a,b,c,d){var f=this.Xc,e=this.displayWidth,k=this.displayHeight;if(b>c){var g=c;c=b;b=g}0>b?b=0:b>=k&&(b=k-1);0>c?c=0:c>=k&&(c=k-1);b=b*e+a;c=c*e+
a;k=c-15*e;if(0<=a&&a<e){for(;b<=k;)f[b]=d,b+=e,f[b]=d,b+=e,f[b]=d,b+=e,f[b]=d,b+=e,f[b]=d,b+=e,f[b]=d,b+=e,f[b]=d,b+=e,f[b]=d,b+=e,f[b]=d,b+=e,f[b]=d,b+=e,f[b]=d,b+=e,f[b]=d,b+=e,f[b]=d,b+=e,f[b]=d,b+=e,f[b]=d,b+=e,f[b]=d,b+=e;for(;b<=c;)f[b]=d,b+=e}};pa.prototype.pl=function(a,b,c,d,f){var e=Math.abs(c-a),k=Math.abs(d-b),g=a<c?1:-1,l=b<d?1:-1,p=e-k,n=this.displayWidth,q=this.displayHeight,m=this.Xc;if(!(0>a&&0>c||a>=n&&c>=n||0>b&&0>d||b>=q&&d>=q))if(0<=a&&a<n&&0<=b&&b<q&&0<=c&&c<n&&0<=d&&d<q)for(m[b*
n+a]=f;a!==c||b!==d;){var r=p+p;r>-k&&(p-=k,a+=g);r<e&&(p+=e,b+=l);m[b*n+a]=f}else for(0<=a&&a<n&&0<=b&&b<q&&(m[b*n+a]=f);a!==c||b!==d;)r=p+p,r>-k&&(p-=k,a+=g),r<e&&(p+=e,b+=l),0<=a&&a<n&&0<=b&&b<q&&(m[b*n+a]=f)};pa.prototype.Hg=function(a,b,c,d,f){var e=this.displayWidth/2,k=this.displayHeight/2;if(0!==this.qa){a-=e;b-=k;var g=Math.sqrt(a*a+b*b);var l=180/Math.PI*Math.atan2(b,a);l+=this.qa;a=Math.round(g*Math.cos(Math.PI/180*l)+e);b=Math.round(g*Math.sin(Math.PI/180*l)+k);c-=e;d-=k;g=Math.sqrt(c*
c+d*d);l=180/Math.PI*Math.atan2(d,c);l+=this.qa;c=Math.round(g*Math.cos(Math.PI/180*l)+e);d=Math.round(g*Math.sin(Math.PI/180*l)+k)}a===c?this.Gi(a,b,d,f):b===d?this.Di(a,c,b,f):this.pl(a,b,c,d,f)};pa.prototype.Dl=function(a,b,c,d,f){var e=a.Bc,k=a.Jc,g=0,l=0,p,n=this.ha;var q=this.zoom;var m=this.hc(this.zoom);var r=a.ea-a.V;var u=a.Y-a.X;var t=a.Y-this.ca,v=a.ea-this.fa-(this.ga?this.ca/2:0),A=0!==this.angle?1:0,w=[0,0];switch(d){case G.Zz:b-=e>>1;break;case G.$z:b-=e-1;break;case G.dA:c-=k>>1;
break;case G.Yz:b-=e>>1;c-=k>>1;break;case G.Xz:b-=e-1;c-=k>>1;break;case G.cA:c-=k-1;break;case G.aA:b-=e>>1;c-=k-1;break;case G.bA:b-=e-1,c-=k-1}d=c;var z=c+k;a.fc&&(r+=2*a.ac,u+=2*a.nc);var D=q*(d-u+t-this.oa+a.Y)+a.displayHeight/2;d=m*(d-u+t-this.oa+a.Y)+a.displayHeight/2;D=q*(b-r+v-this.ua+a.ea)+a.displayWidth/2+(this.ga?(a.displayHeight/2-D)/2:0);var F=q*(z-u+t-this.oa+a.Y)+a.displayHeight/2;z=m*(z-u+t-this.oa+a.Y)+a.displayHeight/2;F=q*(b+e-r+v-this.ua+a.ea)+a.displayWidth/2+(this.ga?(a.displayHeight/
2-F)/2:0);n.fillStyle=f;n.globalAlpha=.5;if(this.ga)if(!this.ta&&4<=this.zoom)a.fc&&(r-=2*a.ac,u-=2*a.nc),this.xj(b,c,b+e-1,c+k-1,r,u);else{n.beginPath();for(p=0;p<k;p+=1)n.moveTo(D,d),n.lineTo(D+e*q+1,d),n.lineTo(D+e*q+1,d+m+1),n.lineTo(D,d+m+1),D-=q/2,d+=m;n.fill()}else!this.ta&&this.W&&4<=this.zoom?(a.fc&&(r-=2*a.ac,u-=2*a.nc),this.Bj(b,c,b+e-1,c+k-1,r,u)):(0!==this.angle?(n.beginPath(),this.Xd(D,d,w),n.moveTo(w[0],w[1]),this.Xd(F+A,d,w),n.lineTo(w[0],w[1]),this.Xd(F+A,z+A,w),n.lineTo(w[0],w[1]),
this.Xd(D,z+A,w),n.lineTo(w[0],w[1])):(n.beginPath(),n.moveTo(this.uc(D),this.uc(d)),n.lineTo(this.uc(F),this.uc(d)),n.lineTo(this.uc(F),this.uc(z)),n.lineTo(this.uc(D),this.uc(z))),n.fill());if(1<=this.zoom){if(0<this.qa){f=Math.cos(this.qa/180*Math.PI)*this.P;var L=Math.sin(this.qa/180*Math.PI)*this.P;A=Math.cos((this.qa+90)/180*Math.PI)*this.P;var O=Math.sin((this.qa+90)/180*Math.PI)*this.P}else f=q,A=L=0,O=m;D=q*(c+l-u+t-this.oa+a.Y)+a.displayHeight/2;d=m*(c+l-u+t-this.oa+a.Y)+a.displayHeight/
2;D=q*(b+g-r+v-this.ua+a.ea)+a.displayWidth/2+(this.ga?(a.displayHeight/2-D)/2:0);0!==this.qa&&(this.Xd(D,d,w),D=w[0],d=w[1]);F=D;z=d;n.fillStyle=this.ji;if(this.ga&&!this.ta&&4<=this.zoom)this.Al(b,c,b+e-1,c+k-1,r,u,a.ba);else if(!this.ta&&this.W&&4<=this.zoom)this.Il(b,c,b+e-1,c+k-1,r,u,a.ba);else{n.beginPath();for(l=p=0;l<k;l+=1){D=F;for(g=0;g<e;g+=1)b=a.ba[p],p+=1,b&&(b=D+f,c=d+L,q=b+A,m=c+O,r=q-f,u=m-L,0>D&&0>b&&0>q&&0>r||D>=a.displayWidth&&b>=a.displayWidth&&q>=a.displayWidth&&r>=a.displayWidth||
0>d&&0>c&&0>m&&0>u||d>=a.displayHeight&&c>=a.displayHeight&&m>=a.displayHeight&&u>=a.displayHeight||(n.moveTo(D,d),n.lineTo(b,c),n.lineTo(q,m),n.lineTo(r,u))),D+=f,d+=L;F+=A;d=z+=O;this.ga&&(F-=f/2)}n.fill()}}};pa.prototype.Xd=function(a,b,c){var d=this.displayWidth/2,f=this.displayHeight/2;if(0!==this.qa){a-=d;b-=f;var e=Math.sqrt(a*a+b*b);b=180/Math.PI*Math.atan2(b,a);b+=this.qa;a=Math.round(e*Math.cos(Math.PI/180*b)+d);b=Math.round(e*Math.sin(Math.PI/180*b)+f)}c[0]=a;c[1]=b};pa.prototype.Fl=function(a){var b=
a.ic+.5|0,c=a.ea-a.V,d=a.Y-a.X;(a.P||a.Sc)&&this.ml(a,a.ca,this.ii);if(a.qa){var f=a.D.T;var e=a.D.V;-1!==f&&(a.Ej(f,e),this.Dl(a,a.yc-c,a.zc-d,b,this.bi))}};pa.prototype.uc=function(a){var b=a,c=a|0;a!==c&&(b=c+1);return b};pa.prototype.ml=function(a,b,c){var d=this.ha,f=this.zoom,e=this.hc(this.zoom),k=b.H,g=b.I,l=b.J;b=b.L;var p=a.Y-a.X,n=a.ea-a.V,q=a.Y-this.ca,m=a.ea-this.fa-(this.ga?this.ca/2:0),r=[0,0],u=0!==this.angle?1:0,t=a.ca;if(k>l){var v=k;k=l;l=v}g>b&&(v=g,g=b,b=v);v=l-k+1;var A=b-g+
1;a.fc&&-1!==a.g.C&&(n+=Math.floor(a.ta/2),p+=Math.floor(a.sa/2));var w=f*(g-p+q-this.oa+a.Y)+a.displayHeight/2;g=e*(g-p+q-this.oa+a.Y)+a.displayHeight/2;k=f*(k-n+m-this.ua+a.ea)+a.displayWidth/2+(this.ga?(a.displayHeight/2-w)/2:0);w=f*(b+1-p+q-this.oa+a.Y)+a.displayHeight/2;b=e*(b+1-p+q-this.oa+a.Y)+a.displayHeight/2;l=f*(l+1-n+m-this.ua+a.ea)+a.displayWidth/2+(this.ga?(a.displayHeight/2-w)/2:0);d.fillStyle=c;d.globalAlpha=.5;if(this.ga)if(!this.ta&&4<=this.zoom)a.fc&&(n+=2*a.ac,p+=2*a.nc),this.xj(t.H,
t.I,t.J,t.L,n,p);else{d.beginPath();v*=f;for(a=0;a<A;a+=1)d.moveTo(k,g),d.lineTo(k+v+1,g),d.lineTo(k+v+1,g+e+1),d.lineTo(k,g+e+1),k-=f/2,g+=e;d.fill()}else this.W&&!this.ta&&4<=this.zoom?(a.fc&&(n+=2*a.ac,p+=2*a.nc),this.Bj(t.H,t.I,t.J,t.L,n,p)):(0!==this.angle?(d.beginPath(),this.Xd(k,g,r),d.moveTo(r[0],r[1]),this.Xd(l+u,g,r),d.lineTo(r[0],r[1]),this.Xd(l+u,b+u,r),d.lineTo(r[0],r[1]),this.Xd(k,b+u,r),d.lineTo(r[0],r[1])):(d.beginPath(),d.moveTo(this.uc(k),this.uc(g)),d.lineTo(this.uc(l),this.uc(g)),
d.lineTo(this.uc(l),this.uc(b)),d.lineTo(this.uc(k),this.uc(b))),d.fill());d.globalAlpha=1};pa.prototype.Dj=function(a){return this.tc?"rgb("+(a&255)+","+(a>>8&255)+","+(a>>16&255)+")":"rgb("+(a>>24)+","+(a>>16&255)+","+(a>>8&255)+")"};pa.prototype.yl=function(){var a,b=this.displayWidth,c=this.displayHeight,d=this.md,f=this.Cd,e=this.P,k=this.hc(this.P),g=d,l,p=0<this.La&&this.pc,n=this.counter&1,q=Math.abs(b-c),m=((this.height/2-(this.ca+this.oa))*k+c/2)%k,r=((this.width/2-(this.fa+this.ua))*e+
b/2)%e,u=this.view.A/2|0,t=this.view.B/2|0;if(this.Ba)var v=p?2:1;else v=1,p=!1,g=d=this.Ma[0];var A=d;for(this.Z&&2===this.La&&this.dd||(n=0);v;){var w=-(b/2/e)-(this.width/2-this.fa-this.ua)|0;w+=u-2;var z=-e*q;var D=b+e+e*q;var F=m-k*q;var L=c+k*q;var O=-b/1.5;var N=b+b/1.5;var V=-c/1.5;for(l=c+c/1.5;z<=D;z+=e)if(p&&(g=0===(w+n)%this.La?f:d),w+=1,g===A)if(this.ga){var W=-(c/2/k)-(this.height/2-this.ca-this.oa)|0;for(a=F;a<L;a+=k)(W&1)===(q&1)?this.Hg(Math.round(z+r),Math.round(a),Math.round(z+
r),Math.round(a+k-1),g):this.Hg(Math.round(z+r+e/2),Math.round(a),Math.round(z+r+e/2),Math.round(a+k-1),g),W+=1}else this.Hg(Math.round(z+r),V,Math.round(z+r),l-1,g);w=-(c/2/k)-(this.height/2-this.ca-this.oa)|0;w+=t-2;for(a=F;a<L;a+=k)p&&(g=0===(w+n)%this.La?f:d),w+=1,g===A&&this.Hg(O,Math.round(a),N-1,Math.round(a),g);--v;A=f}};pa.prototype.Pd=function(){return 4<=this.P};pa.prototype.il=function(a,b,c){var d=this.M,f=this.K,e=this.Z?-1:0,k=Math.round((this.width-d)/2-1)+e,g=k+d+1,l=Math.round((this.height-
f)/2-1)+e;e=l+f+1;l&=~c;e&=~c;k&=~c;g&=~c;if(0===d){d=a[e];for(c=0;c<this.width;c+=1)0===d[c]&&(d[c]=b);d=a[l];for(c=0;c<this.width;c+=1)0===d[c]&&(d[c]=b)}else if(0===f)for(c=0;c<this.height;c+=1)l=a[c],0===l[k]&&(l[k]=b),0===l[g]&&(l[g]=b);else{d=a[e];for(c=k;c<=g;c+=1)0===d[c]&&(d[c]=b);d=a[l];for(c=k;c<=g;c+=1)0===d[c]&&(d[c]=b);for(c=l+1;c<=e-1;c+=1)l=a[c],0===l[k]&&(l[k]=b),0===l[g]&&(l[g]=b)}};pa.prototype.cf=function(a,b){var c=this.M,d=this.K,f=this.Z?-1:0,e=Math.round((this.width-c)/2-1)+
f,k=e+c+1,g=Math.round((this.height-d)/2-1)+f;f=g+d+1;var l=a[g],p=a[f];if(0===c)l.fill(b,0,this.width),p.fill(b,0,this.width);else if(0===d)for(c=0;c<this.height;c+=1)a[c][e]=b,a[c][k]=b;else for(l.fill(b,e,k+1),p.fill(b,e,k+1),c=g+1;c<=f-1;c+=1)a[c][e]=b,a[c][k]=b};pa.prototype.Jg=function(a,b){a=2<this.h?this.l||this.A||this.o?1:0===this.u?this.h/this.za*b|0:b<a/2?this.u/this.za*b*2|0:this.u+this.h/this.za*b|0:this.Xb||this.o?1:(this.Af+1)/this.za*b|0;1>a&&(a=1);return a};pa.prototype.Ej=function(a){var b=
0;.0625>a?b=31:.125>a?b=15:.25>a?b=7:.5>a?b=3:1>a&&(b=1);return b};pa.prototype.gi=function(a,b){var c=this.Ma[0],d=this.Xc,f=this.m,e=this.we,k=this.wa;this.Sf=!0;(this.i||this.o||this.l||this.A)&&0!==(this.counter&1)&&(f=this.Y,e=this.ef,k=this.va);this.Ad&&(this.Hh(),c=this.Ma[0],--this.Ad,this.Ad||(this.Ld.set(this.cd),this.Tc.set(this.Pc),this.$d.set(this.Hd),this.Df.set(this.Xe),this.ce.set(this.Bd),this.yf.set(this.hf)));this.P=this.zoom*this.Ga;this.P<G.ob?this.P=G.ob:this.P>G.Ib&&(this.P=
G.Ib);this.Tb=this.fa+this.ua;this.Ub=this.ca+this.oa;this.sa=this.Wb/2+1;var g=this.P;this.qa=this.ga||this.W||this.view.rd?0:this.angle;-1!==this.C&&1<=this.P&&this.cf(f,this.Zb);4<=g&&(!this.ta&&this.ga||!this.ta&&this.W)?(d.fill(c),this.ab(1)):(1>g&&(-1!==this.C&&this.cf(f,0),this.wi(e,k,this.P),-1!==this.C&&this.il(this.Ea,this.Zb,this.Ej(this.P))),.0625>g?this.yc?this.sf(this.mb,this.Ea,31,a,b):this.tf(this.Ea,this.Ea,31,a,b):.125>g?this.yc?this.sf(this.mb,this.Ea,15,a,b):this.tf(this.Ea,this.Ea,
15,a,b):.25>g?this.yc?this.sf(this.mb,this.Ea,7,a,b):this.tf(this.Ea,this.Ea,7,a,b):.5>g?this.yc?this.sf(this.mb,this.Ea,3,a,b):this.tf(this.Ea,this.Ea,3,a,b):1>g?this.yc?this.sf(this.mb,this.Ea,1,a,b):this.tf(this.Ea,this.Ea,1,a,b):this.yc?this.sf(this.Da,f,0,a,b):this.tf(f,f,0,a,b))};pa.prototype.Ae=function(a){a&&(this.Pd()&&this.Ta&&!this.Ba||this.Tf());(this.Ba||this.Ta)&&this.Pd()&&this.yl();a&&this.Pd()&&this.Ta&&!this.Ba&&this.Tf()};pa.prototype.He=function(a,b,c,d){var f=this.Ej(a);if(-1!==
this.C&&b){d=this.m;b=this.we;var e=this.wa;(this.i||this.o||this.l||this.A)&&0!==(this.counter&1)&&(d=this.Y,b=this.ef,e=this.va);this.cf(d,0);0!==f&&(this.$h=!0,this.wi(b,e,a),d=this.Ea);f=c}f!==c&&(d=this.m,b=this.we,e=this.wa,(this.i||this.o||this.l||this.A)&&0!==(this.counter&1)&&(d=this.Y,b=this.ef,e=this.va),0!==f&&(this.wi(b,e,a),d=this.Ea));return[f,d]};pa.prototype.Fm=function(a,b,c,d){var f=this.displayWidth>>3,e=this.Ma,k=this.Xc,g=0,l=0;var p=this.width;var n=this.height;var q=1,m=1,
r=0,u=this.T,t=this.Aa&~c,v=this.ya&~c,A=~c,w=~c,z=this.xd,D,F=a,L=this.P,O=!0;1<this.sa&&(q=this.za);a=Math.sin(this.qa/180*Math.PI)/this.P;var N=Math.cos(this.qa/180*Math.PI)/this.P;var V=-(this.displayWidth/2*-a+this.displayHeight/2*N)+this.Ub;var W=-(this.displayWidth/2*N+this.displayHeight/2*a)+this.Tb;1<this.za&&1<this.sa&&(r=.4/(this.za-1),m=.6);this.ab(m);for(D=this.Ma[0];p<u;)g+=p>>1,p<<=1;for(;n<u;)l+=n>>1,n<<=1;var H=0;var P=V;for(p=0;p<this.displayHeight;p+=1){var R=W;for(n=0;n<f;n+=1){if(0<=
R&&(R&A)===(R&t)&&0<P&&(P&w)===(P&v)){var T=F[P&v][R&t]|0;k[H]=e[T]}else k[H]=0<=R+g&&R+g<u&&0<=P+l&&P+l<u?D:z;H+=1;R+=N;P-=a;0<=R&&(R&A)===(R&t)&&0<P&&(P&w)===(P&v)?(T=F[P&v][R&t]|0,k[H]=e[T]):k[H]=0<=R+g&&R+g<u&&0<=P+l&&P+l<u?D:z;H+=1;R+=N;P-=a;0<=R&&(R&A)===(R&t)&&0<P&&(P&w)===(P&v)?(T=F[P&v][R&t]|0,k[H]=e[T]):k[H]=0<=R+g&&R+g<u&&0<=P+l&&P+l<u?D:z;H+=1;R+=N;P-=a;0<=R&&(R&A)===(R&t)&&0<P&&(P&w)===(P&v)?(T=F[P&v][R&t]|0,k[H]=e[T]):k[H]=0<=R+g&&R+g<u&&0<=P+l&&P+l<u?D:z;H+=1;R+=N;P-=a;0<=R&&(R&A)===
(R&t)&&0<P&&(P&w)===(P&v)?(T=F[P&v][R&t]|0,k[H]=e[T]):k[H]=0<=R+g&&R+g<u&&0<=P+l&&P+l<u?D:z;H+=1;R+=N;P-=a;0<=R&&(R&A)===(R&t)&&0<P&&(P&w)===(P&v)?(T=F[P&v][R&t]|0,k[H]=e[T]):k[H]=0<=R+g&&R+g<u&&0<=P+l&&P+l<u?D:z;H+=1;R+=N;P-=a;0<=R&&(R&A)===(R&t)&&0<P&&(P&w)===(P&v)?(T=F[P&v][R&t]|0,k[H]=e[T]):k[H]=0<=R+g&&R+g<u&&0<=P+l&&P+l<u?D:z;H+=1;R+=N;P-=a;0<=R&&(R&A)===(R&t)&&0<P&&(P&w)===(P&v)?(T=F[P&v][R&t]|0,k[H]=e[T]):k[H]=0<=R+g&&R+g<u&&0<=P+l&&P+l<u?D:z;H+=1;R+=N;P-=a}W+=a;P=V+=N}this.Ae(d);F=b;for(b=
1;b<q;b+=1)for(d=this.Jg(q,b),m+=r,this.ab(m),a/=this.sa,N/=this.sa,L*=this.sa,t=this.He(L,O,c,F),c=t[0],F=t[1],O=!1,t=this.Aa&~c,v=this.ya&~c,A=~c,w=~c,V=-(this.displayWidth/2*-a+this.displayHeight/2*N)+this.Ub,W=-(this.displayWidth/2*N+this.displayHeight/2*a)+this.Tb,H=0,P=V,p=0;p<this.displayHeight;p+=1){R=W;for(n=0;n<f;n+=1)0<=R&&(R&A)===(R&t)&&0<P&&(P&w)===(P&v)&&(T=F[P&v][R&t]|0,T>=d&&(k[H]=e[T])),H+=1,R+=N,P-=a,0<=R&&(R&A)===(R&t)&&0<P&&(P&w)===(P&v)&&(T=F[P&v][R&t]|0,T>=d&&(k[H]=e[T])),H+=
1,R+=N,P-=a,0<=R&&(R&A)===(R&t)&&0<P&&(P&w)===(P&v)&&(T=F[P&v][R&t]|0,T>=d&&(k[H]=e[T])),H+=1,R+=N,P-=a,0<=R&&(R&A)===(R&t)&&0<P&&(P&w)===(P&v)&&(T=F[P&v][R&t]|0,T>=d&&(k[H]=e[T])),H+=1,R+=N,P-=a,0<=R&&(R&A)===(R&t)&&0<P&&(P&w)===(P&v)&&(T=F[P&v][R&t]|0,T>=d&&(k[H]=e[T])),H+=1,R+=N,P-=a,0<=R&&(R&A)===(R&t)&&0<P&&(P&w)===(P&v)&&(T=F[P&v][R&t]|0,T>=d&&(k[H]=e[T])),H+=1,R+=N,P-=a,0<=R&&(R&A)===(R&t)&&0<P&&(P&w)===(P&v)&&(T=F[P&v][R&t]|0,T>=d&&(k[H]=e[T])),H+=1,R+=N,P-=a,0<=R&&(R&A)===(R&t)&&0<P&&(P&
w)===(P&v)&&(T=F[P&v][R&t]|0,T>=d&&(k[H]=e[T])),H+=1,R+=N,P-=a;W+=a;P=V+=N}};pa.prototype.Hm=function(a,b,c,d){var f=this.displayWidth>>3,e=this.Ma,k=this.Xc,g=0,l=0;var p=this.width;var n=this.height;var q=1,m=1,r=0,u=this.T,t=this.Aa&~c,v=this.ya&~c,A=~c,w=~c,z=this.xd,D,F=a,L=this.P,O=!0;1<this.sa&&(q=this.za);a=1/this.P;this.W&&(a/=G.jm);this.ga&&(a/=G.wl);var N=1/this.P;var V=-(this.displayHeight/2*a)+this.Ub;var W=-(this.displayWidth/2*N)+this.Tb;1<this.za&&1<this.sa&&(r=.4/(this.za-1),m=.6);
this.ab(m);for(D=this.Ma[0];p<u;)g+=p>>1,p<<=1;for(;n<u;)l+=n>>1,n<<=1;var H=0;var P=V;for(p=0;p<this.displayHeight;p+=1){if(0<=P&&(P&w)===(P&v)){var R=F[P&v];var T=W;this.ga&&(T+=.5*(P|0));for(n=0;n<f;n+=1){if(0<=T&&(T&A)===(T&t)){var Z=R[T&t]|0;k[H]=e[Z]}else k[H]=0<=T+g&&T+g<u?D:z;H+=1;T+=N;0<=T&&(T&A)===(T&t)?(Z=R[T&t]|0,k[H]=e[Z]):k[H]=0<=T+g&&T+g<u?D:z;H+=1;T+=N;0<=T&&(T&A)===(T&t)?(Z=R[T&t]|0,k[H]=e[Z]):k[H]=0<=T+g&&T+g<u?D:z;H+=1;T+=N;0<=T&&(T&A)===(T&t)?(Z=R[T&t]|0,k[H]=e[Z]):k[H]=0<=T+g&&
T+g<u?D:z;H+=1;T+=N;0<=T&&(T&A)===(T&t)?(Z=R[T&t]|0,k[H]=e[Z]):k[H]=0<=T+g&&T+g<u?D:z;H+=1;T+=N;0<=T&&(T&A)===(T&t)?(Z=R[T&t]|0,k[H]=e[Z]):k[H]=0<=T+g&&T+g<u?D:z;H+=1;T+=N;0<=T&&(T&A)===(T&t)?(Z=R[T&t]|0,k[H]=e[Z]):k[H]=0<=T+g&&T+g<u?D:z;H+=1;T+=N;0<=T&&(T&A)===(T&t)?(Z=R[T&t]|0,k[H]=e[Z]):k[H]=0<=T+g&&T+g<u?D:z;H+=1;T+=N}}else if(0<=P+l&&P+l<u)for(T=W,this.ga&&(T+=.5*(P|0)),n=0;n<this.displayWidth;n+=1)k[H]=0<=T+g&&T+g<u?D:z,H+=1,T+=N;else k.fill(z,H,H+this.displayWidth+1),H+=this.displayWidth;P=
V+=a}this.Ae(d);F=b;for(b=1;b<q;b+=1)for(d=this.Jg(q,b),m+=r,this.ab(m),a/=this.sa,N/=this.sa,L*=this.sa,t=this.He(L,O,c,F),c=t[0],F=t[1],O=!1,t=this.Aa&~c,v=this.ya&~c,A=~c,w=~c,V=-(this.displayHeight/2*a)+this.Ub,W=-(this.displayWidth/2*N)+this.Tb,H=0,P=V,p=0;p<this.displayHeight;p+=1){if(0<=P&&(P&w)===(P&v))for(R=F[P&v],T=W,this.ga&&(T+=.5*(P|0)),n=0;n<f;n+=1)0<=T&&(T&A)===(T&t)&&(Z=R[T&t]|0,Z>=d&&(k[H]=e[Z])),H+=1,T+=N,0<=T&&(T&A)===(T&t)&&(Z=F[P&v][T&t]|0,Z>=d&&(k[H]=e[Z])),H+=1,T+=N,0<=T&&(T&
A)===(T&t)&&(Z=F[P&v][T&t]|0,Z>=d&&(k[H]=e[Z])),H+=1,T+=N,0<=T&&(T&A)===(T&t)&&(Z=F[P&v][T&t]|0,Z>=d&&(k[H]=e[Z])),H+=1,T+=N,0<=T&&(T&A)===(T&t)&&(Z=F[P&v][T&t]|0,Z>=d&&(k[H]=e[Z])),H+=1,T+=N,0<=T&&(T&A)===(T&t)&&(Z=F[P&v][T&t]|0,Z>=d&&(k[H]=e[Z])),H+=1,T+=N,0<=T&&(T&A)===(T&t)&&(Z=F[P&v][T&t]|0,Z>=d&&(k[H]=e[Z])),H+=1,T+=N,0<=T&&(T&A)===(T&t)&&(Z=F[P&v][T&t]|0,Z>=d&&(k[H]=e[Z])),H+=1,T+=N;else H+=f<<3;P=V+=a}};pa.prototype.Jm=function(a,b,c,d){var f=this.displayWidth>>3,e=this.Ma,k=this.Xc,g,l,p=
1,n=1,q=0,m=this.Aa&~c,r=this.ya&~c,u=a,t=this.P,v=!0;1<this.sa&&(p=this.za);a=Math.sin(this.qa/180*Math.PI)/this.P;var A=Math.cos(this.qa/180*Math.PI)/this.P;var w=-(this.displayWidth/2*-a+this.displayHeight/2*A)+this.Ub;var z=-(this.displayWidth/2*A+this.displayHeight/2*a)+this.Tb;1<this.za&&1<this.sa&&(q=.4/(this.za-1),n=.6);this.ab(n);var D=0;var F=w;for(g=0;g<this.displayHeight;g+=1){var L=z;for(l=0;l<f;l+=1){var O=u[F&r][L&m]|0;k[D]=e[O];D+=1;L+=A;F-=a;O=u[F&r][L&m]|0;k[D]=e[O];D+=1;L+=A;F-=
a;O=u[F&r][L&m]|0;k[D]=e[O];D+=1;L+=A;F-=a;O=u[F&r][L&m]|0;k[D]=e[O];D+=1;L+=A;F-=a;O=u[F&r][L&m]|0;k[D]=e[O];D+=1;L+=A;F-=a;O=u[F&r][L&m]|0;k[D]=e[O];D+=1;L+=A;F-=a;O=u[F&r][L&m]|0;k[D]=e[O];D+=1;L+=A;F-=a;O=u[F&r][L&m]|0;k[D]=e[O];D+=1;L+=A;F-=a}z+=a;F=w+=A}this.Ae(d);u=b;for(b=1;b<p;b+=1)for(d=this.Jg(p,b),n+=q,this.ab(n),a/=this.sa,A/=this.sa,t*=this.sa,m=this.He(t,v,c,u),c=m[0],u=m[1],v=!1,m=this.Aa&~c,r=this.ya&~c,w=-(this.displayWidth/2*-a+this.displayHeight/2*A)+this.Ub,z=-(this.displayWidth/
2*A+this.displayHeight/2*a)+this.Tb,D=0,F=w,g=0;g<this.displayHeight;g+=1){L=z;for(l=0;l<f;l+=1)O=u[F&r][L&m]|0,O>=d&&(k[D]=e[O]),D+=1,L+=A,F-=a,O=u[F&r][L&m]|0,O>=d&&(k[D]=e[O]),D+=1,L+=A,F-=a,O=u[F&r][L&m]|0,O>=d&&(k[D]=e[O]),D+=1,L+=A,F-=a,O=u[F&r][L&m]|0,O>=d&&(k[D]=e[O]),D+=1,L+=A,F-=a,O=u[F&r][L&m]|0,O>=d&&(k[D]=e[O]),D+=1,L+=A,F-=a,O=u[F&r][L&m]|0,O>=d&&(k[D]=e[O]),D+=1,L+=A,F-=a,O=u[F&r][L&m]|0,O>=d&&(k[D]=e[O]),D+=1,L+=A,F-=a,O=u[F&r][L&m]|0,O>=d&&(k[D]=e[O]),D+=1,L+=A,F-=a;z+=a;F=w+=A}};
pa.prototype.Lm=function(a,b,c,d){var f=this.displayWidth>>3,e=this.Ma,k=this.Xc,g,l=1,p=1,n=0,q=this.Aa&~c,m=this.ya&~c,r=a,u=this.P,t=!0;1<this.sa&&(l=this.za);a=1/this.P;this.W&&(a/=G.jm);this.ga&&(a/=G.wl);var v=1/this.P;var A=-(this.displayHeight/2*a)+this.Ub;var w=-(this.displayWidth/2*v)+this.Tb;1<this.za&&1<this.sa&&(n=.4/(this.za-1),p=.6);this.ab(p);var z=0;var D=A;for(g=0;g<this.displayHeight;g+=1){var F=r[D&m];var L=w;this.ga&&(L+=.5*(D|0));for(D=0;D<f;D+=1){var O=F[L&q];k[z]=e[O];z+=1;
L+=v;O=F[L&q];k[z]=e[O];z+=1;L+=v;O=F[L&q];k[z]=e[O];z+=1;L+=v;O=F[L&q];k[z]=e[O];z+=1;L+=v;O=F[L&q];k[z]=e[O];z+=1;L+=v;O=F[L&q];k[z]=e[O];z+=1;L+=v;O=F[L&q];k[z]=e[O];z+=1;L+=v;O=F[L&q];k[z]=e[O];z+=1;L+=v}D=A+=a}this.Ae(d);r=b;for(b=1;b<l;b+=1)for(d=this.Jg(l,b),p+=n,this.ab(p),a/=this.sa,v/=this.sa,u*=this.sa,q=this.He(u,t,c,r),c=q[0],r=q[1],t=!1,q=this.Aa&~c,m=this.ya&~c,A=-(this.displayHeight/2*a)+this.Ub,w=-(this.displayWidth/2*v)+this.Tb,z=0,D=A,g=0;g<this.displayHeight;g+=1){F=r[D&m];L=w;
this.ga&&(L+=.5*(D|0));for(D=0;D<f;D+=1)O=F[L&q]|0,O>=d&&(k[z]=e[O]),z+=1,L+=v,O=F[L&q]|0,O>=d&&(k[z]=e[O]),z+=1,L+=v,O=F[L&q]|0,O>=d&&(k[z]=e[O]),z+=1,L+=v,O=F[L&q]|0,O>=d&&(k[z]=e[O]),z+=1,L+=v,O=F[L&q]|0,O>=d&&(k[z]=e[O]),z+=1,L+=v,O=F[L&q]|0,O>=d&&(k[z]=e[O]),z+=1,L+=v,O=F[L&q]|0,O>=d&&(k[z]=e[O]),z+=1,L+=v,O=F[L&q]|0,O>=d&&(k[z]=e[O]),z+=1,L+=v;D=A+=a}};pa.prototype.tf=function(a,b,c,d,f){var e=Math.sin(this.qa/180*Math.PI)/this.P,k=Math.cos(this.qa/180*Math.PI)/this.P,g=this.Hi(),l=this.displayWidth,
p=this.displayHeight,n=-(this.displayWidth/2*-e+this.displayHeight/2*k/g)+this.Ub,q=-(this.displayWidth/2*k+this.displayHeight/2*e)+this.Tb,m=n+l*-e,r=q+l*k;g=n+p*k/g;p=q+p*e;e=g+l*-e;k=p+l*k;l=g;var u=p;k<u&&(u=k);q<u&&(u=q);r<u&&(u=q);k>p&&(p=k);q>p&&(p=q);r>p&&(p=r);e>l&&(l=e);n>l&&(l=n);m>l&&(l=m);e<g&&(g=e);n<g&&(g=n);m<g&&(g=m);this.ga&&(u+=g/2,p+=l/2);0>(u|0)||(p|0)>=this.width||0>(g|0)||(l|0)>=this.height?0===this.qa?8<=this.P&&this.Dd&&this.view.rd?this.ck(a,u,g,p,l,d,f):this.Ec&&!this.ga&&
1<=this.P&&1===this.za?(this.ab(1),this.dk(a,u,g,p,l,d,f)):this.Hm(a,b,c,d):this.Fm(a,b,c,d):0===this.qa?8<=this.P&&this.Dd&&this.view.rd?this.ck(a,u,g,p,l,d,f):this.Ec&&!this.ga&&1<=this.P&&1===this.za?(this.ab(1),this.dk(a,u,g,p,l,d,f)):this.Lm(a,b,c,d):this.Jm(a,b,c,d)};pa.prototype.ck=function(a,b,c,d,f,e,k){var g=this.nc,l=this.Se,p=this.Lg,n=new Uint32Array(p.data.buffer),q=this.ha,m=null,r=d-b,u=f-c,t=this.hc(this.P),v=0>b?-(b-Math.ceil(b))*this.P:-(b-Math.floor(b))*this.P,A=0>c?-(c-Math.ceil(c))*
t:-(c-Math.floor(c))*t,w=this.P,z,D=this.T,F=this.width-1,L=this.height-1,O=this.xd;d=this.width;f=this.height;for(var N=0,V=0,W=(this.Ba||this.Ta)&&this.Pd(),H=[],P=[],R=0<this.La&&this.pc,T=this.La,Z=this.md,oa=this.Cd,ha,ba,ia,ma=this.Ma[this.u],fa=g.width,U,ka;d<D;)N+=d>>1,d<<=1;for(;f<D;)V+=f>>1,f<<=1;c|=0;b|=0;r=(r|0)+2;u=(u|0)+2;d=b+r;f=c+u;this.i?(this.ab(1),this.vj(null)):-1!==this.C&&this.ab(1);if(16>w){var ca=this.$e;var aa=this.th;ha=7}else 32>w?(ca=this.Ze,aa=this.Qf,ha=15):(ca=this.zd,
aa=this.sh,ha=31);aa=new Uint32Array(aa.data.buffer);ba=ha+1;var X=ca.height/ca.width;var na=0;for(ca=c;ca<f;ca+=1){(ca&L)===ca&&(m=a[ca]);var Q=na*w|0;H[H.length]=Q;var E=0;for(Q=b;Q<d;Q+=1){var y=E*w|0;ca===c&&(P[P.length]=y);y=na*ba*fa+E*ba;if(0>Q+N||Q+N>=D||0>ca+V||ca+V>=D)for(ia=0;ia<ba;ia+=1){for(z=0;z<ba;z+=4)n[y]=O,y+=1,n[y]=O,y+=1,n[y]=O,y+=1,n[y]=O,y+=1;y+=fa-ba}else if((Q&F)===Q&&(ca&L)===ca)if(z=m[Q],-1!==this.C&&z===this.Zb)for(ka=this.Ma[this.Zb],ia=0;ia<ba;ia+=1){for(z=0;z<ba;z+=4)n[y]=
ka,y+=1,n[y]=ka,y+=1,n[y]=ka,y+=1,n[y]=ka,y+=1;y+=fa-ba}else if(this.i)if(z<=this.u)for(ka=this.Ma[z],ia=0;ia<ba;ia+=1){for(z=0;z<ba;z+=4)n[y]=ka,y+=1,n[y]=ka,y+=1,n[y]=ka,y+=1,n[y]=ka,y+=1;y+=fa-ba}else{z-=this.u;U=(z-1)*ha*ha;for(ia=0;ia<ha;ia+=1){for(z=0;z<ha-3;z+=4)n[y]=aa[U],y+=1,U+=1,n[y]=aa[U],y+=1,U+=1,n[y]=aa[U],y+=1,U+=1,n[y]=aa[U],y+=1,U+=1;n[y]=aa[U];y+=1;U+=1;n[y]=aa[U];y+=1;U+=1;n[y]=aa[U];y+=1;U+=1;n[y]=ma;y+=fa-ha}for(z=0;z<ba;z+=4)n[y]=ma,y+=1,n[y]=ma,y+=1,n[y]=ma,y+=1,n[y]=ma,y+=
1}else if(0===z||z>X)for(ka=this.Ma[z],ia=0;ia<ba;ia+=1){for(z=0;z<ba;z+=4)n[y]=ka,y+=1,n[y]=ka,y+=1,n[y]=ka,y+=1,n[y]=ka,y+=1;y+=fa-ba}else{z-=this.u;ka=this.Ma[0];U=(z-1)*ha*ha;for(ia=0;ia<ha;ia+=1){for(z=0;z<ha-3;z+=4)n[y]=aa[U],y+=1,U+=1,n[y]=aa[U],y+=1,U+=1,n[y]=aa[U],y+=1,U+=1,n[y]=aa[U],y+=1,U+=1;n[y]=aa[U];y+=1;U+=1;n[y]=aa[U];y+=1;U+=1;n[y]=aa[U];y+=1;U+=1;n[y]=ka;y+=fa-ha}for(z=0;z<ba;z+=4)n[y]=ka,y+=1,n[y]=ka,y+=1,n[y]=ka,y+=1,n[y]=ka,y+=1}else for(ka=this.Ma[0],ia=0;ia<ba;ia+=1){for(z=
0;z<ba;z+=4)n[y]=ka,y+=1,n[y]=ka,y+=1,n[y]=ka,y+=1,n[y]=ka,y+=1;y+=fa-ba}E+=1}na+=1}l.putImageData(p,0,0);l.imageSmoothingEnabled=!0;l.imageSmoothingQuality="high";q.drawImage(g,0,0,r*ba,u*ba,v,A,r*this.P,u*t);l.imageSmoothingEnabled=!1;if(W){q.strokeStyle=this.Dj(Z);q.lineWidth=1;q.beginPath();for(ca=0;ca<H.length;ca+=1)na=(H[ca]+A|0)+.5,q.moveTo(0,na),q.lineTo(this.displayWidth,na);for(Q=0;Q<P.length;Q+=1)E=(P[Q]+v|0)+.5,q.moveTo(E,0),q.lineTo(E,this.displayHeight);q.stroke();if(R){ia=-(this.displayHeight/
2/this.hc(this.P))-(this.height/2-this.ca-this.oa)|0;ia+=(this.view.B/2|0)-7;z=-(this.displayWidth/2/this.P)-(this.width/2-this.fa-this.ua)|0;z+=(this.view.A/2|0)-7;q.strokeStyle=this.Dj(oa);q.beginPath();for(ca=0;ca<H.length;ca+=1)0===ia%T&&(na=(H[ca]+A|0)+.5,q.moveTo(0,na),q.lineTo(this.displayWidth,na)),ia+=1;for(Q=0;Q<P.length;Q+=1)0===z%T&&(E=(P[Q]+v|0)+.5,q.moveTo(E,0),q.lineTo(E,this.displayHeight)),z+=1;q.stroke()}}e||k?(this.Cc=this.ha.getImageData(0,0,this.ha.canvas.width,this.ha.canvas.height),
this.Xc=new Uint32Array(this.Cc.data.buffer),e&&this.Tf()):this.Sf=!1};pa.prototype.dk=function(a,b,c,d,f,e,k){var g=this.Ma,l=this.Xg,p=this.jg,n=this.kg,q=(this.P|0)<<1,m=this.ad.width,r=m*q,u=null,t=d-b,v=f-c,A=this.hc(this.P),w=0>b?-(b-Math.ceil(b))*this.P:-(b-Math.floor(b))*this.P,z=0>c?-(c-Math.ceil(c))*A:-(c-Math.floor(c))*A,D,F=0,L,O=this.T,N=this.width-1,V=this.height-1,W=this.md,H=this.Cd,P=this.Ma[0],R=this.xd,T=0<this.La&&this.pc&&!this.Ta,Z=0,oa=0;var ha=this.counter&1;var ba=q>>1;d=
this.width;f=this.height;var ia=0,ma=0,fa=(this.Ba||this.Ta)&&this.Pd(),U=[],ka=[];this.Ta&&!this.Ba&&this.Pd()&&(W=P,T=!1);for(;d<O;)ia+=d>>1,d<<=1;for(;f<O;)ma+=f>>1,f<<=1;c|=0;b|=0;t=(t|0)+2;v=(v|0)+2;d=b+t;f=c+v;switch(ba){case 1:var ca=r;var aa=t<<1;for(ha=c;ha<f;ha+=1){(ha&V)===ha&&(u=a[ha]);var X=F;for(D=b;D<d;D+=1){var na=0>D+ia||D+ia>=O||0>ha+ma||ha+ma>=O?R:(D&N)!==D||(ha&V)!==ha?P:g[u[D]];l[F]=na;l[F+1]=na;F+=2}F=X+m;l.copyWithin(F,X,X+aa);F=ca;ca+=r}break;case 2:ca=r;aa=t<<2;for(ha=c;ha<
f;ha+=1){(ha&V)===ha&&(u=a[ha]);X=F;for(D=b;D<d;D+=1)na=0>D+ia||D+ia>=O||0>ha+ma||ha+ma>=O?R:(D&N)!==D||(ha&V)!==ha?P:g[u[D]],l[F]=na,l[F+1]=na,l[F+2]=na,l[F+3]=na,F+=4;F=X+m;l.copyWithin(F,X,X+aa);F+=m;X+=m;l.copyWithin(F,X,X+aa);F+=m;X+=m;l.copyWithin(F,X,X+aa);F=ca;ca+=r}break;default:for(ca=r,aa=t*q,T&&(this.Z&&2===this.La&&this.dd||(ha=0),oa=-(this.displayWidth/2/this.P)-(this.width/2-this.fa-this.ua)+this.view.A/2+.05|0,oa+=ha,Z=-(this.displayHeight/2/this.P)-(this.height/2-this.ca-this.oa)+
this.view.B/2+.05|0,Z+=ha),ha=c;ha<f;ha+=1){(ha&V)===ha&&(u=a[ha]);X=F;var Q=oa;for(D=b;D<d;D+=1){na=0>D+ia||D+ia>=O||0>ha+ma||ha+ma>=O?R:(D&N)!==D||(ha&V)!==ha?P:g[u[D]];for(L=0;L<ba;L+=1)l[F]=na,l[F+1]=na,F+=2;fa&&ha===c&&(U[U.length]=T&&0===Q%this.La?H:W);Q+=1}F=X+m;for(D=1;D<q;D+=1)l.copyWithin(F,X,X+aa),X+=m,F+=m;fa&&(ka[ka.length]=T&&0===Z%this.La?H:W);F=ca;ca+=r;Z+=1}}p.putImageData(n,0,0,0,0,t*q,v*q);this.ha.imageSmoothingEnabled=!0;this.ha.drawImage(this.ad,0,0,t*q,v*q,w,z,t*this.P,v*A);
this.ha.imageSmoothingEnabled=!1;if(e||k||fa){this.Cc=this.ha.getImageData(0,0,this.ha.canvas.width,this.ha.canvas.height);this.Xc=new Uint32Array(this.Cc.data.buffer);if(fa){F=0;D=-this.P+((this.width/2-(this.fa+this.ua))*this.P+this.displayWidth/2)%this.P;for(ca=b;ca<=d;ca+=1)this.Gi(D|0,0,this.displayHeight-1,U[F]),D+=this.P,F+=1;F=0;ha=-this.P+((this.height/2-(this.ca+this.oa))*this.P+this.displayHeight/2)%this.P;for(ca=c;ca<=f;ca+=1)this.Di(0,this.displayWidth-1,ha|0,ka[F]),ha+=this.P,F+=1}e&&
this.Tf()}else this.Sf=!1};pa.prototype.bk=function(a,b,c,d,f,e,k,g){var l=this.Ma,p=this.Xg,n=this.jg,q=this.kg,m=(this.P|0)<<1,r=this.ad.width,u=r*m,t=null,v=null,A=f-c,w=e-d,z=this.hc(this.P),D=-(c-Math.floor(c))*this.P,F=-(d-Math.floor(d))*z,L,O=0,N=this.T,V=this.width-1,W=this.height-1,H=this.md,P=this.Cd,R=this.Ma[0],T=this.xd,Z=0<this.La&&this.pc&&!this.Ta,oa=0,ha=0;var ba=this.counter&1;var ia=m>>1;f=this.width;e=this.height;var ma=0,fa=0,U=G.zb[3]+128,ka=G.zb[4]+128,ca=G.zb[5]+128,aa=G.zb[6]+
128,X=this.Ya,na=(this.Ba||this.Ta)&&this.Pd(),Q=[],E=[];this.Ta&&!this.Ba&&this.Pd()&&(H=R,Z=!1);for(;f<N;)ma+=f>>1,f<<=1;for(;e<N;)fa+=e>>1,e<<=1;d|=0;c|=0;A=(A|0)+2;w=(w|0)+2;f=c+A;e=d+w;switch(ia){case 1:var y=u;var K=A<<1;for(ba=d;ba<e;ba+=1){(ba&W)===ba&&(t=b[ba],v=a[ba]);var M=O;for(L=c;L<f;L+=1){if(0>L+ma||L+ma>=N||0>ba+fa||ba+fa>=N)var J=T;else if((L&V)!==L||(ba&W)!==ba)J=R;else{J=t[L];var x=v[L];x===ka||x===aa?(J>=X&&(x=U),J=l[x]):x===U||x===ca?(J<X&&(x=ka),J=l[x]):J=l[J]}p[O]=J;p[O+1]=
J;O+=2}O=M+r;p.copyWithin(O,M,M+K);O=y;y+=u}break;case 2:y=u;K=A<<2;for(ba=d;ba<e;ba+=1){(ba&W)===ba&&(t=b[ba],v=a[ba]);M=O;for(L=c;L<f;L+=1)0>L+ma||L+ma>=N||0>ba+fa||ba+fa>=N?J=T:(L&V)!==L||(ba&W)!==ba?J=R:(J=t[L],x=v[L],x===ka||x===aa?(J>=X&&(x=U),J=l[x]):x===U||x===ca?(J<X&&(x=ka),J=l[x]):J=l[J]),p[O]=J,p[O+1]=J,p[O+2]=J,p[O+3]=J,O+=4;O=M+r;p.copyWithin(O,M,M+K);O+=r;M+=r;p.copyWithin(O,M,M+K);O+=r;M+=r;p.copyWithin(O,M,M+K);O=y;y+=u}break;default:for(y=u,K=A*m,Z&&(this.Z&&2===this.La&&this.dd||
(ba=0),ha=-(this.displayWidth/2/this.P)-(this.width/2-this.fa-this.ua)+this.view.A/2+.05|0,ha+=ba,oa=-(this.displayHeight/2/this.P)-(this.height/2-this.ca-this.oa)+this.view.B/2+.05|0,oa+=ba),ba=d;ba<e;ba+=1){(ba&W)===ba&&(t=b[ba],v=a[ba]);M=O;var B=ha;for(L=c;L<f;L+=1){0>L+ma||L+ma>=N||0>ba+fa||ba+fa>=N?J=T:(L&V)!==L||(ba&W)!==ba?J=R:(J=t[L],x=v[L],x===ka||x===aa?(J>=X&&(x=U),J=l[x]):x===U||x===ca?(J<X&&(x=ka),J=l[x]):J=l[J]);for(x=0;x<ia;x+=1)p[O]=J,p[O+1]=J,O+=2;na&&ba===d&&(Q[Q.length]=Z&&0===
B%this.La?P:H);B+=1}O=M+r;for(L=1;L<m;L+=1)p.copyWithin(O,M,M+K),M+=r,O+=r;na&&(E[E.length]=Z&&0===oa%this.La?P:H);O=y;y+=u;oa+=1}}n.putImageData(q,0,0,0,0,A*m,w*m);this.ha.imageSmoothingEnabled=!0;this.ha.drawImage(this.ad,0,0,A*m,w*m,D,F,A*this.P,w*z);this.ha.imageSmoothingEnabled=!1;if(k||g||na){this.Cc=this.ha.getImageData(0,0,this.ha.canvas.width,this.ha.canvas.height);this.Xc=new Uint32Array(this.Cc.data.buffer);if(na){O=0;L=-this.P+((this.width/2-(this.fa+this.ua))*this.P+this.displayWidth/
2)%this.P;for(y=c;y<=f;y+=1)this.Gi(L|0,0,this.displayHeight-1,Q[O]),L+=this.P,O+=1;O=0;ba=-this.P+((this.height/2-(this.ca+this.oa))*this.P+this.displayHeight/2)%this.P;for(y=d;y<=e;y+=1)this.Di(0,this.displayWidth-1,ba|0,E[O]),ba+=this.P,O+=1}k&&this.Tf()}else this.Sf=!1};pa.prototype.xm=function(a,b,c,d){var f=this.displayWidth>>3,e=this.Ma,k=this.Xc,g=0,l=0;var p=this.width;var n=this.height;var q=G.zb[3]+128,m=G.zb[4]+128,r=G.zb[5]+128,u=G.zb[6]+128,t=1,v=1,A=0,w=this.T,z=this.Ya,D=this.Aa&~c,
F=this.ya&~c,L=~c,O=~c,N=this.xd,V,W=b,H=this.P,P=!0;1<this.sa&&(t=this.za);var R=Math.sin(this.qa/180*Math.PI)/this.P;var T=Math.cos(this.qa/180*Math.PI)/this.P;var Z=-(this.displayWidth/2*-R+this.displayHeight/2*T)+this.Ub;var oa=-(this.displayWidth/2*T+this.displayHeight/2*R)+this.Tb;1<this.za&&1<this.sa&&(A=.4/(this.za-1),v=.6);this.ab(v);for(V=this.Ma[0];p<w;)g+=p>>1,p<<=1;for(;n<w;)l+=n>>1,n<<=1;var ha=0;var ba=Z;for(p=0;p<this.displayHeight;p+=1){var ia=oa;for(n=0;n<f;n+=1){if(0<=ia&&(ia&L)===
(ia&D)&&0<=ba&&(ba&O)===(ba&F)){var ma=W[ba&F][ia&D];var fa=a[ba&F][ia&D];fa===m||fa===u?(ma>=z&&(fa=q),ma=e[fa]|0):fa===q||fa===r?(ma<z&&(fa=m),ma=e[fa]|0):ma=e[ma]|0;k[ha]=ma}else k[ha]=0<=ia+g&&ia+g<w&&0<=ba+l&&ba+l<w?V:N;ha+=1;ia+=T;ba-=R;0<=ia&&(ia&L)===(ia&D)&&0<=ba&&(ba&O)===(ba&F)?(ma=W[ba&F][ia&D],fa=a[ba&F][ia&D],fa===m||fa===u?(ma>=z&&(fa=q),ma=e[fa]|0):fa===q||fa===r?(ma<z&&(fa=m),ma=e[fa]|0):ma=e[ma]|0,k[ha]=ma):k[ha]=0<=ia+g&&ia+g<w&&0<=ba+l&&ba+l<w?V:N;ha+=1;ia+=T;ba-=R;0<=ia&&(ia&
L)===(ia&D)&&0<=ba&&(ba&O)===(ba&F)?(ma=W[ba&F][ia&D],fa=a[ba&F][ia&D],fa===m||fa===u?(ma>=z&&(fa=q),ma=e[fa]|0):fa===q||fa===r?(ma<z&&(fa=m),ma=e[fa]|0):ma=e[ma]|0,k[ha]=ma):k[ha]=0<=ia+g&&ia+g<w&&0<=ba+l&&ba+l<w?V:N;ha+=1;ia+=T;ba-=R;0<=ia&&(ia&L)===(ia&D)&&0<=ba&&(ba&O)===(ba&F)?(ma=W[ba&F][ia&D],fa=a[ba&F][ia&D],fa===m||fa===u?(ma>=z&&(fa=q),ma=e[fa]|0):fa===q||fa===r?(ma<z&&(fa=m),ma=e[fa]|0):ma=e[ma]|0,k[ha]=ma):k[ha]=0<=ia+g&&ia+g<w&&0<=ba+l&&ba+l<w?V:N;ha+=1;ia+=T;ba-=R;0<=ia&&(ia&L)===(ia&
D)&&0<=ba&&(ba&O)===(ba&F)?(ma=W[ba&F][ia&D],fa=a[ba&F][ia&D],fa===m||fa===u?(ma>=z&&(fa=q),ma=e[fa]|0):fa===q||fa===r?(ma<z&&(fa=m),ma=e[fa]|0):ma=e[ma]|0,k[ha]=ma):k[ha]=0<=ia+g&&ia+g<w&&0<=ba+l&&ba+l<w?V:N;ha+=1;ia+=T;ba-=R;0<=ia&&(ia&L)===(ia&D)&&0<=ba&&(ba&O)===(ba&F)?(ma=W[ba&F][ia&D],fa=a[ba&F][ia&D],fa===m||fa===u?(ma>=z&&(fa=q),ma=e[fa]|0):fa===q||fa===r?(ma<z&&(fa=m),ma=e[fa]|0):ma=e[ma]|0,k[ha]=ma):k[ha]=0<=ia+g&&ia+g<w&&0<=ba+l&&ba+l<w?V:N;ha+=1;ia+=T;ba-=R;0<=ia&&(ia&L)===(ia&D)&&0<=
ba&&(ba&O)===(ba&F)?(ma=W[ba&F][ia&D],fa=a[ba&F][ia&D],fa===m||fa===u?(ma>=z&&(fa=q),ma=e[fa]|0):fa===q||fa===r?(ma<z&&(fa=m),ma=e[fa]|0):ma=e[ma]|0,k[ha]=ma):k[ha]=0<=ia+g&&ia+g<w&&0<=ba+l&&ba+l<w?V:N;ha+=1;ia+=T;ba-=R;0<=ia&&(ia&L)===(ia&D)&&0<=ba&&(ba&O)===(ba&F)?(ma=W[ba&F][ia&D],fa=a[ba&F][ia&D],fa===m||fa===u?(ma>=z&&(fa=q),ma=e[fa]|0):fa===q||fa===r?(ma<z&&(fa=m),ma=e[fa]|0):ma=e[ma]|0,k[ha]=ma):k[ha]=0<=ia+g&&ia+g<w&&0<=ba+l&&ba+l<w?V:N;ha+=1;ia+=T;ba-=R}oa+=R;ba=Z+=T}this.Ae(d);W=b;for(a=
1;a<t;a+=1)for(b=2<this.h?0===this.u?this.h/this.za*a|0:a<t/2?this.u/this.za*a*2|0:this.u+this.h/this.za*a|0:this.Xb?1:(this.Af+1)/this.za*a|0,v+=A,this.ab(v),R/=this.sa,T/=this.sa,H*=this.sa,Z=this.He(H,P,c,W),c=Z[0],W=Z[1],P=!1,D=this.Aa&~c,F=this.ya&~c,L=~c,O=~c,Z=-(this.displayWidth/2*-R+this.displayHeight/2*T)+this.Ub,oa=-(this.displayWidth/2*T+this.displayHeight/2*R)+this.Tb,ha=0,ba=Z,p=0;p<this.displayHeight;p+=1){ia=oa;for(n=0;n<f;n+=1)0<=ia&&(ia&L)===(ia&D)&&0<=ba&&(ba&O)===(ba&F)&&(ma=W[ba&
F][ia&D]|0,ma>=b&&(k[ha]=e[ma])),ha+=1,ia+=T,ba-=R,0<=ia&&(ia&L)===(ia&D)&&0<=ba&&(ba&O)===(ba&F)&&(ma=W[ba&F][ia&D]|0,ma>=b&&(k[ha]=e[ma])),ha+=1,ia+=T,ba-=R,0<=ia&&(ia&L)===(ia&D)&&0<=ba&&(ba&O)===(ba&F)&&(ma=W[ba&F][ia&D]|0,ma>=b&&(k[ha]=e[ma])),ha+=1,ia+=T,ba-=R,0<=ia&&(ia&L)===(ia&D)&&0<=ba&&(ba&O)===(ba&F)&&(ma=W[ba&F][ia&D]|0,ma>=b&&(k[ha]=e[ma])),ha+=1,ia+=T,ba-=R,0<=ia&&(ia&L)===(ia&D)&&0<=ba&&(ba&O)===(ba&F)&&(ma=W[ba&F][ia&D]|0,ma>=b&&(k[ha]=e[ma])),ha+=1,ia+=T,ba-=R,0<=ia&&(ia&L)===(ia&
D)&&0<=ba&&(ba&O)===(ba&F)&&(ma=W[ba&F][ia&D]|0,ma>=b&&(k[ha]=e[ma])),ha+=1,ia+=T,ba-=R,0<=ia&&(ia&L)===(ia&D)&&0<=ba&&(ba&O)===(ba&F)&&(ma=W[ba&F][ia&D]|0,ma>=b&&(k[ha]=e[ma])),ha+=1,ia+=T,ba-=R,0<=ia&&(ia&L)===(ia&D)&&0<=ba&&(ba&O)===(ba&F)&&(ma=W[ba&F][ia&D]|0,ma>=b&&(k[ha]=e[ma])),ha+=1,ia+=T,ba-=R;oa+=R;ba=Z+=T}};pa.prototype.Bm=function(a,b,c,d){var f=this.displayWidth>>3,e=this.Ma,k=this.Xc,g,l,p=G.zb[3]+128,n=G.zb[4]+128,q=G.zb[5]+128,m=G.zb[6]+128,r=1,u=1,t=0,v=this.Ya,A=this.Aa&~c,w=this.ya&
~c,z=b,D=this.P,F=!0;1<this.sa&&(r=this.za);var L=Math.sin(this.qa/180*Math.PI)/this.P;var O=Math.cos(this.qa/180*Math.PI)/this.P;var N=-(this.displayWidth/2*-L+this.displayHeight/2*O)+this.Ub;var V=-(this.displayWidth/2*O+this.displayHeight/2*L)+this.Tb;1<this.za&&1<this.sa&&(t=.4/(this.za-1),u=.6);this.ab(u);var W=0;var H=N;for(g=0;g<this.displayHeight;g+=1){var P=V;for(l=0;l<f;l+=1){var R=z[H&w][P&A];var T=a[H&w][P&A];T===n||T===m?(R>=v&&(T=p),R=e[T]|0):T===p||T===q?(R<v&&(T=n),R=e[T]|0):R=e[R]|
0;k[W]=R;W+=1;P+=O;H-=L;R=z[H&w][P&A];T=a[H&w][P&A];T===n||T===m?(R>=v&&(T=p),R=e[T]|0):T===p||T===q?(R<v&&(T=n),R=e[T]|0):R=e[R]|0;k[W]=R;W+=1;P+=O;H-=L;R=z[H&w][P&A];T=a[H&w][P&A];T===n||T===m?(R>=v&&(T=p),R=e[T]|0):T===p||T===q?(R<v&&(T=n),R=e[T]|0):R=e[R]|0;k[W]=R;W+=1;P+=O;H-=L;R=z[H&w][P&A];T=a[H&w][P&A];T===n||T===m?(R>=v&&(T=p),R=e[T]|0):T===p||T===q?(R<v&&(T=n),R=e[T]|0):R=e[R]|0;k[W]=R;W+=1;P+=O;H-=L;R=z[H&w][P&A];T=a[H&w][P&A];T===n||T===m?(R>=v&&(T=p),R=e[T]|0):T===p||T===q?(R<v&&(T=n),
R=e[T]|0):R=e[R]|0;k[W]=R;W+=1;P+=O;H-=L;R=z[H&w][P&A];T=a[H&w][P&A];T===n||T===m?(R>=v&&(T=p),R=e[T]|0):T===p||T===q?(R<v&&(T=n),R=e[T]|0):R=e[R]|0;k[W]=R;W+=1;P+=O;H-=L;R=z[H&w][P&A];T=a[H&w][P&A];T===n||T===m?(R>=v&&(T=p),R=e[T]|0):T===p||T===q?(R<v&&(T=n),R=e[T]|0):R=e[R]|0;k[W]=R;W+=1;P+=O;H-=L;R=z[H&w][P&A];T=a[H&w][P&A];T===n||T===m?(R>=v&&(T=p),R=e[T]|0):T===p||T===q?(R<v&&(T=n),R=e[T]|0):R=e[R]|0;k[W]=R;W+=1;P+=O;H-=L}V+=L;H=N+=O}this.Ae(d);z=b;for(a=1;a<r;a+=1)for(b=2<this.h?0===this.u?
this.h/this.za*a|0:a<r/2?this.u/this.za*a*2|0:this.u+this.h/this.za*a|0:this.Xb?1:(this.Af+1)/this.za*a|0,u+=t,this.ab(u),L/=this.sa,O/=this.sa,D*=this.sa,g=this.He(D,F,c,z),c=g[0],z=g[1],F=!1,A=this.Aa&~c,w=this.ya&~c,N=-(this.displayWidth/2*-L+this.displayHeight/2*O)+this.Ub,V=-(this.displayWidth/2*O+this.displayHeight/2*L)+this.Tb,W=0,H=N,g=0;g<this.displayHeight;g+=1){P=V;for(l=0;l<f;l+=1)R=z[H&w][P&A]|0,R>=b&&(k[W]=e[R]),W+=1,P+=O,H-=L,R=z[H&w][P&A]|0,R>=b&&(k[W]=e[R]),W+=1,P+=O,H-=L,R=z[H&w][P&
A]|0,R>=b&&(k[W]=e[R]),W+=1,P+=O,H-=L,R=z[H&w][P&A]|0,R>=b&&(k[W]=e[R]),W+=1,P+=O,H-=L,R=z[H&w][P&A]|0,R>=b&&(k[W]=e[R]),W+=1,P+=O,H-=L,R=z[H&w][P&A]|0,R>=b&&(k[W]=e[R]),W+=1,P+=O,H-=L,R=z[H&w][P&A]|0,R>=b&&(k[W]=e[R]),W+=1,P+=O,H-=L,R=z[H&w][P&A]|0,R>=b&&(k[W]=e[R]),W+=1,P+=O,H-=L;V+=L;H=N+=O}};pa.prototype.Dm=function(a,b,c,d){var f=this.displayWidth>>3,e=this.Ma,k=this.Xc,g,l=G.zb[3]+128,p=G.zb[4]+128,n=G.zb[5]+128,q=G.zb[6]+128,m=1,r=1,u=0,t=this.Ya,v=this.Aa&~c,A=this.ya&~c,w=b,z=this.P,D=!0;
1<this.sa&&(m=this.za);var F=1/this.P;this.W&&(F/=G.jm);this.ga&&(F/=G.wl);var L=1/this.P;var O=-(this.displayHeight/2*F)+this.Ub;var N=-(this.displayWidth/2*L)+this.Tb;1<this.za&&1<this.sa&&(u=.4/(this.za-1),r=.6);this.ab(r);var V=0;var W=O;for(g=0;g<this.displayHeight;g+=1){var H=w[W&A];var P=a[W&A];var R=N;this.ga&&(R+=.5*(W|0));for(W=0;W<f;W+=1){var T=H[R&v];var Z=P[R&v];Z===p||Z===q?(T>=t&&(Z=l),T=e[Z]|0):Z===l||Z===n?(T<t&&(Z=p),T=e[Z]|0):T=e[T]|0;k[V]=T;V+=1;R+=L;T=H[R&v];Z=P[R&v];Z===p||Z===
q?(T>=t&&(Z=l),T=e[Z]|0):Z===l||Z===n?(T<t&&(Z=p),T=e[Z]|0):T=e[T]|0;k[V]=T;V+=1;R+=L;T=H[R&v];Z=P[R&v];Z===p||Z===q?(T>=t&&(Z=l),T=e[Z]|0):Z===l||Z===n?(T<t&&(Z=p),T=e[Z]|0):T=e[T]|0;k[V]=T;V+=1;R+=L;T=H[R&v];Z=P[R&v];Z===p||Z===q?(T>=t&&(Z=l),T=e[Z]|0):Z===l||Z===n?(T<t&&(Z=p),T=e[Z]|0):T=e[T]|0;k[V]=T;V+=1;R+=L;T=H[R&v];Z=P[R&v];Z===p||Z===q?(T>=t&&(Z=l),T=e[Z]|0):Z===l||Z===n?(T<t&&(Z=p),T=e[Z]|0):T=e[T]|0;k[V]=T;V+=1;R+=L;T=H[R&v];Z=P[R&v];Z===p||Z===q?(T>=t&&(Z=l),T=e[Z]|0):Z===l||Z===n?(T<
t&&(Z=p),T=e[Z]|0):T=e[T]|0;k[V]=T;V+=1;R+=L;T=H[R&v];Z=P[R&v];Z===p||Z===q?(T>=t&&(Z=l),T=e[Z]|0):Z===l||Z===n?(T<t&&(Z=p),T=e[Z]|0):T=e[T]|0;k[V]=T;V+=1;R+=L;T=H[R&v];Z=P[R&v];Z===p||Z===q?(T>=t&&(Z=l),T=e[Z]|0):Z===l||Z===n?(T<t&&(Z=p),T=e[Z]|0):T=e[T]|0;k[V]=T;V+=1;R+=L}W=O+=F}this.Ae(d);w=b;for(a=1;a<m;a+=1)for(b=2<this.h?0===this.u?this.h/this.za*a|0:a<m/2?this.u/this.za*a*2|0:this.u+this.h/this.za*a|0:this.Xb?1:(this.Af+1)/this.za*a|0,r+=u,this.ab(r),F/=this.sa,L/=this.sa,z*=this.sa,g=this.He(z,
D,c,w),c=g[0],w=g[1],D=!1,v=this.Aa&~c,A=this.ya&~c,O=-(this.displayHeight/2*F)+this.Ub,N=-(this.displayWidth/2*L)+this.Tb,V=0,W=O,g=0;g<this.displayHeight;g+=1){H=w[W&A];R=N;this.ga&&(R+=.5*(W|0));for(W=0;W<f;W+=1)T=H[R&v]|0,T>=b&&(k[V]=e[T]),V+=1,R+=L,T=H[R&v]|0,T>=b&&(k[V]=e[T]),V+=1,R+=L,T=H[R&v]|0,T>=b&&(k[V]=e[T]),V+=1,R+=L,T=H[R&v]|0,T>=b&&(k[V]=e[T]),V+=1,R+=L,T=H[R&v]|0,T>=b&&(k[V]=e[T]),V+=1,R+=L,T=H[R&v]|0,T>=b&&(k[V]=e[T]),V+=1,R+=L,T=H[R&v]|0,T>=b&&(k[V]=e[T]),V+=1,R+=L,T=H[R&v]|0,T>=
b&&(k[V]=e[T]),V+=1,R+=L;W=O+=F}};pa.prototype.zm=function(a,b,c,d){var f=this.displayWidth>>3,e=this.Ma,k=this.Xc,g=0,l=0;var p=this.width;var n=this.height;var q=G.zb[3]+128,m=G.zb[4]+128,r=G.zb[5]+128,u=G.zb[6]+128,t=1,v=1,A=0,w=this.T,z=this.xd,D,F=this.Ya,L=this.Aa&~c,O=this.ya&~c,N=~c,V=~c,W=b,H=this.P,P=!0;1<this.sa&&(t=this.za);var R=1/this.P;this.W&&(R/=G.jm);this.ga&&(R/=G.wl);var T=1/this.P;var Z=-(this.displayHeight/2*R)+this.Ub;var oa=-(this.displayWidth/2*T)+this.Tb;1<this.za&&1<this.sa&&
(A=.4/(this.za-1),v=.6);this.ab(v);for(D=this.Ma[0];p<w;)g+=p>>1,p<<=1;for(;n<w;)l+=n>>1,n<<=1;var ha=0;var ba=Z;for(p=0;p<this.displayHeight;p+=1){if(0<=ba&&(ba&V)===(ba&O)){var ia=W[ba&O];var ma=a[ba&O];n=oa;this.ga&&(n+=.5*(ba|0));for(ba=0;ba<f;ba+=1){if(0<=n&&(n&N)===(n&L)){var fa=ia[n&L];var U=ma[n&L];U===m||U===u?(fa>=F&&(U=q),fa=e[U]|0):U===q||U===r?(fa<F&&(U=m),fa=e[U]|0):fa=e[fa]|0}else fa=0<=n+g&&n+g<w?D:z;k[ha]=fa;ha+=1;n+=T;0<=n&&(n&N)===(n&L)?(fa=ia[n&L],U=ma[n&L],U===m||U===u?(fa>=F&&
(U=q),fa=e[U]|0):U===q||U===r?(fa<F&&(U=m),fa=e[U]|0):fa=e[fa]|0):fa=0<=n+g&&n+g<w?D:z;k[ha]=fa;ha+=1;n+=T;0<=n&&(n&N)===(n&L)?(fa=ia[n&L],U=ma[n&L],U===m||U===u?(fa>=F&&(U=q),fa=e[U]|0):U===q||U===r?(fa<F&&(U=m),fa=e[U]|0):fa=e[fa]|0):fa=0<=n+g&&n+g<w?D:z;k[ha]=fa;ha+=1;n+=T;0<=n&&(n&N)===(n&L)?(fa=ia[n&L],U=ma[n&L],U===m||U===u?(fa>=F&&(U=q),fa=e[U]|0):U===q||U===r?(fa<F&&(U=m),fa=e[U]|0):fa=e[fa]|0):fa=0<=n+g&&n+g<w?D:z;k[ha]=fa;ha+=1;n+=T;0<=n&&(n&N)===(n&L)?(fa=ia[n&L],U=ma[n&L],U===m||U===u?
(fa>=F&&(U=q),fa=e[U]|0):U===q||U===r?(fa<F&&(U=m),fa=e[U]|0):fa=e[fa]|0):fa=0<=n+g&&n+g<w?D:z;k[ha]=fa;ha+=1;n+=T;0<=n&&(n&N)===(n&L)?(fa=ia[n&L],U=ma[n&L],U===m||U===u?(fa>=F&&(U=q),fa=e[U]|0):U===q||U===r?(fa<F&&(U=m),fa=e[U]|0):fa=e[fa]|0):fa=0<=n+g&&n+g<w?D:z;k[ha]=fa;ha+=1;n+=T;0<=n&&(n&N)===(n&L)?(fa=ia[n&L],U=ma[n&L],U===m||U===u?(fa>=F&&(U=q),fa=e[U]|0):U===q||U===r?(fa<F&&(U=m),fa=e[U]|0):fa=e[fa]|0):fa=0<=n+g&&n+g<w?D:z;k[ha]=fa;ha+=1;n+=T;0<=n&&(n&N)===(n&L)?(fa=ia[n&L],U=ma[n&L],U===
m||U===u?(fa>=F&&(U=q),fa=e[U]|0):U===q||U===r?(fa<F&&(U=m),fa=e[U]|0):fa=e[fa]|0):fa=0<=n+g&&n+g<w?D:z;k[ha]=fa;ha+=1;n+=T}}else if(0<=ba+l&&ba+l<w)for(n=oa,this.ga&&(n+=.5*(ba|0)),ba=0;ba<this.displayWidth;ba+=1)k[ha]=0<=n+g&&n+g<w?D:z,ha+=1,n+=T;else k.fill(z,ha,ha+this.displayWidth+1),ha+=this.displayWidth;ba=Z+=R}this.Ae(d);W=b;for(a=1;a<t;a+=1)for(b=2<this.h?0===this.u?this.h/this.za*a|0:a<t/2?this.u/this.za*a*2|0:this.u+this.h/this.za*a|0:this.Xb?1:(this.Af+1)/this.za*a|0,v+=A,this.ab(v),R/=
this.sa,T/=this.sa,H*=this.sa,Z=this.He(H,P,c,W),c=Z[0],W=Z[1],P=!1,L=this.Aa&~c,O=this.ya&~c,N=~c,V=~c,Z=-(this.displayHeight/2*R)+this.Ub,oa=-(this.displayWidth/2*T)+this.Tb,ha=0,ba=Z,p=0;p<this.displayHeight;p+=1){if(0<=ba&&(ba&V)===(ba&O))for(ia=W[ba&O],n=oa,this.ga&&(n+=.5*(ba|0)),ba=0;ba<f;ba+=1)0<=n&&(n&N)===(n&L)&&(fa=ia[n&L]|0,fa>=b&&(k[ha]=e[fa])),ha+=1,n+=T,0<=n&&(n&N)===(n&L)&&(fa=ia[n&L]|0,fa>=b&&(k[ha]=e[fa])),ha+=1,n+=T,0<=n&&(n&N)===(n&L)&&(fa=ia[n&L]|0,fa>=b&&(k[ha]=e[fa])),ha+=1,
n+=T,0<=n&&(n&N)===(n&L)&&(fa=ia[n&L]|0,fa>=b&&(k[ha]=e[fa])),ha+=1,n+=T,0<=n&&(n&N)===(n&L)&&(fa=ia[n&L]|0,fa>=b&&(k[ha]=e[fa])),ha+=1,n+=T,0<=n&&(n&N)===(n&L)&&(fa=ia[n&L]|0,fa>=b&&(k[ha]=e[fa])),ha+=1,n+=T,0<=n&&(n&N)===(n&L)&&(fa=ia[n&L]|0,fa>=b&&(k[ha]=e[fa])),ha+=1,n+=T,0<=n&&(n&N)===(n&L)&&(fa=ia[n&L]|0,fa>=b&&(k[ha]=e[fa])),ha+=1,n+=T;else ha+=f<<3;ba=Z+=R}};pa.prototype.sf=function(a,b,c,d,f){var e=Math.sin(this.qa/180*Math.PI)/this.P,k=Math.cos(this.qa/180*Math.PI)/this.P,g=this.displayWidth,
l=this.displayHeight,p=-(this.displayWidth/2*-e+this.displayHeight/2*k)+this.Ub,n=-(this.displayWidth/2*k+this.displayHeight/2*e)+this.Tb,q=p+g*-e,m=n+g*k,r=p+l*k;l=n+l*e;e=r+g*-e;k=l+g*k;g=r;var u=l;k<u&&(u=k);n<u&&(u=n);m<u&&(u=n);k>l&&(l=k);n>l&&(l=n);m>l&&(l=m);e>g&&(g=e);p>g&&(g=p);q>g&&(g=q);e<r&&(r=e);p<r&&(r=p);q<r&&(r=q);0>(u|0)||(l|0)>=this.width||0>(r|0)||(g|0)>=this.height?0===this.qa?this.Ec&&1<=this.P&&1===this.za?(this.ab(1),this.bk(a,b,u,r,l,g,d,f)):this.zm(a,b,c,d):this.xm(a,b,c,
d):0===this.qa?this.Ec&&1<=this.P&&1===this.za?(this.ab(1),this.bk(a,b,u,r,l,g,d,f)):this.Dm(a,b,c,d):this.Bm(a,b,c,d)};pa.prototype.Um=function(a,b){a.set(b)};pa.prototype.Ai=function(a){var b;if(this.Sf){if(!this.Cc.data.buffer){var c=this.Cc.data;var d=this.Cn;var f=d.length;for(b=0;b<f;)c[b]=d[b],b+=1,c[b]=d[b],b+=1,c[b]=d[b],b+=1,c[b]=d[b],b+=1}if(0!==this.Jb&&a){var e;a=this.ha.canvas.width;b=this.ha.canvas.height;f=this.Xc;c=this.$f;d=a>>1;var k=b>>1;var g=this.Jb-1;var l=this.xd,p=(2*g+2)/
b;null===this.$f&&(c=this.$f=this.S.h(ra.kc,a*b,"Life.tiltBuffer"));var n=-g;for(g=0;g<b;g+=1){var q=g-k;var m=0>=n?b:q/n+k|0;q=g*a;if(0>m||m>=b)for(e=0;e<a;e+=1)c[q+e]=l;else{var r=m*a;m=-d/n+d;e=d/n+d;var u=(e-m)/a;for(e=0;e<a;e+=1){var t=m|0;c[q+e]=0>t||t>=a?l:f[r+t];m+=u}}n+=p}this.Um(f,c)}this.ha.putImageData(this.Cc,0,0)}};pa.prototype.Jk=function(a){this.Xc.fill(a)};Na.prototype.Z=function(a,b){return 0>a||a>=this.o.length||0>b||b>=this.o.length||a>b?"":this.source.substring(this.o[a],this.o[b]+
this.A[b])};Na.prototype.P=function(){0<this.current&&--this.current};Na.prototype.s=function(){for(;this.current<this.o.length&&10!==this.source.charCodeAt(this.o[this.current]);)this.current+=1;this.current<this.o.length&&(this.current+=1)};Na.prototype.F=function(){for(;this.current<this.o.length&&10===this.source.charCodeAt(this.o[this.current]);)this.current+=1};Na.prototype.$=function(){var a=!1;this.current<this.o.length&&10!==this.source.charCodeAt(this.o[this.current])&&(a=!0);return a};
Na.prototype.B=function(){var a=!1;this.current<this.o.length&&10===this.source.charCodeAt(this.o[this.current])&&(a=!0);return a};Na.prototype.l=function(){var a="";this.current<this.o.length&&(a=this.source.substring(this.o[this.current],this.o[this.current]+this.A[this.current]),this.current+=1);return a};Na.prototype.Y=function(){var a="";if(this.current<this.o.length){a=this.source.indexOf("\n",this.o[this.current]);if(-1===a)a=this.source.substring(this.o[this.current]);else{var b=this.source.indexOf("\r",
this.o[this.current]);-1!==b&&b<a&&(a=b);a=this.source.substring(this.o[this.current],a)}this.s()}return a};Na.prototype.W=function(){var a;for(a=this.l();"\n"===a;)a=this.l();return a};Na.prototype.m=function(){var a="";this.current<this.o.length&&(a=this.source.substring(this.o[this.current],this.o[this.current]+this.A[this.current]));return a};Na.prototype.T=function(a){return this.V(a,-1,!1)};Na.prototype.v=function(a,b){return this.V(a,b,!0)};Na.prototype.V=function(a,b,c){var d=-1,f=this.current;
for(-1!==b&&0<=b&&b<this.o.length&&(f=b);f<this.o.length&&-1===d;){if(a.length===this.A[f]){var e=0;for(b=!0;b&&e<a.length;)a[e]!==this.source[this.o[f]+e]?b=!1:e+=1}else b=!1;b&&(c&&0!==f&&10!==this.source.charCodeAt(this.o[f-1])&&(b=!1),b&&(d=f));f+=1}-1!==d&&(this.current=f);return d};Na.prototype.u=function(a){return!isNaN(parseFloat(a))&&isFinite(Number(a))};Na.prototype.O=function(a){var b=!1,c=a.indexOf("/");-1!==c&&(b=a.substring(0,c),a=a.substring(c+1),b=this.u(b)&&this.u(a));return b};Na.prototype.K=
function(a){var b=0;if(this.O(a)){var c=a.indexOf("/");var d=a.substring(0,c);a=a.substring(c+1);0!==Number(a)&&(b=Number(d)/Number(a))}else this.u(a)&&(b=parseFloat(a));return b};Na.prototype.h=function(){var a=0;this.current<this.o.length&&(0!==this.C[this.current]?(a=this.C[this.current]>>1,this.current+=1):(a=this.l(),a=this.K(a)));return a};Na.prototype.i=function(){var a=!1;this.current<this.o.length&&(this.C[this.current]?a=!0:(a=this.source.substring(this.o[this.current],this.o[this.current]+
this.A[this.current]),a=this.O(a)?!0:this.u(a)));return a};Na.prototype.M=function(){var a=!1,b=this.current+1;b<this.o.length&&(this.C[b]?a=!0:(a=this.source.substring(this.o[b],this.o[b]+this.A[b]),a=this.O(a)?!0:this.u(a)));return a};Na.prototype.X=function(){this.current=this.o.length};var Ta={tu:0,play:1,stop:2,mp:12,kA:0,jA:200};hb.prototype.set=function(a){this.On=a.On;this.wg=a.wg;this.l=a.l;this.h=a.h;this.i=a.i;this.jc=a.jc;this.Lb=a.Lb;this.x=a.x;this.y=a.y;this.Eg=a.Eg;this.Fg=a.Fg;this.Gg=
a.Gg;this.Ke=a.Ke;this.angle=a.angle;this.Jb=a.Jb;this.zoom=a.zoom;this.za=a.za;this.depth=a.depth;this.Gc=a.Gc;this.Rc=a.Rc;this.step=a.step;this.wc=a.wc;this.qd=a.qd;this.oe=a.oe;this.Ak=a.Ak;this.grid=a.grid};hb.prototype.o=function(){var a="";switch(this.h){case Ta.play:a=C.ho;break;case Ta.stop:a=C.io}return a};hb.prototype.dG=function(a){this.wg?(this.h!==Ta.tu&&(a[a.length]=[C.ho,"overwrites "+this.o()]),this.h=Ta.play):a[a.length]=[C.ho,"only valid at POI"]};hb.prototype.fG=function(a){this.wg?
(this.h!==Ta.tu&&(a[a.length]=[C.io,"overwrites "+this.o()]),this.h=Ta.stop):a[a.length]=[C.io,"only valid at POI"]};hb.prototype.eG=function(a){this.wg?(this.l&&(a[a.length]=[C.np,"already defined"]),this.l=!0):a[a.length]=[C.np,"only valid at POI"]};hb.prototype.gG=function(a,b){this.wg?(this.i!==Ta.mp&&(b[b.length]=[C.op+" "+a,"overwrites "+this.i]),this.i=a):b[b.length]=[C.op,"only valid at POI"]};hb.prototype.s=function(a,b,c){var d=a.qd,f=b.qd,e=a.angle,k=b.angle,g=1,l=1;c>f&&(c=f);f-d===G.iG&&
(d=f);f!==d&&(g=Math.round((c-d)/(f-d)*1E6)/1E6,l=this.U.W(g));d=b.Eg||b.Ke?g:l;f=b.Fg||b.Ke?g:l;var p=b.Gg||b.Ke?g:l;this.x=a.x+d*(b.x-a.x);this.y=a.y+f*(b.y-a.y);this.zoom=a.zoom*Math.pow(b.zoom/a.zoom,p);180<k-e?e+=360:-180>k-e&&(k+=360);this.angle=(e+l*(k-e))%360;this.Jb=a.Jb+l*(b.Jb-a.Jb);this.za=a.za+g*(b.za-a.za)|0;this.depth=a.depth+g*(b.depth-a.depth);this.Gc=b.Gc;this.Rc=b.Rc;this.step=b.step;this.wc=a.wc+g*(b.wc-a.wc)|0;this.qd=c;this.oe=b.oe;this.Ke=b.Ke;this.On=b.On};Aa.prototype.oa=
function(a,b,c,d,f,e,k,g,l,p,n,q,m,r,u,t,v,A){return new sc(a,b,c,d,f,e,k,g,l,p,n,q,m,r,u,t,v,A)};Aa.prototype.ka=function(){this.s=[]};Aa.prototype.ca=function(a){this.s[this.s.length]=a};Aa.prototype.ma=function(a,b,c,d,f,e,k,g,l,p,n,q,m,r,u,t,v,A,w,z,D){return new tc(a,b,c,d,f,e,k,g,l,p,n,q,m,r,u,t,v,A,w,z,D)};Aa.prototype.ia=function(){this.o=[]};Aa.prototype.ba=function(a){this.o[this.o.length]=a};Aa.prototype.na=function(a,b,c,d,f,e,k,g,l,p,n,q,m,r,u,t,v,A,w,z){return new uc(a,b,c,d,f,e,k,g,
l,p,n,q,m,r,u,t,v,A,w,z)};Aa.prototype.ja=function(){this.m=[]};Aa.prototype.T=function(a){a.s=a.message.indexOf("#P");a.C=a.message.indexOf("#G");a.m=a.message.indexOf("#H");a.l=a.message.indexOf("#I");a.h=a.message.indexOf("#J");this.m[this.m.length]=a};Aa.prototype.A=function(){return this.m.length+this.o.length+this.s.length};Aa.prototype.ha=function(){this.ja();this.ia();this.ka()};Aa.prototype.Ka=function(a){var b="",c="";0<=a&&a<this.s.length&&(a=this.s[a],a.B&&(c="*"),b=a.s?"FILL\t":"LINE\t",
b+="X1"+c+" "+a.coords[0]+"\tY1"+c+" "+a.coords[1]);return b};Aa.prototype.La=function(a){var b="",c="";0<=a&&a<this.s.length&&(b=this.s[a],a=b.zoom,0<=a&&1>a&&(a=-1/a),b.u&&(c="*"),b="Z "+a.toFixed(1)+"\tA"+c+" "+b.angle.toFixed(1));return b};Aa.prototype.Ma=function(a){var b="";0<=a&&a<this.s.length&&(a=this.s[a],b="Alpha "+a.alpha.toFixed(1),-1!==a.h&&(b+="\tT1 "+a.h+"\tT2 "+a.m,0<a.i&&(b+="\tFade "+a.i)));return b};Aa.prototype.Na=function(a){var b="";0<=a&&a<this.s.length&&(b=this.s[a].o);return b};
Aa.prototype.da=function(a){var b="",c="";0<=a&&a<this.o.length&&(a=this.o[a],a.A&&(c="*"),b="X1"+c+" "+a.B+"\tY1"+c+" "+a.F,b+="\tX2"+c+" "+a.C+"\tY2"+c+" "+a.K);return b};Aa.prototype.ea=function(a){var b="",c="";0<=a&&a<this.o.length&&(b=this.o[a],a=b.zoom,0<=a&&1>a&&(a=-1/a),b.o&&(c="*"),b="Z "+a.toFixed(1)+"\tA"+c+" "+b.angle.toFixed(1));return b};Aa.prototype.fa=function(a){var b="";0<=a&&a<this.o.length&&(a=this.o[a],b="Alpha "+a.alpha.toFixed(1),-1!==a.h&&(b+="\tT1 "+a.h+"\tT2 "+a.m,0<a.i&&
(b+="\tFade "+a.i)));return b};Aa.prototype.Hp=function(a){var b="";0<=a&&a<this.o.length&&(b=this.o[a].s);return b};Aa.prototype.wa=function(a){var b="",c="",d="";if(0<=a&&a<this.m.length){var f=this.m[a];a=f.zoom;0<=a&&1>a&&(a=-1/a);f.O&&(c="*");f.F&&(d="*");b="X"+c+" "+f.x+"\tY"+c+" "+f.y;b+="\tZ "+a.toFixed(1)+"\tA"+d+" "+f.angle.toFixed(1)}return b};Aa.prototype.xa=function(a){var b="";0<=a&&a<this.m.length&&(a=this.m[a],b="Alpha "+a.alpha.toFixed(1),-1!==a.i&&(b+="\tT1 "+a.i+"\tT2 "+a.B,0<a.o&&
(b+="\tFade "+a.o)));return b};Aa.prototype.ya=function(a){var b="";0<=a&&a<this.m.length&&(a=this.m[a],b="Size "+a.size+'\t"'+a.message+'"');return b};Aa.prototype.Aa=function(a){var b="";0<=a&&a<this.m.length&&(b=this.m[a].u);return b};Aa.prototype.Va=function(){this.m.sort(function(a,b){return a.zoom-b.zoom})};Aa.prototype.Ua=function(){this.o.sort(function(a,b){return a.zoom-b.zoom})};Aa.prototype.Wa=function(){this.s.sort(function(a,b){return a.zoom-b.zoom})};Aa.prototype.Ta=function(){this.Va();
this.Ua();this.Wa()};Aa.prototype.X=function(a,b){var c,d=a.g,f=d.ha,e=d.width/2-d.fa-d.ua,k=d.height/2-d.ca-d.oa,g=d.zoom*d.Ga,l=d.hc(d.zoom),p=d.displayWidth/2,n=d.displayHeight/2,q=a.g.counter,m=d.ga?-(d.height>>2):0,r=0,u=d.Jb,t=u-1,v=1,A=0,w=0,z=0,D=0,F=a.ia/a.rc;d.ga&&(e+=k/2);b&&(f.strokeStyle=G.aD);for(c=0;c<this.o.length;c+=1){var L=this.o[c];var O=L.B;var N=L.F;var V=L.C;var W=L.K;-1!==a.g.C&&(O+=a.A>>1,N+=a.B>>1,V+=a.A>>1,W+=a.B>>1);if(!b||L.O){var H=!0;-1!==L.h&&(q<L.h||q>L.m)&&(H=!1);
if(H){var P=L.size*g/L.zoom;b&&(r=1,24<=P&&(r=2,48<=P&&(r=3)));if(g>=L.ob&&g<=L.Ib){var R=Math.log(g/L.ob)/Math.log(L.Ib/L.ob);R=.25>=R?4*R:.75<=R?4*(1-R):1;var T=1;-1!==L.h&&0<L.i&&(q-L.h<L.i?T=(q-L.h+1)/L.i:L.m-q<L.i&&(T=(L.m-q+1)/L.i));H=!0;var Z=1;if(-1!==L.l){var oa=a.qr(O,N);oa>L.l?H=!1:0<L.l&&.75<oa/L.l&&(Z=4*(1-oa/L.l))}H&&(f.globalAlpha=R*L.alpha*T*Z,R=N+k-(a.B>>1)+.5,T=O+e+m-(a.A>>1)+.5,L.A||(T+=d.ua,R+=d.oa),-1!==L.h?(T+=L.u*(F-L.h),R+=L.v*(F-L.h)):(T+=L.u*F,R+=L.v*F),0!==d.qa&&(Z=Math.sqrt(T*
T+R*R),R=180/Math.PI*Math.atan2(R,T),R+=d.qa,T=Z*Math.cos(Math.PI/180*R),R=Z*Math.sin(Math.PI/180*R)),d.ga&&(T-=R/2),R=R*l+n,T=T*g+p,O=(V-O)*g,N=(W-N)*l,d.ga&&(O-=N/2),W=0===L.M?0:Math.sqrt(O*O+N*N)*L.M,0!==u&&(v=-t+(2*t+2)/d.displayHeight*(d.displayHeight-R),R=(R-n)/v+n,T=(T-p)/v+p),0<=v&&(f.save(),f.translate(T,R),f.scale(1/v,1/v),R=L.angle,L.o||(R+=d.qa),f.rotate(R/180*Math.PI),f.lineWidth=P,b||(f.strokeStyle=L.s),f.lineCap="round",f.lineJoin="round",0<W&&(L=Math.atan2(N,O),A=Math.cos(.85*Math.PI+
L),w=Math.sin(.85*Math.PI+L),z=Math.cos(.85*-Math.PI+L),D=Math.sin(.85*-Math.PI+L)),0<r&&f.translate(r,r),f.beginPath(),f.moveTo(0,0),f.lineTo(O,N),0<W&&(f.moveTo(O,N),f.lineTo(O+W*A,N+W*w),f.moveTo(O,N),f.lineTo(O+W*z,N+W*D)),f.stroke(),f.restore()))}}}}f.globalAlpha=1};Aa.prototype.ra=function(a){this.X(a,!0);this.X(a,!1)};Aa.prototype.Y=function(a,b){var c,d=a.g,f=d.ha,e=d.width/2-d.fa-d.ua,k=d.height/2-d.ca-d.oa,g=d.zoom*d.Ga,l=d.hc(d.zoom),p=d.displayWidth/2,n=d.displayHeight/2,q=a.g.counter,
m=d.ga?-(d.height>>2):0,r=d.Jb,u=r-1,t=1,v=0,A=0,w=0,z=a.ia/a.rc;b&&(f.strokeStyle=G.mA,f.fillStyle=G.mA);d.ga&&(e+=k/2);-1!==a.g.C&&(A=a.A>>1,w=a.B>>1);for(c=0;c<this.s.length;c+=1){var D=this.s[c];var F=D.coords;var L=F.length;if(!b||D.C){var O=!0;-1!==D.h&&(q<D.h||q>D.m)&&(O=!1);if(O){var N=D.size*g/D.zoom;b&&(v=1,24<=N&&(v=2,48<=N&&(v=3)));if(g>=D.ob&&g<=D.Ib){var V=Math.log(g/D.ob)/Math.log(D.Ib/D.ob);V=.25>=V?4*V:.75<=V?4*(1-V):1;var W=1;-1!==D.h&&0<D.i&&(q-D.h<D.i?W=(q-D.h+1)/D.i:D.m-q<D.i&&
(W=(D.m-q+1)/D.i));O=!0;var H=1;if(-1!==D.l){var P=a.qr(D.coords[0]+A,D.coords[1]+w);P>D.l?O=!1:0<D.l&&.75<P/D.l&&(H=4*(1-P/D.l))}if(O&&(f.globalAlpha=V*D.alpha*W*H,V=0,H=F[V]+A+e+m-(a.A>>1)+.5,W=F[V+1]+w+k-(a.B>>1)+.5,V+=2,D.B||(H+=d.ua,W+=d.oa),-1!==D.h?(H+=D.v*(z-D.h),W+=D.A*(z-D.h)):(H+=D.v*z,W+=D.A*z),0!==d.qa&&(O=Math.sqrt(H*H+W*W),W=180/Math.PI*Math.atan2(W,H),W+=d.qa,H=O*Math.cos(Math.PI/180*W),W=O*Math.sin(Math.PI/180*W)),d.ga&&(H-=W/2),W=W*l+n,P=H*g+p,0!==r&&(t=-u+(2*u+2)/d.displayHeight*
(d.displayHeight-W),W=(W-n)/t+n,P=(P-p)/t+p),0<=t)){H=(F[V]-F[0])*g/t;O=(F[V+1]-F[1])*l/t;d.ga&&(H-=O/2);V+=2;f.save();f.translate(P,W);f.scale(1/t,1/t);W=D.angle;D.u||(W+=d.qa);f.rotate(W/180*Math.PI);f.lineWidth=N;b||(D.s?f.fillStyle=D.o:f.strokeStyle=D.o);f.lineCap="round";f.lineJoin="round";0<v&&f.translate(v,v);f.beginPath();f.moveTo(0,0);for(f.lineTo(H,O);V<L;)H=(F[V]-F[0])*g/t,O=(F[V+1]-F[1])*l/t,d.ga&&(H-=O/2),V+=2,f.lineTo(H,O);D.s?f.fill():f.stroke();f.restore()}}}}}f.globalAlpha=1};Aa.prototype.ta=
function(a){this.Y(a,!0);this.Y(a,!1)};Aa.prototype.sa=function(a){var b,c=a.g,d=c.ha,f=c.width/2-c.fa-c.ua,e=c.height/2-c.ca-c.oa,k=c.zoom*c.Ga,g=c.hc(c.zoom),l=c.displayWidth/2,p=c.displayHeight/2,n=G.EE,q="px "+G.CE,m=a.g.counter,r=c.Jb,u=r-1,t=1,v=c.ga?-(c.height>>2):0,A=a.ia/a.rc;c.ga&&(f+=e/2);for(b=0;b<this.m.length;b+=1){var w=this.m[b];var z=w.x;var D=w.y;var F=w.P;-1!==a.g.C&&(z+=a.A>>1,D+=a.B>>1);var L=!0;-1!==w.i&&(m<w.i||m>w.B)&&(L=!1);if(L){var O=w.T?w.size:w.size*k/w.zoom;var N=1;24<=
O&&(N=2,48<=O&&(N=3));if(k>=w.ob&&k<=w.Ib){var V=Math.log(k/w.ob)/Math.log(w.Ib/w.ob);d.font=O+q;V=.25>=V?4*V:.75<=V?4*(1-V):1;var W=1;-1!==w.i&&0<w.o&&(m-w.i<w.o?W=(m-w.i+1)/w.o:w.B-m<w.o&&(W=(w.B-m+1)/w.o));L=!0;var H=1;if(-1!==w.v){var P=a.qr(z,D);P>w.v?L=!1:0<w.v&&.75<P/w.v&&(H=4*(1-P/w.v))}if(L&&(d.globalAlpha=V*w.alpha*W*H,W=z+f+v-(a.A>>1)+.5,V=D+e-(a.B>>1)+.5,w.O||(W+=c.ua,V+=c.oa),-1!==w.i?(W+=w.K*(A-w.i),V+=w.M*(A-w.i)):(W+=w.K*A,V+=w.M*A),0!==c.qa&&(D=Math.sqrt(W*W+V*V),V=180/Math.PI*Math.atan2(V,
W),V+=c.qa,W=D*Math.cos(Math.PI/180*V),V=D*Math.sin(Math.PI/180*V)),c.ga&&(W-=V/2),z=w.message,-1!==w.C&&(z=z.substring(0,w.C)+a.g.counter+z.substring(w.C+2),-1!==w.s&&(w.s=z.indexOf("#P")),-1!==w.m&&(w.m=z.indexOf("#H")),-1!==w.l&&(w.l=z.indexOf("#I")),-1!==w.h&&(w.h=z.indexOf("#J"))),-1!==w.s&&(z=z.substring(0,w.s)+a.g.s+z.substring(w.s+2),-1!==w.m&&(w.m=z.indexOf("#H")),-1!==w.l&&(w.l=z.indexOf("#I")),-1!==w.h&&(w.h=z.indexOf("#J"))),-1!==w.m&&(z=a.g.Z||a.g.i?z.substring(0,w.m)+a.g.Kb+z.substring(w.m+
2):z.substring(0,w.m)+a.g.counter+z.substring(w.m+2),-1!==w.l&&(w.l=z.indexOf("#I")),-1!==w.h&&(w.h=z.indexOf("#J"))),-1!==w.l&&(z=z.substring(0,w.l)+(a.g.counter+a.Ga)+z.substring(w.l+2),-1!==w.h&&(w.h=z.indexOf("#J"))),-1!==w.h&&(z=a.g.Z||a.g.i?z.substring(0,w.h)+(a.g.Kb+a.Ga)+z.substring(w.h+2):z.substring(0,w.h)+(a.g.counter+a.Ga)+z.substring(w.h+2)),D=z.indexOf("\\n"),V=V*g+p,W=W*k+l,0!==r&&(t=-u+(2*u+2)/c.displayHeight*(c.displayHeight-V),V=(V-p)/t+p,W=(W-l)/t+l),0<=t)){d.save();d.translate(W,
V);d.scale(1/t,1/t);V=w.angle;w.F||(V+=c.qa);d.rotate(V/180*Math.PI);V=0;if(F===G.Mt){for(;-1!==D;)L=z.substring(0,D),z=z.substring(D+2),W=d.measureText(L).width>>1,w.A&&(d.fillStyle=n,d.fillText(L,-W+N,V+N)),d.fillStyle=w.u,d.fillText(L,-W,V),V+=O,D=z.indexOf("\\n");W=d.measureText(z).width>>1;w.A&&(d.fillStyle=n,d.fillText(z,-W+N,V+N));d.fillStyle=w.u;d.fillText(z,-W,V)}else{for(H=0;-1!==D;)L=z.substring(0,D),z=z.substring(D+2),W=d.measureText(L).width>>1,W>H&&(H=W),D=z.indexOf("\\n");W=d.measureText(z).width>>
1;W>H&&(H=W);z=w.message;for(D=z.indexOf("\\n");-1!==D;)L=z.substring(0,D),z=z.substring(D+2),F===G.Nt&&(W=d.measureText(L).width),w.A&&(d.fillStyle=n,F===G.bp?d.fillText(L,-H+N,V+N):d.fillText(L,H-W+N,V+N)),d.fillStyle=w.u,F===G.bp?d.fillText(L,-H,V):d.fillText(L,H-W,V),V+=O,D=z.indexOf("\\n");F===G.Nt&&(W=d.measureText(z).width);w.A&&(d.fillStyle=n,F===G.bp?d.fillText(z,-H+N,V+N):d.fillText(z,H-W+N,V+N));d.fillStyle=w.u;F===G.bp?d.fillText(z,-H,V):d.fillText(z,H-W,V)}d.restore()}}}}d.globalAlpha=
1};Aa.prototype.qa=function(a){this.ta(a);this.ra(a);this.sa(a)};Aa.prototype.Za=function(a){var b;for(b=this.h.length-1;0<=b;--b){var c=this.h[b];c.qd>a&&c.m&&(this.u=b,c.m=!1)}};Aa.prototype.Qa=function(){var a;for(a=0;a<this.h.length;a+=1)this.h[a].m=!1;this.u=0;this.P=!1};Aa.prototype.B=function(){return new hb(this)};Aa.prototype.W=function(a){return-2*Math.pow(a,3)+3*Math.pow(a,2)+0*a};Aa.prototype.reset=function(){this.h=[];this.i=[];this.M=!1;this.u=0};Aa.prototype.Ba=function(){return this.h[this.h.length-
1]};Aa.prototype.ua=function(a){var b=this.Z(a),c=this.h[b];a>c.wc?a=c.qd+1E3*(a-c.wc)/(c.Rc*c.step):0<b?(b=this.h[b-1],a=b.qd+1E3*(a-b.wc)/(c.Rc*c.step)):a=1E3*a/(c.Rc*c.step);return a};Aa.prototype.pa=function(a,b,c,d,f,e,k,g,l,p,n,q){var m=this.$;m.x=a;m.y=b;m.zoom=c;m.angle=d;m.Jb=f;m.Rc=l;m.step=p;m.za=e;m.depth=k;m.Gc=g;m.wc=n;this.M&&(q=this.F.qd);m.qd=q-1E3;this.O(null,q,n,!0);this.F.set(this.current);this.F.Ke=!1;this.F.qd=q;this.M=!0;return m.qd};Aa.prototype.C=function(){return this.h[0]};
Aa.prototype.add=function(a,b){if(a.wg)this.i[this.i.length]=a;else{this.h[this.h.length]=a;if(a.jf||a.Oe||a.ee||a.ug||a.Dg||a.Ke)this.K=!0;if(a.Ve||a.te)a.Ve&&!a.te&&(a.step=G.yg),a.te&&(a.Rc=b.rc)}};Aa.prototype.V=function(a){var b=!1;this.u>=this.h.length-1&&a>=this.h[this.u].qd&&(b=!0);return b};Aa.prototype.v=function(a){return a===(a|0)?String(a|0):String(a.toFixed(1))};Aa.prototype.Ea=function(a){var b="";0<=a&&a<this.i.length&&(a=this.i[a],a.jf&&(b+=" X "+-a.x),a.Oe&&(b+=" Y "+-a.y),a.ee&&
(b+=" ZOOM "+this.v(a.zoom)),a.ug&&(b+=" ANGLE "+a.angle),a.Dg&&0!==a.Jb&&(b+=" TILT "+a.Jb));return b.substring(1)};Aa.prototype.Fa=function(a){var b="";0<=a&&a<this.i.length&&(a=this.i[a],a.Lh&&(b+=" LOOP "+(-1===a.Lb?"OFF":a.Lb)),a.Rh&&(b+=" STOP "+(-1===a.jc?"OFF":a.jc)),a.Ve&&(b+=" GPS "+a.Rc),a.te&&(b+=" STEP "+a.step));return b.substring(1)};Aa.prototype.Da=function(a){var b="";0<=a&&a<this.i.length&&(a=this.i[a],a.l&&(b+=" POIRESET"),a.h===Ta.play?b+=" POIPLAY":a.h===Ta.stop&&(b+=" POISTOP"),
a.i!==Ta.mp&&(b+=" POITRANS "+a.i));return b.substring(1)};Aa.prototype.Ja=function(a){var b="";0<=a&&a<this.i.length&&(a=this.i[a],a.ue&&(b+=" THEME "+a.Gc),a.$g&&(b+=" DEPTH "+this.v(a.depth)),a.fh&&(b+=" LAYERS "+a.za));return b.substring(1)};Aa.prototype.Ia=function(a){var b="";0<=a&&a<this.i.length&&(a=this.i[a],a.vp&&(b+=" POIT "+a.wc));return b.substring(1)};Aa.prototype.Ga=function(a,b){var c="";0<=a&&a<this.i.length&&(a=this.i[a],""!==a.oe&&(c+=" "+b+a.oe+b));return c.substring(1)};Aa.prototype.ab=
function(a,b){var c="";if(0<=a&&a<this.h.length){var d=this.h[a];0<a?(a=this.h[a-1],c=d.wc===a.wc?"P "+this.v((d.qd-a.qd|0)/1E3):"T "+d.wc,d.Ke?c+=" F":(d.x!==a.x&&(c+=" X "+-d.x),d.y!==a.y&&(c+=" Y "+-d.y),d.zoom!==a.zoom&&(c+=" Z "+this.v(d.zoom))),d.angle!==a.angle&&(c+=" A "+d.angle),d.za!==a.za&&(c+=" L "+d.za),d.depth!==a.depth&&(c+=" D "+this.v(d.depth)),d.Gc!==a.Gc&&(c+=" C "+d.Gc),d.Rc!==a.Rc&&(c+=" G "+d.Rc),d.step!==a.step&&(c+=" S "+d.step),""!==d.oe&&(c+=" "+b+d.oe+b)):c="T "+d.wc+" X "+
-d.x+" Y "+-d.y+" Z "+this.v(d.zoom)+" A "+d.angle+" L "+d.za+" D "+this.v(d.depth)+" C "+d.Gc+" G "+d.Rc+" S "+d.step}return c};Aa.prototype.O=function(a,b,c,d){var f=this.h.length,e=!1,k=this.u,g=k,l=!1;if(this.M)this.current.s(this.$,this.F,b),b>=this.F.qd&&(this.M=!1);else{for(;k<f&&!e;){var p=this.h[k];p.qd>=b||!p.m?e=!0:k+=1}e?(this.h[k].m=!0,0<k?(this.h[k].Ke&&(this.h[k].x=this.current.x,this.h[k].y=this.current.y,this.h[k].zoom=this.current.zoom),d&&this.current.s(this.h[k-1],this.h[k],b)):
(k=0,this.current.set(this.h[k]))):(k=f-1,this.current.set(this.h[k]),c>=this.current.wc&&this.P&&(l=!0),this.P=!0);this.u=k}this.u!==g&&this.current.On&&a&&a.D.Rb();return l};Aa.prototype.Z=function(a){for(var b=0,c=!1,d=this.h,f=this.h.length;b<f&&!c;)d[b].wc>=a?c=!0:b+=1;c||(b=f-1);return b};Aa.prototype.va=function(a){var b=0;this.u=this.Z(a);if(0<this.u){var c=this.h[this.u];var d=this.h[this.u-1];b=c.qd-d.qd;c=c.wc-d.wc;b=b*(a-d.wc)/c+d.qd}return b};Aa.prototype.l=function(a,b,c,d){if(0===this.h.length)c[c.length]=
[a+" "+C.sc,"no initial waypoint defined"];else switch(a){case C.Ne:b.jf&&(c[c.length]=[a+" "+C.sc,d?"already defined":"overwrites "+-b.x]);b.x=this.h[0].x;b.jf=!0;break;case C.Pe:b.Oe&&(c[c.length]=[a+" "+C.sc,d?"already defined":"overwrites "+-b.y]);b.y=this.h[0].y;b.Oe=!0;break;case C.fe:b.ee&&(c[c.length]=[a+" "+C.sc,d?"already defined":"overwrites "+this.v(1>b.zoom?-(1/b.zoom):b.zoom)]);b.zoom=this.h[0].zoom;b.ee=!0;break;case C.lk:b.ug&&(c[c.length]=[a+" "+C.sc,d?"already defined":"overwrites "+
b.angle]);b.angle=this.h[0].angle;b.ug=!0;break;case C.Bk:b.Dg&&(c[c.length]=[a+" "+C.sc,d?"already defined":"overwrites "+b.Jb]);b.Jb=this.h[0].Jb;b.Dg=!0;break;case C.ll:b.$g&&(c[c.length]=[a+" "+C.sc,d?"already defined":"overwrites "+this.v(b.depth)]);b.depth=this.h[0].depth;b.$g=!0;break;case C.Gl:b.fh&&(c[c.length]=[a+" "+C.sc,d?"already defined":"overwrites "+b.za]);b.za=this.h[0].za;b.fh=!0;break;case C.Cj:b.ue&&(c[c.length]=[a+" "+C.sc,d?"already defined":"overwrites "+b.Gc]);b.Gc=this.h[0].Gc;
b.ue=!0;break;case C.ul:b.Ve&&(c[c.length]=[a+" "+C.sc,d?"already defined":"overwrites "+b.Rc]);b.Rc=this.h[0].Rc;b.Ve=!0;break;case C.em:b.te&&(c[c.length]=[a+" "+C.sc,d?"already defined":"overwrites "+b.step]);b.step=this.h[0].step;b.te=!0;break;case C.Sh:b.Rh&&(c[c.length]=[a+" "+C.sc,d?"already defined":"overwrites "+(-1===b.jc?"OFF":b.jc)]);b.jc=this.h[0].jc;b.Rh=!0;break;case C.Mh:b.Lh&&(c[c.length]=[a+" "+C.sc,d?"already defined":"overwrites "+(-1===b.Lb?"OFF":b.Lb)]);b.Lb=this.h[0].Lb;b.Lh=
!0;break;default:c[c.length]=[a+" "+C.sc,"illegal command before "+C.sc]}};Aa.prototype.la=function(a,b){this.l(C.Ne,a,b,!1);this.l(C.Pe,a,b,!1);this.l(C.fe,a,b,!1);this.l(C.lk,a,b,!1);this.l(C.Bk,a,b,!1);this.l(C.Gl,a,b,!1);this.l(C.ll,a,b,!1);this.l(C.Cj,a,b,!1);this.l(C.ul,a,b,!1);this.l(C.em,a,b,!1);this.l(C.Mh,a,b,!1);this.l(C.Sh,a,b,!1)};Aa.prototype.Pa=function(a,b){var c,d=this.h,f=this.h.length;for(c=1;c<f;c+=1){var e=d[c-1];var k=d[c];k.jf||(k.x=e.x);k.Oe||(k.y=e.y);k.Gj||(k.Eg=e.Eg);k.Ij||
(k.Fg=e.Fg);k.Jj||(k.Gg=e.Gg);k.ug||(k.angle=e.angle);k.Dg||(k.Jb=e.Jb);k.ee||(k.zoom=e.zoom);k.fh||(k.za=e.za);k.$g||(k.depth=e.depth);k.ue||(k.Gc=e.Gc);k.Ve||(k.Rc=e.Rc);k.te||(k.step=e.step);if(k.Ve||k.te)k.Ve&&!k.te&&(k.step=G.yg),k.te&&(k.Rc=b.rc);k.vp?k.wc<=e.wc&&(a[a.length]=[C.up+" "+k.wc,"target generation must be later than previous ("+e.wc+")"]):k.wc=e.wc;k.qd=k.GA?1E3*k.qd+e.qd:e.qd+1E3*(k.wc-e.wc)/(k.Rc*k.step);k.Pq||(k.Ak=e.Ak);k.tk||(k.grid=e.grid)}};ab.prototype.O=function(a,b){for(var c=
null,d=0;null===c&&d<a.length;)a[d].identifier===b?c=a[d]:d+=1;return c};ab.prototype.reset=function(){this.h=!1;this.i=-1};ab.prototype.A=function(a,b){var c=b.changedTouches;this.s=!0;switch(b.type){case "touchstart":-1===a.i&&(c=c[0],a.i=c.identifier,a.C(a,c.pageX,c.pageY));break;case "touchend":c=a.O(c,a.i);null!==c&&(a.K(a,c.pageX,c.pageY),a.i=-1);break;case "touchmove":c=a.O(c,a.i),null!==c&&a.F(a,c.pageX,c.pageY)}b.stopPropagation&&b.stopPropagation();b.cancelable&&b.preventDefault()};ab.prototype.P=
function(a){var b=this.view;b.displayWidth=b.Mf;b.displayHeight=b.Lf;b.Vz();b.Qo.style.transform="scale("+b.we+","+b.we+")";b.Qo.style.transformOrigin="top left";b.Jo&&(this.D.Le(!0),b.resize());a.T(a.left+a.B,a.top);a.B=0};ab.prototype.Y=function(a,b){this.T(this.left+a,this.top+b)};ab.prototype.T=function(a,b){var c=window.innerWidth-this.l.clientWidth*this.o,d=window.innerHeight-this.l.clientHeight*this.o;c-=(window.innerWidth-document.body.clientWidth)*this.o;a>c&&(a=c);b>d&&(b=d);0>a&&(a=0);
0>b&&(b=0);this.l.style.left=a+"px";this.l.style.top=b+"px";this.l.style.position="fixed";this.left=a;this.top=b};ab.prototype.C=function(a,b,c){a.M(a,b,c);a.h=!0;a.D.Y=!0};ab.prototype.K=function(a,b,c){a.M(a,b,c);a.h=!1;a.D.Y=!1};ab.prototype.F=function(a,b,c){a.h&&a.Y(b-a.u,c-a.v);a.u=b;a.v=c};ab.prototype.V=function(a,b){if(!a.s){if(b.pageX||b.pageY){var c=b.pageX;var d=b.pageY}else c=b.clientX+document.body.scrollLeft+document.documentElement.scrollLeft,d=b.clientY+document.body.scrollTop+document.documentElement.scrollTop;
a.C(a,c,d)}b.stopPropagation&&b.stopPropagation();b.preventDefault()};ab.prototype.X=function(a,b){if(!a.s&&a.m&&a.h){if(b.pageX||b.pageY){var c=b.pageX;var d=b.pageY}else c=b.clientX+document.body.scrollLeft+document.documentElement.scrollLeft,d=b.clientY+document.body.scrollTop+document.documentElement.scrollTop;a.K(a,c,d)}b.stopPropagation&&b.stopPropagation();b.preventDefault()};ab.prototype.W=function(a,b){if(!a.s&&a.m&&a.h){if(b.pageX||b.pageY){var c=b.pageX;b=b.pageY}else c=b.clientX+document.body.scrollLeft+
document.documentElement.scrollLeft,b=b.clientY+document.body.scrollTop+document.documentElement.scrollTop;a.F(a,c,b)}};ab.prototype.M=function(a,b,c){a.u=b|0;a.v=c|0};tb.prototype.re=function(a){var b,c,d=this.key;for(b=0;256>b;b+=1)d[b]=b;for(b=c=0;256>b;b+=1){c=c+d[b]+a.charCodeAt(b%a.length)&255;var f=d[b];d[b]=d[c];d[c]=f}this.i=this.h=0};tb.prototype.random=function(){var a,b=0,c=1,d=this.key,f=this.h,e=this.i;for(a=0;8>a;a+=1){f=f+1&255;e=e+d[f]&255;var k=d[f];d[f]=d[e];d[e]=k;b+=d[d[f]+d[e]&
255]*c;c*=256}this.h=f;this.i=e;return b/1.8446744073709552E19};Pb.prototype.re=function(a,b,c){var d,f=this.vq,e=a*a+b*b;this.x=this.S.h(ra.$c,f,"Stars.x");this.y=this.S.h(ra.$c,f,"Stars.y");this.z=this.S.h(ra.$c,f,"Stars.z");for(d=0;d<f;d+=1){var k=d/f*(d/f)*(d/f)*(d/f)*c+1;do{var g=3*(this.i.random()*a-a/2);var l=3*(this.i.random()*b-b/2)}while(g*g+l*l>e);this.x[d]=g;this.y[d]=l;this.z[d]=k}this.sin=this.S.h(ra.$c,2880,"Stars.sin");this.cos=this.S.h(ra.$c,2880,"Stars.cos");for(d=0;2880>d;)this.sin[d]=
Math.sin(d/8*this.l),this.cos[d]=Math.cos(d/8*this.l),d+=1};Pb.prototype.o=function(a,b,c,d,f,e,k,g){var l=f>>1,p=e>>1,n=f-1,q=e-1;this.m||(this.re(8192,8192,1024),this.m=!0);if(Ka.tc){var m=g>>16&255;var r=g>>8&255;var u=g&255}else u=g>>24&255,r=g>>16&255,m=g>>8&255;var t=this.h.h-u;var v=this.h.l-r;var A=this.h.i-m;for(e=0;e<this.vq;e+=1){var w=this.x[e]+a;var z=this.y[e]+b;if(0!==d){var D=Math.sqrt(w*w+z*z);z=Math.atan2(z,w)*this.s;z+=d;0>z?z+=360:360<=z&&(z-=360);z*=8;z|=0;w=D*this.cos[z];z=D*
this.sin[z]}D=this.z[e]/c*2;w=l+w/D|0;z=p+z/D|0;if(0<w&&w<n&&0<z&&z<q){w+=z*f;D=1536/D|0;255<D&&(D=255);D/=255;if(k[w]===g){z=u+t*D;var F=r+v*D;var L=m+A*D;z=Ka.tc?-16777216|L<<16|F<<8|z:z<<24|F<<16|L<<8|255;k[w]=z}D/=2;z=u+t*D;F=r+v*D;L=m+A*D;z=Ka.tc?-16777216|L<<16|F<<8|z:z<<24|F<<16|L<<8|255;--w;k[w]===g&&(k[w]=z);w+=2;k[w]===g&&(k[w]=z);--w;w-=f;k[w]===g&&(k[w]=z);w+=f+f;k[w]===g&&(k[w]=z)}}};var Lb={Uw:"",cr:0,Bl:function(a){switch(a){case C.Zs:case C.hv:case C.vt:case C.su:case C.Iv:case C.Zv:case C.Xs:case C.lt:case C.Nv:case C.Pv:case C.$s:case C.Ov:case C.ru:case C.xg:case C.Gh:case C.xw:case C.mt:case C.Nq:case C.Dw:case C.xs:case C.lh:case C.Gv:case C.Fv:case C.Cv:case C.Ev:case C.Av:case C.zv:case C.Bv:case C.Dv:case C.Eq:case C.Dq:case C.Gq:case C.Rs:case C.Bq:case C.xo:case C.mv:case C.Cq:case C.kv:case C.ov:case C.pv:case C.lv:case C.sv:case C.qv:case C.rv:case C.nv:case C.Po:case C.ls:case C.os:case C.ps:case C.ms:case C.ss:case C.qs:case C.rs:case C.ns:case C.cp:case C.Kt:case C.Pt:case C.Qt:case C.Lt:case C.Tt:case C.Rt:case C.St:case C.Jt:case C.Ot:case C.ou:case C.qu:case C.pu:case C.pt:case C.Bp:case C.kt:case C.np:case C.io:case C.ho:case C.Aq:case C.op:case C.jv:case C.sc:case C.Bf:case C.Sb:case C.Tv:case C.im:case C.Ap:case C.$p:case C.uq:case C.gt:case C.ht:case C.sp:case C.$t:case C.Ip:case C.rt:case C.Ln:case C.Oo:case C.up:case C.em:case C.ev:case C.$o:case C.Zo:case C.Rz:case C.xv:case C.Yv:case C.nb:case C.Fs:case C.Ne:case C.Pe:case C.Vq:case C.Wq:case C.fe:case C.es:case C.Mh:case C.Dp:case C.Bk:case C.nu:case C.mu:case C.ew:case C.bw:case C.aw:case C.cw:case C.dw:case C.Kp:case C.Jp:case C.Qq:case C.yk:case C.bm:case C.lk:case C.Cj:case C.ul:case C.Sh:case C.Gl:case C.ll:case C.Eo:case C.Kn:case C.qp:case C.pp:case C.Dt:case C.Ny:case C.lo:case C.am:case C.Oi:case C.Ro:case C.lp:case C.yu:case C.Uu:case C.cv:case C.Hu:case C.Au:case C.Yu:case C.Cu:case C.av:case C.Zu:case C.Tu:case C.Mu:case C.Xu:case C.Qu:case C.Eu:case C.Ou:case C.Gu:case C.Ku:case C.Su:case C.Iu:case C.dv:case C.eA:a=
!0;break;default:a=!1}return a},Ns:function(a){var b=[],c=1,d=!0,f=0;if(7===a.length&&"#"===a.charAt(0)){for(a=a.toLowerCase();d&&6>=c;){var e=a.charAt(c);"0"<=e&&"9">=e?(f=16*f+(e.charCodeAt(0)-48),c+=1):"a"<=e&&"f">=e?(f=16*f+(e.charCodeAt(0)-97+10),c+=1):d=!1}d&&(b=[f>>16,f>>8&255,f&255])}return b},Ql:function(a,b,c,d,f){var e=a.m();""===e||this.Bl(e)?b[b.length]=[c,d+" missing"]:(b[b.length]=[c+" "+e,d+" must be "+f],a.l())},qc:function(a,b,c,d,f){var e=!0,k=0,g=0,l=0,p=b.l();if(b.i()){k=b.h()|
0;if(0>k||255<k)c[c.length]=[f+" "+p+" "+k,"RED out of range"];if(b.i()){g=b.h();if(0>g||255<g)c[c.length]=[f+" "+p+" "+k+" "+g,"GREEN out of range"];b.i()?(l=b.h(),0>l||255<l?c[c.length]=[f+" "+p+" "+k+" "+g+" "+l,"BLUE out of range"]:e=!1):this.Ql(b,c,f+" "+p+" "+k+" "+g,"BLUE","numeric")}else this.Ql(b,c,f+" "+p+" "+k,"GREEN","numeric")}else{var n=b.m();var q=this.Ns(n);3===q.length?(b.l(),k=q[0],g=q[1],l=q[2],e=!1):(q=eb.Qe[n.toLowerCase()],void 0!==q?(b.l(),k=q[1],g=q[2],l=q[3],e=!1):""===n||
this.Bl(n)?c[c.length]=[f+" "+p,"name missing"]:(c[c.length]="#"===n.charAt(0)?[f+" "+p+" "+n,"bad hex definition"]:[f+" "+p+" "+n,"name not known"],b.l()))}if(!e)switch(-1!==a.pa[d]&&d!==G.Ls&&d!==G.Is&&d!==G.Ms&&(c[c.length]=[f+" "+p+" "+k+" "+g+" "+l,"overwrites "+(a.pa[d]>>16)+" "+(a.pa[d]>>8&255)+" "+(a.pa[d]&255)]),a.pa[d]=k<<16|g<<8|l,d){case G.Op:a.Sm=a.pa[d];break;case G.Ks:a.Um=a.pa[d];break;case G.By:a.Md.h.h=k;a.Md.h.l=g;a.Md.h.i=l;break;case G.Cy:a.Qc=[k,g,l];break;case G.qy:a.Pc=[k,
g,l];a.Jh="rgb("+k+","+g+","+l+")";break;case G.xy:a.ye=[k,g,l];a.Kh="rgb("+k+","+g+","+l+")";break;case G.Ls:a.gw="rgb("+k+","+g+","+l+")";break;case G.Is:a.Qv="rgb("+k+","+g+","+l+")";break;case G.Ms:a.Aw="rgb("+k+","+g+","+l+")";break;case G.my:a.zd=[k,g,l];a.g.xd=a.g.tc?-16777216|l<<16|g<<8|k:k<<24|g<<16|l<<8|255;a.g.qh="rgb("+k+","+g+","+l+")";break;case G.ny:a.Gf=[k,g,l];a.g.ie=a.g.tc?-16777216|l<<16|g<<8|k:k<<24|g<<16|l<<8|255;break;case G.zy:a.Jf=[k,g,l];a.g.ii="rgb("+k+","+g+","+l+")";break;
case G.Ay:a.lf=[k,g,l];a.g.ji="rgb("+k+","+g+","+l+")";break;case G.yy:a.If=[k,g,l];a.g.bi="rgb("+k+","+g+","+l+")";break;case G.uy:a.g.jd=[k,g,l];break;case G.ty:a.g.hd=[k,g,l];break;case G.sy:a.g.gd=[k,g,l];break;case G.vy:a.g.kd=[k,g,l];break;case G.wy:a.g.ld=[k,g,l];break;case G.Rp:case G.Pp:case G.Sp:case G.Up:case G.Tp:case G.Qp:break;default:a.ua=!0}},tE:function(a,b){a=a.replace(/"/g,"");return 0<=b.ur(a)||b.qx(a)||b.tx(a)||b.ox(a)},gH:function(a){var b=a&255,c=a>>8&255;a>>=16;var d=255-b,
f=255-c,e=255-a;64>Math.abs(b-d)&&(d=d+64&255);64>Math.abs(c-f)&&(f=f+64&255);64>Math.abs(a-e)&&(e=e+64&255);return e<<16|f<<8|d},hG:function(a,b){var c=a.g.la[a.g.ib],d=a.pa;-1===b&&(b=2>=a.g.h?a.g.F?10:a.g.Z?17:1:a.g.i?18:11);c.set(a.g.la[b]);a.Hf&&(c.A=a.g.La);!a.O||a.g.o||a.g.l||a.g.A||a.g.da||(0<a.O.length&&-1!==a.O[0]&&(d[G.fj]=a.O[0],a.O[0]=-1),1<a.O.length&&-1!==a.O[1]&&!a.g.i&&(d[G.An]=a.O[1],a.O[1]=-1),2<a.O.length&&-1!==a.O[2]&&!a.g.i&&a.g.F&&(d[G.Bn]=a.O[2],a.O[2]=-1));b=d[G.fj];-1!==
b&&(a.g.l||a.g.A?(a.O||(a.O=a.g.S.h(ra.Id,256,"View.customColours"),a.O.fill(-1)),-1===a.O[0]&&(a.O[0]=b)):(c.u.h=b>>16,c.u.l=b>>8&255,c.u.i=b&255));b=d[G.An];-1!==b&&(c.i.h.h=b>>16,c.i.h.l=b>>8&255,c.i.h.i=b&255);b=d[G.ly];-1!==b&&(c.i.i.h=b>>16,c.i.i.l=b>>8&255,c.i.i.i=b&255);b=d[G.Bn];-1!==b&&(c.h.i.h=b>>16,c.h.i.l=b>>8&255,c.h.i.i=b&255);b=d[G.Js];-1!==b&&(c.h.h.h=b>>16,c.h.h.l=b>>8&255,c.h.h.i=b&255);b=d[G.fj];-1!==b&&(c.C.h=b>>16,c.C.l=b>>8&255,c.C.i=b&255);b=d[G.An];-1!==b&&(c.v.h=b>>16,c.v.l=
b>>8&255,c.v.i=b&255);b=d[G.Bn];-1!==b&&(c.l.i.h=b>>16,c.l.i.l=b>>8&255,c.l.i.i=b&255);b=d[G.Js];-1!==b&&(c.l.h.h=b>>16,c.l.h.l=b>>8&255,c.l.h.i=b&255);b=d[G.oy];-1===b?c.F=!0:(c.F=!1,c.m.i.h=b>>16,c.m.i.l=b>>8&255,c.m.i.i=b&255);b=d[G.py];-1!==b&&(c.m.h.h=b>>16,c.m.h.l=b>>8&255,c.m.h.i=b&255);c.M(d[G.Op],d[G.Ks]);if(a.g.i)for(d=1;16>d;d+=1)a.O&&a.O.length>d&&(b=a.O[d],-1!==b&&(c.B[d-1].h=b>>16,c.B[d-1].l=b>>8&255,c.B[d-1].i=b&255,a.O[d]=-1))},Lq:function(a,b){var c=a;a.length>b&&(c=a.substring(0,
b-1)+"...");return c},UA:function(a,b,c,d){var f=a.indexOf("\\n");-1!==f&&(c?b[b.length]=[C.xo+" "+C.ud+this.Lq(a,23)+C.ud,"only one line allowed"]:(f=a.substring(f+2).indexOf("\\n"),-1===f||d||(b[b.length]=[C.ud+this.Lq(a,23),"only two lines allowed"])))},yv:function(a,b,c,d){var f=C.Cj+" ",e="overwrites ";f=c>=a.g.ib?f+C.uo:f+a.g.la[c].name;e=d>=a.g.ib?e+C.uo:e+a.g.la[d].name;b[b.length]=[f,e]},zf:function(a,b,c,d,f){b[b.length]=[c,d];f&&a.l();a.i()?(a.h(),a.i()&&(a.h(),a.i()&&a.h())):(b=a.m(),
3===this.Ns(b).length?a.l():void 0!==eb.Qe[b.toLowerCase()]&&a.l())},Dn:function(a,b,c,d,f,e,k){var g=0,l=0,p=0;if(b.i())if(g=b.h()|0,0>g||255<g)c[c.length]=[f+" "+k+" "+g,"RED out of range"],e=!0;else if(b.i())if(l=b.h()|0,0>l||255<l)c[c.length]=[f+" "+k+" "+g+" "+l,"GREEN out of range"],e=!0;else if(b.i()){if(p=b.h()|0,0>p||255<p)c[c.length]=[f+" "+k+" "+g+" "+l+" "+p,"BLUE out of range"],e=!0}else this.Ql(b,c,f+" "+k+" "+g+" "+l,"BLUE","numeric"),e=!0;else this.Ql(b,c,f+" "+k+" "+g,"GREEN","numeric"),
e=!0;else{var n=b.m();var q=this.Ns(n);3===q.length?(b.l(),g=q[0],l=q[1],p=q[2]):(q=eb.Qe[n.toLowerCase()],void 0!==q?(b.l(),g=q[1],l=q[2],p=q[3]):(e=!0,""===n||this.Bl(n)?c[c.length]=[f+" "+k,"name missing"]:(c[c.length]="#"===n.charAt(0)?[f+" "+k+" "+n,"bad hex definition"]:[f+" "+k+" "+n,"name not known"],b.l())))}e||(-1!==a.O[d]&&(c[c.length]=[f+" "+k+" "+g+" "+l+" "+p,"overwrites "+(a.O[d]>>16)+" "+(a.O[d]>>8&255)+" "+(a.O[d]&255)]),a.O[d]=g<<16|l<<8|p)},Vi:function(a,b){var c=C.Qd+String(b);
a=a.D.ac(b);-1!==a&&(c=a.toFixed(1));return c},fm:function(a,b){var c="",d=b.indexOf(C.Qd);if(-1===d)c=b;else{for(;-1!==d;)if(c+=b.substring(0,d),d+1<b.length){var f=b[d+1];b=b.substring(d+2);switch(f){case "B":c+=G.Tq;break;case "N":c+=a.bj;break;case "R":c+=a.W;break;case "A":c=""===a.xa?c+a.W:c+a.xa;break;case "O":c+=a.Qk;break;case "S":c+=a.kj;break;case "T":c+=G.So;break;case "D":c+=a.sr();break;case "0":c+=this.Vi(a,0);break;case "1":c+=this.Vi(a,1);break;case "2":c+=this.Vi(a,2);break;case "3":c+=
this.Vi(a,3);break;case "4":c+=this.Vi(a,4);break;case "5":c+=this.Vi(a,5);break;case "6":c+=this.Vi(a,6);break;case "7":c+=this.Vi(a,7);break;case "8":c+=this.Vi(a,8);break;case "9":c+=this.Vi(a,9);break;case C.Qd:c+=C.Qd;break;default:c+=C.Qd+f}d=b.indexOf(C.Qd)}else b=b.substring(d+1),d=-1;c+=b}return c},hh:function(a,b,c,d){d[d.length]=a?b===C.xg?[b+" "+c,"already defined"]:[b+" "+c,"overwrites "+C.xg]:b===C.xg?[b+" "+c,"overwrites "+C.Gh]:[b+" "+c,"already defined"]},Od:function(a,b){return a===
(a|0)?String(a):a.toFixed(b)},EG:function(a){var b=a.charAt(0);a=a.substring(1);var c=!1;if("B"===b||"S"===b){this.Uw=b;b=0;for(c=!0;c&&b<a.length;)"0"<=a[b]&&"9">=a[b]?b+=1:c=!1;c&&(this.cr=Number(a))}return c},bG:function(a,b){if("B"===this.Uw){var c=a.Vc.length;a.Vc[c]=this.cr;a.Vc[c+1]=b}else c=a.Kd.length,a.Kd[c]=this.cr,a.Kd[c+1]=b},oF:function(a,b,c){var d=new Na(b,!1),f=!1,e=!1,k="",g="",l="",p="",n=!1,q="",m=0,r=!1,u=!1,t=a.Tb,v=null,A=0,w=0,z="",D=!1,F=a.m.B(),L=null,O=!1,N=!1,V=null,W=
!0,H=1,P=G.Zx,R=-1,T=-1,Z=0,oa=0,ha=!1,ba=!1,ia=-1,ma=-1E3,fa=-1E3,U=0,ka=0,ca=null,aa=!0,X=1,na=G.Zx,Q=G.$C,E=-1,y=-1,K=0,M=0,J=!1,x=!1,B=-1,la=0,Y=0,qa=-1E3,sa=-1E3,ja=null,ta=!0,za=1,Ha=G.DE,Da=!1,Pa=-1,Qa=-1,La=0,Ga=0,Za=!1,$a=!1,ib=-1,Ua=0,cb=0,nb=-1E3,ob=-1E3,mb=G.Mt,jb=!1,Ra=!1,Db="numeric",Nb=-1,vb=-1,wb=-1,Ub=-1,xb=-1,yb=-1,Eb=0,Fb=0,Gb=0,Hb=0,wa=0,ya=0,Fa=0,pb=0,zb=0,Ob=0,qb=[],Oa=0,fb=0,Ab=!1,pc=new kb("decode",a.U),Vb=!1,Wb=!1,Xb=!1,Yb=!1,Zb=!1,$b=!1,ac=!1,Ib=!1,bc=!1,cc=!1,Jb=!1,Kb=!1,
dc=!1,ec=!1,fc=!1,gc=!1;a.m.K=!1;a.Wg=0;a.Vs=0;a.Hf=!1;a.ua=!1;a.pa.fill(-1);a.O=null;if(-1!==d.T(C.yk)){a.O=a.g.S.h(ra.Id,256,"View.customColours");a.O.fill(-1);for(k=d.l();""!==k;){Db="numeric";if(n)k[k.length-1]===C.ud?(q=q+" "+k.substring(0,k.length-1),n=!1,this.UA(q,t,e,jb),e?(""!==a.sd&&(t[t.length]=[C.xo+" "+C.ud+this.Lq(q,20)+C.ud,"overwrites "+C.ud+a.sd+C.ud]),a.sd=q,e=!1):jb?(ja.message=this.fm(a,q),jb=!1,a.m.T(ja)):(F.oe=this.fm(a,q),F.Rq=!0)):q=q+" "+k;else if(k[0]===C.ud)q=k.substring(1),
n=!0,k[k.length-1]===C.ud&&(n=!1,q=q.substring(0,q.length-1),this.UA(q,t,e,jb),e?(""!==a.sd&&(t[t.length]=[C.xo+" "+C.ud+this.Lq(q,20)+C.ud,"overwrites "+C.ud+a.sd+C.ud]),a.sd=q,e=!1):jb?(ja.message=this.fm(a,q),jb=!1,a.m.T(ja)):(F.oe=this.fm(a,q),F.Rq=!0));else{r=u=!1;a.Wg+=1;switch(k){case C.xo:e=!0;g=d.m();g[0]!==C.ud&&(t[t.length]=[k,"argument must be a quoted string"],e=!1);r=!0;break;case C.ov:d.i()&&(u=!0,m=d.h(),m>=G.qq&&m<=G.iq&&(P=m,r=!0));break;case C.qv:d.i()?(u=!0,m=d.h(),m>=G.pg&&m<=
G.mg&&(wa=m,u=!1,d.i()&&(u=!0,m=d.h(),m>=G.pg&&m<=G.mg&&(U=wa,ka=m,r=!0)))):(g=d.m(),g===C.Jd&&(g=d.l(),ka=U=0,r=!0));break;case C.rv:d.i()?(u=!0,m=d.h(),0<=m&&m<=a.g.T/2&&(ia=m,r=!0)):(g=d.m(),g===C.Sb&&(g=d.l(),ia=-1,r=!0));break;case C.lv:d.i()&&(u=!0,m=d.h(),0<=m&&360>m&&(oa=m,ha=!1,g=d.m(),g===C.Jd&&(g=d.l(),ha=!0),r=!0));break;case C.pv:d.i()?(u=!0,m=d.h()|0,0<=m&&(wa=m,d.i()?(m=d.h()|0,m>=wa?(ya=m,d.i()?(m=d.h()|0,0<=m&&m<=ya-wa>>1?(R=wa,T=ya,Z=m,r=!0):(r=!0,t[t.length]=[k+" "+wa+" "+ya+" "+
m,"third argument must from 0 to "+(ya-wa>>1)])):u=!1):(r=!0,t[t.length]=[k+" "+wa+" "+m,"second argument must be >= first"])):u=!1)):(g=d.m(),g===C.Bf?(g=d.l(),T=R=-1,Z=0,r=!0):u=!1);break;case C.kv:d.i()&&(u=!0,m=d.h(),0<=m&&1>=m&&(H=m,r=!0));break;case C.mv:case C.Cq:qb=[];r=!0;for(Fa=-1E3;r&&d.i();)wa=d.h(),d.i()?(ya=d.h(),wa>=-a.g.T&&wa<2*a.g.T&&ya>=-a.g.T&&ya<2*a.g.T?(qb[qb.length]=wa,qb[qb.length]=ya):(t[t.length]=[k+" "+wa+" "+ya,"coordinate out of range"],Fa=0,r=!1)):wa>=G.ob&&wa<=G.Ib?Fa=
wa:wa>=G.hp&&wa<=G.fp?Fa=-(1/wa):(t[t.length]=[k+" "+wa,"zoom out of range"],Fa=0,r=!1);r&&4>qb.length&&(t[t.length]=[k,"requires at least 2 coordinate pairs"],r=!1);r&&-1E3===Fa&&(r=!1);r&&(g=d.m(),ba=!1,g===C.Jd&&(g=d.l(),ba=!0,g=d.m()),V=a.m.oa(qb,k===C.Cq,Fa,ma,fa,a.Aw,H,P,R,T,Z,oa,ha,ba,ia,U,ka,W),a.m.ca(V));break;case C.nv:g=d.m();g===C.Sb?(g=d.l(),W=!1):W=!0;r=!0;break;case C.os:d.i()&&(u=!0,m=d.h(),m>=G.qq&&m<=G.iq&&(wa=m,u=!1,d.i()&&(u=!0,m=d.h(),0<=m&&1>=m&&(Q=m,na=wa,r=!0))));break;case C.qs:d.i()?
(u=!0,m=d.h(),m>=G.pg&&m<=G.mg&&(wa=m,u=!1,d.i()&&(u=!0,m=d.h(),m>=G.pg&&m<=G.mg&&(la=wa,Y=m,r=!0)))):(g=d.m(),g===C.Jd&&(g=d.l(),Y=la=0,r=!0));break;case C.rs:d.i()?(u=!0,m=d.h(),0<=m&&m<=a.g.T/2&&(B=m,r=!0)):(g=d.m(),g===C.Sb&&(g=d.l(),B=-1,r=!0));break;case C.ms:d.i()&&(u=!0,m=d.h(),0<=m&&360>m&&(M=m,J=!1,g=d.m(),g===C.Jd&&(g=d.l(),J=!0),r=!0));break;case C.ps:d.i()?(u=!0,m=d.h()|0,0<=m&&(wa=m,d.i()?(m=d.h()|0,m>=wa?(ya=m,d.i()?(m=d.h()|0,0<=m&&m<=ya-wa>>1?(E=wa,y=ya,K=m,r=!0):(r=!0,t[t.length]=
[k+" "+wa+" "+ya+" "+m,"third argument must from 0 to "+(ya-wa>>1)])):u=!1):(r=!0,t[t.length]=[k+" "+wa+" "+m,"second argument must be >= first"])):u=!1)):(g=d.m(),g===C.Bf?(g=d.l(),y=E=-1,K=0,r=!0):u=!1);break;case C.ls:d.i()&&(u=!0,m=d.h(),0<=m&&1>=m&&(X=m,r=!0));break;case C.ns:g=d.m();g===C.Sb?(g=d.l(),aa=!1):aa=!0;r=!0;break;case C.Po:d.i()&&(u=!0,m=d.h(),m>=-a.g.T&&m<2*a.g.T&&(u=!1,wa=m,d.i()&&(u=!0,m=d.h(),m>=-a.g.T&&m<2*a.g.T&&(u=!1,ya=m,d.i()&&(u=!0,m=d.h(),m>=-a.g.T&&m<2*a.g.T&&(u=!1,pb=
m,d.i()&&(u=!0,m=d.h(),m>=-a.g.T&&m<2*a.g.T&&(u=!1,zb=m,d.i()&&(u=!0,m=d.h(),Fa=-1E3,m>=G.ob&&m<=G.Ib?Fa=m:m>=G.hp&&m<=G.fp&&(Fa=-(1/m)),-1E3!==Fa&&(g=d.m(),x=!1,g===C.Jd&&(g=d.l(),x=!0,g=d.m()),ca=a.m.ma(wa,ya,pb,zb,Fa,qa,sa,a.Qv,X,na,Q,E,y,K,M,J,x,B,la,Y,aa),a.m.ba(ca),r=!0))))))))));break;case C.Pt:d.i()&&(u=!0,m=d.h(),m>=G.Dz&&m<=G.xz&&(Ha=m,r=!0,g=d.m(),g===C.Jd?(g=d.l(),Da=!0):Da=!1));break;case C.Rt:d.i()?(u=!0,m=d.h(),m>=G.pg&&m<=G.mg&&(wa=m,u=!1,d.i()&&(u=!0,m=d.h(),m>=G.pg&&m<=G.mg&&(Ua=
wa,cb=m,r=!0)))):(g=d.m(),g===C.Jd&&(g=d.l(),cb=Ua=0,r=!0));break;case C.St:d.i()?(u=!0,m=d.h(),0<=m&&m<=a.g.T/2&&(ib=m,r=!0)):(g=d.m(),g===C.Sb&&(g=d.l(),ib=-1,r=!0));break;case C.Lt:d.i()&&(u=!0,m=d.h(),0<=m&&360>m&&(Ga=m,Za=!1,g=d.m(),g===C.Jd&&(g=d.l(),Za=!0),r=!0));break;case C.Jt:g=d.l();r=!0;switch(g){case C.Gt:mb=G.Mt;break;case C.Ht:mb=G.bp;break;case C.It:mb=G.Nt;break;default:""!==g?t[t.length]=[k+" "+g,"argument must be "+C.Ht+", "+C.Gt+" or "+C.It]:r=!1}break;case C.Qt:d.i()?(u=!0,m=
d.h()|0,0<=m&&(wa=m,d.i()?(m=d.h()|0,m>=wa?(ya=m,d.i()?(m=d.h()|0,0<=m&&m<=ya-wa>>1?(Pa=wa,Qa=ya,La=m,r=!0):(r=!0,t[t.length]=[k+" "+wa+" "+ya+" "+m,"third argument must from 0 to "+(ya-wa>>1)])):u=!1):(r=!0,t[t.length]=[k+" "+wa+" "+m,"second argument must be >= first"])):u=!1)):(g=d.m(),g===C.Bf?(g=d.l(),Qa=Pa=-1,La=0,r=!0):u=!1);break;case C.Kt:d.i()&&(u=!0,m=d.h(),0<=m&&1>=m&&(za=m,r=!0));break;case C.sv:d.i()?(u=!0,m=d.h(),wa=-1E3,m>=G.Vn&&m<=G.Tn?wa=m:m>=G.Un&&m<=G.Sn&&(wa=-(1/m)),-1E3!==wa&&
d.i()&&(u=!0,m=d.h(),ya=-1E3,m>=G.Vn&&m<=G.Tn?ya=m:m>=G.Un&&m<=G.Sn&&(ya=-(1/m)),-1E3!==ya&&ya<wa&&(ya=-1E3),-1E3!==ya&&(ma=wa,fa=ya,r=!0))):(g=d.m(),g===C.Sb&&(g=d.l(),fa=ma=-1E3,r=!0));break;case C.ss:d.i()?(u=!0,m=d.h(),wa=-1E3,m>=G.Vn&&m<=G.Tn?wa=m:m>=G.Un&&m<=G.Sn&&(wa=-(1/m)),-1E3!==wa&&d.i()&&(u=!0,m=d.h(),ya=-1E3,m>=G.Vn&&m<=G.Tn?ya=m:m>=G.Un&&m<=G.Sn&&(ya=-(1/m)),-1E3!==ya&&ya<wa&&(ya=-1E3),-1E3!==ya&&(qa=wa,sa=ya,r=!0))):(g=d.m(),g===C.Sb&&(g=d.l(),sa=qa=-1E3,r=!0));break;case C.Tt:d.i()?
(u=!0,m=d.h(),wa=-1E3,m>=G.Vn&&m<=G.Tn?wa=m:m>=G.Un&&m<=G.Sn&&(wa=-(1/m)),-1E3!==wa&&d.i()&&(u=!0,m=d.h(),ya=-1E3,m>=G.Vn&&m<=G.Tn?ya=m:m>=G.Un&&m<=G.Sn&&(ya=-(1/m)),-1E3!==ya&&ya<wa&&(ya=-1E3),-1E3!==ya&&(nb=wa,ob=ya,r=!0))):(g=d.m(),g===C.Sb&&(g=d.l(),ob=nb=-1E3,r=!0));break;case C.Ot:g=d.m();g===C.Sb?(g=d.l(),ta=!1):ta=!0;r=!0;break;case C.cp:d.i()&&(u=!0,m=d.h(),m>=-a.g.T&&m<2*a.g.T&&(u=!1,wa=m,d.i()&&(u=!0,m=d.h(),m>=-a.g.T&&m<2*a.g.T&&(u=!1,ya=m,d.i()&&(u=!0,m=d.h(),Fa=-1E3,m>=G.ob&&m<=G.Ib?
Fa=m:m>=G.hp&&m<=G.fp&&(Fa=-(1/m)),-1E3!==Fa&&(u=!1,g=d.m(),$a=!1,g===C.Jd&&(g=d.l(),$a=!0,g=d.m()),g[0]===C.ud?(ja=a.m.na(wa,ya,Fa,nb,ob,a.gw,za,Ha,Da,Pa,Qa,La,Ga,Za,$a,ib,Ua,cb,ta,mb),r=jb=!0):Db="a string"))))));break;case C.Rz:r=a.ir=!0;break;case C.xv:r=a.g.Ec=!0;break;case C.Dt:r=a.g.fd=!0;break;case C.Ny:a.g.vf()&&(a.g.cc=!0);r=!0;break;case C.lo:r=!1;g=d.l();if(""!==g){for(a.mj=[];d.i();)m=d.h(),a.mj[a.mj.length]=m;a.hE(t,g,a.mj);a.mj=[];r=!0}break;case C.am:r=!1;g=d.l();if(""!==g&&(l=d.m(),
""!==l)){d.l();if(l===C.lh)ya=wa=-1,d.i()&&(wa=d.h()),d.i()&&(ya=d.h()),wa<G.ip||ya<G.cu||wa>G.mq||ya>G.lq?(t[t.length]=[C.Oi+" "+C.lh,"invalid random box size"],wa=-1):l+=wa+","+ya;else for(p=d.m();""!==p&&!this.Bl(p)&&!d.i()&&-1!==a.U.ma(pc,p,!1,a.g.S);)d.l(),l+=p,p=d.m();if(-1!==wa){ya=wa=0;d.i()&&(u=!0,wa=d.h());d.i()&&(u=!0,ya=d.h());Fa=-1;p=d.m();if(""!==p){switch(p){case C.sw:Fa=G.Cp;break;case C.pw:Fa=G.iw;break;case C.qw:Fa=G.jw;break;case C.rw:Fa=G.kw;break;case C.vw:Fa=G.nw;break;case C.ww:Fa=
G.ow;break;case C.uw:Fa=G.mw;break;case C.tw:Fa=G.lw}-1!==Fa&&d.l()}-1===Fa&&(Fa=G.Cp);a.AD(t,g,l,wa,ya,Fa);r=!0}}break;case C.Oi:l=d.m();if(""!==l){d.l();wa=-99999;if(l===C.lh)ya=wa=-1,d.i()&&(wa=d.h()),d.i()&&(ya=d.h()),wa<G.ip||ya<G.ip||wa>G.mq||ya>G.lq?(t[t.length]=[C.Oi+" "+C.lh,"invalid random box size"],wa=-1):l+=wa+","+ya;else for(p=d.m();""!==p&&!this.Bl(p)&&!d.i()&&-1!==a.U.ma(pc,p,!1,a.g.S);)d.l(),l+=p,p=d.m();if(-1!==wa){ya=wa=0;d.i()&&(u=!0,wa=d.h());d.i()&&(u=!0,ya=d.h());Fa=-1;p=d.m();
if(""!==p){switch(p){case C.sw:Fa=G.Cp;break;case C.pw:Fa=G.iw;break;case C.qw:Fa=G.jw;break;case C.rw:Fa=G.kw;break;case C.vw:Fa=G.nw;break;case C.ww:Fa=G.ow;break;case C.uw:Fa=G.mw;break;case C.tw:Fa=G.lw}-1!==Fa&&d.l()}-1===Fa&&(Fa=G.Cp);if(a.Uy(a.Je,a.Ok,a.si,a.Ud,a.Pa,a.et,a.tt,l,wa,ya,Fa)){if(g=d.m(),g===C.dv||g===C.eA)if(d.l(),pb=wa,zb=ya,Ob=Fa,Ob=0,d.i()&&d.M())for(pb=d.h(),zb=d.h();0===Ob;)g===C.dv?wa+=pb:ya+=pb,a.Je+=zb,a.Uy(a.Je,-1,[],0,a.Pa,0,0,l,wa,ya,Fa),d.i()&&d.M()?(pb=d.h(),zb=d.h()):
Ob=1;else t[t.length]=[C.Oi+" "+g,"missing number pair"]}else t[t.length]=[C.Oi+" "+l,"invalid name or rle"];r=!0}}break;case C.yu:d.i()&&(u=!0,m=d.h(),-4096<=m&&4096>=m&&(a.et=m,u=!1,d.i()&&(u=!0,m=d.h(),-4096<=m&&4096>=m&&(a.tt=m,r=!0))));break;case C.lp:if(d.i()){if(u=!0,m=d.h(),0<=m){a.Je=m;a.Ud=0;a.Ok=-1;a.si=[];for(f=!0;f;)d.i()?(m=d.h(),a.si[a.si.length]=m):(g=d.m(),a.pE(g,a.si)?d.l():f=!1);r=!0}}else g=d.m(),g===C.Ro&&(g=d.l(),d.i()&&(u=!0,m=d.h(),1<=m&&(a.Ud=m,a.Je=0,a.Ok=-1,d.i()?(m=d.h(),
0<=m&&(a.Je=m,d.i()?(m=d.h(),m>=a.Je+a.Ud&&(a.Ok=m,r=!0)):r=!0)):r=!0)));break;case C.HA:r=F.On=!0;break;case C.hv:r=a.an=!0;break;case C.Uu:r=!0;u=!1;Db="paste mode";g=d.m();switch(g){case C.cv:a.Pa=G.bv;break;case C.Hu:a.Pa=G.wq;break;case C.Au:a.Pa=G.zu;break;case C.Yu:a.Pa=G.Vu;break;case C.Cu:a.Pa=G.Bu;break;case C.av:a.Pa=G.$u;break;case C.Zu:a.Pa=G.xq;break;case C.Tu:a.Pa=G.co;break;case C.Mu:a.Pa=G.Lu;break;case C.Xu:a.Pa=G.Wu;break;case C.Qu:a.Pa=G.Pu;break;case C.Eu:a.Pa=G.Du;break;case C.Ou:a.Pa=
G.Nu;break;case C.Gu:a.Pa=G.Fu;break;case C.Ku:a.Pa=G.Ju;break;case C.Su:a.Pa=G.Ru;break;case C.Iu:a.Pa=G.kp;break;default:if(4===g.length){for(Oa=m=0;4>Oa&&r;){m<<=1;switch(g.substring(Oa,Oa+1)){case "1":m|=1;break;case "0":break;default:r=!1}Oa+=1}r&&(a.Pa=m)}else d.i()?(u=!0,m=d.h()|0,0<=m&&15>=m?a.Pa=m:r=!1):r=!1}r&&!u&&d.l();break;case C.pt:r=a.jd=!0;break;case C.pu:a.Fd=!1;r=!0;break;case C.ou:r=a.hb=!0;break;case C.qu:a.dd=!1;r=!0;break;case C.$t:d.i()&&(u=!0,m=d.h()|0,m>=G.Cz&&m<=G.wz&&(a.g.T=
1<<m,r=!0));break;case C.sp:g=d.m();g===C.Sb?(g=d.l(),F.Ak=!1):F.Ak=!0;r=F.Pq=!0;break;case C.Ip:g=d.m();g===C.Sb?(g=d.l(),F.Ke=!1):F.Ke=!0;r=!0;break;case C.Ln:d.i()&&(u=!0,m=d.h()|0,0<=m&&m<=a.ni&&(a.na=m,r=!0));break;case C.Oo:d.i()&&(u=!0,m=d.h()|0,0<=m&&m<=a.ni&&(a.zg=m,r=!0));break;case C.rt:g=d.m();g===C.Sb?(g=d.l(),a.kd=!1):a.kd=!0;r=!0;break;case C.$o:g=d.m();g===C.Sb?(g=d.l(),F.grid=!1):F.grid=!0;r=F.tk=!0;break;case C.Zo:d.i()&&(u=!0,m=d.h()|0,m>=G.PE&&m<=G.KE&&(a.g.La=m,r=a.Hf=!0));break;
case C.nb:case C.Fs:z=k;Ra=!1;if(d.i())w=d.h()|0,m=-1===a.g.h?2:a.g.h,a.g.F&&(m=7),0>w||w>=m?(this.zf(d,t,k+" "+w,"STATE out of range",!1),Ra=!0):(this.Dn(a,d,t,w,k,Ra,w),a.ua=!0);else switch(g=d.m(),g){case C.vu:a.g.F?this.qc(a,d,t,G.fj,z):(this.zf(d,t,k+" "+C.vu,"not valid for this rule",!0),Ra=!0,a.ua=!1);break;case C.xu:a.g.F?this.qc(a,d,t,G.An,z):(this.zf(d,t,k+" "+C.xu,"not valid for this rule",!0),Ra=!0,a.ua=!1);break;case C.qt:a.g.F?this.qc(a,d,t,G.Bn,z):(this.zf(d,t,k+" "+C.qt,"not valid for this rule",
!0),Ra=!0,a.ua=!1);break;case C.Wt:g=d.l();a.g.F?this.Dn(a,d,t,G.pz,k,!1,g):(this.zf(d,t,k+" "+C.Wt,"not valid for this rule",!1),Ra=!0,a.ua=!1);break;case C.Yt:g=d.l();a.g.F?this.Dn(a,d,t,G.rz,k,!1,g):(this.zf(d,t,k+" "+C.Yt,"not valid for this rule",!1),Ra=!0,a.ua=!1);break;case C.Xt:g=d.l();a.g.F?this.Dn(a,d,t,G.qz,k,!1,g):(this.zf(d,t,k+" "+C.Xt,"not valid for this rule",!1),Ra=!0,a.ua=!1);break;case C.Ct:g=d.l();a.g.F?this.Dn(a,d,t,G.iz,k,!1,g):(this.zf(d,t,k+" "+C.Ct,"not valid for this rule",
!1),Ra=!0,a.ua=!1);break;case C.to:this.qc(a,d,t,G.fj,z);break;case C.so:a.g.i||a.g.l||a.g.A||a.g.o||a.g.da?(this.zf(d,t,k+" "+C.so,"not valid for this rule",!0),Ra=!0,a.ua=!1):this.qc(a,d,t,G.An,z);break;case C.wp:2<a.g.h||a.g.da?(this.zf(d,t,k+" "+C.wp,"not valid for this rule",!0),Ra=!0,a.ua=!1):this.qc(a,d,t,G.ly,z);break;case C.wo:a.g.o||a.g.l||a.g.A||a.g.da?(this.zf(d,t,k+" "+C.wo,"not valid for this rule",!0),Ra=!0,a.ua=!1):this.qc(a,d,t,G.Bn,z);break;case C.vo:a.g.o||a.g.l||a.g.A||a.g.da?
(this.zf(d,t,k+" "+C.vo,"not valid for this rule",!0),Ra=!0,a.ua=!1):this.qc(a,d,t,G.Js,z);break;case C.yp:2>=a.g.h||a.g.i||a.g.o||a.g.Z||a.g.l||a.g.A||a.g.F||a.g.da?(this.zf(d,t,k+" "+C.yp,"not valid for this rule",!0),Ra=!0,a.ua=!1):this.qc(a,d,t,G.oy,z);break;case C.xp:2>=a.g.h||a.g.i||a.g.o||a.g.Z||a.g.l||a.g.A||a.g.F||a.g.da?(this.zf(d,t,k+" "+C.xp,"not valid for this rule",!0),Ra=!0,a.ua=!1):this.qc(a,d,t,G.py,z);break;case C.$o:this.qc(a,d,t,G.Op,z);break;case C.Zo:this.qc(a,d,t,G.Ks,z);break;
case C.sp:this.qc(a,d,t,G.By,z);break;case C.Zv:this.qc(a,d,t,G.Cy,z);break;case C.Xs:this.qc(a,d,t,G.qy,z);break;case C.lt:this.qc(a,d,t,G.xy,z);break;case C.cp:this.qc(a,d,t,G.Ls,z);break;case C.Po:this.qc(a,d,t,G.Is,z);break;case C.nA:this.qc(a,d,t,G.Ms,z);break;case C.gy:this.qc(a,d,t,G.my,z);break;case C.ys:-1===a.g.C?(this.zf(d,t,k+" "+C.ys,"Bounded Grid not specified",!0),Ra=!0):this.qc(a,d,t,G.ny,z);a.ua=!1;break;case C.xA:this.qc(a,d,t,G.zy,z);break;case C.Oi:this.qc(a,d,t,G.yy,z);break;
case C.yA:this.qc(a,d,t,G.Ay,z);break;case C.Yy:this.qc(a,d,t,G.uy,z);break;case C.Xy:this.qc(a,d,t,G.ty,z);break;case C.Wy:this.qc(a,d,t,G.sy,z);break;case C.Zy:this.qc(a,d,t,G.vy,z);break;case C.$y:this.qc(a,d,t,G.wy,z);break;case C.NA:this.qc(a,d,t,G.Rp,z);break;case C.LA:this.qc(a,d,t,G.Pp,z);break;case C.OA:this.qc(a,d,t,G.Sp,z);break;case C.QA:this.qc(a,d,t,G.Up,z);break;case C.PA:this.qc(a,d,t,G.Tp,z);break;case C.MA:this.qc(a,d,t,G.Qp,z);break;default:if('"'===g.charAt(0)&&'"'!==g.charAt(g.length-
1)){g=d.l();do l=d.l(),g+=" "+l;while(""!==l&&'"'!==l.charAt(l.length-1))}else g=d.l();"dead"!==g||a.g.da||a.g.o?(w=-1,a.g.da||(w=a.Zw(g)),0<=w&&(this.Dn(a,d,t,w,k,Ra,g),a.ua=!0),0>w&&(this.tE(g,a)?t[t.length]=[k+" "+g,"not valid for this rule"]:(t[t.length]=[k+" "+g,"illegal element"],g=d.l()),d.i()&&(d.h(),d.i()&&(d.h(),d.i()&&d.h())))):(d.P(),this.qc(a,d,t,G.Bn,z))}r=!0;break;case C.bm:-1===d.T(C.yk)&&d.X();r=!0;--a.Wg;break;case C.Dp:r=a.K=!0;break;case C.ru:r=a.Ss=!0;break;case C.Iv:r=a.Hm=!0;
break;case C.su:a.Df=!1;r=!0;break;case C.Zs:r=a.dn=!0;break;case C.vt:r=a.ap=!0;break;case C.nu:a.Ja=!0;r=a.yo=!0;break;case C.mu:r=a.wi=!0;break;case C.Yv:r=gc=fc=ec=dc=Kb=Jb=cc=bc=Ib=ac=$b=Zb=Yb=Xb=Wb=Vb=!0;break;case C.Sb:t[t.length]=[C.Sb,"must follow LOOP or STOP"];r=!0;break;case C.Bf:g=d.m();g===C.sc?(g=d.l(),F.wg?(a.m.la(F,t),a.tC()):t[t.length]=[C.Bf+" "+C.sc,"only valid at a POI"]):t[t.length]=[C.Bf,"must be followed by INITIAL"];r=!0;break;case C.sc:t[t.length]=[C.sc,"must follow POI, ALL or a POI setting"];
r=!0;break;case C.Qq:d.i()&&(u=!0,m=d.h()|0,0<=m&&m<=G.zz&&(a.Fb=m,r=!0));break;case C.Jp:r=a.Mj=!0;break;case C.Kp:g=d.m();g===C.Sb?(g=d.l(),a.Mb=!1):a.$a&&(a.Mb=!0);r=!0;break;case C.Aq:d.i()&&(u=!0,m=d.h()|0,0<=m&&(F.wg?(F.wc=m,F.vp=!0):t[t.length]=[C.Aq+" "+m,"only valid at a POI"],r=!0));break;case C.ho:F.dG(t);r=!0;break;case C.io:F.fG(t);r=!0;break;case C.np:F.eG(t);r=!0;break;case C.op:d.i()&&(u=!0,m=d.h(),m>=Ta.kA&&m<=Ta.jA&&(F.gG(m,t),r=!0));break;case C.jv:r=D=!0;break;case C.kt:r=a.on=
!0;break;case C.Tv:g=d.m();g===C.Sb?(g=d.l(),a.ad=!1):a.ad=!0;r=!0;break;case C.Bp:d.i()&&(u=!0,m=d.h(),m>=G.pg&&m<=G.mg&&(xb=m,u=!1,k+=" "+m,d.i()&&(u=!0,m=d.h(),m>=G.pg&&m<=G.mg&&(yb=m,r=!0,a.cb&&(t[t.length]=[C.Bp+" "+xb+" "+yb,"overwrites "+vb+" "+wb]),vb=xb,wb=yb,a.cb=!0))));break;case C.Ap:d.i()&&(u=!0,m=d.h()|0,0<m&&(Ub=m,u=!1,k+=" "+m,d.i()&&(u=!0,m=d.h(),m>=G.pg&&m<=G.mg&&(xb=m,u=!1,k+=" "+m,d.i()&&(u=!0,m=d.h(),m>=G.pg&&m<=G.mg&&(yb=m,r=!0,a.Hh&&(t[t.length]=[C.Ap+" "+Ub+" "+xb+" "+yb,"overwrites "+
Nb+" "+vb+" "+wb]),Nb=Ub,vb=xb,wb=yb,a.Hh=!0,a.cb=!0))))));break;case C.im:d.i()&&(u=!0,m=d.h(),m>=G.pg&&m<=G.mg&&(Gb=m,u=!1,k+=" "+m,d.i()&&(u=!0,m=d.h(),m>=G.pg&&m<=G.mg&&(Fb=m,u=!1,k+=" "+m,d.i()&&(u=!0,m=d.h(),m>=G.pg&&m<=G.mg&&(Hb=m,u=!1,k+=" "+m,d.i()&&(u=!0,m=d.h(),m>=G.pg&&m<=G.mg&&(Eb=m,r=!0,Hb>Gb?t[t.length]=[C.im+" W "+this.Od(Hb,2)+" E "+this.Od(Gb,2),"W is greater than E"]:Eb>Fb?t[t.length]=[C.im+" N "+this.Od(Eb,2)+" S "+this.Od(Fb,2),"N is greater than S"]:(a.Eh&&(t[t.length]=[C.im+
" "+this.Od(Gb,2)+" "+this.Od(Fb,2)+" "+this.Od(Hb,2)+" "+this.Od(Eb,2),"overwrites "+this.Od(a.ig,2)+" "+this.Od(a.jg,2)+" "+this.Od(a.Fh,2)+" "+this.Od(a.wh,2)]),a.Eh=!0,a.cb=!0,a.wh=Eb,a.ig=Gb,a.jg=Fb,a.Fh=Hb)))))))));break;case C.Sh:L=F;!F.wg&&0<a.m.h.length&&(F=a.m.C());d.i()?(u=!0,m=d.h()|0,0<m&&(!F.Rh||a.tf||Kb||(t[t.length]=-1===F.jc?[C.Sh+" "+m,"overwrites "+C.Sb]:[C.Sh+" "+m,"overwrites "+F.jc]),F.jc=m,F.Rh=!0,Kb=a.tf=!1,r=!0)):(g=d.m(),g===C.Sb?(g=d.l(),!F.Rh||a.tf||Kb||(t[t.length]=-1!==
F.jc||a.tf?[C.Sh+" "+C.Sb,"overwrites "+F.jc]:[C.Sh+" "+C.Sb,"overwrites "+C.Sb]),F.jc=-1,F.Rh=!0,Kb=a.tf=!1,r=!0):g===C.sc&&(g=d.l(),a.m.l(C.Sh,F,t,a.tf),r=a.tf=!0));F=L;break;case C.Mh:L=F;!F.wg&&0<a.m.h.length&&(F=a.m.C());d.i()?(u=!0,m=d.h()|0,0<m&&(!F.Lh||a.Pg||Jb||(t[t.length]=-1===F.Lb?[C.Mh+" "+m,"overwrites "+C.Sb]:[C.Mh+" "+m,"overwrites "+F.Lb]),F.Lb=m,F.Lh=!0,Jb=a.Pg=!1,r=!0)):(g=d.m(),g===C.Sb?(g=d.l(),!F.Lh||a.Pg||Jb||(t[t.length]=-1===F.Lb?[C.Mh+" "+C.Sb,"overwrites "+C.Sb]:[C.Mh+" "+
C.Sb,"overwrites "+F.Lb]),F.Lb=-1,F.Lh=!0,Jb=a.Pg=!1,r=!0):g===C.sc&&(g=d.l(),a.m.l(C.Mh,F,t,a.Pg),r=a.Pg=!0));F=L;break;case C.Bk:d.i()?(u=!0,m=d.h(),m>=G.jp&&m<=G.au&&(!F.Dg||a.Zl||Zb||(t[t.length]=[C.Bk+" "+m,"overwrites "+F.Jb]),F.Jb=m,F.Dg=!0,Zb=a.Zl=!1,r=!0)):(g=d.m(),g===C.sc&&(g=d.l(),a.m.l(C.Bk,F,t,a.Zl),r=a.Zl=!0));break;case C.lk:d.i()?(u=!0,m=d.h()|0,0<=m&&359>=m&&(!F.ug||a.Ll||Yb||(t[t.length]=[C.lk+" "+m,"overwrites "+F.angle]),F.angle=m,F.ug=!0,Yb=a.Ll=!1,r=!0)):(g=d.m(),g===C.sc&&
(g=d.l(),a.m.l(C.lk,F,t,a.Ll),r=a.Ll=!0));break;case C.Gl:d.i()?(u=!0,m=d.h()|0,m>=G.pq&&m<=G.hq&&(!F.fh||a.Ul||$b||(t[t.length]=[C.Gl+" "+m,"overwrites "+F.za]),F.za=m,F.fh=!0,$b=a.Ul=!1,r=!0)):(g=d.m(),g===C.sc&&(g=d.l(),a.m.l(C.Gl,F,t,a.Ul),r=a.Ul=!0));break;case C.ll:d.i()?(u=!0,m=d.h(),m>=G.oq&&m<=G.vz&&(!F.$g||a.Ol||ac||(t[t.length]=[C.ll+" "+m,"overwrites "+F.depth]),F.depth=m,F.$g=!0,ac=a.Ol=!1,r=!0)):(g=d.m(),g===C.sc&&(g=d.l(),a.m.l(C.ll,F,t,a.Ol),r=a.Ol=!0));break;case C.Vq:d.i()&&(u=!0,
m=d.h(),m>=-a.g.T/2&&m<=a.g.T/2&&(a.V=m,r=!0));break;case C.Wq:d.i()&&(u=!0,m=d.h(),m>=-a.g.T/2&&m<=a.g.T/2&&(a.X=m,r=!0));break;case C.Ne:d.i()?(u=!0,m=d.h(),m>=-a.g.T/2&&m<=a.g.T/2&&(!F.jf||a.cm||Vb||(t[t.length]=[C.Ne+" "+m,"overwrites "+-F.x]),F.x=-m,a.g.ga&&(F.x+=63.25),F.jf=!0,Vb=a.cm=!1,r=!0)):(g=d.m(),g===C.sc&&(g=d.l(),a.m.l(C.Ne,F,t,a.cm),r=a.cm=!0));break;case C.Pe:d.i()?(u=!0,m=d.h(),m>=-a.g.T/2&&m<=a.g.T/2&&(!F.Oe||a.gm||Wb||(t[t.length]=[C.Pe+" "+m,"overwrites "+-F.y]),F.y=-m,F.Oe=!0,
Wb=a.gm=!1,r=!0)):(g=d.m(),g===C.sc&&(g=d.l(),a.m.l(C.Pe,F,t,a.gm),r=a.gm=!0));break;case C.dw:d.i()&&(u=!0,m=d.h(),m>=G.ob&&m<=G.Ib?(a.pn=!0,a.Br=m,r=!0):m>=G.hp&&m<=G.fp&&(a.pn=!0,a.Br=-(1/m),r=!0));break;case C.es:case C.fe:d.i()?(u=!0,m=d.h(),m>=G.ob&&m<=G.Ib?(!F.ee||a.Qg||Xb||(t[t.length]=1>F.zoom?[C.fe+" "+m,"overwrites "+-(1/F.zoom)]:[C.fe+" "+m,"overwrites "+F.zoom]),F.zoom=m,F.ee=!0,Xb=a.Qg=!1,r=!0):m>=G.hp&&m<=G.fp&&(F.ee&&!a.Qg&&(t[t.length]=1>F.zoom?[C.fe+" "+m,"overwrites "+-(1/F.zoom)]:
[C.fe+" "+m,"overwrites "+F.zoom]),F.zoom=-(1/m),F.ee=!0,a.Qg=!1,r=!0)):(g=d.m(),g===C.sc&&(g=d.l(),a.m.l(C.fe,F,t,a.Qg),r=a.Qg=!0));break;case C.ul:d.i()?(u=!0,m=d.h()|0,m>=G.og&&(!F.Ve||a.Rl||bc||(t[t.length]=[C.ul+" "+m,"overwrites "+F.Rc]),m>G.Nc&&(wa=m/G.Nc|0,2<=wa&&(wa>=G.lg&&(wa=G.lg),F.step=wa,F.te=!0),m=G.Nc),F.Rc=m,F.Ve=!0,bc=a.Rl=!1,a.eB=!1,r=!0)):(g=d.m(),g===C.sc&&(g=d.l(),a.m.l(C.ul,F,t,a.Rl),r=a.Rl=!0));break;case C.ew:g=d.m();g===C.Sb?(g=d.l(),a.td||(a.ha=!1,a.ie=!1)):a.td||(a.ha=
!0,a.ie=!0);r=!0;break;case C.cw:r=a.zr=!0;break;case C.aw:g=d.m();g===C.Sb?(g=d.l(),a.td||(a.ha=!1,a.ie=!1,a.xi=!1,a.D.ta=!1)):a.td||(a.ha=!0,a.ie=!0,a.xi=!0,a.D.ta=!0);r=!0;break;case C.bw:d.i()&&(u=!0,m=d.h()|0,m>=G.Gz&&m<=G.Az&&(a.Vb=m,r=!0));break;case C.Cj:d.i()?(u=!0,m=d.h()|0,0<=m&&m<a.g.ib&&(!F.ue||a.Fe||Ib||this.yv(a,t,m,F.Gc),F.Gc=m,F.ue=!0,Ib=a.Fe=!1,r=!0)):(g=d.m(),g===C.uo?(g=d.l(),a.ua?(F.ue&&!a.Fe&&this.yv(a,t,a.g.ib,F.Gc),F.Gc=a.g.ib,F.ue=!0,a.Fe=!1):t[t.length]=[C.Cj+" "+C.uo,"no custom THEME defined"],
r=!0):(m=a.RC(g),-1!==m?(g=d.l(),!F.ue||a.Fe||Ib||this.yv(a,t,m,F.Gc),F.Gc=m,F.ue=!0,Ib=a.Fe=!1,r=!0):g===C.sc&&(g=d.l(),a.m.l(C.Cj,F,t,a.Fe),r=a.Fe=!0)),r||(r=!0,t[t.length]=[k,"invalid specification"]));break;case C.qA:2<a.g.h||a.g.Ca||a.g.i||a.g.F||a.g.l||a.g.A||a.g.o||(a.g.Xb=!0,a.Kw=!0);r=!0;break;case C.yk:t[t.length]=[k,"already in a script block"];r=!0;break;case C.Ov:a.Ia=!a.Ia;r=!0;break;case C.Pv:a.Uh.current=a.ng([!0],!0,a);r=!0;break;case C.$s:a.Vl.current=a.Ts([!0],!0,a);r=!0;break;
case C.Nv:r=a.Vt=!0;break;case C.Rs:d.i()&&(u=!0,m=d.h()|0,m>=G.Bz&&m<=G.uz&&(r=!0,a.g.Ie=m));break;case C.uq:r=a.Yb=!0;break;case C.$p:r=a.Da=!0;break;case C.gt:d.i()&&(u=!0,m=d.h(),0<=m&&1>=m&&(r=!0,a.Va=m));break;case C.ht:a.nd=!1;r=!0;break;case C.xw:a.g.W&&(a.g.ta=!1);r=!0;break;case C.mt:a.g.ga&&(a.g.ta=!1);r=!0;break;case C.Nq:r=a.g.ta=!0;break;case C.Dw:a.g.Dd&&(a.rd=!0);r=!0;break;case C.xs:r=a.g.Ta=!0;break;case C.Ev:d.i()&&(u=!0,m=d.h()|0,m>=G.ip&&m<=G.mq&&(a.cl=m,r=!0));break;case C.Av:d.i()&&
(u=!0,m=d.h()|0,m>=G.cu&&m<=G.lq&&(a.$k=m,r=!0));break;case C.zv:d.i()&&(u=!0,m=d.h()|0,m>=G.rq&&m<=G.kq&&(a.jj=m,r=!0));break;case C.Bv:r=a.xm=!0;break;case C.Dv:r=a.zm=!0;break;case C.Eq:u=!1;Db="a valid item";g=d.m();switch(g){case C.Jd:g=d.l();r=!0;a.bl=!0;break;case C.Bf:g=d.l();d.i()&&(u=!0,m=d.h()|0,0<=m&&100>=m&&(a.Te=m,r=!0));break;case C.Dq:g=d.l();d.i()&&(u=!0,m=d.h()|0,0<=m&&100>=m&&(a.Ue=m,r=!0));break;case C.Gq:g=d.l();d.i()&&(u=!0,m=d.h()|0,0<=m&&100>=m&&(a.Uf=m,r=!0));break;default:this.EG(g)&&
(g=d.l(),d.i()&&(u=!0,m=d.h()|0,0<=m&&100>=m&&(this.bG(a,m),r=!0)))}break;case C.lh:t[t.length]=[k,"only valid after "+C.Oi];r=!0;break;case C.Gv:a.Fk=!0;a.dl=!1;r=!0;break;case C.Fv:a.Fk=!0;r=a.dl=!0;break;case C.Cv:g=d.m();""!==g&&g!==C.bm&&(a.kj=d.l(),r=a.Rv=!0);break;case C.xg:g=d.m();switch(g){case C.Ne:F.Gj&&this.hh(F.Eg,C.xg,C.Ne,t);F.Eg=!0;F.Gj=!0;g=d.l();break;case C.Pe:F.Ij&&this.hh(F.Fg,C.xg,C.Pe,t);F.Fg=!0;F.Ij=!0;g=d.l();break;case C.fe:F.Jj&&this.hh(F.Gg,C.xg,C.fe,t);F.Gg=!0;F.Jj=!0;
g=d.l();break;case C.Bf:F.Gj&&this.hh(F.Eg,C.xg,C.Ne,t);F.Ij&&this.hh(F.Fg,C.xg,C.Pe,t);F.Jj&&this.hh(F.Gg,C.xg,C.fe,t);F.Eg=!0;F.Gj=!0;F.Fg=!0;F.Ij=!0;F.Gg=!0;F.Jj=!0;g=d.l();break;default:this.Ql(d,t,C.xg,"argument",C.Bf+", "+C.Ne+", "+C.Pe+" or "+C.fe)}r=!0;break;case C.Gh:g=d.m();switch(g){case C.Ne:F.Gj&&this.hh(F.Eg,C.Gh,C.Ne,t);F.Eg=!1;F.Gj=!0;g=d.l();break;case C.Pe:F.Ij&&this.hh(F.Fg,C.Gh,C.Pe,t);F.Fg=!1;F.Ij=!0;g=d.l();break;case C.fe:F.Jj&&this.hh(F.Gg,C.Gh,C.fe,t);F.Gg=!1;F.Jj=!0;g=d.l();
break;case C.Bf:F.Gj&&this.hh(F.Eg,C.Gh,C.Ne,t);F.Ij&&this.hh(F.Fg,C.Gh,C.Pe,t);F.Jj&&this.hh(F.Gg,C.Gh,C.fe,t);F.Eg=!1;F.Gj=!0;F.Fg=!1;F.Ij=!0;F.Gg=!1;F.Jj=!0;g=d.l();break;default:this.Ql(d,t,C.Gh,"argument",C.Bf+", "+C.Ne+", "+C.Pe+" or "+C.fe)}r=!0;break;case C.Bq:N=!0;a.m.add(F,a);F=a.m.B();F.wg=!0;g=d.m();g===C.sc&&(g=d.l(),-1!==a.ph&&(t[t.length]=[C.Bq+" "+C.sc,"overrides previous initial POI"]),a.ph=a.m.i.length);a.GG();r=!0;break;case C.up:d.i()&&(u=!0,m=d.h()|0,0<=m&&(O=!0,0<m&&(a.m.add(F,
a),F=a.m.B()),F.wc=m,r=F.vp=!0));break;case C.em:d.i()?(u=!0,m=d.h()|0,m>=G.yg&&m<=G.lg&&(!F.te||a.Wl||cc||(t[t.length]=[C.em+" "+m,"overwrites "+F.step]),F.step=m,F.te=!0,cc=a.Wl=!1,a.gB=!1,r=!0)):(g=d.m(),g===C.sc&&(g=d.l(),a.m.l(C.em,F,t,a.Wl),r=a.Wl=!0));break;case C.ev:d.i()&&(u=!0,m=d.h(),0<=m&&(O=!0,a.m.add(F,a),F=a.m.B(),m<G.AA&&(m=G.AA),F.qd=m,r=F.GA=!0));break;case C.Eo:d.i()&&(u=!0,m=d.h()|0,a.td||(-1===a.Ma||dc||(t[t.length]=[C.Eo+" "+m,"overwrites "+a.Ma]),a.Ma=m),dc=!1,r=!0);break;case C.Kn:d.i()&&
(u=!0,m=d.h()|0,a.td||(-1===a.bb||ec||(t[t.length]=[C.Kn+" "+m,"overwrites "+a.bb]),a.bb=m),ec=!1,r=!0);break;case C.qp:d.i()&&(u=!0,m=d.h()|0,-1===a.bc||fc||(t[t.length]=[C.qp+" "+m,"overwrites "+a.bc]),a.bc=m,fc=!1,r=!0);break;case C.pp:d.i()&&(u=!0,m=d.h()|0,-1===a.od||gc||(t[t.length]=[C.pp+" "+m,"overwrites "+a.od]),a.od=m,gc=!1,r=!0);break;default:t[t.length]=[k,"unknown or misspelt command"],r=!0}r||(u?t[t.length]=[k+" "+m,"argument out of range"]:this.Ql(d,t,k,"argument",Db))}""!==k&&(k=d.l())}n&&
(t[t.length]=[C.ud+q,"unterminated string"]);F.ue&&(a.g.l||a.g.A||a.g.o||a.g.da)&&(F.ue=!1);O&&a.cb&&(v=a.Eh?C.im:a.Hh?C.Ap:C.Bp,t[t.length]=[v,"can not be used with Waypoints"],a.cb=!1,a.Eh=!1,a.Hh=!1);a.Eh||!a.cb&&!a.Hh||(a.Hh&&(0<a.g.La&&(Nb*=a.g.La),F.Lb=Nb),a.wh=wb,a.ig=vb,a.jg=wb,a.Fh=vb);if(O||N){a.m.add(F,a);F=a.m.C();O?a.Aa=!0:-1!==a.ph&&(a.Ac=a.ph,L=a.m.i[a.ph],L.jf&&(F.jf=L.jf,F.x=L.x),L.Oe&&(F.Oe=L.Oe,F.y=L.y),L.ee&&(F.ee=L.ee,F.zoom=L.zoom),L.ug&&(F.ug=L.ug,F.angle=L.angle),L.Dg&&(F.Dg=
L.Dg,F.Jb=L.Jb),L.$g&&(F.$g=L.$g,F.depth=L.depth),L.fh&&(F.fh=L.fh,F.za=L.za),L.ue&&(F.ue=L.ue,F.Gc=L.Gc),L.Ve&&(F.Ve=L.Ve,F.Rc=L.Rc),L.te&&(F.te=L.te,F.step=L.step),L.Rh&&(F.Rh=L.Rh,F.jc=L.jc),L.Lh&&(F.Lh=L.Lh,F.Lb=L.Lb));if(O){for(Oa=0;Oa<a.m.h.length;Oa+=1)F=a.m.h[Oa],F.Ke&&(F.jf||F.Oe||F.ee)&&(q="",F.jf?(q="X "+F.x,F.Oe?q=F.ee?q+(", Y "+F.y+" and ZOOM "+F.zoom):q+(" and Y "+F.y):F.ee&&(q+=" and ZOOM "+F.zoom)):F.Oe?(q="Y "+F.y,F.ee&&(q+=" and ZOOM "+F.zoom)):F.ee&&(q="ZOOM "+F.zoom),t[t.length]=
[C.Ip,"overwrites "+q]);F=a.m.C()}N&&F.h===Ta.play&&a.$a&&(a.Mb=!0)}F.Ke&&(a.fa=!0);F.Oe&&(a.g.ca=a.g.height/2-F.y);F.jf&&(a.g.fa=a.g.width/2-F.x);F.ee&&(a.g.zoom=F.zoom);a.g.W||a.g.ga||(F.ug&&(a.g.angle=F.angle),F.Dg&&(a.g.Jb=F.Jb),a.g.da||(F.$g&&(a.g.Wb=F.depth/G.kl+G.oq),F.fh&&(a.g.za=F.za)));F.ue&&(a.ln=F.Gc);F.Ve&&(a.Z=F.Rc,a.M=G.yg);F.te&&(a.M=F.step,1<a.M&&(a.Z=a.rc));F.Rq&&(a.D.notification.notify(F.oe,15,1E3,15,!1),a.Ge=F.oe);a.jc=F.jc;a.Lb=F.Lb;F.ee&&(a.ar=!0);F.jf&&(a.Mw=!0);F.Oe&&(a.Ow=
!0);F.tk&&(a.g.Ba=F.grid);F.Pq&&(a.Dc=F.Ak);for(Oa=0;Oa<c;Oa+=1)-1!==a.O[Oa]&&(A+=1,a.ua=!0);if(0<A){a.st=!0;for(Oa=0;Oa<c;Oa+=1)a.U.Z[Oa]?-1===a.O[Oa]?(a.st=!1,a.Qm[Oa]=G.EA):a.Qm[Oa]=G.rG:a.Qm[Oa]=G.DA;a.wm=a.st?"(custom)":a.wm+" (custom*)"}else a.O=null;if(a.ua||a.Hf||-1!==a.Sm||-1!==a.Um)Oa=-1,F.ue&&(Oa=F.Gc),this.hG(a,Oa),F.ue=!0,F.Gc=a.g.ib,a.ln=F.Gc;a.K&&(v="not possible due to "+C.Dp,a.Mj&&(t[t.length]=[C.Jp,v],a.Mj=!1),a.Mb&&(t[t.length]=[C.Kp,v],a.Mb=!1),-1!==a.Fb&&(t[t.length]=[C.Qq+" "+
a.Fb,v],a.Fb=-1),-1!==a.jc&&(t[t.length]=[C.Sh+" "+a.jc,v]),-1!==a.Lb&&(t[t.length]=[C.Mh+" "+a.Lb,v]));0!==a.V&&a.A+G.lg+2*Math.abs(a.V)>=a.g.T&&(t[t.length]=[C.Vq+" "+a.V,"pattern does not fit on grid at view offset"],a.V=0);0!==a.X&&a.B+G.lg+2*Math.abs(a.X)>=a.g.T&&(t[t.length]=[C.Wq+" "+a.X,"pattern does not fit on grid at view offset"],a.X=0);a.Vs=t.length}""!==a.sd&&(a.sd=this.fm(a,a.sd));a.fa&&(a.zo=!0);a.Da&&a.Yb&&(t[t.length]=[C.$p,"not valid with "+C.uq],a.Da=!1);-1!==a.Ma&&(fb=G.Yc,a.Ma>=
G.Ez&&a.Ma<fb&&(a.Ma=fb),a.Ja&&(fb=G.QE),a.Ma<fb&&(t[t.length]=[C.Eo+" "+a.Ma,"argument out of range"],Ab=!0));-1!==a.bb&&(fb=G.gh,a.Ja&&(fb=G.Fz),a.bb<fb||a.bb>G.gp)&&(t[t.length]=[C.Kn+" "+a.bb,"argument out of range"],Ab=!0);-1!==a.Ma&&!Ab&&a.Ma>a.Ic&&(m=a.Ic/a.Ma,a.Ma=a.Ic,a.bb=-1!==a.bb?a.bb*m|0:a.displayHeight*m|0,fb=G.gh,a.Ja&&(fb=G.Fz),a.bb<fb&&(a.bb=fb));a.td&&(-1!==a.bc&&(a.bc>=G.Ez&&a.bc<G.Yc&&(a.bc=G.Yc),a.bc<G.Yc||a.bc>a.Ic)&&(t[t.length]=[C.qp+" "+a.bc,"argument out of range"],a.bc=
-1,Ab=!0),-1!==a.od&&(a.od<G.gh||a.od>G.gp)&&(t[t.length]=[C.pp+" "+a.od,"argument out of range"],a.od=-1,Ab=!0));if(Ab||t.length)-1!==a.Ma&&(a.Ma<G.Yc?a.Ma=G.Yc:a.Ma>a.Ic&&(a.Ma=a.Ic)),-1!==a.bb&&(a.bb<G.vk?a.bb=G.vk:a.bb>G.gp&&(a.bb=-1)),a.Ja=!1;a.h.G=a.Ja;a.D.ba=a.Ja;a.D.cb=a.wi;a.Ja&&(a.Mb=!1,a.ha=!1,a.xi=!1,a.Da=!1,a.ng([!1],!0,a),a.Ts([!1],!0,a),a.Fn([!1],!0,a),a.Ia=!1,a.jd=!1);a.Ss&&(a.element.style="display:none",a.element.parentNode&&a.element.parentNode.parentNode&&a.element.parentNode.parentNode.className===
Ca.Xp&&(a.element.parentNode.parentNode.style="display:none;"));D&&a.dD();a.m.Ta()}},Ca={tagName:"LifeViewer",ED:"fullscreen",dE:"hide",aF:"multi",FE:"limit",Wp:"rle",eo:"code",zq:37,ot:!0,fullScreen:!1,ep:!1,kb:!1,Xp:"codebox",Hv:"",wA:"",se:[]},G={Kq:"LV",cB:"yDirection",Gy:"defaultSpeed",Qs:"defaultSpeedValue",LG:"0 0 0 0\n1 0 255 192\n2 0 192 255\n",mD:"Ctrl",gD:"Cmd",VC:"Alt",mF:"Option",UC:"0123456789rtyopasghjklxcbn",Mt:0,bp:1,Nt:2,Ni:10,Ky:"workaround",zz:4194304,Cf:0,Uo:1,bt:2,Fq:64,ip:1,
mq:4096,cu:1,lq:4096,rq:1,kq:100,vG:[0,0,0,0,0,1,1,1,1,1,2,2,2,2,2,3,3,3,3,3,3],zp:[1,10,11,17,18,2,3,4,5,7,12,13,14,15,16,0,6,8,9,19,20],yq:0,Zz:1,$z:2,Xz:3,bA:4,aA:5,cA:6,dA:7,Yz:8,Tz:9,pF:"Top Left;Top;Top Right;Right;Bottom Right;Bottom;Bottom Left;Left;Middle".split(";"),Zp:15,hF:5,ti:1E8,Cp:0,iw:1,jw:2,kw:3,nw:4,ow:5,mw:6,lw:7,bv:0,wq:1,zu:2,Vu:3,Bu:4,$u:5,xq:6,co:7,Lu:8,Wu:9,Pu:10,Du:11,Nu:12,Fu:13,Ju:14,Ru:15,kp:3,zw:[1,3,7,6],oG:[0,1],pG:[0,1],fE:[0,1,0,1,0,1,0],gE:[0,1,2,3,4,5,6],uG:[0,
1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1],tG:[0,1,2,3,4,5,6,3,4,1,2,1,2,1,0,1,0,1,0,1,0,1,0,1,0,1],po:Math.sqrt(3),jm:Math.sqrt(3),wl:1/Math.sqrt(3)*1.5,$D:13750737,aE:15066597,it:7368816,jt:5263440,AA:.016,iG:16,Sz:16384,Fy:.7,vq:16384,cG:"Script errors",pg:-8,mg:8,Gz:2,Az:4,Hy:4,TA:16.7,Cz:9,wz:14,nD:13,cq:null,Bz:1,uz:16,Ey:3,fj:0,An:1,ly:2,Bn:3,Js:4,Op:5,Ks:6,By:7,Cy:8,my:9,uy:10,ty:11,sy:12,vy:13,wy:14,qy:15,Ls:16,oy:17,py:18,Rp:19,Pp:20,Sp:21,Up:22,Tp:23,Qp:24,Is:25,Ms:26,ny:27,zy:28,
yy:29,Ay:30,xy:31,iF:0,jF:1,eE:2,pz:3,rz:4,qz:5,iz:6,zb:[0,6,2,5,3,4,1],Me:"dead alive history mark1 markoff mark2 kill".split(" "),lH:"OFF ON HISTORY MARK1 MARKOFF MARK2 KILL".split(" "),gA:0,fA:16,dH:!1,Ys:1800,So:"LifeViewer",Tq:1217,nG:"Standard",uv:"Pro",VA:"Chris Rowett",pq:1,hq:10,ju:0,Xn:1,ne:2,Li:3,wk:0,xk:1,Ph:2,Xq:1.25,oE:.99,oq:0,vz:10,kl:10,sz:32,ob:.03125,Ib:64,jp:-5,au:5,hp:-32,fp:-1,Un:-2048,Sn:-1,Vn:1/2048,Tn:2048,Nc:60,og:1,LE:60,yg:1,lg:64,Dy:.1,nk:.05,Py:"Courier",Ew:"Arial",sg:"18px Arial",
rg:"14px Arial",Mq:"9px Arial",Hp:"rgb(240,255,255)",aD:"rgb(0,0,0)",lA:"rgb(240,255,255)",mA:"rgb(0,0,0)",Zx:2,qq:1,iq:64,$C:.2,lz:"rgb(240,255,255)",EE:"rgb(0,0,0)",DE:18,Dz:4,xz:128,CE:"Arial",Kh:"rgb(32,255,255)",Jh:"rgb(255,48,48)",QE:64,Fz:64,Ez:480,Yc:600,NE:4096,bE:80,gh:240,gp:4096,vk:480,tv:560,Ep:172,Yq:292,DA:0,rG:1,EA:2,PE:0,KE:32,tg:0,Bt:1,Lv:2,eq:3,$v:4,Gs:5,ds:6,bu:7,hs:8},xa={S:new gb,Oc:[],Sv:-1,jo:null,se:[],Tl:!1,jy:"",Oy:0,dt:0,Sy:12,currentFrame:0,rc:60,OE:60,Ty:function(){0===
xa.currentFrame&&(xa.Oy=performance.now());if(xa.currentFrame===xa.Sy){xa.gq=performance.now();xa.dt=(performance.now()-xa.Oy)/xa.Sy;var a=1E3/xa.dt|0;70>=a?a=60:100>=a?a=75:130>=a?a=120:155>=a?a=144:175>=a?a=165:260>=a&&(a=240);xa.rc=a;xa.OE=a;console.log("LifeViewer refresh rate",a+"Hz");setTimeout(Cc,0)}else requestAnimationFrame(xa.Ty);xa.currentFrame+=1},Oq:function(){var a=null;-1!==this.Sv&&(a=this.Oc[this.Sv]);return a},zD:function(a){for(var b=null,c=0;c<xa.Oc.length;){if(xa.Oc[c][0].tabIndex===
a){b=xa.Oc[c][1];break}c+=1}return b},GD:function(a){var b=null;0<=a&&a<this.Oc.length&&(b=this.Oc[a][1]);return b},fH:function(a){var b=null;0<=a&&a<this.Oc.length&&(b=this.Oc[a][0]);return b},jH:function(){return this.Oc.length},FG:function(){var a=0,b;for(b=0;b<this.Oc.length;b+=1){var c=this.Oc[b][1];c.Hb&&(a+=1)}return a},tA:function(){var a,b=0;for(a=0;a<this.Oc.length;a+=1){var c=this.Oc[a][1];c.$b.current=c.vd(G.ju,!0,c);c.D.Le(!0);b+=1}return b},FA:function(){var a,b=0;for(a=0;a<this.Oc.length;a+=
1){var c=this.Oc[a][1];c.Hb&&!c.ap&&(c.$b.current=c.vd(G.ne,!0,c),b+=1)}return b},Xv:function(a){var b,c=0;for(b=0;b<this.Oc.length;b+=1){var d=this.Oc[b][1];d!==a&&d.Hb&&!d.ap&&(d.$b.current=d.vd(G.ne,!0,d),c+=1)}return c}};Qb.prototype.l=function(){var a=this.buffer[this.i>>3]>>7-(this.i&7)&1;this.i+=1;this.i===this.m&&(console.log("end of buffer"),--this.i);return a};Qb.prototype.h=function(a){for(var b=0;0<a;)--a,b|=this.l()<<a;return b};ea.prototype.hz=function(a,b){localStorage.setItem(G.Kq+
a,b?"1":"0")};ea.prototype.Bx=function(a){var b=!1;a=localStorage.getItem(G.Kq+a);null!==a&&"1"===a&&(b=!0);return b};ea.prototype.eC=function(a,b){localStorage.setItem(G.Kq+a,String(b))};ea.prototype.Dx=function(a){var b=0;a=localStorage.getItem(G.Kq+a);null!==a&&(b=Number(a));return b};ea.prototype.yC=function(a){var b=!1;switch(a){case C.wo:case C.vo:case C.so:case C.wp:case C.yp:case C.xp:case C.to:b=!0}return b};ea.prototype.qx=function(a){for(var b=!1,c=0;c<G.Me.length&&!b;)a===G.Me[c]?b=!0:
c+=1;return b};ea.prototype.tx=function(a){for(var b=!1,c=0;c<I.Zn.length&&!b;)a===I.Zn[c]?b=!0:c+=1;return b};ea.prototype.ox=function(a){for(var b=!1,c=0;c<I.Yn.length&&!b;)a===I.Yn[c]?b=!0:c+=1;return b};ea.prototype.ak=function(){var a,b=this.Ua,c=this.mb,d=[];for(a=0;a<G.Ni;a+=1){var f=a===c?"current ":"activate ";f+="clipboard";null!==b[a]?(f+=" ("+b[a].width+" x "+b[a].height+", "+b[a].count+" cell",1!==b[a].count&&(f+="s"),f+=")"):f+=" (empty)";d[a]=f+" ["+this.C+" "+a+"]"}this.Vj.R=d};ea.prototype.Fx=
function(a){window.confirm("Open last saved pattern?")&&(a.td?Cb(a.element):ub(a.element))};ea.prototype.Ei=function(){var a=1<<G.Zp,b=this.Ka>>G.Zp;b===this.nh.length&&(this.nh[b]=this.g.S.h(ra.Id,a,"View.currentEdit"+b));return this.nh[b]};ea.prototype.Rj=function(a,b){var c=[!0,a,b],d=this.g.Aa,f=this.g.ya,e=this.g.T,k;if(a!==(a&d)||b!==(b&f)){c[0]=!1;var g=this.g.width<this.g.T&&a!==(a&d);for(k=this.g.height<this.g.T&&b!==(b&f);g||k;)(g||k)&&this.g.lf(g,k,!0),g&&(a+=this.g.width>>2),k&&(b+=this.g.height>>
2),g=this.g.width<e&&a!==(a&d),k=this.g.height<e&&b!==(b&f);a===(a&d)&&b===(b&f)&&(c[0]=!0,c[1]=a,c[2]=b)}if(this.g.Ca&&(d=this.Vh(),d=d+1>>1,0>a-d||a+d>=this.g.width||0>b-d||b+d>=this.g.height)){c[0]=!1;g=this.g.width<e&&(0>a-d||a+d>=this.g.width);for(k=this.g.height<e&&(0>b-d||b+d>=this.g.height);g||k;)(g||k)&&this.g.lf(g,k,!0),g&&(a+=this.g.width>>2),k&&(b+=this.g.height>>2),g=this.g.width<e&&(0>a-d||a+d>=this.g.width),k=this.g.height<e&&(0>b-d||b+d>=this.g.height);0>a-d||a+d>=this.g.width||0>
b-d||b+d>=this.g.height||(c[0]=!0,c[1]=a,c[2]=b)}return c};ea.prototype.la=function(a,b,c,d){var f=this.Ka,e=G.Zp;var k=f>>e;var g=1<<e,l=g-1,p=this.nh;var n=this.g.h;var q=2<n&&!(this.g.da||this.g.i||this.g.o||this.g.l||this.g.A),m=!1;var r=0;var u=this.g.Z?-1:0,t=this.g.s;var v=this.g.m;b=this.Rj(a,b);if(b[0]){a=b[1];b=b[2];var A=(this.g.width>>1)-(this.A>>1);var w=(this.g.height>>1)-(this.B>>1);var z=Math.round((this.g.width-this.g.M)/2)+u;u=Math.round((this.g.height-this.g.K)/2)+u;var D=z+this.g.M-
1;var F=u+this.g.K-1}else return 0;if(-1!==this.g.C&&(0===this.g.M&&(z=0,D=this.g.width-1),0===this.g.K&&(u=0,F=this.g.height-1),!(a>=z&&a<=D&&b>=u&&b<=F)))if(d)a<z&&(a=z),a>D&&(a=D),b<u&&(b=u),b>F&&(b=F);else return 0;(this.g.i||this.g.o||this.g.l||this.g.A)&&0!==(this.g.counter&1)&&(v=this.g.Y);v=v[b][a];d=this.g.Pa(a,b,!1);0<d&&q&&(d=n-d);-1===n&&(n=this.g.F?7:2);0>c?c=0:c>=n&&(c=n-1);c!==d&&(this.hb||(k>=p.length&&this.Ei(),n=p[k],f&=l,q=c<<16|d<<8|v,0<f&&(4<=f?(r=n[f-1],4194304<=r?n[f-3]===q&&
n[f-2]===b-w&&n[f-4]===a-A-(r-4194304)-2&&(n[f-1]+=1,m=!0):n[f-2]===q&&n[f-1]===b-w&&n[f-3]===a-A-1&&(n[f]=4194304,f+=1,this.Ka+=1,f===g&&this.Ei(),m=!0)):(k=this.Ka,r=p[k-1>>e][k-1&l],4194304<=r?n[k-3>>e][k-3&l]===q&&n[k-2>>e][k-2&l]===b-w&&n[k-4>>e][k-4&l]===a-A-(r-4194304)-2&&(n[k-1>>e][k-1&l]+=1,m=!0):p[k-2>>e][k-2&l]===q&&p[k-1>>e][k-1&l]===b-w&&p[k-3>>e][k-3&l]===a-A-1&&(n[f]=4194304,f+=1,this.Ka+=1,f===g&&(n=this.Ei()),m=!0))),m||(n[f]=a-A,f+=1,this.Ka+=1,f===g&&(n=this.Ei(),f=0),n[f]=c<<16|
d<<8|v,f+=1,this.Ka+=1,f===g&&(n=this.Ei(),f=0),n[f]=b-w,this.Ka+=1,f+1===g&&this.Ei())),r=this.g.Fd(a,b,c,!0),this.g.s!==t&&(this.vb=-1),this.Yb||0!==this.g.counter||this.g.Wg());return r};ea.prototype.At=function(a,b){var c=0,d=(this.g.width>>1)-(this.A>>1),f=(this.g.height>>1)-(this.B>>1),e=0,k=this.g.m;(this.g.i||this.g.o||this.g.l||this.g.A)&&0!==(this.g.counter&1)&&(k=this.g.Y);if(a)if(b)for(c=a.length;0<c;){var g=a[c-1];4194304<=g&&--c;c-=3;b=a[c]+d;var l=a[c+1]>>8&255;var p=a[c+1]&255;var n=
a[c+2]+f;e|=this.g.Fd(b,n,l,!0);k[n][b]=p;if(4194304<=g)for(g-=4194304;0<=g;)b+=1,e|=this.g.Fd(b,n,l,!0),k[n][b]=p,--g}else for(;c<a.length;)if(b=a[c]+d,l=(a[c+1]&16711680)>>16,n=a[c+2]+f,e|=this.g.Fd(b,n,l,!0),c+=3,g=a[c],4194304<=g)for(c+=1,g-=4194304;0<=g;)b+=1,e|=this.g.Fd(b,n,l,!0),--g;(this.g.F||this.g.l)&&e&&this.g.Za();this.Yb||0!==this.g.counter||this.g.Wg()};ea.prototype.Zm=function(a){for(var b=this.ka-1,c=this.ca,d=!1;0<=b&&!d;)this.Ob[b].fg<=a?(("advance outside"===this.Ob[b].action||
"advance selection"===this.Ob[b].action)&&--b,d=!0):--b;d&&(this.ka=b+1,a=this.ka>=this.Vg?this.Ob[this.ka-1]:this.Ob[this.ka],a.selection?(c.H=a.selection.H,c.I=a.selection.I,c.J=a.selection.J,c.L=a.selection.L,this.P=!0):this.P=!1,this.wd=!1,this.tn())};ea.prototype.tn=function(){var a=this.ka,b=this.Vg,c=this.Ob;if(1<a){var d="undo ";var f=c[a-1];if(null===f.nl){var e=f.fg;1<a&&(e=c[a-2].fg);this.g.counter===e?d+=f.action:(d=1<this.g.counter-e?d+"play":d+"step",d+=" from "+e)}else d=""===f.action?
d+"edit":d+f.action;"undo "===d&&(d="undo");this.Pd.R=d+" ["+this.u+" Z]"}a<b&&(d="redo ",f=c[a],null===f.nl?(e=f.fg,e===this.g.counter?d+=f.action:(d=1<e-this.g.counter?d+"play":d+"step",d+=" to "+e)):d=""===f.action?d+"edit":d+f.action,"redo "===d&&(d="redo"),this.zh.R=d+" ["+this.u+" Y]")};ea.prototype.IB=function(a){var b=this.P?this.ca:null;return null===a&&null===b?!0:null===a&&null!==b||null!==a&&null===b?!1:a.H===b.H&&a.I===b.I&&a.J===b.J&&a.L===b.L?!0:!1};ea.prototype.Qy=function(a,b,c,d){var f=
!1;if(0<this.ka){var e=this.Ob[this.ka-1];e.fg===a&&null===b&&""===c&&this.IB(e.selection)&&(f=!0)}f||(this.Ob[this.ka]={fg:a,nl:b,action:c,selection:d},this.ka+=1)};ea.prototype.T=function(a){var b=this.g.counter,c=null,d=null,f=this.ca,e=null,k=G.Zp,g=1<<k,l=g-1;k=this.Ka>>k;if(!this.hb){this.Hb&&(0<this.ka&&(e=this.Ob[this.ka-1]),e&&e.selection&&(d=new Sa(e.selection.H,e.selection.I,e.selection.J,e.selection.L)),this.Qy(b,c,"",d),d=null);this.P&&(d=new Sa(f.H,f.I,f.J,f.L));if(0<this.Ka){c=this.g.S.h(ra.Id,
this.Ka,"View.editCells"+this.ka);for(e=f=0;f<k;)c.set(this.nh[f].slice(),e),f+=1,e+=g;this.Ka&l&&c.set(this.nh[f].slice(0,this.Ka&l),e);this.Ka=0}this.Qy(b,c,a,d);this.Vg=this.ka;this.tn();this.fa&&0<this.g.s&&(this.g.lb=!0,this.g.Qb(),this.lb(!0,!0,G.Cf))}};ea.prototype.nx=function(a){var b=a.g.counter,c=a.ka,d=a.ca,f=1,e=!1;if(!a.hb){a.vb=-1;a.Hb&&(a.$b.current=a.vd(G.ne,!0,a),c=a.ka);if(0<c)for(;0<f;){var k=a.Ob[c-1];var g=k.fg;var l=k.selection;e||"advance outside"!==k.action&&"advance selection"!==
k.action||(e=!0,f=3);null===k.nl&&1<c&&(g=a.Ob[c-2].fg);1<c&&(l=a.Ob[c-2].selection);if(g<b){var p=a.g.bb;0===g?a.reset(a):a.Vo(g);b=a.g.counter;a.g.bb=p;a.Ah(a.Hb)}else a.At(k.nl,!0);l?(d.H=l.H,d.I=l.I,d.J=l.J,d.L=l.L,a.P=!0):a.P=!1;a.wd=!1;"reverse playback"===k.action&&(a.g.bb=!a.g.bb,a.g.Fb=!1,a.Ah(a.Hb));--c;a.ka=c;--f}else 0<b&&a.reset(a);a.tn();a.g.Qb();this.fa&&this.lb(!0,!0,G.Cf)}};ea.prototype.hw=function(a){var b=a.g.counter,c=a.ca,d=1,f=!1;if(!a.hb){for(;0<d&&a.ka<a.Vg;){var e=a.Ob[a.ka];
f||"advance outside"!==e.action&&"advance selection"!==e.action||(f=!0,d=3);e.fg===b&&null===e.nl&&""===e.action&&(a.ka+=1);e.fg>b?(a.SB(e.fg),b=a.g.counter):a.At(e.nl,!1);e.selection?(c.H=e.selection.H,c.I=e.selection.I,c.J=e.selection.J,c.L=e.selection.L,a.P=!0):a.P=!1;a.wd=!1;"reverse playback"===e.action&&(a.g.bb=!a.g.bb,a.Ah(a.Hb));a.ka+=1;--d}a.tn();a.g.Qb();(a.g.F||a.g.l)&&a.g.Za();this.fa&&this.lb(!0,!0,G.Cf)}};ea.prototype.sr=function(){var a="";if(this.g.Z)a="Margolus";else if(-1!==this.g.Kd)a=
"1D";else if(this.g.Qg){a="Hexagonal";if(this.g.jh===this.U.oa||this.g.Ca&&this.g.V.type===this.U.B)a="Tripod";this.g.Ca&&this.g.V.type===this.U.v&&(a="Asterisk");1<this.g.V.l&&(a+=" range "+this.g.V.l)}else if(this.g.Ca){switch(this.g.V.type){case this.U.s:a="Corner/Edge";break;case this.U.i:a="Moore";break;case this.U.m:a="von Neumann";break;case this.U.X:a="Circular";break;case this.U.P:a="Cross";break;case this.U.V:a="Saltire";break;case this.U.W:a="Star";break;case this.U.Y:a="L2";break;case this.U.F:a=
"Hexagonal";break;case this.U.O:a="Checkerboard";break;case this.U.M:a="Aligned Checkerboard";break;case this.U.T:a="Hash";break;case 10:a="Custom";break;case this.U.B:a="Tripod";break;case this.U.v:a="Asterisk";break;case this.U.K:a="Triangular";break;case this.U.u:a="Gaussian";break;case 15:a="Weighted"}this.g.V.type===this.U.s?a+=" range "+this.g.V.Z+"/"+this.g.V.$:1<this.g.V.l&&(a+=" range "+this.g.V.l);this.g.V.V&&(a+=" (non-deterministic)")}else if(this.g.W)switch(a="Triangular",this.g.mh){case this.U.ja:a+=
" Edges";break;case this.U.ka:a+=" Vertices";break;case this.U.sa:a+=" Inner";break;case this.U.ta:a+=" Outer";break;case this.U.ra:a+=" Biohazard";break;case this.U.ua:a+=" Radiation"}else if(this.g.o)if(null===this.g.Yb)a=4===this.g.wd?"von Neumann":"Moore";else switch(this.g.Sc){case Ba.Si:a="von Neumann";break;case Ba.Bg:a="Moore";break;case Ba.Ag:a="Hexagonal";break;case Ba.yj:a="1D";break;default:a="unknown"}else a=this.g.bd||this.g.i?"von Neumann":"Moore";this.g.da&&(a="none");return a};ea.prototype.ky=
function(a,b,c,d){var f=[];d=this.ke[d];var e=d[0],k=d[1],g=d[2],l=d[3],p=new kb("rleToCellList",this.U),n=C.lh.length;d=2>=this.g.h?2:this.g.h;var q=2<d&&!(this.g.da||this.g.i||this.g.o||this.g.l||this.g.A);var m=this.jj/100;var r=!1;if(a.substring(0,n)===C.lh){a=a.substring(n);b=parseInt(a.substring(0,a.indexOf(",")),10);c=parseInt(a.substring(a.indexOf(",")+1),10);for(k=a=0;k<c;k+=1)for(e=0;e<b;e+=1)this.g.i?(n=0,this.F.random()<=m&&(n|=1),this.F.random()<=m&&(n|=2),this.F.random()<=m&&(n|=4),
this.F.random()<=m&&(n|=8),f[a]=e,f[a+1]=k,f[a+2]=n,a+=3):2===d?this.F.random()<=m&&(f[a]=e,f[a+1]=k,f[a+2]=1,a+=3):this.F.random()<=m&&(f[a]=e,f[a+1]=k,n=(this.F.random()*(d-1)|0)+1,q&&(n=d-n),f[a+2]=n,a+=3);r=!0}else if(a+=" ",-1!==this.U.ma(p,a,!1,this.g.S)&&-1!==this.U.ma(p,a,!0,this.g.S)){for(m=0;m<p.height;m+=1)for(r=p.ca[m],a=0;a<p.width;a+=1)n=r[a],q&&0<n&&(n=d-n),f[f.length]=b+a*e+m*k,f[f.length]=c+a*g+m*l,f[f.length]=n;r=!0}r||(f[0]="error");return f};ea.prototype.xB=function(a){var b=0,
c=a.indexOf("["),d=a.indexOf("]");if(-1!==c&&-1!==d&&c<d&&d===a.length-1){for(c+=1;c<d&&0<=b;){var f=a.charCodeAt(c)-48;0>f||9<f?b=-1:(b=10*b+f,c+=1)}0<b&&(this.Rn=!0)}return b};ea.prototype.TB=function(a){var b=0>this.Of?-this.Of:this.Of,c=0>this.Rf?-this.Rf:this.Rf;b=2*(b<c?c:b);a<b&&(a=b);return a};ea.prototype.QB=function(a){var b=0>this.Nf?-this.Nf:this.Nf,c=0>this.Sf?-this.Sf:this.Sf;b=2*(b<c?c:b);a<b&&(a=b);return a};ea.prototype.pE=function(a,b){var c,d=!1;for(c=0;!d&&c<this.Xd.length;)a===
this.Xd[c].name?d=!0:c+=1;if(d)for(a=this.Xd[c].oD,c=0;c<a.length;c+=1)b[b.length]=a[c];return d};ea.prototype.hE=function(a,b,c){var d,f=!1;if(Lb.Bl(b))a[a.length]=[C.lo+" "+b,"name is reserved word"];else{for(d=0;!f&&d<this.Xd.length;)b===this.Xd[d].name?f=!0:d+=1;if(f)a[a.length]=[C.lo+" "+b,"name already defined"];else{f=!1;for(d=0;!f&&d<c.length;)1>c[d]?f=!0:d+=1;f?a[a.length]=[C.lo+" "+b+" "+c[d],"invalid delta"]:(a=c.slice(),this.Xd[this.Xd.length]={name:b,oD:a})}}};ea.prototype.AD=function(a,
b,c,d,f,e){var k,g=!1;if(Lb.Bl(b))a[a.length]=[C.am+" "+b,"name is reserved word"];else if(-1!==b.indexOf("["))a[a.length]=[C.am+" "+b,"name can not contain ["];else{for(k=0;!g&&k<this.Ld.length;)b===this.Ld[k].name?g=!0:k+=1;g?a[a.length]=[C.am+" "+b,"name already defined"]:(c=this.ky(c,d,f,e),"error"!==c[0]?this.Ld[this.Ld.length]={name:b,cells:c}:a[a.length]=[C.am+" "+b,"invalid RLE"])}};ea.prototype.Uy=function(a,b,c,d,f,e,k,g,l,p,n){var q=0,m=!1,r=[],u=this.ke[n],t=u[0],v=u[1],A=u[2],w=u[3];
u=G.ti;var z=-G.ti,D=G.ti,F=-G.ti,L=g.indexOf("["),O=g,N=0,V=[],W=C.lh.length,H=2>=this.g.h?2:this.g.h,P=2<H&&!(this.g.da||this.g.i||this.g.o||this.g.l||this.g.A),R=this.jj/100;-1!==L&&(O=g.substring(0,L),N=this.xB(g));if(O.substring(0,W)===C.lh){O=O.substring(W);m=parseInt(O.substring(0,O.indexOf(",")),10);O=parseInt(O.substring(O.indexOf(",")+1),10);for(W=q=0;W<O;W+=1)for(L=0;L<m;L+=1)if(2===H)this.F.random()<=R&&(r[q]=L,r[q+1]=W,r[q+2]=1,q+=3);else if(this.F.random()<=R){r[q]=L;r[q+1]=W;var T=
(this.F.random()*(H-1)|0)+1;P&&(T=H-T);r[q+2]=T;q+=3}m=!0}else for(;q<this.Ld.length&&!m;)this.Ld[q].name===O?(m=!0,r=this.Ld[q].cells.slice()):q+=1;if(m)for(q=0;q<r.length;)g=r[q],n=r[q+1],r[q]=l+g*t+n*v,r[q+1]=p+g*A+n*w,q+=3;else r=this.ky(g,l,p,n),"error"!==r[0]&&(m=!0);-1===N&&(m=!1);if(m&&0<r.length){for(q=0;q<r.length;)l=r[q],p=r[q+1],l<u&&(u=l),l>z&&(z=l),p<D&&(D=p),p>F&&(F=p),q+=3;l<this.Of&&(this.Of=l);l>this.Rf&&(this.Rf=l);p<this.Nf&&(this.Nf=p);p>this.Sf&&(this.Sf=p);t=Array.matrix(ra.Ra,
F-D+1,z-u+1,0,this.g.S,"View.rle"+this.Tc.length);for(q=0;q<r.length;)l=r[q],p=r[q+1],t[p-D][l-u]=r[q+2],q+=3;V[0]=a;for(q=0;q<c.length;q+=1)V[V.length]=V[V.length-1]+c[q];this.Tc[this.Tc.length]={zi:V,end:b,every:d,mode:f,cells:r,map:t,H:u,I:D,width:z-u+1,height:F-D+1,xD:N,deltaX:e,deltaY:k};0<d&&(this.km=!0);V[V.length-1]>this.Td&&(this.Td=V[V.length-1])}return m};ea.prototype.nF=function(){var a,b,c=this.g.width,d,f=this.g.v;for(a=0;a<this.Tc.length;a+=1){var e=this.Tc[a];var k=e.xD;if(0<k){var g=
e.cells;var l=(c>>1)-(e.width>>1);var p=(c>>1)-(e.height>>1);var n=0;f.H=l;f.J=l+e.width-1;f.I=p;f.L=p+e.height-1;for(this.g.counter=0;n<g.length;)this.g.Fd(l+g[n]-e.H,p+g[n+1]-e.I,g[n+2],!0),n+=3;for(;0<k;)this.g.pf(!0),this.g.xe(),this.g.wf(this),--k;g=[];n=0;var q=d=G.ti;for(b=f.I;b<=f.L;b+=1)for(k=f.H;k<=f.J;k+=1){var m=this.g.Pa(k,b,!1);0!==m&&(g[n]=k-l+e.H,g[n+1]=b-p+e.I,g[n+2]=m,g[n]<d&&(d=g[n]),g[n+1]<q&&(q=g[n+1]),n+=3)}e.cells=g.slice();e.width=f.J-f.H+1;e.height=f.L-f.I+1;e.I=q;e.H=d;e.map=
Array.matrix(ra.Ra,e.height,e.width,0,this.g.S,"View.rle"+a);for(n=0;n<g.length;)k=g[n],b=g[n+1],e.map[b-e.I][k-e.H]=g[n+2],n+=3;this.g.wh()}}this.Rn&&this.g.wh()};ea.prototype.rE=function(a){var b=!1,c=this.g.counter;var d=!1;if(this.g.Z||this.g.i)c=this.g.Kb;0!==a.every&&(this.g.Z||this.g.i)&&null!==this.g.eb&&c<this.g.ge&&(b=!1,d=!0);if(!d)if(0!==a.every&&c>=a.zi[0]&&0===(c-a.zi[0])%a.every)-1!==a.end&&c>a.end||(b=!0);else for(d=0;d<a.zi.length&&!b;)c===a.zi[d]?b=!0:d+=1;return b};ea.prototype.Xm=
function(a,b,c,d){var f=0;b=this.Rj(a,b);b[0]&&(a=b[1],b=b[2],f=this.g.Fd(a,b,c,d));return f};ea.prototype.kn=function(a,b){var c=0;b=this.Rj(a,b);b[0]&&(a=b[1],b=b[2],c=this.g.Pa(a,b,!1));return c};ea.prototype.Ao=function(){var a,b=this.g.counter,c=this.g.width,d=this.g.height,f,e=0,k=this.g.width,g=this.g.height,l=this.g.h-1,p=0;if(!this.g.da){-2===l&&(l=this.g.F?6:1);for(a=0;a<this.Tc.length;a+=1){var n=this.Tc[a];if(this.rE(n)){var q=n.mode;var m=(k>>1)-(this.A>>1);var r=(g>>1)-(this.B>>1);var u=
n.map;if(0!==n.every&&(0!==n.deltaX||0!==n.deltaY)){var t=(b-n.zi[0])/n.every;m+=n.deltaX*t;r+=n.deltaY*t}m+=n.H;r+=n.I;for(n=0;n<u.length;n+=1){var v=u[n];if(2<=l&&!(this.g.F||this.g.da||this.g.i||this.g.o||this.g.l||this.g.A))for(t=0;t<v.length;t+=1){var A=v[t];for(f=this.kn(m+t,r+n);c!==this.g.width||d!==this.g.height;)c!==this.g.width&&(c<<=1,m+=c>>2,this.va+=c>>2,this.ya+=c>>2,this.ea+=c>>2),d!==this.g.height&&(d<<=1,r+=d>>2,this.pb+=d>>2,this.Bb+=d>>2,this.Y+=d>>2);switch(q){case G.bv:e=0;break;
case G.wq:e=A&f;break;case G.zu:e=A&l-f;break;case G.Vu:e=A;break;case G.Bu:e=l-A&f;break;case G.$u:e=f;break;case G.xq:e=A^f;break;case G.co:e=A|f;break;case G.Lu:e=l-(A|f);break;case G.Wu:e=l-(A^f);break;case G.Pu:e=l-f;break;case G.Du:e=A|l-f;break;case G.Nu:e=l-A;break;case G.Fu:e=l-A|f;break;case G.Ju:e=l-(A&f);break;case G.Ru:e=1}0>e?e=0:e>l&&(e=l);A===f&&q!==G.kp||this.Xm(m+t,r+n,e,!0)}else if(this.g.i||this.g.o||this.g.A)for(t=0;t<v.length;t+=1){A=v[t];for(f=this.kn(m+t,r+n);c!==this.g.width||
d!==this.g.height;)c!==this.g.width&&(c<<=1,m+=c>>2,this.va+=c>>2,this.ya+=c>>2,this.ea+=c>>2),d!==this.g.height&&(d<<=1,r+=d>>2,this.pb+=d>>2,this.Bb+=d>>2,this.Y+=d>>2);switch(q){case G.bv:e=0;break;case G.wq:e=A&f;break;case G.zu:e=A&l-f;break;case G.Vu:e=A;break;case G.Bu:e=l-A&f;break;case G.$u:e=f;break;case G.xq:e=A^f;break;case G.co:this.g.A?(e=f,0!=A&&(e=A)):e=A|f;break;case G.Lu:e=l-(A|f);break;case G.Wu:e=l-(A^f);break;case G.Pu:e=l-f;break;case G.Du:e=A|l-f;break;case G.Nu:e=l-A;break;
case G.Fu:e=l-A|f;break;case G.Ju:e=l-(A&f);break;case G.Ru:e=1}0>e?e=0:e>l&&(e=l);this.Xm(m+t,r+n,e,!0)}else if(this.g.F||this.g.l)for(t=0;t<v.length;t+=1){A=v[t];for(f=this.kn(m+t,r+n);c!==this.g.width||d!==this.g.height;)c!==this.g.width&&(c<<=1,m+=c>>2,this.va+=c>>2,this.ya+=c>>2,this.ea+=c>>2),d!==this.g.height&&(d<<=1,r+=d>>2,this.pb+=d>>2,this.Bb+=d>>2,this.Y+=d>>2);if(q===G.kp){e=A;var w=1;var z=0;A===f&&(z=1)}else w=A&1,z=f&1,e=0===(q&8>>(w+w|z))?0:1;w!==z&&(p|=this.Xm(m+t,r+n,e,!1))}else for(t=
0;t<v.length;t+=1){A=v[t];w=0===A?0:1;f=this.kn(m+t,r+n);for(z=0===f?0:1;c!==this.g.width||d!==this.g.height;)c!==this.g.width&&(c<<=1,m+=c>>2,this.va+=c>>2,this.ya+=c>>2,this.ea+=c>>2),d!==this.g.height&&(d<<=1,r+=d>>2,this.pb+=d>>2,this.Bb+=d>>2,this.Y+=d>>2);e=0===(q&8>>(w+w|z))?0:1;e===f&&q!==G.kp||0===A&&0===f||this.Xm(m+t,r+n,e,!1)}}}}(this.g.F||this.g.l)&&p&&this.g.Za();this.xt()}};ea.prototype.xt=function(){var a,b=this.g.counter;for(a=0;a<this.ka;a+=1)this.Ob[a].fg===b&&this.At(this.Ob[a].nl,
!1);this.g.Qb()};ea.prototype.JA=function(a){this.Pg=this.tf=this.Rl=this.Wl=this.Fe=this.Ul=this.Ol=this.Zl=this.Ll=this.Qg=this.gm=this.cm=a};ea.prototype.GG=function(){this.JA(!1)};ea.prototype.tC=function(){this.JA(!0)};ea.prototype.wt=function(){this.qn=[];this.qm=[]};ea.prototype.jG=function(a){var b=document.createElement("a");a.gx(b);b.href=a.Ea.toDataURL("image/png");b.download="screenshot.png";b.click();b.remove();a.D.notification.notify("Image saved",15,300,15,!0)};ea.prototype.dB=function(a){if("Oscillator"!==
a.qb)a.D.notification.notify("No Cell Map",15,300,15,!0);else{var b=document.createElement("a");a.gx(b);b.href=a.g.Ic.toDataURL("image/png");b.download="cellmap.png";b.click();b.remove();a.D.notification.notify("Cell Map saved",15,300,15,!0)}};ea.prototype.uC=function(a){var b=this.g.xa,c=this.g.m,d=this.g.Y,f=this.g.Da,e=a.width,k=a.height,g=this.ea,l=this.Y;var p=Math.round(-this.g.M/2);var n=Math.floor((this.g.M-1)/2);var q=Math.round(-this.g.K/2);var m=Math.floor((this.g.K-1)/2);var r=g-(this.g.width>>
1),u=r+e-1,t=l-(this.g.height>>1),v=t+k-1,A=this.g.h,w=2===A&&this.g.Ca,z=!0;if(-1!==this.g.C){if(0!==this.g.M){if(r<p||u>n)this.Hn=!0}else p=-this.g.width>>1,n=(this.g.width>>1)-1;if(0!==this.g.K){if(v>m||t<q)this.Hn=!0}else q=-this.g.height>>1,m=(this.g.height>>1)-1}a.o&&(0!==(g&1)&&(g+=1),0!==(l&1)&&(l+=1),r=g-(this.g.width>>1),u=r+e-1,t=l-(this.g.height>>1),v=t+k-1);a.ea&&(0===(g&1)&&--g,0===(l&1)&&--l,r=g-(this.g.width>>1),u=r+e-1,t=l-(this.g.height>>1),v=t+k-1);-1!==this.g.C&&(r=p,u=n,t=q,v=
m);r+=this.g.width>>1;u+=this.g.width>>1;t+=this.g.height>>1;v+=this.g.height>>1;0>r&&(r=0);u>=this.g.width&&(u=this.g.width-1);0>t&&(t=0);v>=this.g.height&&(v=this.g.height-1);g>=r&&g<=u&&e+g>=r&&e-1+g<=u&&(z=!1);for(n=0;n<k;n+=1){var D=a.T[n];if(n+l>=t&&n+l<=v){var F=b[n+l];if(this.La||this.g.i||this.g.o||this.g.l||this.g.A||!this.$a){q=a.ca[n];var L=c[n+l];if(z)for(p=0;p<e;p+=1)p+g>=r&&p+g<=u&&(m=q[p],0<m&&(m+=this.na),L[p+g]=m);else for(p=0;p<e;p+=1)m=q[p],0<m&&(m+=this.na),L[p+g]=m}else if(2<
A)if(q=a.ca[n],L=c[n+l],z)for(p=0;p<e;p+=1)p+g>=r&&p+g<=u&&(m=q[p],0<m&&!this.g.da&&(m=A+this.na-m),L[p+g]=m);else for(p=0;p<e;p+=1)m=q[p],0<m&&!this.g.da&&(m=A+this.na-m),L[p+g]=m;if(w)if(L=c[n+l],z)for(p=0;p<e;p+=1)p+g>=r&&p+g<=u&&0!==(D[p>>4]&1<<(~p&15))&&(F[p+g>>4]|=1<<(~(p+g)&15),L[p+g]=I.Ya);else for(p=0;p<e;p+=1)0!==(D[p>>4]&1<<(~p&15))&&(F[p+g>>4]|=1<<(~(p+g)&15),L[p+g]=I.Ya);else if(z)for(p=0;p<e;p+=1)p+g>=r&&p+g<=u&&0!==(D[p>>4]&1<<(~p&15))&&(F[p+g>>4]|=1<<(~(p+g)&15));else for(p=0;p<e;p+=
1)0!==(D[p>>4]&1<<(~p&15))&&(F[p+g>>4]|=1<<(~(p+g)&15))}}if(f)for(n=0;n<k;n+=1)if(n+l>=t&&n+l<=v)if(q=a.ca[n],b=f[n+l],z)for(p=0;p<e;p+=1)p+g>=r&&p+g<=u&&(m=q[p])&&(b[p+g]=G.zb[m]+128);else for(p=0;p<e;p+=1)(m=q[p])&&(b[p+g]=G.zb[m]+128);(this.g.i||this.g.o||this.g.l||this.g.A)&&d.aa.set(c.aa)};ea.prototype.fn=function(){var a=!1;-1!==this.g.C&&0!==this.g.M&&0!==this.g.K&&(a=!0);return a};ea.prototype.gC=function(){var a=!1;-1===this.g.C||0!==this.g.M&&0!==this.g.K||(a=!0);return a};ea.prototype.yn=
function(a,b,c){a=a[0];b&&(c.Va=a);return[a,100*a]};ea.prototype.$q=function(a,b,c){b&&(c.ic=a[0]);return[c.ic,G.pF[c.ic+.5|0]]};ea.prototype.uD=function(a){a.K||(a.ic=(a.ic+.5|0)+1,a.ic>=G.Tz&&(a.ic=0),a.Xg.current=a.$q([a.ic,a.ic],!0,a))};ea.prototype.Vx=function(a,b,c){b&&(c.Ab=a[0],c.Ab<G.rq&&(c.Ab=G.rq),c.Ab>G.kq&&(c.Ab=G.kq));return[c.Ab,c.Ab]};ea.prototype.Cs=function(a,b,c){b&&(c.Ub=(c.g.h-c.Zb)*a[0]|0);a[1]="";0<c.Ub&&(a[1]="<");a[1]+=c.Ub+"-"+(c.Ub+c.Zb-1);c.Ub+c.Zb<c.g.h&&(a[1]+=">");return a};
ea.prototype.Rd=function(a,b,c){var d=a[0];b?(c.ec=!0,c.g.zoom=G.ob*Math.pow(G.Ib/G.ob,a[0])/c.g.Ga):(d=Math.log(c.g.zoom*c.g.Ga/G.ob)/Math.log(G.Ib/G.ob),0>d?d=0:1<d&&(d=1));a=this.cb&&!this.Kb?c.g.zoom*c.g.Ga:c.g.zoom;a<G.ob?a=G.ob:a>G.Ib&&(a=G.Ib);1>a&&(a=-1/a);return[d,a]};ea.prototype.cF=function(a){var b=a/6E4|0;a=a%6E4/1E3;var c="";0<b&&(c=b+":",10>a&&(c+="0"));return c+=a.toFixed(2)};ea.prototype.lb=function(a,b,c){var d=this.g.zoom,f=this.g.fa,e=this.g.ca,k=6,g=G.bE,l=this.Qb,p=this.ca;var n=
(this.g.width>>1)-(this.A>>1)+(this.V<<1);var q=(this.g.height>>1)-(this.B>>1)+(this.X<<1);c===G.Uo&&(l.H=p.H+n,l.J=p.J+n,l.H>l.J&&(n=l.J,l.J=l.H,l.H=n),l.I=p.I+q,l.L=p.L+q,l.I>l.L&&(n=l.L,l.L=l.I,l.I=n));this.ha?(c=this.g.dj(c,l,this.displayWidth*this.Vb,this.displayHeight*this.Vb,G.ob,G.Ib,G.Xq,this.A,this.B,this.K&&this.La,this.kd,this.ad,this.fa),c[0]/=this.Vb):(this.Ja&&(g=0),c=this.g.dj(c,l,this.displayWidth,this.displayHeight-g,G.ob,G.Ib,G.Xq,this.A,this.B,this.K&&this.La,this.kd,this.ad,this.fa));
this.fa&&!a?(16<=this.g.zoom&&(k=2),1<this.M&&this.Hb&&(k=1),this.g.zoom=(this.g.zoom*(k-1)+c[0])/k,this.g.fa=(this.g.fa*(k-1)+c[1])/k,this.g.ca=(this.g.ca*(k-1)+c[2])/k,a=this.g.zoom>d?this.g.zoom/d-1:d/this.g.zoom-1,f=this.g.fa>f?this.g.fa-f:f-this.g.fa,e=this.g.ca>e?this.g.ca-e:e-this.g.ca,this.ih=a,f>this.ih&&(this.ih=f),e>this.ih&&(this.ih=e),.001>=this.ih&&(this.g.zoom=c[0],this.g.fa=c[1],this.g.ca=c[2])):(this.$f=this.g.width/2-this.g.fa,this.bg=this.g.height/2-this.g.ca,this.Ch=this.g.zoom,
this.Kf=this.g.angle,this.Zf=this.g.Jb,this.nf=this.g.width/2-c[1],this.aj=this.g.height/2-c[2],this.Th=c[0],this.dk=this.Kf,this.$i=this.Zf,this.Sl=Ta.mp,b?this.Ec=0:(this.Ec=Ta.mp,this.Nr()));this.dc&&(this.dc.current=this.Rd([this.g.zoom,this.g.zoom],!1,this));this.oa&&(this.oa.current=this.kg([this.g.angle,this.g.angle],!1,this));this.Wa&&(this.Wa.current=this.Fj([this.Wj(this.g.Jb),this.g.Jb],!1,this))};ea.prototype.WB=function(a,b,c,d){-1!==this.g.C?this.fc?(this.ea=Math.round(this.g.width/
2)+this.V,this.Y=Math.round(this.g.height/2)+this.X):(this.ea=Math.round((this.g.width-c)/2),this.Y=Math.round((this.g.height-d)/2)):(this.ea=Math.round((this.g.width-a)/2)+this.V,this.Y=Math.round((this.g.height-b)/2)+this.X);!this.K&&this.g.F||!this.U.ij||-1===this.g.h||(this.K=this.La=!0)};ea.prototype.tl=function(a){var b=a;0>a&&(a=-a);var c=a+String();1E9<=a?c="1B+":1E8<=a?c=(a/1E6|0)+"M":1E7<=a?c=(Math.floor(Number(a/1E5))/10).toFixed(1)+"M":1E6<=a?c=(Math.floor(Number(a/1E4))/100).toFixed(2)+
"M":1E5<=a&&(c=(a/1E3|0)+"K");0>b&&(c="-"+c);return c};ea.prototype.Lj=function(a,b){var c=this.D.T,d=this.D.V;b=a+b;var f=-this.g.angle,e=Math.sin(f/180*Math.PI);f=Math.cos(f/180*Math.PI);0>b?b=0:1<b&&(b=1);a=G.ob*Math.pow(G.Ib/G.ob,a);b=G.ob*Math.pow(G.Ib/G.ob,b);b<G.ob?b=G.ob:b>G.Ib&&(b=G.Ib);c-=this.displayWidth/2;d-=this.displayHeight/2;c=(c-b/a*c)/b;a=(d-b/a*d)/b;this.g.fa-=c*f+a*-e;this.g.ca-=c*e+a*f;b=Math.log(b/G.ob)/Math.log(G.Ib/G.ob);this.dc.current=this.Rd([b,b],!0,this)};ea.prototype.Vh=
function(){var a=32;this.g.Ca&&(a=4*this.g.V.o+1,-1!==this.g.C&&(a+=2*this.g.V.o),this.g.V.type===this.U.m&&(a=-1!==this.g.C?a+this.g.K/2:a+this.g.V.m/2));return a};ea.prototype.Sj=function(a,b){a.g.Wl(a,b,a.Vh())};ea.prototype.mz=function(a){var b=!1,c=a.ca;var d=a.Qb;var f=(a.g.width>>1)-(a.A>>1)+(a.V<<1);var e=(a.g.height>>1)-(a.B>>1)+(a.X<<1);d.H=c.H+f;d.I=c.I+e;d.J=c.J+f;d.L=c.L+e;d.H>d.J&&(f=d.J,d.J=d.H,d.H=f);d.I>d.L&&(f=d.L,d.L=d.I,d.I=f);a.Sj(a,d);d=0;var k=a.g.width-1;var g=0;var l=a.g.height-
1;a.g.Ca&&(d+=2*a.g.V.o+1,k-=2*a.g.V.o+1,g+=2*a.g.V.l+1,l-=2*a.g.V.l+1);f=(a.g.width>>1)-(a.A>>1)+(a.V<<1);e=(a.g.height>>1)-(a.B>>1)+(a.X<<1);c.H+f<d&&(c.H=-f,b=!0);c.H+f>k&&(c.H=a.g.width-1-f,b=!0);c.J+f<d&&(c.J=-f,b=!0);c.J+f>k&&(c.J=a.g.width-1-f,b=!0);c.I+e<g&&(c.I=-e,b=!0);c.I+e>l&&(c.I=a.g.height-1-e,b=!0);c.L+e<g&&(c.L=-e,b=!0);c.L+e>l&&(c.L=a.g.height-1-e,b=!0);return b};ea.prototype.gF=function(a){a.qg.current=100*(1-(a.Fb-a.g.counter)/a.Dl);a.qg.G=!1;a.fb.u=0};ea.prototype.$E=function(a,
b){a.qg.current=a.g.counter/b*100;a.qg.G=!1;a.fb.u=0};ea.prototype.JE=function(a){var b=!1,c=!1,d=0;a.wa||-1===a.Lb||(b=!0);!a.eb&&a.Aa&&(c=!0);if(b||c){var f=!1;if(c&&b)d=a.elapsedTime/a.m.ua(a.Lb);else if(c){if(b=a.m.Ba().qd)d=a.elapsedTime/b,1<d&&(f=!0)}else 0<a.Lb&&(d=a.g.counter/a.Lb);1<d&&(d=1);a.qg.current=100*d}else f=!0;a.qg.G=f;a.fb.u=f?a.h.W:0};ea.prototype.fB=function(){this.Md.o(this.g.width/2-this.g.Tb,this.g.height/2-this.g.Ub,this.g.P,this.g.qa,this.g.displayWidth,this.g.displayHeight,
this.g.Xc,this.g.Ma[0])};ea.prototype.Qw=function(){var a=this.h.v-this.displayWidth/2,b=this.h.B-this.displayHeight/2,c=this.Y-this.g.ca,d=this.ea-this.g.fa-(this.g.ga?this.g.ca/2:0),f=this.g.ua,e=this.g.oa,k=this.g.zoom;var g=this.g.hc(this.g.zoom);var l=-1;-1!==this.h.v&&(0!==this.g.qa&&(l=Math.sqrt(a*a+b*b),b=180/Math.PI*Math.atan2(b,a),b-=this.g.qa,a=l*Math.cos(Math.PI/180*b),b=l*Math.sin(Math.PI/180*b)),e=b/g-c+e,g=e-Math.floor(e),e-=g,a=a/k+(this.g.ga?c/2+e/2:0)-d+f,this.g.W&&(a-=.5),c=a-Math.floor(a),
a-=c,this.g.W&&(0===(a+this.ea+e+this.Y&1)?1<c+g&&(a+=1):1>1-c+g&&(a+=1)),l=this.g.Pa(a+this.ea,e+this.Y,this.La&&this.K));return l};ea.prototype.Ej=function(a,b){var c=a-this.displayWidth/2,d=b-this.displayHeight/2;b=this.Y-this.g.ca;var f=this.ea-this.g.fa-(this.g.ga?this.g.ca/2:0),e=this.g.ua,k=this.g.oa,g=0,l=0,p=0,n=0,q=this.g.zoom,m=this.g.hc(this.g.zoom);-1!==a&&(0!==this.g.qa&&(a=Math.sqrt(c*c+d*d),d=180/Math.PI*Math.atan2(d,c),d-=this.g.qa,c=a*Math.cos(Math.PI/180*d),d=a*Math.sin(Math.PI/
180*d)),g=d/m-b+k,p=g-Math.floor(g),g-=p,l=c/q+(this.g.ga?b/2+g/2:0)-f+e,this.g.W&&!this.g.ta&&(l-=.5),n=l-Math.floor(l),l-=n,this.g.ga&&(.25>n?.1>p?(--g,--l):.9<=p&&(g+=1):.75<=n&&(.1>p?--g:.9<=p&&(g+=1,l+=1))));this.g.W&&!this.g.ta&&(0===(l+this.ea+g+this.Y&1)?1<n+p&&(l+=1):1>1-n+p&&(l+=1));this.yc=l+this.ea;this.zc=g+this.Y};ea.prototype.xG=function(a,b,c,d,f){var e=Math.abs(c-a),k=Math.abs(d-b),g=a<c?1:-1,l=b<d?1:-1,p=e-k,n=this.g.width,q=this.g.height,m;for(m=this.la(a,b,f,!0);n!==this.g.width||
q!==this.g.height;)n!==this.g.width&&(n<<=1,a+=n>>2,c+=n>>2,this.va+=n>>2,this.ya+=n>>2,this.g.ga&&(this.va-=q>>3,this.ya-=q>>3),this.ea+=n>>2),q!==this.g.height&&(q<<=1,b+=q>>2,d+=q>>2,this.pb+=q>>2,this.Bb+=q>>2,this.Y+=q>>2);for(;a!==c||b!==d;){var r=p+p;r>-k&&(p-=k,a+=g);r<e&&(p+=e,b+=l);for(m|=this.la(a,b,f,!0);n!==this.g.width||q!==this.g.height;)n!==this.g.width&&(n<<=1,a+=n>>2,c+=n>>2,this.va+=n>>2,this.ya+=n>>2,this.g.ga&&(this.va-=q>>3,this.ya-=q>>3),this.ea+=n>>2),q!==this.g.height&&(q<<=
1,b+=q>>2,d+=q>>2,this.pb+=q>>2,this.Bb+=q>>2,this.Y+=q>>2)}return m};ea.prototype.$A=function(){var a=170,b=this.mk.ja,c=this.mk.Z,d=this.bi.Z;this.Ee.setPosition(da.Sa,0,a-48);this.un.o(a-48);this.Dd.o(a-48+45);this.ql.o(a-48+170);this.fi.o(a-48+215);this.ei.o(a-48+260);this.mk.setPosition(da.Sa,c,a);this.bi.setPosition(da.Sa,d,a);a+=b;"Oscillator"===this.qb&&(this.yr.setPosition(da.Sa,c,a),this.kk.setPosition(da.Sa,d,a),a+=b);this.g.ga||this.g.W||(this.Ar.setPosition(da.Sa,c,a),this.sn.setPosition(da.Sa,
d,a),a+=b);"Spaceship"!==this.qb||this.g.ga||this.g.W||(this.Er.setPosition(da.Sa,c,a),this.xn.setPosition(da.Sa,d,a),a+=b);"Still Life"!==this.qb&&(this.Ir.setPosition(da.Sa,c,a),this.En.setPosition(da.Sa,d,a),a+=b,this.g.ga||this.g.W||(this.ci.setPosition(da.Sa,c,a),this.di.setPosition(da.Sa,d,a),a+=b));"Spaceship"===this.qb&&(this.g.ga||this.g.W||(this.Kr.setPosition(da.Sa,c,a),this.Gn.setPosition(da.Sa,d,a),a+=b),this.Mr.setPosition(da.Sa,c,a),this.sl.setPosition(da.Sa,d,a),a+=b);"Still Life"===
this.qb||this.g.o&&2<this.g.h&&!this.g.F||this.g.gb||-1!==this.g.C||(this.Gr.setPosition(da.Sa,c,a),this.pk.setPosition(da.Sa,d,a),a+=b);"Oscillator"===this.qb&&(-1!==this.g.C||this.g.o&&2<this.g.h||(this.Or.setPosition(da.Sa,c,a),this.xl.setPosition(da.Sa,d,a),a+=b),this.Qr.setPosition(da.Sa,c,a),this.In.setPosition(da.Sa,d,a),a+=b);"Still Life"===this.qb&&(this.ci.setPosition(da.Sa,c,a),this.di.setPosition(da.Sa,d,a))};ea.prototype.CF=function(a){var b=0;this.xj[this.tj]=a;this.tj+=1;this.tj>=G.hF&&
(this.tj=0);for(a=0;a<this.xj.length;a+=1)b+=this.xj[a];b/=this.xj.length;this.vj.wb=String(Math.round(b));this.vj.G=!1};ea.prototype.Pz=function(){var a;for(a=0;a<this.xj.length;a+=1)this.xj[a]=0;this.tj=0;this.vj.G=!0};ea.prototype.qr=function(a,b){var c=0,d=0,f=this.Y-this.g.ca,e=this.ea-this.g.fa-(this.g.ga?this.g.ca/2:0),k=this.g.ua,g=this.g.oa,l=this.g.zoom,p=this.g.hc(this.g.zoom),n=0,q=0;if(0!==this.g.qa){var m=Math.sqrt(c*c+d*d);d=180/Math.PI*Math.atan2(d,c);d-=this.g.qa;c=m*Math.cos(Math.PI/
180*d);d=m*Math.sin(Math.PI/180*d)}g=d/p-f+g;if(this.g.W&&!this.g.ta||this.g.ga)n=g-Math.floor(g),g-=n;c=c/l+(this.g.ga?f/2+g/2:0)-e+k;this.g.W&&!this.g.ta&&(c-=this.g.zoom/32*.2);if(this.g.W&&!this.g.ta||this.g.ga)q=c-Math.floor(c),c-=q;this.g.ga&&(.25>q?.1>n?(--g,--c):.9<=n&&(g+=1):.75<=q&&(.1>n?--g:.9<=n&&(g+=1,c+=1)));this.g.W&&!this.g.ta&&(0===(c+this.ea+g+this.Y&1)?1<q+n&&(c+=1):1>1-q+n&&(c+=1));return Math.sqrt((c-a)*(c-a)+(g-b)*(g-b))};ea.prototype.zC=function(){var a=9999<this.g.T?99999:
9999;var b=this.g.Z?-1:0;var c=Math.round(-this.g.M/2)+b,d=Math.round(-this.g.K/2)+b,f=c+this.g.M-1,e=d+this.g.K-1;if(-1===this.h.v)this.ib.wb="",this.ib.G=!this.dg;else{this.Ej(this.h.v,this.h.B);var k=this.g.Pa(this.yc,this.zc,this.La&&this.K);var g=this.g.Pa(this.yc,this.zc,!0);var l=this.yc-this.ea+this.V;b=this.zc-this.Y+this.X;-1===this.g.C||this.fc||(l-=Math.floor(this.A/2+(this.ta-this.A)/2),b-=Math.floor(this.B/2+(this.sa-this.B)/2));var p=l<-a||l>a?Number(l/1E3).toFixed(1)+"K":String(l);
a=b<-a||b>a?this.me?Number(-b/1E3).toFixed(1)+"K":Number(b/1E3).toFixed(1)+"K":this.me?String(-b):String(b);-1!==this.g.C?(0===this.g.M&&(c=-this.g.T,f=this.g.T),0===this.g.K&&(d=-this.g.T,e=this.g.T),l<c||l>f||b<d||b>e?(l===c-1||l===f+1)&&b>=d-1&&b<=e+1||(b===d-1||b===e+1)&&l>=c-1&&l<=f+1?(this.ib.wb=p+","+a+"=[bounded]",this.cg&&(this.ib.wb+=" "+String(g))):this.ib.wb=p+","+a+"=[boundary]":(this.ib.wb=p+","+a+"="+k+" ("+this.sh(k)+")",this.cg&&(this.ib.wb+=" "+String(g)))):(c=-(this.g.T-this.A)>>
1,f=c+this.g.T-1,d=-(this.g.T-this.B)>>1,e=d+this.g.T-1,this.ib.wb=l<c||l>f||b<d||b>e?p+","+a+"=[boundary]":p+","+a+"="+k+" ("+this.sh(k)+")",this.cg&&(this.ib.wb+=" "+String(g)));this.ib.G=!1}this.ib.B=this.dg||!this.Hb&&-1!==this.h.v?this.s||this.$||0===this.A?!1:!0:!1;!this.P&&!this.Sc||this.s&&!this.$?this.We.B=!1:(this.We.B=!0,this.We.G=!1,l=this.ca.J>this.ca.H?this.ca.J-this.ca.H+1:this.ca.H-this.ca.J+1,b=this.ca.L>this.ca.I?this.ca.L-this.ca.I+1:this.ca.I-this.ca.L+1,this.We.wb=l+" x "+b)};
ea.prototype.sF=function(a){if(!this.Ja&&!this.ha)if(0<this.s)0<a?this.Tm(this,a/125*3):this.Rm(this,-a/125*3);else if(0<this.$)0<a?this.Pm(this,a/125*3):this.Nm(this,-a/125*3);else if(!this.Ta&&!this.dc.locked){var b=this.dc.current[0];this.Lj(b,a/125*.05)}};ea.prototype.bH=function(a){var b=a.ja,c=a.h.s,d=a.h.C;var f=a.ma;var e=f.x,k=f.y,g=f.ja,l=f.M,p=a.g.zd;if(null!==p&&a.rd){b.imageSmoothingEnabled=!0;var n=p.width;for(f=0;f<a.Zb;f+=1){var q=(f+a.Ub-1)*n;0<=q&&q<p.height&&b.drawImage(p,0,q,n,
n,l/a.Zb*f*c+e,k,g*c,g*d)}b.imageSmoothingEnabled=!1}};ea.prototype.sE=function(a){var b=a.g.counter,c=" ";if(a.g.Z||a.g.i)b=a.g.Kb;a.Ce?(0>b&&(c=""),a.fb.lower[0]="+"+c+a.tl(b),a.fb.R=["toggle generation statistics [G]\ngeneration +"+b]):(0>b+a.Ga&&(c=""),a.fb.lower[0]="T"+c+a.tl(b+a.Ga),a.fb.R=["toggle generation statistics [G]\ngeneration "+(b+a.Ga)]);if(a.Ce){if(a.g.Z||a.g.i)b=a.g.counter;a.ed.wb=1E9<=b?"1B+":String(b);a.ed.wb=String(b);a.ed.R="generation "+b}else b+=a.Ga,a.ed.wb=1E9<=b?"1B+":
String(b),a.ed.R="absolute generation "+b;a.qf.R=a.ed.R};ea.prototype.wf=function(){return this.lm&&!(this.Ud||this.g.counter<=this.Td)};ea.prototype.ZG=function(a,b){var c=b.m.current;var d=!1,f=!1,e=!1,k=!1,g=!1,l=b.g.counter;var p=0;var n=1E3/b.rc;var q;b.Ta=!1;b.Wr&&(b.Wr=!1,a=0);b.K||b.JE(b);b.Vt&&(b.fb.current=b.Fn([!0],!0,b),b.Vt=!1,b.D.i=!0);b.XA(b.cc.current[0]);b.Hb?(a>n&&(.8*a>n&&(f=!0),a=n),!b.Hb||b.Aa&&!b.eb||(b.ia+=b.Z*b.M,p=b.ia/b.rc|0,p>l?b.md=!0:b.elapsedTime+=a)):b.md&&(g=!0,b.ia=
b.gr?b.ia+b.rc:b.ia+b.M*b.rc,p=b.ia/b.rc|0);b.$l();b.Aa&&!b.eb&&b.Hb?(b.m.K&&(b.ec&&!b.m.V(b.elapsedTime+a)&&(b.ec=!1,b.elapsedTime=b.m.pa(b.g.width/2-b.g.fa,b.g.height/2-b.g.ca,b.g.zoom,b.g.angle,b.g.Jb,b.g.za,b.g.Wb*G.kl,b.g.pb,b.Z,b.M,b.g.counter,b.elapsedTime)),c.Ke&&(b.lb(!0,!1,G.Cf),b.ec=!1,c.x=b.g.width/2-b.g.fa,c.y=b.g.height/2-b.g.ca,b.ha&&(b.g.zoom*=b.Vb),c.zoom=b.g.zoom)),(e=b.m.O(b,b.elapsedTime+a,b.g.counter,!0))?(c.Ke&&(c.Ke=!1,b.ha&&(b.g.zoom=c.zoom/b.Vb),b.dc&&(b.dc.current=b.Rd([b.g.zoom,
b.g.zoom],!1,b))),b.ia+=b.Z*b.M,p=b.ia/b.rc|0,p>l&&(b.md=!0)):(b.m.K&&(b.Hb&&(b.Ta=!0),b.g.ca=b.g.height/2-c.y,b.g.fa=b.g.width/2-c.x,b.g.zoom=c.zoom,b.ha&&(b.g.zoom/=b.Vb),b.dc&&(b.dc.current=b.Rd([b.g.zoom,b.g.zoom],!1,b)),b.g.ga||b.g.W||b.g.da||(b.g.angle=c.angle,b.oa&&(b.oa.current=[b.g.angle,b.g.angle]),b.g.Jb=c.Jb,b.Wa&&(b.Wa.current=[b.Wj(b.g.Jb),b.g.Jb]),b.g.za=c.za,b.ab&&(b.ab.current=[b.g.za,b.g.za]),b.g.Wb=c.depth/G.kl+G.oq,b.Fa&&(b.Fa.current=[Math.sqrt(b.g.Wb),b.g.Wb*G.kl]))),b.Z=c.Rc,
b.M=c.step,b.cc.current=b.vc([b.ef(),1],!0,b),c.wc>b.g.counter?(b.md=!0,b.ia=c.wc*b.rc,p=b.ia/b.rc|0):b.md=!1,c.oe!==b.Ge&&(""===c.oe?b.D.notification.clear(!1,!1):b.D.notification.notify(Lb.fm(b,c.oe),15,21600,15,!1),b.Ge=c.oe),c.Gc!==b.cs&&(b.Vf(c.Gc,b.g.me,b),b.cs=c.Gc)),b.md||(b.elapsedTime+=a)):b.fa&&b.Hb&&(b.Ta=!0);b.Ta&&(b.Ec=-1);c=0;if(b.md){n=performance.now();var m=p-l;var r=0;for(q=b.wf();!k&&b.g.counter<p;){c=performance.now()-n;if(b.g.counter===b.jc-1&&!b.Gb||c>G.TA&&!g)k=b.g.counter!==
b.jc-1||b.Gb?b.Df:!0;b.g.Fb&&b.T("reverse playback");b.Ri();r+=1;if(-1!==b.Lb&&b.g.counter>=b.Lb&&!b.wa){for(p=1;p<=r;p+=1)b.Jm(l+p,a,r);b.elapsedTime=0;b.reset(b);p=l=0;b.Mb&&b.hc&&(b.$b.current=b.vd(G.ne,!0,b),b.D.notification.notify("LOOP reached - Play to continue ",15,180,15,!0));e&&(b.Ta=!0)}b.wf()&&!q&&(k=!0)}for(p=1;p<=r;p+=1)b.Jm(l+p,a,m);b.wf()&&-1===b.vb&&(b.vb=b.g.counter,b.dd&&(-1===b.Lb||b.wa)&&(b.g.i||b.g.Z?b.D.notification.notify("Life ended at generation "+(b.g.Kb+b.Ga),15,600,15,
!1):b.D.notification.notify("Life ended at generation "+(b.g.counter+b.Ga),15,600,15,!1)),q||-1!==b.Lb&&!b.wa||(b.$b.current=b.vd(G.ne,!0,b)));b.ia-=(m-r)*b.rc;0>b.ia&&(b.ia=0);r<m&&(b.g.counter!==b.jc||b.Gb)&&b.Fd?b.CF(r):b.Pz();b.g.counter!==b.jc||b.Gb||(b.$b.current=b.vd(G.ne,!0,b),this.fa&&b.lb(!0,!1,G.Cf),b.dd&&b.D.notification.notify("STOP reached - Play to continue ",15,180,15,!0))}else b.Pz();b.md&&!b.Hb&&b.T("");b.oa.locked=b.Ta&&b.Aa||b.g.ga||b.g.W||b.g.da;b.Wa.locked=b.Ta&&b.Aa||b.g.ga||
b.g.W||b.g.da;b.de.locked=b.Ta&&b.Aa;b.pf.locked=b.Ta||b.fa&&b.Hb;b.cc.locked=b.Ta&&b.Aa;b.Al.locked=b.Ta&&b.Aa;b.pd.locked=b.Ta&&b.Aa;b.dc.locked=b.Ta||b.fa;b.ab.locked=b.Ta&&b.Aa||b.g.ga||b.g.W||b.g.da;b.Fa.locked=b.Ta&&b.Aa||b.g.ga||b.g.W||b.g.da;b.yl.locked=b.g.ga||b.g.W||b.g.da;b.yi&&(b.sF(b.yi),b.yi=0);b.Bm(b,f,c,g);b.md=!1;b.gr=!1;if(b.Hb||b.fa&&.001<b.ih||-1!==b.Ec)d=!0;b.D.Le(d)};ea.prototype.Bm=function(a,b,c,d){var f=a.g.pb,e=a.g.pc,k=a.g.Ba,g=a.g.zoom;a.fa&&a.Hb&&a.lb(!1,!1,G.Cf);a.g.gi(a.Zi,
a.Dc);a.Dc&&a.fB();a.Zi&&a.D.Le(!0);a.g.Ai(!(this.P||this.Sc||this.qa||a.ra.current!==G.Ph));!a.g.ta&&a.g.ga&&4<=a.g.zoom?a.g.Ei():!a.g.ta&&a.g.W&&4<=a.g.zoom&&a.g.Fi();a.Zd&&(2===a.Zd&&a.g.zj(a.nd,1,!0,a.ha,a),3===a.Zd&&(a.g.ki(6,0,a),a.g.Ad=1,a.g.Ba=!0,a.g.pc=!1,a.g.ab(1),a.g.zoom|=0,a.g.gi(!1,!1),a.g.Ai(!(this.P||this.Sc||this.qa||a.ra.current!==G.Ph)),!a.g.ta&&a.g.ga&&4<=a.g.zoom?a.g.Ei():!a.g.ta&&a.g.W&&4<=a.g.zoom&&a.g.Fi()),a.jG(a),3===a.Zd&&(a.g.ki(f,0,a),a.g.Ad=1,a.g.Ba=k,a.g.pc=e,a.g.ab(1),
a.g.zoom=g,a.g.gi(a.Zi,a.Dc),a.Dc&&a.fB()),2<=a.Zd&&(a.g.Ai(!(this.P||this.Sc||this.qa||a.ra.current!==G.Ph)),!a.g.ta&&a.g.ga&&4<=a.g.zoom?a.g.Ei():!a.g.ta&&a.g.W&&4<=a.g.zoom&&a.g.Fi()),a.Zd=0);a.g.Fl(a);a.g.counter&&0<a.g.s&&(a.Qb.H=a.g.v.H,a.Qb.I=a.g.v.I,a.Qb.J=a.g.v.J,a.Qb.L=a.g.v.L,a.Sj(a,a.Qb));a.$d&&a.m.qa(a);!a.Da||a.Za||a.uc||a.g.zj(a.nd,a.Va,!1,a.ha,a);a.Rb&&0<a.Gd&&null!==a.g.ke&&0===a.s&&0===a.$&&!1===a.da.current[0]&&(1===a.Gd?a.g.tl(a.Ee):a.g.rl(a.Ee));a.s?Ya.Ly(a):a.$&&Ya.qD(a);a.sE(a);
a.mf.wb=a.cF(a.elapsedTime);a.Hd.wb=a.tl(a.g.s);a.fn()?a.cd.wb=a.g.i?(25*a.g.s/(a.g.K*a.g.M)|0)+"%":(100*a.g.s/(a.g.K*a.g.M)|0)+"%":(a.cd.wb=a.tl(a.g.ma),a.Ae.wb=a.tl(a.g.$));a.Hd.R="alive "+a.g.s;a.fn()?a.cd.R=a.g.i?"density "+(25*a.g.s/(a.g.K*a.g.M)|0)+"%":"density "+(100*a.g.s/(a.g.K*a.g.M)|0)+"%":(a.cd.R="births "+a.g.ma,a.Ae.R="deaths "+a.g.$);a.Fd?a.kE(c,b,d,a):a.cc.mc=a.pf.mc;a.zC();-1!==a.Ec&&a.Nr();a.xE();a.TF();a.BE();a.mG(0!==a.s||0!==a.$);!a.da.current[0]||a.jd&&a.Hb||(a.ja.globalAlpha=
.7,a.ja.fillStyle=a.D.mc,a.ja.fillRect(0,0,a.Ea.width,a.Ea.height),a.ja.globalAlpha=1)};ea.prototype.kE=function(a,b,c,d){var f=255,e=48,k=48;(b||a>G.TA)&&!c?d.gj<G.fA&&(d.gj+=1):d.gj>G.gA&&--d.gj;var g=d.gj/(G.fA-G.gA);a=d.rm>>16;b=d.rm>>8&255;c=d.rm&255;d.Pc&&(f=d.Pc[0],e=d.Pc[1],k=d.Pc[2]);d.cc.mc="rgb("+(f*g+a*(1-g)|0)+","+(e*g+b*(1-g)|0)+","+(k*g+c*(1-g)|0)+")"};ea.prototype.wC=function(){var a=this.qf.O,b=this.mf.O,c=this.ib.O;this.Kc.G&&this.ze.G?(this.Se.o(c),this.Hd.o(c)):this.ze.G?(this.Se.o(b),
this.Hd.o(b),this.Kc.o(c),this.cd.o(c)):(this.Se.o(a),this.Hd.o(a),this.Kc.o(b),this.cd.o(b),this.ze.o(c),this.Ae.o(c))};ea.prototype.$l=function(){var a=this.ia/this.rc;if(this.cb&&!this.Kb){this.g.ua=a*(this.ig+this.Fh)/2;this.g.oa=a*(this.wh+this.jg)/2;var b=this.g.pk(0,this.wh,this.ig,this.jg,this.Fh,this.displayWidth,this.displayHeight-80,G.ob,G.Ib,G.Xq);a=this.g.pk(a,this.wh,this.ig,this.jg,this.Fh,this.displayWidth,this.displayHeight-80,G.ob,G.Ib,G.Xq);this.g.Ga=a/b}else this.g.ua=0,this.g.oa=
0,this.g.Ga=1;this.dc.current=this.Rd([this.g.zoom,this.g.zoom],!1,this)};ea.prototype.mG=function(a){var b=!(this.s&&this.Bd===G.tg),c,d=[],f=[],e=this.da.current[0];this.$b.m[1]=this.hb||0===this.g.counter&&(!this.g.Z&&!this.g.i||null===this.g.eb)?!0:!1;var k=a||!this.he;for(c=0;c<=this.g.ib;c+=1)this.Dh[c].G=k;this.Yw.G=k;this.Tw.G=k;this.$w.G=k;this.Ww.G=k;for(c=0;c<G.zp.length;c+=1)G.zp[c]===this.g.ib&&(this.Dh[c].locked=!(this.ua||this.Hf||-1!==this.Sm||-1!==this.Um));k=a||!this.Rb||"Empty"===
this.qb||"none"===this.qb||e;this.un.G=a||!this.Rb||e;this.Dd.G=a||!this.Rb||null===this.g.ke||e;this.ql.G=a||!this.Rb||null===this.g.ke||e;k=k||2===this.Gd;k=(this.Ee.G=k)||0<this.Gd;this.mk.G=k;this.Ar.G=k||this.g.ga||this.g.W;this.Er.G=k||"Spaceship"!==this.qb||this.g.ga||this.g.W;this.Ir.G=k||"Still Life"===this.qb;this.ci.G=k||this.g.ga||this.g.W;this.yr.G=k||"Oscillator"!==this.qb;this.Kr.G=k||"Spaceship"!==this.qb||this.g.ga||this.g.W;this.Mr.G=k||"Spaceship"!==this.qb;this.Gr.G=k||"Still Life"===
this.qb||this.g.gb||this.g.o&&2<this.g.h||-1!==this.g.C;this.Or.G=k||"Oscillator"!==this.qb||-1!==this.g.C||this.g.o&&2<this.g.h;this.Qr.G=k||"Oscillator"!==this.qb;this.bi.G=k;this.sn.G=k||this.g.ga||this.g.W;this.xn.G=k||"Spaceship"!==this.qb||this.g.ga||this.g.W;this.En.G=k||"Still Life"===this.qb;this.di.G=k||this.g.ga||this.g.W;this.kk.G=k||"Oscillator"!==this.qb;this.Gn.G=k||"Spaceship"!==this.qb||this.g.ga||this.g.W;this.sl.G=k||"Spaceship"!==this.qb;this.pk.G=k||"Still Life"===this.qb||this.g.gb||
-1!==this.g.C||this.g.o&&2<this.g.h;this.xl.G=k||"Oscillator"!==this.qb||-1!==this.g.C||this.g.o&&2<this.g.h;this.In.G=k||"Oscillator"!==this.qb;k=a||!this.Rb||1!==this.Gd||0===this.g.Vc||e;this.fi.G=k;this.ei.G=k;this.fi.locked=0===this.g.fb;this.ei.locked=this.g.fb===this.g.Vc;this.zh.locked=this.ka===this.Vg;this.Pd.locked=1>=this.ka||this.Pd.R==="undo ["+this.u+" Z]";this.de.G=a;this.dc.G=a;this.pf.G=a;this.fd.G=a;this.kh.G=a;this.eg.G=a;this.Fc.G=a;this.xf.G=a;this.ra.G=a;k=(this.sf.G=a)||!this.Da||
this.Za||this.uc||e;this.pi.G=k;this.wr.G=k;this.mi.G=k;this.Xb.G=k||-1!==this.g.C;this.Pi.G=!(this.gb&&-1===this.g.Ce||-1!==this.Fb);this.Pi.locked=!1;this.qf.G=a;this.ed.G=a;this.Bj.G=a;this.mf.G=a;this.Se.G=a;k=(this.Hd.G=a)||this.gC();this.Kc.G=k;k=(this.cd.G=k)||this.fn();this.ze.G=k;this.Ae.G=k;this.Yd.G=a;this.wC();this.pf.G=a;this.df.G=a||!this.ie;this.qh.G=!this.td;this.Ze||this.Ye||this.$e||this.ge||this.cf||this.he||this.Xe?(this.yd.wb="Back",this.yd.R="back to previous menu [Backspace]"):
(this.yd.wb="Close",this.yd.R="close menu [Backspace]");this.ce.locked=!(this.g.Z&&2===this.g.La);this.ce.current=this.ce.locked?[!1]:[this.g.dd];k=(this.yd.G=a)||this.he;this.Fa.G=k;this.oa.G=k;this.Wa.G=k;this.ab.G=k;k=a||this.he||this.Ye||this.ge||this.Ze||this.$e||this.cf||this.ge||this.Xe;this.Pk.G=k;this.um.G=k;this.pd.G=k;this.Hl.G=k;this.ck.G=k;this.Yo.G=k;this.Ho.G=k;this.De.G=k;k=a||!this.Ye;this.ct.G=k;this.fv.G=k;this.Em.G=k;this.Xj.G=k;this.Am.G=k;this.Co.G=k;this.$j.G=k;this.Gm.G=k;
this.vv.G=k;this.Jv.G=k;k=a||!this.ge;this.Bw.G=k;this.pl.G=k;this.Bs.G=k;this.vs.G=k;this.el.G=k;this.fl.G=k;this.ai.G=k;this.om.G=k;this.Nw.G=k;this.Lw.G=k;k=a||!this.$e;this.Uh.G=k;this.Vl.G=k;this.nj.G=k;this.nj.locked=!this.Dk;this.gi.G=k;this.rh.G=k;this.rh.locked=!this.g.o||this.g.o&&!this.g.vf();this.Fl.G=k;this.Hj.G=k;k=a||!this.Ze;this.Cd.G=k;this.Mi.G=k;this.ld.G=k;this.rj.G=k;this.vf.G=k;this.Gi.G=k;this.ce.G=k;this.xh.G=k;this.Zk.G=k;this.Qn.G=k;k=a||!this.Xe;this.Go.G=k;this.sm.G=k;
this.yl.G=k;this.Lm.G=k;this.Fm.G=k;this.hn.G=k;this.cn.G=k;this.en.G=k;this.Dm.G=k;k=a||!this.cf;this.mn.G=k;this.$h.G=k;this.gg.G=k;this.Wf.G=k;this.ve.G=k;this.Hi.G=k;this.Wi.G=k;this.Jw.G=k;k=this.g.da||!this.$a;this.el.locked=k||this.g.o;this.fl.locked=k;this.ai.locked=k||this.K||this.g.V.V||-1!==this.g.C&&(0===this.g.M||0===this.g.K)||this.g.gb;this.om.locked=k||this.K||"Empty"===this.qb||"none"===this.qb||""===this.qb;this.Em.locked=k;this.Xj.locked=k||!(this.g.o&&2===this.g.h&&!this.g.Te&&
(!this.g.Yb||this.g.Sc!==Ba.yj));this.Am.locked=k;this.Gm.locked=k;this.Co.locked=k||null===this.Ua[this.mb];this.mn.locked=!this.$a||this.K;this.xh.locked=2<this.g.h||this.g.Ca||this.g.i||this.g.F||this.g.l||this.g.A||this.g.o;this.pl.locked=k;this.hn.locked=k;this.nn.G=a||!(this.Ze||this.Ye||this.$e||this.cf||this.ge||this.Xe)||this.displayHeight<G.tv;this.nn.wb=this.Ze?"Display":this.$e?"Advanced":this.cf?"Playback":this.ge?"Pattern":this.Ye?"Clipboard":this.Xe?"General":"";this.ve.locked=-1!==
this.g.Kd||this.g.Qg||this.g.Ca&&1<this.g.V.o||this.g.W||this.g.bd||this.g.ga||-1!==this.g.C||this.g.Z||2<this.g.h||this.g.o;this.ve.locked&&(this.ve.current=[!1]);this.pd.locked=this.La||this.g.da||this.g.o||this.g.l||this.g.A;this.ld.locked=this.g.ga||this.g.W||0===this.g.La;this.Cd.locked=!(this.g.ga||this.g.W);k=a||0===this.m.i.length||e;this.Gk.G=k;this.Xk.G=k;k=a||!this.Ia||this.Za||this.uc||this.Da;this.Cl.G=k;this.Ng.G=k;this.El.G=k;this.Og.G=k;this.zl.G=k;this.Ig.G=k;this.Sr.G=k;this.Jn.G=
k;this.Nn.G=k;this.Pn.G=k;this.Mn.G=k;this.Jg.G=k;this.Lg.G=k;this.Mg.G=k;this.Kg.G=k;this.zt.G=0===this.$||0!==this.s;this.hr.G=!(this.Io&&this.s&&this.Bd===G.tg);this.rn.G=!(this.s&&this.Bd!==G.tg);this.gd.G=!(this.s&&this.Bd!==G.tg)||!this.pj;this.ik.G=b;this.jk.G=b;this.hk.G=b;this.Kj.G=b||this.g.da||this.g.l||this.g.A||this.g.o;this.Yh.G=b;this.Wh.G=b;this.Hg.G=b;this.Xh.G=b||0===this.m.A();this.Vm.G=!(this.s&&this.Bd!==G.tg)||this.pj;if(this.Pr){this.Pr=!1;b=this.gd.y;for(c=0;c<this.v.length&&
b<this.displayHeight-66*this.h.C;)d[c]=this.v[c][1],f[c]="Top"===d[c]?"go to top of topic [Home]":"",b+=26*this.h.C,c+=1;this.gd.lower=d;this.gd.R=f;this.gd.ya(26*d.length);this.gd.current=0}k=a||!this.uc||e;this.rl.G=k;this.jh.G=k;this.Nj.G=k;this.He.G=k;this.Vj.G=k;this.Xg.G=k;this.Ed.G=k;this.Yj.G=k;this.bk.G=k;this.ri.G=k;k=a||!this.uc||e;this.Qj.G=k;this.Jk.G=k;this.Kk.G=k;this.Lk.G=k;this.Ik.G=k;this.ek.G=k;this.fk.G=k;this.ml.G=k;this.il.G=k;this.uf.G=k;this.Uj.G=k;this.Tj.G=k;this.Ff.G=k||
!(this.g.F||this.g.l);this.Ef.G=k;this.oc.G=k;this.Wd.G=k;this.Ai.G=k;this.Di.G=k;k=a||!this.uc||e||2>=this.g.h||this.g.da;this.yh.G=k||this.g.i;k=this.K;this.Xg.locked=k;this.Ed.locked=k;k=!this.P;this.Yj.locked=k;this.Nj.locked=k;k=!(this.P||this.qa)||this.K;this.Qj.l(k);this.oc.l(k);this.yh.l(k);this.Wd.l(k);this.Jk.l(k);this.Kk.l(k);this.Lk.l(k);this.Ik.l(k);this.ek.l(k);this.fk.l(k);this.ml.l(k);this.il.l(k);this.uf.l(k);this.Uj.l(k);this.Tj.l(k);this.Ff.l(k);this.Ef.l(k);this.Ai.l(k);this.Di.l(k);
k=!this.P||this.K;this.bk.locked=k;k=(!this.Bo||null===this.Ua[this.mb])&&!this.Wb||this.qa||this.K;this.ri.locked=k;k=a||!this.Za||!this.Xf||e;this.Qa.G=k;this.ma.G=k;if(2>=this.g.h&&!this.g.o)for(c=0;c<this.ma.lower.length;c+=1)b=2>=c?0===c?c:1===c?I.Ya:I.Ih:128+G.zb[c],this.ma.P[c]="rgb("+this.g.ka[b]+","+this.g.ja[b]+","+this.g.ia[b]+")";else for(c=0;c<this.ma.lower.length;c+=1)b=0===c+this.Ub?0:this.g.da||this.g.i||this.g.o||this.g.l||this.g.A?c+this.Ub+this.na:this.na+this.g.h-(c+this.Ub),this.ma.P[c]=
"rgb("+this.g.ka[b]+","+this.g.ja[b]+","+this.g.ia[b]+")";k=a||!this.Za||e;this.Uc.G=k;this.Rk.G=k;this.qj.G=k;this.sj.G=k;this.Il.G=a||!this.Za||!this.Xf||this.g.h<=this.Zb||e;this.Ml.G=a||!this.Za||!this.Xf||this.g.h<=this.Zb||e;this.g.h>this.Zb&&this.Cw();if(0<this.s){c=0;for(b=-1;c<this.v.length&&-1===b;)this.v[c][0]>this.s?b=this.v[c][0]:c+=1;c===this.v.length&&(b=c);-1!==b&&(this.gd.current=c-1)}this.jd&&(this.h.G=this.Hb?!0:!1);this.sf.locked=!this.g.Dd;k=this.displayHeight<G.vk;(this.da.locked=
k)&&this.ie?(this.da.G=!0,this.df.setPosition(this.da.position,this.da.Z,this.da.O),this.df.B=!0):(this.da.G=!1,this.df.setPosition(da.sb,-40,-90),this.df.B=this.da.current[0])};ea.prototype.BE=function(){var a=-(this.g.width/2-this.g.fa-this.g.ua|0),b=-(this.g.height/2-this.g.ca-this.g.oa|0),c=String(a),d=String(b);this.g.ga&&(a+=63,c=String(a));this.Cl.G=!this.Ia;this.Ng.G=!this.Ia;this.El.G=!this.Ia;this.Og.G=!this.Ia;this.zl.G=!this.Ia;this.Ig.G=!this.Ia;this.Sr.G=!this.Ia;this.Jn.G=!this.Ia;
this.Nn.G=!this.Ia;this.Pn.G=!this.Ia;this.Mn.G=!this.Ia;this.Jg.G=!this.Ia;this.Lg.G=!this.Ia;this.Kg.G=!this.Ia;this.Mg.G=!this.Ia;if(-99999>a||99999<a)c=(a/1E3|0)+"K";if(-99999>b||99999<b)d=(b/1E3|0)+"K";this.Ng.wb=c;this.Og.wb=d;this.Ig.wb=this.g.angle.toFixed(0)+"\u00b0";this.Jg.wb=this.Im.toFixed(3);this.Lg.wb=this.Mm.toFixed(3);this.Mg.wb=this.Om.toFixed(3);this.Kg.wb=this.Km.toFixed(3)};ea.prototype.TF=function(){0===this.g.counter?this.Om=this.Im=this.Mm=this.Km=0:(this.Mm=(this.g.v.L-this.g.cb.L)/
this.g.counter,this.Km=(this.g.v.I-this.g.cb.I)/this.g.counter,this.Im=(this.g.v.J-this.g.cb.J)/this.g.counter,this.Om=(this.g.v.H-this.g.cb.H)/this.g.counter)};ea.prototype.xE=function(){this.de.current=[this.fa];this.kh.current=[!this.hc&&this.Mb];this.kh.locked=!this.Mb;this.cb?(this.Fc.lower[0]="TRACK",this.Fc.current=[!this.Kb&&this.cb],this.Fc.locked=!this.cb,this.Fc.R=["toggle track mode [W]"]):(this.Fc.lower[0]="WAYPT",this.Fc.current=[!this.eb&&this.Aa],this.Fc.locked=!this.Aa,this.Fc.R=
["toggle waypoint mode [W]"]);this.xf.current=[!this.wa&&-1!==this.Lb];this.xf.locked=-1===this.Lb;this.xf.R=["loop at "+this.Lb+" [Shift P]"];this.eg.current=[!this.Gb&&-1!==this.jc];this.eg.locked=-1===this.jc;this.eg.R=["stop at "+this.jc+" ["+this.C+" P]"]};ea.prototype.Jm=function(a,b,c){if(a>=this.Be.length){var d=this.g.S.h(ra.$c,this.Be.length+G.Sz,"View.elapsedTimes");d.set(this.Be);this.Be=d}this.elapsedTime+=b/c;this.Be[a]=this.elapsedTime};ea.prototype.Ri=function(){var a=this.g.v,b=this.g.Na,
c=this.g.s;this.g.gk.set(a);this.g.hk.set(b);this.g.pf(this.hb);this.g.xe();this.g.wf(this);this.Ao();this.g.Yg();0===this.g.s&&(a.set(this.g.gk),b.set(this.g.hk));this.lm=0===this.g.s&&0!==c?!0:!1;this.g.counter&&0<this.g.s&&(this.Qb.H=this.g.v.H,this.Qb.I=this.g.v.I,this.Qb.J=this.g.v.J,this.Qb.L=this.g.v.L,this.Sj(this,this.Qb))};ea.prototype.hD=function(){null!==this.g.Yb&&this.g.Sc===Ba.Bg&&4<this.g.h?this.g.hb=0:this.g.ol()};ea.prototype.UG=function(a,b){0===a.g.hb&&(a.g.gf=performance.now());
do{this.g.dl();var c=performance.now()-b}while(14>c&&-1!==a.g.hb);-1===a.g.hb&&(a.g.gf=performance.now()-a.g.gf,a.D.M=10);a.D.Le(!0)};ea.prototype.Pl=function(a,b,c){a.h.locked=!1;b?c&&a.D.notification.notify("Cancelled",15,80,15,!0):a.dd&&(c||-1!==a.Yf)&&(a.D.notification.notify("Arrived at generation "+a.g.counter,15,150,15,!0),-1!==a.Yf&&(c=(performance.now()-a.Yf)/1E3,b=a.Dl/c|0,a.D.notification.notify("Calculated "+a.Dl+" gens in "+c.toFixed(1)+"s = "+b+"gps",15,1200,15,!1),a.Wn=c,a.Yr=a.Dl));
-1===a.Yf&&(0!==a.g.s||a.Ud||a.g.counter<=a.Td)&&a.D.notification.clear(!1,!1);a.T("");a.Fb=-1;a.Yf=-1};ea.prototype.nB=function(a){var b=performance.now();for(a.h.locked=!0;!a.wf()&&a.g.counter<a.Fb&&(-1!==a.Yf||13>performance.now()-b);)a.Ri(),a.wf()&&-1===a.vb&&(a.vb=a.g.counter,a.dd&&(-1===a.Lb||a.wa)&&(a.g.i||a.g.Z?a.D.notification.notify("Life ended at generation "+(a.g.Kb+a.Ga),15,600,15,!1):a.D.notification.notify("Life ended at generation "+(a.g.counter+a.Ga),15,600,15,!1))),a.Jm(a.g.counter,
0,1);a.Bm(a,!1,0,!1);a.gF(a);a.ia=a.g.counter*a.rc;a.D.Le(!0);(a.g.counter>=a.Fb||a.wf())&&a.Pl(a,0===a.g.s&&!(a.Ud||a.g.counter<=a.Td),!1)};ea.prototype.OG=function(a){var b=performance.now();a.h.locked=!0;a.ia=a.g.counter*a.rc;for(a.$l();a.gb&&13>performance.now()-b&&(0<a.g.s||a.Ud||a.g.counter<=a.Td);){-1===a.g.Ce&&(a.Ri(),0===a.g.s&&-1===a.vb&&(a.vb=a.g.counter,a.dd&&(a.km||a.g.counter<=a.Td||(a.g.i||a.g.Z?a.D.notification.notify("Life ended at generation "+(a.g.Kb+a.Ga),15,600,15,!1):a.D.notification.notify("Life ended at generation "+
(a.g.counter+a.Ga),15,600,15,!1)))),a.Jm(a.g.counter,0,1));if(0<a.g.s||a.Ud||a.g.counter<=a.Td){var c=a.g.Qn(a);0<c.length&&(c[0]===I.hy?(c[0]="Nothing Identified",a.$r="none",a.qb="none",a.nm="",a.li="",a.mm="",a.fo="",a.hi="",a.pm="",a.ki="",a.ii="",a.Tg="",a.Sg="",a.ji="",a.$n="",a.ko="",a.bo=""):(a.$r=c[0],a.qb=c[1],"Empty"!==a.qb&&(a.nm=c[2],a.li=c[3],a.mm=c[4],a.fo=c[5],a.hi=c[6],a.pm=c[7],a.ki=c[8],a.ii=c[9],a.Tg=c[10],a.Sg=c[11],a.ji=c[12],a.$n=c[13],a.ko=c[14],a.bo=c[15],a.bi.wb=a.hi,a.bi.R=
-1===a.hi.indexOf("|")?"":"min | max | average",a.sn.wb=a.mm,a.xn.wb=a.nm,a.En.wb=a.ki,a.Gn.wb=a.pm,a.sl.wb=a.li,a.sl.R=-1===a.li.indexOf("|")?"":"simplified | unsimplified",a.pk.wb=a.ii,a.pk.R=-1===a.ii.indexOf("|")?"":"min | max | average",a.In.wb=""===a.Sg?a.Tg+" | N/A":a.Tg+" | "+a.Sg,a.In.R="normal | strict",a.di.wb=a.ji,a.kk.wb=a.$n,a.kk.R="rotor | stator | total",a.xl.wb=a.ko,a.xl.R="active | rotor","Still Life"===a.qb?(a.di.wb=a.bo,a.ci.wb="Density"):a.ci.wb="Mod"),a.Rb=!0,a.$A()),a.gb=!1,
a.Hb&&(a.$b.current=a.vd(G.ne,!0,a)),a.T(""),a.Ee.wb=c[0],"Empty"===a.qb||"none"===a.qb||""===a.qb?(a.D.notification.notify(c[0],15,240,15,!1),a.Rb=!1):(a.D.notification.clear(!0,!1),a.D.notification.clear(!1,!1),a.ia=a.g.counter*a.rc,a.$l(),a.lb(!0,!1,G.Cf)),a.g.Xf(a.gb),a.h.locked=!1)}else a.gb=!1,a.Hb&&(a.$b.current=a.vd(G.ne,!0,a)),a.T(""),a.Rb=!1,a.g.Xf(a.gb),a.h.locked=!1;if(-1!==a.g.Ce){a.Pi.locked=!0;break}}a.Bm(a,!1,0,!1);a.ia=a.g.counter*a.rc;a.D.Le(!0)};ea.prototype.JG=function(a){for(var b=
a.du,c=performance.now(),d=this.hb,f=51*I.rp;a.g.counter<b&&13>performance.now()-c;)this.hb=b-1-a.g.counter<=f?!1:d,a.Ri();a.g.counter===b?(a.mh=!1,a.Ut&&a.D.notification.clear(!0,!1),a.ia=a.g.counter*a.rc,a.h.locked=!1):a.h.locked=!0;a.$E(a,b);a.Bm(a,!1,0,!1);a.hb=d;a.D.Le(!0)};ea.prototype.mE=function(){var a,b;var c=b=0;var d,f=1,e=xa.se;for(a=0;a<e.length;a+=1){var k=e[a].width;var g=e[a].height;k>b&&(b=k);g>c&&(c=g)}for(a=0;1<<a<=b||1<<a<=c;)a+=1;var l=1<<a;for(g=k=Math.ceil(Math.sqrt(e.length));4096<
k*l/f||4096<g*l/f;)f+=1;this.Ie=document.createElement("canvas");this.Ie.width=k*l/f;this.Ie.height=g*l/f;this.Mk=this.Ie.getContext("2d");this.Mk.fillStyle="black";this.Mk.fillRect(0,0,this.Ie.width,this.Ie.height);this.Nk=this.D.hb(this.cH,this.Uq,this);this.Nk.W=.2;var p=this.displayWidth/k;var n=this.displayHeight/g;for(c=0;c<g;c+=1)for(b=0;b<k;b+=1)if(a=c*g+b,a<e.length){var q=e[a].name;q.endsWith(".rle")&&(q=q.substring(0,q.length-4));q=this.Nk.i(this.YD,da.Zc,b*p,c*n,p,n,q);q.lower=a;this.Mk.fillStyle=
"rgb(32,255,255)";var m=e[a].map;var r=m.length;var u=m[0].length;for(d=1;r*d<l&&u*d<l;)d+=1;--d;1<d&&--d;var t=l-u*d>>1;var v=l-r*d>>1;var A=Math.ceil(d/f);for(q=0;q<r;q+=1){var w=m[q];for(a=0;a<u;a+=1)0<w[a]&&this.Mk.fillRect(Math.ceil((b*l+a*d+t)/f),Math.ceil((c*l+q*d+v)/f),A,A)}}this.D.fa(this.Nk);this.ja.fillStyle="blue";this.ja.fillRect(0,0,this.Ea.width,this.Ea.height)};ea.prototype.cH=function(a,b){a=b.Ie.width;var c=b.Ie.height;var d=b.displayWidth/a;var f=b.displayHeight/c;f>d&&(d=f);b.ja.fillStyle=
"black";b.ja.fillRect(0,0,b.Ea.width,b.Ea.height);b.ja.save();b.ja.translate(b.displayWidth/2,b.displayHeight/2);b.ja.scale(d,d);b.ja.imageSmoothingEnabled=!0;b.ja.imageSmoothingQuality="high";b.ja.drawImage(b.Ie,-(a/2),-(c/2));b.ja.restore()};ea.prototype.DG=function(a,b){var c=performance.now();b.mh?b.JG(b):b.gb?b.OG(b):-1!==b.Fb?b.nB(b):(b.ZG(a,b),b.g.o&&-1!==b.g.hb&&b.UG(b,c))};ea.prototype.Uq=function(a){a.g.counter=0;a.g.Kb=0;a.g.ge=0;a.ia=0;a.elapsedTime=0;a.g.fa=a.g.width>>1;a.g.ca=a.g.height>>
1;a.g.fa&=a.g.width-1;a.g.ca&=a.g.height-1;a.Wr=!0;a.vb=-1};ea.prototype.Rw=function(a,b,c){b&&(c.Dc=a[0]);return[c.Dc]};ea.prototype.Kx=function(a,b,c){b&&(c.kd=a[0]);return[c.kd]};ea.prototype.Rx=function(a,b,c){b&&(c.g.pc=a[0]);return[c.g.pc]};ea.prototype.Nx=function(a,b,c){b&&(c.Ia=a[0]);return[c.Ia]};ea.prototype.Ix=function(a,b,c){b&&(c.g.cc=a[0]);return[c.g.cc]};ea.prototype.$x=function(a,b,c){b&&(c.cg=a[0]);return[c.cg]};ea.prototype.Vr=function(a,b,c){b&&(c.Ad=a[0],c.hz(G.Gy,c.Ad),a=c.Ad?
c.Dx(G.Qs):G.Nc,c.CA(a),c.cc.current=1===c.M&&c.Z===G.Nc?c.vc([1,1],!0,c):c.vc([c.ef(),1],!0,c));return[c.Ad]};ea.prototype.nz=function(a){a.eC(G.Qs,a.M*a.Z);a.Wi.current=a.Vr([!0],!0,a)};ea.prototype.ey=function(a,b,c){b&&(c.me=a[0],c.hz(G.cB,c.me));return[c.me]};ea.prototype.dm=function(a,b,c){b&&(c.vh=a[0],c.th=a[1],c.uh=a[2]);return[c.vh,c.th,c.uh]};ea.prototype.vn=function(a,b,c){b&&(c.ra.current!==G.Ph&&(c.ra.current=c.le(G.Ph,!0,c)),c.da.current[0]&&(c.da.current=c.gf([!1],!0,c)),c.Da=a[0]);
return[c.Da]};ea.prototype.zB=function(a,b,c){b&&(c.g.fd=a[0]);return[c.g.fd]};ea.prototype.Px=function(a,b,c){b&&(c.$d=a[0]);return[c.$d]};ea.prototype.Cx=function(a,b,c){b&&(c.g.Ta=a[0]);return[c.g.Ta]};ea.prototype.yx=function(a,b,c){b&&(c.bd=a[0],c.bd&&!c.g.Ba&&(c.Za||c.uc)&&(c.fd.current=c.Dj([!0],!0,c)));return[c.bd]};ea.prototype.fs=function(a,b,c){b&&(c.g.Xb=a[0],c.g.Hk(),c.g.Fh(),0===(c.g.counter&1)?c.g.uf(c.g.xa):c.g.uf(c.g.Va));return[c.g.Xb]};ea.prototype.wx=function(a,b,c){b&&(c.g.dd=
a[0]);return[c.g.dd]};ea.prototype.Ax=function(a,b,c){b&&(c.jd=a[0]);return[c.jd]};ea.prototype.Xr=function(a,b,c){b&&(c.g.ta=a[0],c.px());return[c.g.ta]};ea.prototype.Ts=function(a,b,c){b&&(c.D.F=a[0]);c.D.Le(!0);return[c.D.F]};ea.prototype.ng=function(a,b,c){b&&(c.D.B=a[0]);c.D.Le(!0);return[c.D.B]};ea.prototype.Vf=function(a,b,c){if(c.g.pb!==a){c.g.ki(a,b,c);1<c.g.me&&(c.D.M=c.g.me);for(b=0;b<=c.g.ib;b+=1)c.Dh[b].current=a!==G.zp[b]?[!1]:[!0];c.l.o=!0;c.l.K=c.g.md;c.ld.current=[c.g.pc&&0<c.g.La]}};
ea.prototype.ef=function(){var a=G.Dy;this.Z>G.Nc&&(this.Z=G.Nc);var b=Math.sqrt((this.Z-G.og)/(G.Nc-G.og));var c=(this.M-G.yg)/(G.lg-G.yg);return 0===c?b*(1-a):c*(1-a)+1+a};ea.prototype.XA=function(a){var b=G.Dy;this.Z>G.Nc&&(this.Z=G.Nc);a<=1-b?(a/=1-b,this.Z=Math.round(G.og+a*a*(G.Nc-G.og)),this.M=1):(a<1+b?a=0:(a-=1+b,a/=1-b),this.Z=G.Nc,this.M=Math.round(G.yg+a*(G.lg-G.yg)))};ea.prototype.vc=function(a,b,c){var d=c.ef();b&&(d=a[0],c.XA(d));c.Z>G.Nc&&(c.Z=G.Nc);return[d,Math.round(c.Z)<G.Nc?String(Math.round(c.Z))+
"/s":String(Math.round(c.M))+"x"]};ea.prototype.Gw=function(a){a.oj=a.g.zoom;a.ha&&(a.oj*=a.Vb);a.Pw=a.g.angle;a.Qz=a.g.Jb;a.ya=a.g.fa;a.Bb=a.g.ca};ea.prototype.by=function(a){a.$f=a.g.width/2-a.g.fa;a.bg=a.g.height/2-a.g.ca;a.Ch=a.g.zoom;a.Kf=a.g.angle;a.Zf=a.g.Jb;a.nf=a.g.width/2-a.ya;a.aj=a.g.height/2-a.Bb;a.dk=a.Pw;a.$i=a.Qz;a.Th=a.ha?a.oj/a.Vb:a.oj;a.Ec=0};ea.prototype.uB=function(a,b){a.g.zoom=a.ZA;a.ha&&(a.g.zoom/=a.Vb);a.dc&&(a.dc.current=a.Rd([a.g.zoom,a.g.zoom],!1,a));a.g.angle=a.Ti;a.oa&&
(a.oa.current=[a.Ti,a.Ti]);a.g.Jb=a.Xi;a.Wa&&(a.Wa.current=[a.Wj(a.Xi),a.Xi]);a.g.fa=a.va;a.g.ca=a.pb;b&&(a.Vf(a.$m,1,a),a.La&&(a.g.Ad=0),a.Z=a.Wm,a.M=a.Ym,a.cc.current=1===a.M&&a.Z===G.Nc?a.vc([1,1],!0,a):a.vc([a.ef(),1],!0,a),a.g.za=a.Ui,a.ab.current=[a.Ui,a.Ui],b=Math.sqrt(a.Iw),a.Fa.current=a.hf([b,b],!0,a),a.xh.current=this.fs([this.Kw],!0,a))};ea.prototype.cz=function(a){a?(this.g.fa+=this.g.ua,this.g.ca+=this.g.oa,this.g.zoom*=this.g.Ga):(this.$l(),this.g.fa-=this.g.ua,this.g.ca-=this.g.oa,
this.g.zoom/=this.g.Ga,this.$l());this.g.zoom<G.ob?this.g.zoom=G.ob:this.g.zoom>G.Ib&&(this.g.zoom=G.Ib)};ea.prototype.Yx=function(a){a.elapsedTime=0;a.La||(a.g.hg(a,a.hb),a.g.Vg())};ea.prototype.reset=function(a){var b=!1,c=!1,d=a.m.C();this.lm=!1;this.Zi&&this.g.Lj();0===a.g.counter&&a.D.Ab();if(0===a.elapsedTime||a.on)b=!0;a.wa||-1===a.Lb||a.g.counter>=a.Lb&&(c=!0);a.g.Kb=0;a.g.ge=0;c||b||(a.Aa&&(a.eb=!0),a.cb&&(a.Kb=!0),-1!==a.Lb&&(a.wa=!0),-1!==a.jc&&(a.Gb=!0),a.zo&&(a.fa=!1));a.elapsedTime=
0;a.g.ua=0;a.g.oa=0;a.g.Ga=1;if(b){(this.g.Z||this.g.i)&&null!==this.g.eb&&a.Hm&&(a.g.Fb=!0);a.Aa&&(a.eb=!1);a.cb&&(a.Kb=!1);a.zo&&(a.fa=!0);if(!c||a.Aa&&a.m.K||a.fa)a.uB(a,b),a.fa&&a.lb(!0,!1,G.Cf);a.wa=!1;c||(a.Gb=!1)}a.La||(a.g.hg(a,a.hb),Array.vg(a.g.O,a.g.ra),Array.vg(a.g.O,a.g.B),-1!==a.g.C&&a.g.zg(),a.g.F||(-1===a.g.h?a.g.uf(a.g.xa):a.g.xe()));a.Yb||a.g.Wg();a.g.Vg();a.cs=-1;a.ec=!1;a.m.Qa();a.gb&&(a.gb=!1,a.D.notification.clear(!0,!1));a.g.Xf(a.gb);b?d&&d.Rq?d.oe!==a.Ge&&(a.D.notification.notify(Lb.fm(a,
d.oe),15,21600,15,!1),a.Ge=d.oe):(a.D.notification.clear(!1,!1),a.Ge=""):(a.D.notification.clear(!1,!1),a.Ge="");a.vb=-1;a.g.bg=0;a.Zm(a.g.counter);a.Rb=!1;a.xt()};ea.prototype.Ah=function(a){var b=this.g.bb;if(a){var c="pause";a="pause [Enter]"}else a="play [Enter]",this.g.Z||this.g.i?(this.g.Fb&&(b=!b),c=b?"reverse":"play"):c="play";if(this.g.Z||this.g.i)if(b=this.g.bb,this.g.Fb&&(b=!b),b){var d="stepback";b="stepforward";var f="step back [Shift Tab]";var e="step forward [Tab]"}else d="stepforward",
b="stepback",f="step forward [Tab]",e="step back [Shift Tab]";else d="stepforward",b="stepback",f="step forward [Tab]",e="step back [Shift Tab]";this.$b.h[G.ne]=this.l.h(d);d=this.$b.R;d[G.ne]=f;this.$b.R=d;this.$b.h[G.Xn]=this.l.h(b);d=this.$b.R;d[G.Xn]=e;this.$b.R=d;this.$b.h[G.Li]=this.l.h(c);this.$b.R[G.Li]=a};ea.prototype.YD=function(a,b){b=a.D.h.u[b].lower;a.D.fa(a.h);xa.Tl=!1;a.Na=b;a.oh(xa.se[a.Na].pattern,!1)};ea.prototype.Jx=function(a){xa.Tl=!0;a.D.fa(a.Nk)};ea.prototype.vE=function(a){localStorage.setItem(G.Ky,
"y");a.jz()};ea.prototype.Cc=function(a,b){b.Bd=a;b.s=1;b.pj=!0;b.qn=[];b.qm=[];this.Pr=!0};ea.prototype.BC=function(a){a.Cc(G.Bt,a)};ea.prototype.kC=function(a){a.Cc(G.Lv,a)};ea.prototype.mC=function(a){a.Cc(G.eq,a)};ea.prototype.YC=function(a){a.Cc(G.$v,a)};ea.prototype.EB=function(a){a.Cc(G.Gs,a)};ea.prototype.GE=function(a){a.Cc(G.ds,a)};ea.prototype.NC=function(a){a.Cc(G.bu,a)};ea.prototype.RE=function(a){a.Cc(G.hs,a)};ea.prototype.vB=function(a,b,c){b&&(c.s=c.v[a][0],c.pj=!1);return a};ea.prototype.Rr=
function(a,b,c){b&&(c.Sd=a[0],c.Sd&&c.Oj(c));return[c.Sd]};ea.prototype.FC=function(a){a.Oj(a)};ea.prototype.Zr=function(a,b,c){b&&(c.rd=a[0]);return[c.rd]};ea.prototype.Tr=function(a,b,c){b&&(c.Wb=a[0],c.Wb&&(c.gn=!0));return[c.Wb]};ea.prototype.le=function(a,b,c){var d=a;if(b){switch(a){case G.wk:c.hj=!1;c.K||c.g.da?d=c.ra.current:(c.Za=!0,c.Uc.current=c.je([!1],!0,c),c.uc=!1);c.Do(c);c.bd&&(c.fd.current=c.Dj([!0],!0,c));break;case G.xk:c.Za=!1;c.Uc.current=c.je([!1],!0,c);c.uc=!0;c.bd&&(c.fd.current=
c.Dj([!0],!0,c));break;case G.Ph:c.Za=!1,c.uc=!1,c.Uc.current=c.je([!1],!0,c),c.Do(c),c.bd&&(c.fd.current=c.Dj([!1],!0,c))}c.qn=[];c.qm=[];c.da.current[0]&&(c.da.current=c.gf([!1],!0,c),c.D.i=!0);c.Da&&(c.Da=!1,c.De.current=c.vn([c.Da],!0,c))}c.er(d);return d};ea.prototype.er=function(a){if(this.s||this.$)this.h.$("grab");else switch(a){case G.wk:this.h.$("auto");break;case G.Ph:this.h.$("grab");break;case G.xk:this.h.$("crosshair")}};ea.prototype.Ex=function(a,b,c){b&&(c.mb=a,c.ak(),c.He.current=
[!1],c.D.i=!0,c.qa?c.Ft(c,a):c.D.notification.notify("Clipboard "+a+" active",15,80,15,!0));return c.mb};ea.prototype.BB=function(){return G.zw[this.Ed.current]};ea.prototype.bs=function(a,b,c){b&&(c.Pf=a,c.Pa=G.zw[a]);return c.Pf};ea.prototype.BD=function(a){a.K||(a.Pf+=1,3<a.Pf&&(a.Pf=0),a.Ed.current=a.bs(a.Pf,!0,a))};ea.prototype.ur=function(a){var b=-1,c,d=0,f=0,e=0,k=0;for(c=0;c<a.length&&-1===b;){switch(a.charAt(c)){case "N":d+=1;break;case "S":f+=1;break;case "E":e+=1;break;case "W":k+=1;break;
default:b=-2}c+=1}if(1<d||1<f||1<e||1<k)b=-2;-2!==b&&(b=d|e<<1|f<<2|k<<3);return b};ea.prototype.Zw=function(a){var b=-1,c;'"'===a.charAt(0)&&(a=a.substring(1,a.length-1));if(this.g.o)for(c=0;c<this.Me.length&&-1===b;)void 0!==this.Me[c]&&this.Me[c]===a&&(b=c),c+=1;else if(2>=this.g.h)if(this.g.F)for(c=0;c<G.Me.length&&-1===b;)G.Me[c]===a&&(b=c),c+=1;else"alive"===a?b=1:"dead"===a&&(b=0);else if("dead"===a)b=0;else if(this.g.i)b=this.ur(a);else if(this.g.l)for(c=0;c<I.Zn.length&&-1===b;)I.Zn[c]===
a&&(b=c),c+=1;else if(this.g.A)for(c=0;c<I.Yn.length&&-1===b;)I.Yn[c]===a&&(b=c),c+=1;else"alive"===a?b=1:"dying "===a.substring(0,6)&&(b=Number(a.substring(6))+1,b>=this.g.h&&(b=-1));return b};ea.prototype.sh=function(a){var b="";if(this.g.o)b=void 0===this.Me[a]?"state "+String(a):this.Me[a];else if(2>=this.g.h)if(this.g.F)b=G.Me[a];else switch(a){case 0:b="dead";break;case 1:b="alive";break;default:b="state "+String(a)}else 0===a?b=this.g.da?"state 0":"dead":this.g.i?(0!==(a&1)&&(b+="N"),0!==(a&
2)&&(b+="E"),0!==(a&4)&&(b+="S"),0!==(a&8)&&(b+="W")):b=this.g.l?I.Zn[a]:this.g.A?I.Yn[a]:this.g.da?"state "+String(a):1===a?"alive":"dying "+String(a-1);return b};ea.prototype.ws=function(a,b,c){var d=a;b&&(2>=c.g.h?c.Re=a:(a+=c.Ub,c.Re=0===a?0:c.g.da||c.g.i||c.g.o||c.g.l||c.g.A?a:c.g.h-a),c.Yg?c.D.notification.notify("Replace: Now click on a cell",15,180,15,!0):(c.Uc.current=c.je([!1],!0,c),c.D.notification.notify("Drawing with state "+a+" ("+c.sh(a)+")",15,120,15,!0)));return d};ea.prototype.Nd=
function(a){var b=this.g.h,c=this.Zb;-1===b&&(c=b=2);this.g.F&&(c=b=7);a<b&&(a>=c?(this.Ub=a-c+1,a=c-1):a>=this.Ub?a-=this.Ub:(this.Ub=a,a=0),this.Qa.current=this.ws(a,!0,this),this.Il.current=this.Cs([this.Ub/(this.g.h-this.Zb),0],!0,this))};ea.prototype.HB=function(a,b,c){var d=0;if(b)for(;d<a.length;)a[d]&&(a[d]=!1,c.Qa.current=c.ws(d,!0,c)),d+=1;return a};ea.prototype.mB=function(a){var b=0,c=this.Re,d=this.g.Na;var f=this.ca;var e=d.H,k=d.J;var g=d.I;d=d.L;var l=(this.g.width>>1)-(this.A>>1)+
(this.V<<1);var p=(this.g.height>>1)-(this.B>>1)+(this.X<<1);2<this.g.h&&!(this.g.da||this.g.i||this.g.o||this.g.l||this.g.A)&&0<a&&(a=this.g.h-a);this.P&&(e=f.H+l,k=f.J+l,e>k&&(l=k,k=e,e=l),g=f.I+p,d=f.L+p,g>d&&(l=d,d=g,g=l));if(c!==a){for(;g<=d;g+=1)for(f=e;f<=k;f+=1)p=this.g.Pa(f,g,!1),2<this.g.h&&!(this.g.l||this.g.A||this.g.i||this.g.o)&&0<p&&(p=this.g.h-p),p===a&&(this.la(f,g,c,!1),b+=1);0<b&&(!this.g.F&&!this.g.l||6!==a&&6!==c||this.g.Za(),this.T("replace states"))}else this.D.notification.notify("Cell and drawing state are the same",
15,120,15,!0)};ea.prototype.Ko=function(a,b,c){var d=a.Re,f=a.g.Na,e=0,k=0;if(0<d)if(2<a.g.h&&!(a.g.da||a.g.i||a.g.o||a.g.l||a.g.A)&&(d=a.g.h-d),a.g.F&&1<d&&(k=d&1),a.g.F&&b)if(c){for(c=f.I;c<=f.L;c+=1)for(b=f.H;b<=f.J;b+=1){var g=a.g.Pa(b,c,!1);3<=g&&5>=g&&(a.la(b,c,g&1,!1),e+=1)}0<e&&(a.g.l?a.T("clear [R]Super marked cells"):a.T("clear [R]History marked cells"))}else{for(c=f.I;c<=f.L;c+=1)for(b=f.H;b<=f.J;b+=1)g=a.g.Pa(b,c,!1),1<g&&(a.la(b,c,g&1,!1),e+=1);0<e&&(a.g.l?a.T("clear Super cells"):(this.g.Za(),
a.T("clear History cells")))}else{for(c=f.I;c<=f.L;c+=1)for(b=f.H;b<=f.J;b+=1)g=a.g.Pa(b,c,!1),g===d&&(a.la(b,c,k,!1),e+=1);0<e&&((a.g.F||a.g.l)&&6===d&&this.g.Za(),a.T("clear state "+d+" cells"))}return e};ea.prototype.vd=function(a,b,c){var d=a,f=c.Gb,e=c.wa,k=c.eb,g=c.hc,l=c.fa,p=c.Kb,n=40,q=0,m=0,r=0,u=0,t=0,v=0,A=0;if(b){c.hj=!1;switch(a){case G.ju:c.hc=c.on||c.Mb&&0===c.g.counter&&0===c.elapsedTime?!1:!0;c.Mb&&!c.hc?(a=G.Li,c.Hb=!0):(a=G.ne,c.Hb=!1);c.T("");c.reset(c);b="Reset";!c.wa&&e&&-1!==
c.Lb&&(m=1);c.wa&&!e&&-1!==c.Lb&&(m=-1);!c.Gb&&f&&-1!==c.jc&&(r=1);c.Gb&&!f&&-1!==c.jc&&(r=-1);!l&&c.fa&&(A=1);l&&!c.fa&&(A=-1);!c.eb&&k&&(u=1);c.eb&&!k&&(u=-1);!c.Kb&&p&&(t=1);c.Kb&&!p&&(t=-1);!c.hc&&g&&c.Mb&&(v=1);c.hc&&!g&&c.Mb&&(v=-1);if(0!==m||0!==r||0!==u||0!==t||0!==v||0!==A)b="",0!==m&&(q+=1,b+="Loop"),0!==r&&(0<q&&(b=0<Math.abs(u)+Math.abs(t)+Math.abs(v)+Math.abs(A)?b+", ":b+" and "),q+=1,b+="Stop"),0!==u&&(0<q&&(b=0<Math.abs(t)+Math.abs(v)+Math.abs(A)?b+", ":b+" and "),q+=1,b+="Waypoints"),
0!==t&&(0<q&&(b=0<Math.abs(v)+Math.abs(A)?b+", ":b+" and "),q+=1,b+="Track"),0!==v&&(0<q&&(b=0!==A?b+", ":b+" and "),q+=1,b+="AutoStart"),0!==A&&(0<q&&(b+=" and "),b+="AutoFit"),b=0<r||0<m||0<u||0<t||0<v||0<A?b+" On":b+" Off",n=120;c.D.notification.notify(b,15,n,15,!0);break;case G.Li:c.Hb?(c.Hb=!1,c.T(""),(c.g.counter!==c.jc||c.Gb||c.dd)&&c.D.notification.notify("Pause",15,40,15,!0),c.Ug=performance.now()-c.Ug,c.an&&c.D.notification.notify("Playback time "+(c.Ug/1E3).toFixed(2),15,300,15,!1)):(c.Aa&&
!c.eb&&(c.g.Z||c.g.i)&&(c.g.bb||!c.g.bb&&c.g.Fb)&&c.dr(c),c.Hb=!0,c.T(""),c.dn&&xa.Xv(c),c.D.notification.notify("Play",15,40,15,!0),c.Ug=performance.now());break;case G.Xn:if(c.Hb)c.Hb=!1,c.T(""),c.D.notification.notify("Pause",15,40,15,!0);else{if((c.g.Z||c.g.i)&&null!==c.g.eb){c.g.Fb=!c.g.Fb;c.g.Fb&&c.T("reverse playback");c.T("");for(f=0;f<c.M;f+=1)c.Ri(),c.ia=c.g.counter*c.rc,c.wf()&&-1===c.vb&&(c.vb=c.g.counter,c.dd&&(-1===c.Lb||c.wa)&&(c.g.i||c.g.Z?c.D.notification.notify("Life ended at generation "+
(c.g.Kb+c.Ga),15,600,15,!1):c.D.notification.notify("Life ended at generation "+(c.g.counter+c.Ga),15,600,15,!1)));c.g.Fb=!0}else 0<c.g.counter&&(c.Zm(c.g.counter-c.M),q=c.g.s,c.Vo(c.g.counter-c.M),0===q&&0<c.g.s&&(c.vb=-1),0===c.g.counter&&(c.g.F||(-1===c.g.h?c.g.uf(c.g.xa):c.g.xe())));c.fa&&c.lb(!0,!0,G.Cf)}break;case G.ne:c.Hb?(c.Hb=!1,c.T(""),(c.g.counter!==c.jc||c.Gb||c.dd)&&c.D.notification.notify("Pause",15,40,15,!0),c.Ug=performance.now()-c.Ug,c.an&&c.D.notification.notify("Playback time "+
(c.Ug/1E3).toFixed(2),15,300,15,!1)):(c.md=!0,c.T(""))}d=a;c.Ah(c.Hb)}return d};ea.prototype.kg=function(a,b,c){b&&(c.ec=!0,c.g.angle=a[0]);return[c.g.angle,c.g.angle]};ea.prototype.Wj=function(a){var b=.5/(.5-G.nk/2);a=(a-G.jp)/(G.au-G.jp);a<.5-G.nk/2?a*=b:a>.5+G.nk/2?(a-=.5+G.nk/2,a=a*b+.5):a=.5;return a};ea.prototype.iC=function(a){var b=.5/(.5-G.nk/2);a<.5-G.nk/2?a*=b:a>.5+G.nk/2?(a-=.5+G.nk/2,a=a*b+.5):a=.5;return(G.au-G.jp)*a+G.jp};ea.prototype.Fj=function(a,b,c){b&&(c.ec=!0,c.g.Jb=c.iC(a[0]));
return[a[0],c.g.Jb]};ea.prototype.hm=function(a,b,c){b?(c.ec=!0,c.g.za=a[0]+.5|0,a=a[0]):a=c.g.za;return[a,c.g.za]};ea.prototype.hf=function(a,b,c){return b?(c.ec=!0,c.g.Wb=a[0]*a[0],[a[0],c.g.Wb*G.kl]):[Math.sqrt(c.g.Wb),c.g.Wb*G.kl]};ea.prototype.BG=function(a,b,c,d){var f=Math.round(-this.g.M/2),e=Math.floor((this.g.M-1)/2),k=Math.round(-this.g.K/2),g=Math.floor((this.g.K-1)/2),l=this.Re;if(-1===c&&-1===d){if(-1!==this.g.C&&(0===this.g.M&&(f=-this.g.width/2,e=this.g.width/2-1),0===this.g.K&&(k=
-this.g.height/2,g=this.g.height/2-1),this.Ej(a,b),c=this.yc-this.g.width/2,d=this.zc-this.g.height/2,c<f||c>e||d<k||d>g))return!0;this.Sk=this.Qw();2<this.g.h&&!(this.g.da||this.g.i||this.g.o||this.g.l||this.g.A)&&(l=this.g.h-l);this.Sk=this.Bh&&this.Sk===l?0:this.Re}else this.Ej(c,d),c=this.yc,d=this.zc,this.Ej(a,b),a=this.yc,b=this.zc,this.xG(c,d,a,b,this.Sk)&&this.g.Za();0<this.g.s&&(this.vb=-1);return!1};ea.prototype.ux=function(){var a=Math.abs(this.wu-this.lu),b=Math.abs(this.wv-this.gv),c=
Math.abs(this.Uk-this.Tk),d=Math.abs(this.Wk-this.Vk),f=G.ob*Math.pow(G.Ib/G.ob,this.dc.current[0]);f*=Math.sqrt(c*c+d*d)/Math.sqrt(a*a+b*b);f<G.ob?f=G.ob:f>G.Ib&&(f=G.Ib);f=Math.log(f/G.ob)/Math.log(G.Ib/G.ob);this.dc.current=this.Rd([f,f],!0,this);this.lu=this.Tk;this.gv=this.Vk;this.wu=this.Uk;this.wv=this.Wk};ea.prototype.DB=function(a,b,c,d,f,e){if(!e.Ja)switch(f){case 0:e.lu=a;e.gv=b;e.wu=c;e.wv=d;e.Tk=a;e.Vk=b;e.Uk=c;e.Wk=d;break;case 1:e.Tk=a;e.Vk=b;e.ux();break;case 2:e.Uk=a,e.Wk=b,e.ux()}e.D.Le(!0)};
ea.prototype.LB=function(a,b,c,d){d.jd&&!c&&(d.$b.current=d.vd(G.ne,!0,d))};ea.prototype.rB=function(a,b,c,d){d.Ja||d.Gx(a,b,c,d,!1)};ea.prototype.rF=function(a,b){b=(a.Hc-b)/a.gk;-1!==a.Hc&&(0<b?a.Rm(a,b):0>b&&a.Tm(a,-b))};ea.prototype.lF=function(a,b){b=(a.Hc-b)/a.gk;-1!==a.Hc&&(0<b?a.Nm(a,b):0>b&&a.Pm(a,-b))};ea.prototype.kG=function(a,b){b=(a.Hc-b)/(24*this.h.s);-1!==a.Hc&&(a.g.fb+=b,0>a.g.fb&&(a.g.fb=0),a.g.fb>a.g.Vc&&(a.g.fb=a.g.Vc))};ea.prototype.AF=function(a,b,c){b=(a.Rg-b)/a.g.P;c=(a.Hc-
c)/a.g.P/a.g.Hi();if(!a.fa&&-1!==a.Hc){var d=a.g.ga||a.g.W?0:-a.g.angle;if(a.Ta)a.Aa&&!a.eb&&(a.$b.current=a.vd(G.ne,!0,a));else{var f=Math.sin(d/180*Math.PI);d=Math.cos(d/180*Math.PI);a.ec=!0;a.g.fa+=b*d+c*-f;a.g.ca+=b*f+c*d}}};ea.prototype.zE=function(a,b,c){var d=a.Hb,f=a.Ka,e=!1;a.Vd||(a.Hb&&a.ej&&(a.Hb=!1,a.hj=!0),d&&(a.Ka=0,a.T(""),a.Ka=f),e=a.BG(b,c,a.Rg,a.Hc),d&&a.T(""));return e};ea.prototype.RF=function(a,b,c){a.qa||a.qE(a,b,c)};ea.prototype.Xw=function(a,b){var c=this.g.width>>1,d=this.g.height>>
1;this.fc?(c-=Math.floor(this.ta/2)-this.V-this.V,d-=Math.floor(this.sa/2)-this.X-this.X):(c-=Math.floor(this.ta/2),d-=Math.floor(this.sa/2));0===this.g.M?(a.H=0,a.J=this.g.width-1):(a.H=Math.round((this.g.width-this.g.M)/2)+b,a.J=a.H+this.g.M-1);0===this.g.K?(a.I=0,a.L=this.g.height-1):(a.I=Math.round((this.g.height-this.g.K)/2)+b,a.L=a.I+this.g.K-1);return[c,d]};ea.prototype.qE=function(a,b,c){var d=a.ca,f=new Sa(0,0,0,0),e=(a.g.width>>1)-(a.A>>1)+(a.V<<1),k=(a.g.height>>1)-(a.B>>1)+(a.X<<1),g=
a.g.Z?-1:0;-1!==a.g.C&&(k=a.Xw(f,g),e=k[0],k=k[1]);if(-1!==b&&-1!==c)if(a.P&&a.gl(a),a.Ej(b,c),-1===a.Hc)a.pA=b,a.vA=c,a.P=!1,a.wd=!1;else{if(a.Sc)d.J=a.yc-e,d.L=a.zc-k;else if(b!==a.pA||c!==a.vA)b=!1,-1!==a.g.C&&(a.yc<f.H||a.yc>f.J||a.zc<f.I||a.zc>f.L)&&(b=!0),b||(a.Sc=!0,d.H=a.yc-e,d.J=d.H,d.I=a.zc-k,d.L=d.I);a.Sc&&(a.mz(a),-1!==a.g.C?(k=a.Xw(f,g),e=k[0],k=k[1]):(e=(a.g.width>>1)-(a.A>>1)+(a.V<<1),k=(a.g.height>>1)-(a.B>>1)+(a.X<<1)));a.Sc&&-1!==a.g.C&&(f.H-=e,f.J-=e,f.I-=k,f.L-=k,d.H<d.J?(d.H<
f.H&&(d.H=f.H),d.J>f.J&&(d.J=f.J)):(d.J<f.H&&(d.J=f.H),d.H>f.J&&(d.H=f.J)),d.I<d.L?(d.I<f.I&&(d.I=f.I),d.L>f.L&&(d.L=f.L)):(d.L<f.I&&(d.L=f.I),d.I>f.L&&(d.I=f.L)))}};ea.prototype.gl=function(a){a.P=!1;a.wd=!1;a.T("cancel selection");a.Sc=!1};ea.prototype.eF=function(a){a.qa?a.eu(a,a.yc,a.zc,!0):a.iE(a)};ea.prototype.Oj=function(a){var b=a.ca,c=a.g.v,d=b.H,f=b.I,e=b.J,k=b.L,g,l=0,p=(a.g.width>>1)-(a.A>>1)+(a.V<<1),n=(a.g.height>>1)-(a.B>>1)+(a.X<<1);a.g.lb=!0;a.g.Qb();if(d>e){var q=d;d=e;e=q}f>k&&
(q=f,f=k,k=q);d<c.H-p&&(d=c.H-p);f<c.I-n&&(f=c.I-n);e>c.J-p&&(e=c.J-p);k>c.L-n&&(k=c.L-n);c=e+1;q=d-1;var m=k+1;var r=f-1;for(g=f;g<=k;g+=1)for(f=d;f<=e;f+=1){var u=a.g.Pa(f+p,g+n,!1);0<u&&(g<m&&(m=g),g>r&&(r=g),f<c&&(c=f),f>q&&(q=f),l+=1)}0<l&&(b.H=c,b.I=m,b.J=q,b.L=r)};ea.prototype.iE=function(a){var b=a.ca;if(a.Sc)if(a.P=!0,a.Sc=!1,a.wd=!1,a.Sd&&a.Oj(a),a.P){var c=b.J<b.H?b.H-b.J+1:b.J-b.H+1;b=b.L<b.I?b.I-b.L+1:b.L-b.I+1;a.T("selection ("+c+" x "+b+")")}else a.gl(a)};ea.prototype.YE=function(a,
b,c){-1!==b&&-1!==c&&(a.Ur=!0,b=a.Qw(),a.Yg?(a.mB(b),a.Yg=!1,a.Uc.current=a.je([!1],!0,a)):(a.Sk=b,a.Nd(b)))};ea.prototype.HE=function(a){a.hj&&(a.Hb=!0,a.hj=!1,a.D.Le(!0));0<a.Ka&&(a.g.Qb(),a.T(""))};ea.prototype.Gx=function(a,b,c,d,f){var e=!1;-1!==a&&-1!==b&&d.D.o&&(c?(d.da.current[0]||(d.s?d.rF(d,b):d.$?d.lF(d,b):d.Rb&&1===d.Gd&&0!==d.g.Vc?d.kG(d,b):!d.Za&&!d.uc||f?d.AF(d,a,b):d.Za?e=d.zE(d,a,b):d.uc&&d.RF(d,a,b)),e||(d.Rg=a,d.Hc=b)):-1!==d.Rg?(d.s||d.da.current[0]||(d.Za?d.Vd?d.YE(d,a,b):d.HE(d):
d.uc&&d.eF(d)),d.Rg=-1,d.Hc=-1):d.s||d.da.current[0]||(d.Vd?d.Yg?d.D.notification.notify("Replace: Now click on a cell",15,180,15,!0):d.D.notification.notify("Pick: Now click on a cell",15,180,15,!0):d.qa&&d.D.notification.notify("Now click to paste",15,180,15,!0)))};ea.prototype.yf=function(a,b){this.fa||(8>this.g.zoom&&(0>a?a=-8:0<a&&(a=8),0>b?b=-8:0<b&&(b=8)),this.Hc=this.Rg=0,this.Gx(a,b,!0,this,!0),this.Hc=this.Rg=-1)};ea.prototype.Nb=function(a){return Math.ceil(Math.log2(a+1))};ea.prototype.qF=
function(a){var b=new Uint8Array(6*Math.ceil(a.length/8)),c,d,f,e;var k=7;for(e=c=d=0;d<a.length;){var g="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".indexOf(a.charAt(d));for(f=5;0<=f;--f)e|=(g>>f&1)<<k,--k,0>k&&(b[c]=e,e=0,k=7,c+=1);d+=1}7>k&&(b[c]=e);return b};ea.prototype.decode=function(a){a=new Qb(this.qF(a));var b,c=a.h(12);var d=a.h(12);var f=a.h(4);var e=c/d;var k=c/e,g=new Uint8Array(e),l=new Uint8Array(e),p=new Uint8Array(e),n=c,q=d-2*f,m=0,r=0,u=0,t=0;for(b=0;b<e;b+=
1)g[b]=a.h(4),l[b]=a.h(4),n-=g[b]+l[b];var v=this.Nb(e);for(b=0;b<e;b+=1)p[b]=a.h(v);v=this.Nb(Math.ceil(-1+Math.sqrt(1-8*-n*q)/2));var A=a.h(v);var w=a.h(this.Nb(n));var z=new Uint32Array(A);z[0]=a.h(this.Nb(n));var D=a.h(this.Nb(A));for(b=1;0<D;)z[b]=z[b-1]+1,b+=1,--D;D=b+a.h(this.Nb(A));for(v=2;b<D;)z[b]=z[b-1]+a.h(v)+1,b+=1;D=b+a.h(this.Nb(A));for(v=3;b<D;)z[b]=z[b-1]+a.h(v)+1,b+=1;for(v=this.Nb(w);b<A;)z[b]=z[b-1]+a.h(v),b+=1;v=this.Nb(Math.ceil(-1+Math.sqrt(1-8*-n*q)/2));w=a.h(v);var F=a.h(this.Nb(n));
A=new Uint32Array(w);A[0]=a.h(this.Nb(n));D=a.h(this.Nb(w));for(b=1;0<D;)A[b]=A[b-1]+1,b+=1,--D;D=b+a.h(this.Nb(w));for(v=2;b<D;)A[b]=A[b-1]+a.h(v)+1,b+=1;D=b+a.h(this.Nb(w));for(v=3;b<D;)A[b]=A[b-1]+a.h(v)+1,b+=1;for(v=this.Nb(F);b<w;)A[b]=A[b-1]+a.h(v),b+=1;v=this.Nb(q);w=new Uint32Array(q);for(b=0;b<q;b+=1)w[b]=a.h(v);v=new Uint32Array(n);for(b=F=0;b<e;b+=1){var L=g[b];var O=l[b];for(D=0;D<k-L-O;D+=1)v[F]=p[b]*k+L+D,F+=1}D=document.createElement("canvas");D.width=c;D.height=d;b=D.getContext("2d");
b.clearRect(0,0,c,d);p=b.createImageData(c,d);F=new Uint32Array(p.data.buffer);k=-1;l=g=0;d=this.Nb(z.length);for(e=this.Nb(A.length);l<q;)if(-1===k)u=a.h(1),r=a.h(1),k=(w[l]+f)*c,m=0;else{D=a.h(2);switch(D){case 0:D=a.h(1);t=0===D?4:3;break;case 1:t=0;break;case 2:D=a.h(1);1===D?t=2:(D=a.h(1),0===D?t=5:(D=a.h(1),t=0===D?6:7));break;case 3:t=1}0===t&&(0===r?(t=a.h(d),t=t===z.length?n-m:z[t]):(t=a.h(e),t=t===A.length?n-m:A[t]));for(D=0;D<t;D+=1)1===r&&(F[k+v[m]]=4294967295),1===u&&(F[k+v[m]]^=F[g+
v[m]]),m+=1;r=1-r;m===n&&(g=k,l+=1,k=-1)}b.putImageData(p,0,0);return b};ea.prototype.hB=function(a){var b=G.cq,c=[8,11,16,17,44],d,f,e;null===b&&(b=this.decode("dYAoERERERISIiIiIiIiJEM1WIZofMZlWId3d3iHd3iYiIiIiIiIh3uIuJi///M5mZMyC0EbBhyUl4KjK22WobTmDU1FnYowAQgxBSlXHn5JaKT5p7jeDIBDMugiAAgSABKlFgQIAoGA8EIEE80EEEQkdAREbIKgUAQwKWOERomkoiqgsecuwaYy0WU24SQ68O+MLBCJEHGFICBKT58+egefPnz458+fPQFQFQFQDJTROEXxnGg9L/pz7947/886KzofQOLLR0kNoL6KgNADA7oD6KgONC8kyDsX0DUlLTpGSUQIAwEEJ/////+l16AZIJYVBSoOxUVRUoEDISQK4hBAiQOgO3//6z//8oC1nBLnz58mTnQ5SxTn3vnH6Av+is6RmyM5kr9DaC/H/oApbRG0FTm/H635d5bKQLJA75rVAVAVAV1/n+255aF0NovxcVG8tJUVE9P49CUVDVB2KhKgQZT7pHFQ+stDbOq91NoID9IagotoqEqNILHqaB3fMIwYMGC4tDlLFQdKAseeo/SHk4/YdygNKm1B2mgBB3tnFukclD1nqnKB9RHKp4iQKaIKkQLJA75r1AVAVAba0dUdVH/f/EdOktI9IvfQdloDlUZeoWWUBoe9QJtQdpJBQdt7wgdI2lD1WUZkcVIVHBHVF1K1F8tAcv1JoKDeoa+RGmBUFCFqMoq4UDuFCL3fMG9N6b03pvWvE4Sf6HKWKdqA5f99AaL/R+eL31jURL/QGh6iag6gCCg6UUBJ+EPWeqckrCGt6I0RorvLunqKpUCyQO+atQFQFQFdWMX/yOdQehtE45n0VijSdQ1g3QGhqif0D+gaKg6P+UZyt5Ieo7lpXQWzamaiqiqdRaDuc9Q1vwKiNFCQRVReNj407u/nz589Dz58+eDem9N6b07chSlLFRZsgL/+pdCG6wqGsG6A4vxUT+gf0DRUHZoBBWkoXqFPTVypyW3OcEdp+VRFRIkE/jUyBZIHfz58+el58+fODBgwULUBUBXCUsVOfvcZrEx3Glaiu6UqGqDqb0Dp7SOnND6A04qUtTtR9FQeoNEfpD/+o/VVWKCP/9L8tGf/6A3fz58+el58+fODBgwW3CrKWKdvn+/f/x3U1Q2deaAPoDi+kf5/oPGg7CROVDejTiBXKnGSKcEegbSiCiBIO/nz589Lz58+cGDBgoCoCoCoCt0pYp3N+3/t+X6G0NobRGi8YxqiqmxULjQX4/U2oc06W5adVKOqGo8IbT2i9F8+MrFXUR3SBCWoqiRFQFRCJDNZ2QqylinvPnH8dvqQovXfK99Aaa7x3SdhMnMYx6JPTVypxmLjBlMKASCg7oYiQLvmnoCoC3i3bxtR1pUHHLye7Dtxyx2ohSgM26Co9TOoGpzQfSFqM0DoXPc6F5VHVIWqqEdUHVLULornpzRv9qKqW1ZXfOyFWUsU/f+f358ah0ZqtT8iLP+iqUB/H6F7oKxakpC1A4wjUElcqccQSDInhIaGEgoAhiJAu+aYkJGZbKZBlLFP95d83jjQdptuiNM40BjWiFKTRFQX4/RBS+htHaE18qT9VNT+mtF30YesaqDQG752Qqylinv47e+f0n//p/VOhu2IJlejQOgNAIUMEDYoR39LU4x35o3RE1cqcaMyKKm6Q0MJBQBD0W0V3zA4MGDBjqCoKgsMuEWoQRSxTxJIuO/oc220qjGgsap0JRUkhUFQOmcaF0BoLGgdBaZIKKVJ2q2oHRWgdMaR+o0pPCJDIkVUMijlu+YHBgwYLbjhSlLFP8u/jHfxrbVOhu2IFj9AaA0BoKEQEBYs0f+lB0aBQJxAkiCCCFTjRVAUSjQSQJxNLGMbvmBwYMGDHUFQVBYZUcKUpYp/FjP//fxr7GhMbMhK4/ROnNMUcsVYaAx/////6cqxqA6ZG6D0to/SGgMrFnU9jd8wKb03pvTencpSxT3L//+35a61RobtA8Efz0DoDHERoIIDioFDf0pMaBPJMSyk6LKiumYQlCgiiChEEkCcTO+YN6b03pvTcICoCoCt82o60p6x+L5zR+tv5Y0NjT2eNQVD1Pc9M5590DRIVAUSFFR1+Wh6jgjqatLOoSoXSmk81T61stEZ7u+YN6b03pvTeuUpYp7t7Fz047rYqfQ3aReXbeegdAZ0ToEToqDmNLHot4JnPRUyUpjQGN0TtmKChQdRFQqCSBOpTnvLu75g3pvTem9N7agKgKgKp9HaE0dzkjpZGAAMHkjpG/mO28u0yR0k5joAuNM2dE1BCCUXP6NK5qD0bgWgIvGMAAYwABmreoLGi9JaC0BUTF8oPYtSInXfz58+el58+fKmDBgwU/Lnz58miUsU7/bPjj9d6mvJAd/xeXcaA0BoDvO9n2Ql4qFg30zREuJJKUbtkhMTt9D6I0MgkgTyS13rQ8+fPnoPQOgc4YjSGKNIY4qOsskAAG/xUdULbUHT/8qjrGmYAAEXQWif56P0TpFVajs6ZRoqERCFIAAKKoIAAkAAC7+fPnz0PPnz59YEufPnyaJSxUvabLPa0v40B34PIDQGgNAaE0JIILUTT/6ZNkhYSUJ6oSu+auaM0ZpqkqQqAqQqAqQoNIAANIqQqE7xfv2nsVIVO4wABjTGdBaAUr+xp6otEiESAIAAIqKIAAkAAC753FLFT6B8xWn8tBn72oAhCgkKD/QcgiSJC13zVqAqAqAqiqSsqkrKpKkpYmpKozp9DVJVN40dj0SINmkFaDKDWJEha75hGDBgwXMUsVLzx9itQomEHu+a9QFQFQGn6lKKlKKlLL/////////4qUssaB73jlUpU9pDCQpIqG3fMG9N6b03pvXKwUHGgO/tiHfNaoCoCoCp+pa2pa2pap6paoynQlOkrV50loaHfMCm9N6b03p3KwUGLeWdE6WXu+acqgqCoFCEgAEgLRo7FTlGjsUY7Y7UJRo7BS5Shd8wODBgwXOwVFQFnu8nz589A8+fPnoHnz56EqAqAqAsufPnu+d4"));
var k=b.getImageData(0,0,b.canvas.width,b.canvas.height);var g=new Uint32Array(k.data.buffer);for(d=0;d<c.length;d+=1)for(e=0;40>e;e+=1){var l=e*b.canvas.width+40*c[d];for(f=0;40>f;f+=1)0!==g[l+f]&&(g[l+f]=4285558896)}b.putImageData(k,0,0);this.l=new rb(b,a);this.l.add("play",40,40);this.l.add("pause",40,40);this.l.add("tostart",40,40);this.l.add("menu",40,40);this.l.add("stepback",40,40);this.l.add("stepforward",40,40);this.l.add("autofit",40,40);this.l.add("fit",40,40);this.l.add("grid",40,40);
this.l.add("shrink",40,40);this.l.add("draw",40,40);this.l.add("hexgrid",40,40);this.l.add("lines",40,40);this.l.add("pan",40,40);this.l.add("pick",40,40);this.l.add("states",40,40);this.l.add("hexagongrid",40,40);this.l.add("trianglegrid",40,40);this.l.add("inside",40,40);this.l.add("undo",40,40);this.l.add("redo",40,40);this.l.add("drawpause",40,40);this.l.add("invertselection",40,40);this.l.add("autoshrink",40,40);this.l.add("selectlibrary",40,40);this.l.add("cut",40,40);this.l.add("copy",40,40);
this.l.add("paste",40,40);this.l.add("flipx",40,40);this.l.add("flipy",40,40);this.l.add("rotatecw",40,40);this.l.add("rotateccw",40,40);this.l.add("random",40,40);this.l.add("smart",40,40);this.l.add("outside",40,40);this.l.add("select",40,40);this.l.add("reverse",40,40);this.l.add("uturn",40,40);this.l.add("nudgeright",40,40);this.l.add("nudgeleft",40,40);this.l.add("nudgeup",40,40);this.l.add("nudgedown",40,40);this.l.add("advancesel",40,40);this.l.add("cancelsel",40,40);this.l.add("trirectgrid",
40,40);this.l.add("download",40,40);this.l.add("changestate",40,40);this.l.add("advanceoutside",40,40)};ea.prototype.dz=function(a){var b="",c,d=null;""===a&&(a="Life");a=a.replace(/[\n\r]/g,"\n");for(c=a.indexOf("\n");0===c||0<c&&"#"===a[0];)a=a.substring(c+1),c=a.indexOf("\n");c=a.indexOf("\n");-1!==c&&(a=a.substring(0,c).trim(),c=a.indexOf("rule="),-1!==c?a=a.substring(c+6).trim():(c=a.indexOf("rule ="),-1!==c&&(a=a.substring(c+7).trim())));try{d=this.U.create("","x = 1, y = 1, rule = "+(a+"\nb!"),
this.g.S,null,null,[],this)}catch(f){d=null}d&&d.T&&(b=a);return b};ea.prototype.gz=function(a){var b=(""===a.xa?a.W:a.xa)+a.Tf;""===b&&(b=this.zx);var c=window.prompt("Change rule",b);null!==c&&(this.zx=b,c=a.dz(c),""!==c?(b=c.indexOf(":"),-1!==b?(a.W=c.substring(0,b),a.Tf=c.substring(b)):(a.W=c,a.Tf=""),a.xa="",c=a.g.ph(a,a.g,!0,a.g.h,a.g.h,[],!0),a.td&&(a.displayWidth=a.Mf,a.displayHeight=a.Lf),a.oh(c,!1)):a.D.notification.notify("Invalid rule",15,180,15,!0))};ea.prototype.ku=function(a,b,c,d,
f){var e=this.W;""!==a&&(e=e.substring(0,e.length-a.length));this.xa=this.W=e+=b;a=this.g.ph(this,this.g,!0,c,d,f,!0);this.td&&(this.displayWidth=this.Mf,this.displayHeight=this.Lf);this.oh(a,!1)};ea.prototype.fC=function(a){a.ku(a.g.F?"History":"","Super",a.g.F?7:2,26,a.g.F?G.gE:G.pG)};ea.prototype.$B=function(a){a.ku(a.g.l?"Super":"","History",a.g.l?26:2,7,a.g.l?G.tG:G.oG)};ea.prototype.cC=function(a){a.ku(a.g.F?"History":"Super","",a.g.F?7:26,2,a.g.F?G.fE:G.uG)};ea.prototype.uA=function(){var a=
this.g.V.l;var b="",c,d;var f="R"+a+",C"+(this.g.V.X+",");a=this.U.pa(a,this.g.V.type,this.g.V.ka);switch(this.g.V.type){case this.U.s:b="FC"+this.g.V.Z+"E"+this.g.V.$;break;case this.U.i:b="";break;case this.U.m:b="N";break;case this.U.X:b="C";break;case this.U.Y:b="2";break;case this.U.P:b="+";break;case this.U.V:b="X";break;case this.U.W:b="*";break;case this.U.F:b="H";break;case this.U.O:b="B";break;case this.U.M:b="D";break;case this.U.T:b="#";break;case 10:b="@"+this.g.V.K;this.g.ga?b+="H":
this.g.W&&(b+="L");break;case this.U.B:b="3";break;case this.U.v:b="A";break;case this.U.K:b="L";break;case this.U.u:b="G";break;case 15:b="W"+this.g.V.K,this.g.ga?b+="H":this.g.W&&(b+="L")}var e=this.F.random()*a/a;f+="S";var k=-1;for(c=d=0;d<a;)this.F.random()<e?-1===k&&(0<c&&(f+=","),f+=String(d),k=d,c+=1):-1!==k&&(k!==d-1&&(f+="-"+String(d-1)),k=-1),d+=1;-1!==k&&k!==d-1&&(f+="-"+String(d-1));0===c&&(k=this.F.random()*a|0,f+=String(k));f+=",B";e=this.F.random()*(a-1)/(a-1);k=-1;d=1;for(c=0;d<a;)this.F.random()<
e?-1===k&&(0<c&&(f+=","),f+=String(d),k=d,c+=1):-1!==k&&(k!==d-1&&(f+="-"+String(d-1)),k=-1),d+=1;-1!==k&&k!==d-1&&(f+="-"+String(d-1));0===c&&(k=this.F.random()*(a-1)|1,f+=String(k));""!==b&&(f+=",N"+b);this.g.V.V&&(f+=",P",-1!==this.g.V.ia&&(f=-1>this.g.V.ia?f+"#":f+this.g.V.ia,-1!==this.g.V.ha&&(f=-1>this.g.V.ha?f+",#":f+(","+this.g.V.ha),-1!==this.g.V.Y&&(f=-1>this.g.V.Y?f+",#":f+(","+this.g.V.Y)))));return f};ea.prototype.BA=function(){var a=this.g.V.l;var b="";var c="R"+a+",C"+(this.g.V.X+",");
c+="M1,";a=this.U.pa(a,this.g.V.type,this.g.V.ka);a+=1;switch(this.g.V.type){case this.U.s:b="FC"+this.g.V.Z+"E"+this.g.V.$;break;case this.U.i:b="M";break;case this.U.m:b="N";break;case this.U.X:b="C";break;case this.U.Y:b="2";break;case this.U.P:b="+";break;case this.U.V:b="X";break;case this.U.W:b="*";break;case this.U.F:b="H";break;case this.U.O:b="B";break;case this.U.M:b="D";break;case this.U.T:b="#";break;case 10:b="@"+this.g.V.K;this.g.ga?b+="H":this.g.W&&(b+="L");break;case this.U.B:b="3";
break;case this.U.v:b="A";break;case this.U.K:b="L";break;case this.U.u:b="G";break;case 15:b="W"+this.g.V.K,this.g.ga?b+="H":this.g.W&&(b+="L")}var d=this.F.random()*a|0;c+="S"+String(d);d=(this.F.random()*(a-d)|0)+d;c+=".."+String(d);d=(this.F.random()*(a-1)|0)+1;c+=",B"+String(d);d=(this.F.random()*(a-d)|0)+d;c+=".."+String(d);return c+(",N"+b)};ea.prototype.WA=function(){var a="W";var b=2*(127*this.F.random()|0);return a+=String(b)};ea.prototype.IA=function(a){var b="B",c,d,f=8,e="";if(this.g.ga)switch(this.g.jh){case this.U.na:f=
6;e=this.U.Ma;break;case this.U.oa:f=3,e=this.U.Gb}else if(this.g.W)switch(this.g.mh){case this.U.ja:f=3;e=this.U.Da;break;case this.U.sa:f=6;e=this.U.cb;break;case this.U.ta:f=6;e=this.U.eb;break;case this.U.ka:f=9;e=this.U.Fa;break;case this.U.da:f=12;e=this.U.Ea;break;case this.U.ra:f=9;e=this.U.bb;break;case this.U.ua:f=3,e=this.U.fb}else this.g.bd&&(f=4,e=this.U.ib);var k=new Uint8Array(f+1);var g=new Uint8Array(f+1);var l=d=50;-1!==this.Te&&(l=d=this.Te);-1!==this.Ue&&(d=this.Ue);-1!==this.Uf&&
(l=this.Uf);for(c=0;c<=f;c+=1)k[c]=d,g[c]=l;-1===this.Te&&-1===this.Ue&&(k[0]=25);for(c=0;c<this.Vc.length;c+=2)this.Vc[c]<=f&&(k[this.Vc[c]]=this.Vc[c+1]);for(c=0;c<this.Kd.length;c+=2)this.Kd[c]<=f&&(g[this.Kd[c]]=this.Kd[c+1]);for(c=2<this.g.h||a?1:0;c<=f;)100*this.F.random()<=k[c]&&(b+=String(c)),c+=1;b+="/S";for(c=0;c<=f;c+=1)100*this.F.random()<=g[c]&&(b+=String(c));2<this.g.h&&!this.g.l&&!this.g.A&&(b+="/"+this.g.h);return b+=e.toUpperCase()};ea.prototype.RA=function(a){var b=a?"2PCA4,":"M",
c,d=!1;var f=0;var e=[];var k=this.g.oc;if(this.zm){d=new Uint8Array(16);a=new Uint8Array(16);for(c=0;16>c;c+=1)d[c]=c,a[c]=k[c];for(c=0;16>c;c+=1){var g=k[c];for(f=a=0;16>f;f+=1)g===k[f]&&(a+=1);var l=new Uint8Array(a);for(f=a=0;16>f;f+=1)g===k[f]&&(l[a]=f,a+=1);e[c]=l}for(c=1;16>c;c+=1).5>=this.F.random()&&(l=e[c],a=this.F.random()*l.length|0,a=l[a],k=d[c],d[c]=d[a],d[a]=k);for(c=0;15>c;c+=1)b+=d[c]+",";b+=d[c]}else if(this.xm){c=16;a?(a=0,f|=1):(a=16*this.F.random()|0,15===a?(d=!0,f|=32769,--c):
(a=0,f|=1));b+=String(a);for(--c;65535!==f;){a=this.F.random()*c|0;for(g=0;0<=a;)0===(f&1<<g)&&--a,g+=1;b+=","+String(g-1);f|=1<<g-1;--c}d&&(b+=",0")}else{a?a=0:(a=16*this.F.random()|0,15===a?d=!0:a=0);b+=String(a)+",";for(c=1;15>c;c+=1)a=16*this.F.random()|0,b+=String(a)+",";a=d?0:16*this.F.random()|0;b+=String(a)}return b};ea.prototype.al=function(a,b){var c="",d,f,e=0,k,g=[],l=a.$k,p=a.cl,n=a.jj/100,q=!1;-1!==a.W.indexOf("|")&&(q=!0);if(2>=a.g.h||a.dl){g[0]="b";g[1]="o";var m=2}else for(m=a.g.h,
g[0]=".",f=0;f<m-1;f+=1)g[f+1]=24<=f?String.fromCharCode(112+(f/24|0)-1)+String.fromCharCode(65+f%24):String.fromCharCode(65+f);-1!==a.g.Kd&&(l=1);for(d=0;d<l;d+=1){if(this.g.i){var r=0;this.F.random()<=n&&(r|=1);this.F.random()<=n&&(r|=2);this.F.random()<=n&&(r|=4);this.F.random()<=n&&(r|=8)}else r=this.F.random()<=n?(this.F.random()*(m-1)|0)+1:0;for(f=k=1;f<p;f+=1)this.g.i?(e=0,this.F.random()<=n&&(e|=1),this.F.random()<=n&&(e|=2),this.F.random()<=n&&(e|=4),this.F.random()<=n&&(e|=8)):e=this.F.random()<=
n?(this.F.random()*(m-1)|0)+1:0,e!==r&&(1<k&&(c+=k),c+=g[r],k=0,r=e),k+=1;0!==e&&(1<k&&(c+=k),c+=g[e]);d<l-1&&(c+="$\n")}c+="!\n";a.bl||b||(a.g.o||(a.g.Z||a.g.i?(a.W=a.RA(a.g.i),q&&(a.W+="|"+a.RA(a.g.i))):a.g.Ca?a.Ws?(a.W=a.BA(),q&&(a.W+="|"+a.BA())):(a.W=a.uA(),q&&(a.W+="|"+a.uA())):-1!==a.g.Kd?(a.W=a.WA(),q&&(a.W+="|"+a.WA())):(a.W=a.IA(q),q&&(a.W+="|"+a.IA(q)))),a.g.F&&(a.W+="History"),a.g.l&&(a.W+="Super"),a.g.A&&(a.W+="Investigator"),b=bb.Wo(a.W),a.xa=null!==b?b:"");b=a.g.yh;b+="x = "+a.cl+", y = "+
a.$k+", rule = ";b+=(""===a.xa?a.W:a.xa)+a.Tf+"\n";b=b+c+a.g.xh;if(a.Pd.locked||a.lj||2===a.ka&&0!==a.Ob[1].fg||window.confirm("Create new random pattern?"))a.td&&(a.displayWidth=a.Mf,a.displayHeight=a.Lf),a.oh(b,!1),a.kz(a)};ea.prototype.Mx=function(a){var b=window.prompt("Create new pattern with rule",(""===a.xa?a.W:a.xa)+a.Tf);null!==b&&(b=a.dz(b),""!==b?(a.td&&(a.displayWidth=a.Mf,a.displayHeight=a.Lf),a.oh("x = 1, y = 1, rule = "+(b+"\nb!"),!1)):a.D.notification.notify("Invalid rule",15,180,
15,!0))};ea.prototype.px=function(){this.fd.h=this.g.ga?this.g.ta?[this.l.h("hexgrid")]:[this.l.h("hexagongrid")]:this.g.W?this.g.ta?[this.l.h("trirectgrid")]:[this.l.h("trianglegrid")]:[this.l.h("grid")]};ea.prototype.PB=function(a,b){a.D.o&&(a.mh||(a.yi=-b.deltaY,1===b.deltaMode&&(a.yi*=45),a.D.Le(!0)),b.preventDefault())};ea.prototype.Nr=function(){var a=this.m.W(0===this.Sl?0:this.Ec/this.Sl),b=this.Kf,c=this.dk,d=this.Zf,f=this.$i;this.g.fa=this.g.width/2-(this.$f+a*(this.nf-this.$f));this.g.ca=
this.g.height/2-(this.bg+a*(this.aj-this.bg));this.g.zoom=this.Ch*Math.pow(this.Th/this.Ch,a);180<c-b?b+=360:-180>c-b&&(c+=360);this.g.angle=(b+a*(c-b))%360;this.g.Jb=d+a*(f-d);this.bn&&(this.g.Wb=this.kr+a*(this.jr-this.kr),this.Fa.current=this.hf([this.g.Wb,this.g.Wb],!1,this));this.mo&&(this.g.za=this.mr+a*(this.lr-this.mr),this.ab.current=this.hm([this.g.za,this.g.za],!1,this));this.Ec+=1;this.Ec>this.Sl&&(this.Ec=-1,this.g.zoom=this.Th,this.g.angle=c%360,this.g.Jb=this.$i,this.g.fa=this.g.width/
2-this.nf,this.g.ca=this.g.height/2-this.aj,this.bn&&(this.g.Wb=this.jr,this.Fa.current=this.hf([this.g.Wb,this.g.Wb],!1,this)),this.mo&&(this.g.za=this.lr,this.ab.current=this.hm([this.g.za,this.g.za],!1,this)));this.dc&&(this.dc.current=this.Rd([this.g.zoom,this.g.zoom],!1,this));this.oa&&(this.oa.current=this.kg([this.g.angle,this.g.angle],!1,this));this.Wa&&(this.Wa.current=this.Fj([this.Wj(this.g.Jb),this.g.Jb],!1,this))};ea.prototype.dD=function(){var a=this.m,b=a.m.length,c,d=this.A,f=this.B,
e=a.B();for(c=0;c<b;c+=1){var k=a.m[c];e.wg=!0;e.x=-k.x+d/2;e.jf=!0;e.y=-k.y+f/2;e.Oe=!0;e.zoom=k.zoom;e.ee=!0;a.add(e,this);c<b-1&&(e=a.B())}};ea.prototype.br=function(a,b){var c=a.m.i[b];a.$f=a.g.width/2-a.g.fa;a.bg=a.g.height/2-a.g.ca;a.Ch=a.g.zoom;a.Kf=a.g.angle;a.Zf=a.g.Jb;a.nf=c.jf?c.x:a.$f;a.aj=c.Oe?c.y:a.bg;a.Th=c.ee?c.zoom:a.Ch;a.dk=c.ug?c.angle:a.Kf;a.$i=c.Dg?c.Jb:a.Zf;a.g.ga&&(a.nf+=a.g.ca/2);a.bn=c.$g;a.bn&&(a.kr=a.g.Wb,a.jr=c.depth/G.kl);a.mo=c.fh;a.mo&&(a.mr=a.g.za,a.lr=c.za);a.Ec=0;
a.Sl=c.i;a.Nr();c.l&&a.Yx(a);c.h===Ta.play?a.$b.current=a.vd(G.Li,!0,a):c.h===Ta.stop&&a.Hb&&(a.$b.current=a.vd(G.ne,!0,a));c.ue&&a.Vf(c.Gc,a.g.me,a);a.D.notification.notify("POI "+(b+1),15,60,15,!0);""!==c.oe?a.D.notification.notify(c.oe,15,180,15,!1):a.D.notification.clear(!1,!0);c.Rh&&(a.jc=c.jc);c.Lh&&(a.Lb=c.Lb);c.Ve&&(a.Z=Math.sqrt((c.Rc-G.og)/(a.rc-G.og)));c.te&&(a.M=c.step);if(c.Ve||c.te)a.cc.current=a.vc([a.ef(),1],!0,a);c.vp&&(a.g.counter>c.wc&&a.Yx(a),a.g.counter<c.wc&&(a.mh=!0,a.du=c.wc,
a.Ut=!1));c.tk&&(a.g.Ba=c.grid);c.Pq&&(this.Dc=c.Ak)};ea.prototype.Mc=function(a,b,c){var d=b/a.g.Ga;c&&(b=1<=b?Math.round(b):1/Math.round(1/b),d=b/a.g.Ga);a.Ta||(a.$f=a.g.width/2-a.g.fa,a.bg=a.g.height/2-a.g.ca,a.Ch=a.g.zoom,a.Kf=a.g.angle,a.Zf=a.g.Jb,a.nf=a.$f,a.aj=a.bg,a.Th=d,a.dk=a.Kf,a.$i=a.Zf,a.Ec=0)};ea.prototype.IC=function(a){a.cc.current=a.vc([1,1],!0,a)};ea.prototype.ZD=function(a){a.nx(a)};ea.prototype.YG=function(a){a.hw(a)};ea.prototype.zF=function(a){a.gb&&a.ol(a);-1!==a.Fb&&a.Pl(a,
!0,!0)};ea.prototype.Pj=function(a){a.Ze||a.$e||a.Ye||a.ge||a.cf||a.he||a.Xe?(a.Ze=!1,a.$e=!1,a.ge=!1,a.Ye=!1,a.cf=!1,a.Xe=!1,a.he=!1):a.da.current=[!1]};ea.prototype.sB=function(a){a.Ye=!0};ea.prototype.AE=function(a){a.ge=!0};ea.prototype.XD=function(a){a.Ze=!0};ea.prototype.tD=function(a){a.Xe=!0};ea.prototype.IE=function(a){a.cf=!0};ea.prototype.jC=function(a){a.$e=!0};ea.prototype.QC=function(a){a.Mx(a)};ea.prototype.IG=function(a){a.al(a,!1)};ea.prototype.CG=function(a){a.al(a,!0)};ea.prototype.Iz=
function(a){a.kz(a);a.P?a.D.notification.notify("Selection saved",15,120,15,!0):a.D.notification.notify("Pattern saved",15,120,15,!0)};ea.prototype.HC=function(a){a.Fx(a)};ea.prototype.OB=function(a){a.gz(a)};ea.prototype.jB=function(a){a.he=!0};ea.prototype.wD=function(a,b,c,d){b&&(a[0]?(b=d-c.bx,c.Vf(G.zp[b],1,c),c.da.current[0]&&(c.da.current=c.gf([!1],!0,c))):(c.da.current[0]&&(c.da.current=c.gf([!1],!0,c)),a[0]=!0));return a};ea.prototype.Cr=function(a){a.Rb=!1};ea.prototype.dC=function(a){a.dB(a)};
ea.prototype.kx=function(a){a.g.Ul()};ea.prototype.ix=function(a){a.g.Rl()};ea.prototype.aC=function(a){a.g.Ol()};ea.prototype.XB=function(a){a.g.Ll()};ea.prototype.aB=function(a){"Empty"===a.qb||"none"===a.qb||""===a.qb?a.D.notification.notify("No Identify Results",15,120,15,!1):(0!==a.s&&(a.s=0,a.hd.current=a.ff([0!==a.s],!0,a)),a.da.current[0]&&(a.da.current=a.gf([!1],!0,a),a.D.i=!0),a.g.fb=0,a.Dd.current=a.hg(0,!0,a),a.Rb=!0)};ea.prototype.JB=function(a){a.Da=!1;a.De.current=a.vn([a.Da],!0,a)};
ea.prototype.HG=function(){Sb()};ea.prototype.wB=function(a){a.Tb=[];a.$=0;a.er(a.ra.current)};ea.prototype.Ux=function(a){--a.Ac;0>a.Ac&&(a.Ac=a.m.i.length-1);a.br(a,a.Ac)};ea.prototype.Ox=function(a){a.Ac+=1;a.Ac>=a.m.i.length&&(a.Ac=0);a.br(a,a.Ac)};ea.prototype.XC=function(a){a.Na+=1;a.Na>=xa.se.length&&(a.Na=0);a.oh(xa.se[a.Na].pattern,!1)};ea.prototype.ZE=function(a){--a.Na;0>a.Na&&(a.Na=xa.se.length-1);a.oh(xa.se[a.Na].pattern,!1)};ea.prototype.CC=function(a){a.rr();a.s&&(a.s=0);a.da.current[0]=
!1;a.D.i=!0};ea.prototype.nC=function(a){a.pj=!0};ea.prototype.DD=function(a){a.Cc(G.tg,a)};ea.prototype.QG=function(a,b){var c=0;if((a.g.F||a.g.l)&&b)for(;c<a.ba.length;)1<a.ba[c]&&(a.ba[c]&=1),c+=1;else for(;c<a.ba.length;)a.ba[c]=0,c+=1};ea.prototype.Hz=function(a){var b=a.ca,c=b.H,d=b.J,f=b.I;b=b.L;var e=a.g.v,k;var g=(a.g.width>>1)-(a.A>>1)+(a.V<<1);var l=(a.g.height>>1)-(a.B>>1)+(a.X<<1);var p=0;if(!a.K&&a.P){-1!==a.g.C&&(g+=Math.round((a.A-a.ta)/2),l+=Math.round((a.B-a.sa)/2));if(c>d){var n=
d;d=c;c=n}f>b&&(n=b,b=f,f=n);c+=g;d+=g;f+=l;b+=l;a.g.lb=!0;a.g.Qb();n=e.H;l=e.I;g=e.J;e=e.L;for(k=l;k<=e;k+=1)for(l=n;l<=g;l+=1)if(!(k>=f&&k<=b&&l>=c&&l<=d)){var q=a.g.Pa(l,k,!1);0!==q&&(p|=a.la(l,k,0,!1))}(a.g.F||a.g.l)&&p&&this.g.Za();a.g.lb=!0;a.g.Qb();a.T("clear cells outside selection")}};ea.prototype.kB=function(a,b){var c=a.ca,d=c.H,f=c.J,e=c.I;c=c.L;var k=(a.g.width>>1)-(a.A>>1)+(a.V<<1),g=(a.g.height>>1)-(a.B>>1)+(a.X<<1);if(!a.K&&a.P){-1!==a.g.C&&(k+=Math.round((a.A-a.ta)/2),g+=Math.round((a.B-
a.sa)/2));if(d>f){var l=f;f=d;d=l}e>c&&(l=c,c=e,e=l);if((a.g.F||a.g.l)&&b)for(l=e;l<=c;l+=1)for(e=d;e<=f;e+=1){var p=a.g.Pa(e+k,l+g,!1);1<p&&a.la(e+k,l+g,p&1,!1)}else for(l=e;l<=c;l+=1)for(e=d;e<=f;e+=1)p=a.g.Pa(e+k,l+g,!1),0!==p&&a.la(e+k,l+g,0,!1);(a.g.F||a.g.l)&&this.g.Za();a.g.lb=!0;a.g.Qb();a.wd=!1;(a.g.F||a.g.l)&&b?a.g.F?a.T("clear History cells in selection"):a.T("clear Super cells in selection"):a.T("clear cells in selection")}};ea.prototype.pC=function(a){a.Mc(a,a.g.zoom*a.g.Ga,!0)};ea.prototype.SG=
function(a){a.lb(!0,!0,G.Uo)};ea.prototype.wG=function(a){a.lb(!0,!0,G.bt)};ea.prototype.fr=function(a,b){a.K||(a.qa?a.QG(a,b):a.kB(a,b))};ea.prototype.oB=function(a){a.fr(a,!1)};ea.prototype.KG=function(a){a.Hz(a)};ea.prototype.$G=function(a){a.fr(a,!0)};ea.prototype.ez=function(a){a.ra.current!==G.wk&&(a.ra.current=a.le(G.wk,!0,a));a.Yg=!0;a.Uc.current=a.je([!0],!0,a)};ea.prototype.Kv=function(a){var b=this.ca,c=this.g.v,d=(this.g.width>>1)-(this.A>>1)+(this.V<<1),f=(this.g.height>>1)-(this.B>>
1)+(this.X<<1);0<this.g.s||!a?(this.g.lb=!0,this.g.Qb(),-1!==this.g.C&&(d-=Math.floor((this.ta-this.A)/2),f-=Math.floor((this.sa-this.B)/2)),this.g.l||this.g.A||this.g.o||!(this.g.i||this.g.Ca&&2===this.g.h||2<this.g.h)?(b.H=c.H-d,b.I=c.I-f,b.J=c.J-d,b.L=c.L-f):(this.g.Sl(b),b.H-=d,b.J-=d,b.I-=f,b.L-=f),this.P=!0,this.wd=!1,c=b.J<b.H?b.H-b.J+1:b.J-b.H+1,b=b.L<b.I?b.I-b.L+1:b.L-b.I+1,a&&this.T("select all ("+c+" x "+b+")")):(this.D.notification.notify("No live cells to Select",15,120,15,!1),this.P&&
this.gl(this))};ea.prototype.iA=function(a){a.Kv(!0)};ea.prototype.Wx=function(a,b,c){a.K||(!a.wi&&a.Wb&&(b?a.Zj(a):a.K?a.Zj(a):c?a.ym(a,!0):a.ym(a,!1)),a.Fw(a,a.mb,!1,!1))};ea.prototype.jD=function(a){a.Wx(a,!1,!1)};ea.prototype.Fw=function(a,b,c,d){var f=a.ca,e=f.H,k=f.J,g=f.I;f=f.L;var l,p=0,n=a.g.h,q=2<n&&!(this.g.da||this.g.i||this.g.o||this.g.l||this.g.A),m=(a.g.width>>1)-(a.A>>1)+(a.V<<1),r=(a.g.height>>1)-(a.B>>1)+(a.X<<1),u=0;if(a.P){if(e>k){var t=k;k=e;e=t}g>f&&(t=f,f=g,g=t);var v=k-e+1;
var A=f-g+1;-1!==a.g.C&&(m+=Math.round((a.A-a.ta)/2),r+=Math.round((a.B-a.sa)/2));var w=a.g.S.h(ra.Ra,v*A,"View.pasteBuffer"+b);t=0;for(l=g;l<=f;l+=1)for(g=e;g<=k;g+=1){var z=a.g.Pa(g+m,l+r,!1);0<z&&q&&(z=n-z);w[t]=z;0<z&&(p+=1);u|=a.la(g+m,l+r,0,!1);t+=1}(a.g.F||a.g.l)&&u&&this.g.Za();a.Ua[b]={buffer:w,width:v,height:A,count:p};a.ba=w;a.Bc=v;a.Jc=A;a.ak();a.g.lb=!0;a.g.Qb();a.Bo=!0;a.wd=!0;d||(c?a.T("advance outside"):a.T("cut"))}};ea.prototype.Lo=function(a,b,c){0!==a.s?(Ya.Hs=!0,Ya.jl="",Ya.Ly(a),
a.xe(a,Ya.jl),Ya.Hs=!1,Ya.jl=""):(a.wi||!a.Wb&&a.P||(b?a.Zj(a):a.K?a.Zj(a):c?a.ym(a,!0):a.ym(a,!1)),a.P&&(a.DC(a,a.mb),a.gn||(a.gn=!0,a.D.notification.notify("Disable Sync for faster internal clipboard",15,360,15,!1))))};ea.prototype.wE=function(a){a.tm(a,!0,!1)};ea.prototype.MC=function(a){a.Lo(a,!1,!0)};ea.prototype.rC=function(a){a.Lo(a,!0,!1)};ea.prototype.oC=function(a){a.hA(a)};ea.prototype.xC=function(a){a.Cm(a,!1)};ea.prototype.GC=function(a){a.Cm(a,!0)};ea.prototype.Qx=function(a){navigator.clipboard.readText().then(b=>
a.KC(a,b))};ea.prototype.AC=function(a){a.Lo(a,!1,!1)};ea.prototype.JC=function(a){var b=a.ca,c=b.H,d=b.I,f=b.J,e=b.L,k,g,l=(a.g.width>>1)-(a.A>>1)+(a.V<<1),p=(a.g.height>>1)-(a.B>>1)+(a.X<<1),n=!0;b=[];if(a.P){if(c>f){var q=c;c=f;f=q}d>e&&(q=d,d=e,e=q);q=f-c+1;if(q!==e-d+1)a.D.notification.notify("Weighted needs a square selection",15,180,15,!0),n=!1;else if(0===(q&1))a.D.notification.notify("Weighted size must be odd",15,180,15,!0),n=!1;else if(3>q||99<q)a.D.notification.notify("Weighted size must be >= 3 and <= 99",
15,180,15,!0),n=!1;if(n){n="";var m=0;for(g=d;g<=e;g+=1)for(k=c;k<=f;k+=1)d=a.g.Pa(k+l,g+p,!1),b[b.length]=d,d>m&&(m=d);if(7>=m)for(c=0;c<b.length;c+=1)d=b[c],n+="0123456789abcdef"[d];else for(c=0;c<b.length;c+=1)d=b[c],n+="0123456789abcdef"[d>>4],n+="0123456789abcdef"[d&15];a.g.ga?n+="H":a.g.W&&(n+="L");a.xe(a,n);a.D.notification.notify("Weighted R"+(q-1>>1)+" copied to clipboard",15,180,15,!0)}}else a.D.notification.notify("Weighted needs a selection",15,180,15,!0)};ea.prototype.GB=function(a){var b=
"",c;for(c=a.length-1;0<=c;--c){var d="0123456789abcdef".indexOf(a[c]);d=(d&1)<<3|(d&2)<<1|(d&4)>>1|(d&8)>>3;b+="0123456789abcdef"[d]}return b};ea.prototype.lC=function(a){var b=a.ca,c=b.H,d=b.I,f=b.J;b=b.L;var e=0,k,g=(a.g.width>>1)-(a.A>>1)+(a.V<<1),l=(a.g.height>>1)-(a.B>>1)+(a.X<<1);var p=!0;if(a.P){if(c>f){var n=c;c=f;f=n}d>b&&(n=d,d=b,b=n);n=f-c+1;if(n!==b-d+1)a.D.notification.notify("CoordCA needs a square selection",15,180,15,!0),p=!1;else if(0===(n&1))a.D.notification.notify("CoordCA size must be odd",
15,180,15,!0),p=!1;else if(3>n||99<n)a.D.notification.notify("CoordCA size must be >= 3 and <= 99",15,180,15,!0),p=!1;if(p){var q="";var m=d+(b-d+1>>1);var r=c+(f-c+1>>1);var u=3;for(k=d;k<=b;k+=1)for(p=c;p<=f;p+=1)if(k!==m||p!==r){var t=a.g.Pa(p+g,k+l,!1);0<t&&(e|=1<<u);--u;0>u&&(q+="0123456789abcdef"[e],u=3,e=0)}a.g.ga?q+="H":a.g.W&&(0===(c+g+d+l&1)&&(q=this.GB(q)),q+="L");a.xe(a,q);a.D.notification.notify("CoordCA R"+(n-1>>1)+" copied to clipboard",15,180,15,!0)}}else a.D.notification.notify("CoordCA needs a selection",
15,180,15,!0)};ea.prototype.hA=function(a){2<a.g.h?a.JC(a):a.lC(a)};ea.prototype.DC=function(a,b){var c=a.ca,d=c.H,f=c.I,e=c.J;c=c.L;var k,g=0,l=a.g.h,p=2<l&&!(a.g.da||a.g.i||a.g.o||a.g.l||a.g.A),n=a.ea-a.V,q=a.Y-a.X;if(a.P){if(d>e){var m=d;d=e;e=m}f>c&&(m=f,f=c,c=m);var r=e-d+1;var u=c-f+1;a.fc&&(-1!==a.g.C?(n+=a.ac-d,q+=a.nc-f):(n+=2*a.ac,q+=2*a.nc));var t=a.g.S.h(ra.Ra,r*u,"View.pasteBuffer"+b);m=0;for(k=f;k<=c;k+=1)for(f=d;f<=e;f+=1){var v=a.g.Pa(f+n,k+q,!1);0<v&&p&&(v=l-v);t[m]=v;0<v&&(g+=1);
m+=1}a.Ua[b]={buffer:t,width:r,height:u,count:g};a.ba=t;a.Bc=r;a.Jc=u;a.ak();a.Bo=!0;a.wd=!0}};ea.prototype.Do=function(a){a.qa=!1;a.D.notification.clear(!0,!1)};ea.prototype.nr=function(a,b){var c=a.Ed.current,d=a.Wb,f=a.mb,e=a.ca,k=e.H,g=e.J,l=e.I,p=e.L,n,q=a.g.h,m=2<q&&!(this.g.da||this.g.i||this.g.o||this.g.l||this.g.A),r=(a.g.width>>1)-(a.A>>1)+(a.V<<1),u=(a.g.height>>1)-(a.B>>1)+(a.X<<1),t;if(b)a.P&&(a.mb=G.Ni,a.Wb=!1,a.Fw(a,a.mb,!0,!1),a.Wb=d,a.g.pf(a.hb),a.g.xe(),a.g.wf(a),a.T(""),a.Ed.current=
1,a.Wb=!1,a.tm(a,!0,!0),a.Wb=d,a.Ed.current=c,a.mb=f);else if(a.P){if(k>g){var v=g;g=k;k=v}l>p&&(v=p,p=l,l=v);a.Kv(!1);b=e.H;c=e.J;d=e.I;f=e.L;b>c&&(v=c,c=b,b=v);d>f&&(v=f,f=d,d=v);-1!==a.g.C&&(r+=Math.round((a.A-a.ta)/2),u+=Math.round((a.B-a.sa)/2));var A=new Uint8Array((c-b+1)*(f-d+1));var w=t=0;for(n=d;n<=f;n+=1)for(v=b;v<=c;v+=1){if(!(v>=k&&v<=g&&n>=l&&n<=p)){var z=a.g.Pa(v+r,n+u,!1);0<z&&m&&(z=q-z);A[w]=z;t|=a.la(v+r,n+u,0,!1)}w+=1}(a.g.F||a.g.l)&&t&&this.g.Za();a.g.lb=!0;a.g.Qb();a.T("advance selection");
a.g.pf(a.hb);a.g.xe();a.g.wf(a);a.T("");a.Kv(!1);if(e.H<k||e.J>g||e.I<l||e.L>p){w=t=0;for(n=e.I;n<=e.L;n+=1)for(v=e.H;v<=e.J;v+=1)v>=k&&v<=g&&n>=l&&n<=p||(t|=a.la(v+r,n+u,0,!1)),w+=1;(a.g.F||a.g.l)&&t&&this.g.Za();a.g.lb=!0;a.g.Qb()}w=t=0;for(n=d;n<=f;n+=1)for(v=b;v<=c;v+=1)v>=k&&v<=g&&n>=l&&n<=p||(t|=a.la(v+r,n+u,A[w],!1)),w+=1;(a.g.F||a.g.l)&&t&&this.g.Za();a.g.lb=!0;a.g.Qb();e.H=k;e.J=g;e.I=l;e.L=p;a.T("advance selection")}};ea.prototype.eu=function(a,b,c,d){var f=a.Bc,e=a.Jc,k=a.ba;var g=a.Qb;
var l=a.g.width;var p=a.g.height;var n=0;switch(a.ic+.5|0){case G.Zz:b-=f>>1;break;case G.$z:b-=f-1;break;case G.dA:c-=e>>1;break;case G.Yz:b-=f>>1;c-=e>>1;break;case G.Xz:b-=f-1;c-=e>>1;break;case G.cA:c-=e-1;break;case G.aA:b-=f>>1;c-=e-1;break;case G.bA:b-=f-1,c-=e-1}g.H=b;g.I=c;g.J=b+f;g.L=c+e;for(a.Sj(a,g);l!==a.g.width;)b+=l>>1,l<<=1;for(;p!==a.g.height;)c+=p>>1,p<<=1;switch(this.BB()){case G.co:for(p=g=0;p<e;p+=1)for(l=0;l<f;l+=1){var q=k[g];if(this.g.i){var m=this.g.Pa(b+l,c+p,!1);n|=a.la(b+
l,c+p,m|q,!1)}else 0<q&&(n|=a.la(b+l,c+p,q,!1));g+=1}break;case G.kp:for(p=g=0;p<e;p+=1)for(l=0;l<f;l+=1)q=k[g],n|=a.la(b+l,c+p,q,!1),g+=1;break;case G.xq:for(p=g=0;p<e;p+=1)for(l=0;l<f;l+=1)q=k[g],m=this.g.Pa(b+l,c+p,!1),n|=a.la(b+l,c+p,m^q,!1),g+=1;break;case G.wq:for(p=g=0;p<e;p+=1)for(l=0;l<f;l+=1)q=k[g],m=this.g.Pa(b+l,c+p,!1),n|=a.la(b+l,c+p,m&q,!1),g+=1}(a.g.F||a.g.l||a.g.A)&&n&&this.g.Za();a.qa=!1;a.D.notification.clear(!0,!1);d&&a.T("paste")};ea.prototype.Qf=function(a,b,c){var d=(a.g.width>>
1)-(a.A>>1)+(a.V<<1),f=(a.g.height>>1)-(a.B>>1)+(a.X<<1),e=a.ca,k=e.H,g=e.I,l=e.J,p=e.L;var n=0;var q=a.g.width-1;var m=0;var r=a.g.height-1,u=0;if(!a.K&&a.P){if(k>l){var t=l;l=k;k=t}g>p&&(t=p,p=g,g=t);t=l-k+1;var v=p-g+1;-1!==a.g.C&&(d+=Math.round((a.A-a.ta)/2),f+=Math.round((a.B-a.sa)/2));-1!==a.g.C&&(0!==a.g.M?(n=Math.round((a.g.width-a.g.M)/2)-1,q=n+a.g.M-1+2):(n=0,q=a.g.width-1),0!==a.g.K?(m=Math.round((a.g.height-a.g.K)/2)-1,r=m+a.g.K-1+2):(m=0,r=a.g.height-1));-1===a.g.C&&(a.Rj(k+d+b,g+f+c),
d=(a.g.width>>1)-(a.A>>1)+(a.V<<1),f=(a.g.height>>1)-(a.B>>1)+(a.X<<1),e=a.ca,k=e.H,g=e.I,l=e.J,p=e.L,k>l&&(l=k),g>p&&(p=g),-1!==a.g.C&&(d+=Math.round((a.A-a.ta)/2),f+=Math.round((a.B-a.sa)/2)),a.Rj(l+d+b,p+f+c),d=(a.g.width>>1)-(a.A>>1)+(a.V<<1),f=(a.g.height>>1)-(a.B>>1)+(a.X<<1),e=a.ca,k=e.H,g=e.I,l=e.J,p=e.L,k>l&&(t=l,l=k,k=t),g>p&&(t=p,p=g,g=t),t=l-k+1,v=p-g+1,-1!==a.g.C&&(d+=Math.round((a.A-a.ta)/2),f+=Math.round((a.B-a.sa)/2)));a.g.Ca&&(-1===a.g.C?(n+=2*a.g.V.o+1,q-=2*a.g.V.o+1,m+=2*a.g.V.l+
1,r-=2*a.g.V.l+1):(n+=1,--q,m+=1,--r));if(k+d+b>=n&&l+d+b<=q&&g+f+c>=m&&p+f+c<=r){a.Ua[G.Ni]=null;a.Fw(a,G.Ni,!1,!0);d+=b;f+=c;n=0;l=a.Ua[G.Ni].buffer;for(m=0;m<v;m+=1)for(q=0;q<t;q+=1)p=l[n],u|=a.la(k+q+d,g+m+f,p,!1),n+=1;a.Ua[G.Ni]=null;(a.g.F||a.g.l)&&u&&this.g.Za();e.H+=b;e.J+=b;e.I+=c;e.L+=c;a.T("nudge "+(0===b?-1===c?"up":"down":-1===b?"left":"right"))}else a.D.notification.notify("No room to nudge selection",15,180,15,!0)}};ea.prototype.PC=function(a,b){var c,d=this.g.h,f=2<d&&!(this.g.da||
this.g.i||this.g.o||this.g.l||this.g.A);-1===d&&(d=2);this.g.F&&(d=7);for(c=0;256>c;c+=1)a[c]=c;if(f)for(c=1;256>c;c+=1)b=d-c,0>b?b=0:b>=d&&(b=d-1),a[c]=b;else if(2===d)if(b.F||b.B)for(c=0;256>c;c+=1)a[c]=c&1;else if(b.O)for(c=2;256>c;c+=1)a[c]=0;else{if(b.Ca){for(c=0;256>c;c+=1)a[c]=0;a[64]=1}}else if(this.g.F)if(b.B)for(a[14]=0,a[16]=0,a[18]=0,a[20]=0,a[22]=0,a[24]=0,a[9]=1,a[11]=1,a[13]=1,a[15]=1,a[17]=1,a[19]=1,a[21]=1,a[23]=1,a[25]=1,a[10]=2,a[12]=2,a[7]=3,a[8]=4,c=26;256>c;c+=1)a[c]=0;else{if(b.O){for(c=
2;256>c;c+=1)a[c]=0;a[3]=6}}else if(this.g.l){if(b.O){for(c=2;256>c;c+=1)a[c]=0;a[3]=6}}else if(this.g.A&&(b.F||b.B)){for(c=2;256>c;c+=1)a[c]=0;a[6]=3}for(c=0;256>c;c+=1)a[c]>=d&&(a[c]=0)};ea.prototype.RB=function(a,b,c){a=this.U.create("",a,this.g.S,null,null,null,this);var d,f,e=0,k=0,g=new Uint8Array(256);if(null!==a.ca){this.PC(g,a);var l=a.width;var p=a.height;var n=this.g.S.h(ra.Ra,l*p,"View.pasteBuffer"+this.mb);for(f=0;f<p;f+=1){var q=a.ca[f];for(d=0;d<l;d+=1){var m=q[d];n[e]=g[m];0<m&&(k+=
1);e+=1}}this.Ua[this.mb]={buffer:n,width:l,height:p,count:k};this.ba=n;this.Bc=l;this.Jc=p;this.ak();this.Et(b,c)}else this.D.notification.notify("Could not decode system clipboard",15,180,15,!0),console.log(this.U.N)};ea.prototype.NB=function(a,b){this.Et(a,b)};ea.prototype.TG=function(a,b){wc(this,a,b)};ea.prototype.Et=function(a,b){var c=(this.g.width>>1)-(this.A>>1)+(this.V<<1),d=(this.g.height>>1)-(this.B>>1)+(this.X<<1),f=this.ca,e=f.H,k=f.I,g=f.J;f=f.L;var l,p;if(null!==this.Ua[this.mb])if(a)if(this.P)if(e>
g&&(a=e,e=g,g=a),k>f&&(a=k,k=f,f=a),g=g-e+1,f=f-k+1,this.Bc>g||this.Jc>f)this.D.notification.notify("Paste does not fit in selection",15,180,15,!0);else{a=this.ic;this.ic=G.yq;for(p=k;p<=k+f-this.Jc;p+=this.Jc)for(l=e;l<=e+g-this.Bc;l+=this.Bc)this.eu(this,l+c,p+d,!1);this.ic=a;this.Sd&&this.Oj(this);b?this.T("advance outside"):this.T("paste to selection")}else this.D.notification.notify("Paste to Selection needs a selection",15,180,15,!0);else this.Ft(this,this.mb),this.D.notification.notify("Now click to paste",
15,180,15,!0)};ea.prototype.tm=function(a,b,c){a.K||(a.Wb?a.TG(b,c):a.Et(b,c))};ea.prototype.jE=function(a){a.eu(a,a.yc,a.zc,!0)};ea.prototype.Sx=function(a){a.tm(a,!1,!1)};ea.prototype.Ft=function(a,b){0<=b&&b<a.Ua.length&&(null!==a.Ua[b]?(a.qa=!0,a.ba=a.Ua[b].buffer,a.Bc=a.Ua[b].width,a.Jc=a.Ua[b].height,a.ra.current!==G.xk&&(a.ra.current=a.le(G.xk,!0,a))):(a.qa=!1,a.D.notification.notify("Clipboard empty",15,180,15,!0)))};ea.prototype.SF=function(a,b){var c,d=a.g.h;-1===d&&(d=2);if(a.g.i)for(c=
0;c<a.ba.length;c+=1){var f=0;100*a.F.random()<=a.Ab&&(f|=1);100*a.F.random()<=a.Ab&&(f|=2);100*a.F.random()<=a.Ab&&(f|=4);100*a.F.random()<=a.Ab&&(f|=8);a.ba[c]=f}else for(c=0;c<a.ba.length;c+=1)f=100*a.F.random()<=a.Ab?2===d||b?a.Re:(a.F.random()*(d-1)|0)+1:0,a.ba[c]=f};ea.prototype.yG=function(a,b){var c=a.ca,d=c.H,f=c.J,e=c.I;c=c.L;var k=(a.g.width>>1)-(a.A>>1)+(a.V<<1),g=(a.g.height>>1)-(a.B>>1)+(a.X<<1),l=a.g.h,p=0;if(a.P){if(d>f){var n=f;f=d;d=n}e>c&&(n=c,c=e,e=n);-1===l&&(l=2);-1!==a.g.C&&
(k+=Math.round((a.A-a.ta)/2),g+=Math.round((a.B-a.sa)/2));if(a.g.i)for(n=e;n<=c;n+=1)for(e=d;e<=f;e+=1){var q=0;100*a.F.random()<=a.Ab&&(q|=1);100*a.F.random()<=a.Ab&&(q|=2);100*a.F.random()<=a.Ab&&(q|=4);100*a.F.random()<=a.Ab&&(q|=8);p=a.la(e+k,n+g,q,!1)}else for(n=e;n<=c;n+=1)for(e=d;e<=f;e+=1)q=100*a.F.random()<=a.Ab?2===l||b?a.Re:(a.F.random()*(l-1)|0)+1:0,p|=a.la(e+k,n+g,q,!1);(a.g.F||a.g.l)&&p&&this.g.Za();a.g.lb=!0;a.g.Qb();a.T("random "+a.Ab+"%")}};ea.prototype.vm=function(a,b){a.K||(a.qa?
a.SF(a,b):a.yG(a,b))};ea.prototype.lG=function(a){a.K||a.vm(a,!1)};ea.prototype.BF=function(a){a.vm(a,!0)};ea.prototype.aH=function(a){var b=a.Bc,c=a.Jc,d=b>>1,f,e,k;for(e=k=0;e<c;e+=1){if(a.g.i)for(f=0;f<d;f+=1){var g=a.ba[k+f];var l=a.ba[k+b-f-1];a.ba[k+f]=l&5|(l&2)<<2|(l&8)>>2;a.ba[k+b-f-1]=g&5|(g&2)<<2|(g&8)>>2}else for(f=0;f<d;f+=1)g=a.ba[k+f],a.ba[k+f]=a.ba[k+b-f-1],a.ba[k+b-f-1]=g;k+=b}};ea.prototype.lB=function(a){var b=a.ca,c=b.H,d=b.J,f=b.I;b=b.L;var e,k=a.g.h,g=2<k&&!(this.g.da||this.g.i||
this.g.o||this.g.l||this.g.A),l=(a.g.width>>1)-(a.A>>1)+(a.V<<1),p=(a.g.height>>1)-(a.B>>1)+(a.X<<1),n=0;if(a.P){if(c>d){var q=d;d=c;c=q}f>b&&(q=b,b=f,f=q);-1!==a.g.C&&(l+=Math.round((a.A-a.ta)/2),p+=Math.round((a.B-a.sa)/2));q=a.g.S.h(ra.Ra,d-c+1,"View.flipRow");for(e=f;e<=b;e+=1){for(f=c;f<=d;f+=1){var m=a.g.Pa(f+l,e+p,!1);g&&0<m&&(m=k-m);q[f-c]=m}if(a.g.i)for(f=c;f<=d;f+=1)m=q[d-f],a.la(f+l,e+p,m&5|(m&2)<<2|(m&8)>>2,!1);else for(f=c;f<=d;f+=1)n|=a.la(f+l,e+p,q[d-f],!1)}(a.g.F||a.g.l)&&n&&this.g.Za();
a.g.lb=!0;a.g.Qb();a.T("flip horizontally")}};ea.prototype.pB=function(a){var b=a.Bc,c=a.Jc,d=c>>1,f,e,k;for(f=k=0;f<b;f+=1){if(a.g.i)for(e=0;e<d;e+=1){var g=a.ba[k+e*b];var l=a.ba[k+(c-e-1)*b];a.ba[k+e*b]=l&10|(l&1)<<2|(l&4)>>2;a.ba[k+(c-e-1)*b]=g&10|(g&1)<<2|(g&4)>>2}else for(e=0;e<d;e+=1)g=a.ba[k+e*b],a.ba[k+e*b]=a.ba[k+(c-e-1)*b],a.ba[k+(c-e-1)*b]=g;k+=1}};ea.prototype.tB=function(a){var b=a.ca,c=b.H,d=b.J,f=b.I;b=b.L;var e,k=a.g.h,g=2<k&&!(this.g.da||this.g.i||this.g.o||this.g.l||this.g.A),l=
(a.g.width>>1)-(a.A>>1)+(a.V<<1),p=(a.g.height>>1)-(a.B>>1)+(a.X<<1),n=0;if(a.P){if(c>d){var q=d;d=c;c=q}f>b&&(q=b,b=f,f=q);-1!==a.g.C&&(l+=Math.round((a.A-a.ta)/2),p+=Math.round((a.B-a.sa)/2));for(q=a.g.S.h(ra.Ra,b-f+1,"View.flipColumn");c<=d;c+=1){for(e=f;e<=b;e+=1){var m=a.g.Pa(c+l,e+p,!1);g&&0<m&&(m=k-m);q[e-f]=m}if(a.g.i)for(e=f;e<=b;e+=1)m=q[b-e],a.la(c+l,e+p,m&10|(m&1)<<2|(m&4)>>2,!1);else for(e=f;e<=b;e+=1)n|=a.la(c+l,e+p,q[b-e],!1)}(a.g.F||a.g.l)&&n&&this.g.Za();a.g.lb=!0;a.g.Qb();a.T("flip vertically")}};
ea.prototype.Ry=function(a,b){var c=a.Bc,d=a.Jc,f,e,k=a.g.S.h(ra.Ra,c*d,"View.pasteBuffer");for(e=0;e<d;e+=1)for(f=0;f<c;f+=1)if(a.g.i)if(b){var g=a.ba[e*c+f];k[f*d+(d-e-1)]=g<<1&15|(g&8)>>3}else g=a.ba[e*c+f],k[(c-f-1)*d+e]=g>>1&15|(g&1)<<3;else b?k[f*d+(d-e-1)]=a.ba[e*c+f]:k[(c-f-1)*d+e]=a.ba[e*c+f];a.ba=k;a.Bc=d;a.Jc=c};ea.prototype.Vy=function(a,b,c){a.KB(a,b,c)};ea.prototype.KB=function(a,b,c){var d=a.ca,f=d.H,e=d.J,k=d.I,g=d.L,l=0,p=a.g.h;var n=!0;var q=2<p&&!(this.g.da||this.g.i||this.g.o||
this.g.l||this.g.A),m=a.g.Z?-1:0;var r=Math.round((a.g.width-a.g.M)/2)+m;var u=Math.round((a.g.height-a.g.K)/2)+m;var t=r+a.g.M-1;var v=u+a.g.K-1;m=(a.g.width>>1)-(a.A>>1)+(a.V<<1);var A=(a.g.height>>1)-(a.B>>1)+(a.X<<1),w=0;if(a.P){-1!==a.g.C&&(m+=Math.round((a.A-a.ta)/2),A+=Math.round((a.B-a.sa)/2));if(f>e){var z=e;e=f;f=z}k>g&&(z=g,g=k,k=z);z=f+(e-f+1-1>>1);var D=k+(g-k+1-1>>1);var F=z+k-D;var L=D+f-z;var O=z+g-D;D=D+e-z;var N=d.H;var V=d.I;var W=d.J;var H=d.L;d.H=F;d.I=L;d.J=O;d.L=D;d.H>d.J&&
(z=d.H,d.H=d.J,d.J=z);d.I>d.L&&(z=d.I,d.I=d.L,d.L=z);if(-1!==a.g.C){if(d.H+m<r||d.J+m>t||d.I+A<u||d.L+A>v)a.D.notification.notify("Rotation does not fit in bounded grid",15,180,15,!0),n=!1}else a.mz(a)?(a.D.notification.notify("Rotation does not fit on grid",15,180,15,!0),n=!1):(m=(a.g.width>>1)-(a.A>>1)+(a.V<<1),A=(a.g.height>>1)-(a.B>>1)+(a.X<<1),-1!==a.g.C&&(m+=Math.round((a.A-a.ta)/2),A+=Math.round((a.B-a.sa)/2)));if(n){b?(n=L,v=O,t=1,u=-1):(n=D,v=F,t=-1,u=1);r=a.g.S.h(ra.Mo,3*(e-f+1)*(g-k+1),
"View.rotateCells");for(O=k;O<=g;O+=1){z=n;for(F=f;F<=e;F+=1)L=a.g.Pa(F+m,O+A,!1),q?0<L&&(L=p-L):a.g.i&&(L=b?L<<1&15|(L&8)>>3:L>>1&15|(L&1)<<3),r[l]=v,r[l+1]=z,r[l+2]=L,l+=3,z+=t;v+=u}m=(a.g.width>>1)-(a.A>>1)+(a.V<<1);A=(a.g.height>>1)-(a.B>>1)+(a.X<<1);-1!==a.g.C&&(m+=Math.round((a.A-a.ta)/2),A+=Math.round((a.B-a.sa)/2));for(l=0;l<r.length;)F=r[l],O=r[l+1],L=r[l+2],w|=a.la(F+m,O+A,L,!1),l+=3;for(F=f;F<d.H;F+=1)for(O=k;O<=g;O+=1)w|=a.la(F+m,O+A,0,!1);for(F=d.J+1;F<=e;F+=1)for(O=k;O<=g;O+=1)w|=a.la(F+
m,O+A,0,!1);for(O=k;O<d.I;O+=1)for(F=f;F<=e;F+=1)w|=a.la(F+m,O+A,0,!1);for(O=d.L+1;O<=g;O+=1)for(F=f;F<=e;F+=1)w|=a.la(F+m,O+A,0,!1);(a.g.F||a.g.l)&&w&&this.g.Za();a.g.lb=!0;a.g.Qb();a.T(c)}else d.H=N,d.I=V,d.J=W,d.L=H}};ea.prototype.QF=function(a){a.gl(a)};ea.prototype.kD=function(a){a.K||a.Qf(a,-1,0)};ea.prototype.vD=function(a){a.K||a.Qf(a,1,0)};ea.prototype.CD=function(a){a.K||a.Qf(a,0,-1)};ea.prototype.eD=function(a){a.K||a.Qf(a,0,1)};ea.prototype.uE=function(a){a.nr(a,!0)};ea.prototype.yE=function(a){a.nr(a,
!1)};ea.prototype.Sw=function(a){a.K||(a.qa?a.aH(a):a.lB(a))};ea.prototype.Vw=function(a){a.K||(a.qa?a.pB(a):a.tB(a))};ea.prototype.My=function(a){a.K||(a.qa?a.Ry(a,!0):a.Vy(a,!0,"rotate clockwise"))};ea.prototype.Jy=function(a){a.K||(a.qa?a.Ry(a,!1):a.Vy(a,!1,"rotate counter-clockwise"))};ea.prototype.sC=function(a){var b=0,c=a.g.h;if(!a.K)for(-1===c&&(c=2);b<a.ba.length;){var d=a.ba[b];a.ba[b]=c-d-1;b+=1}};ea.prototype.vC=function(a){var b=a.ca,c=b.H,d=b.J,f=b.I;b=b.L;var e=(a.g.width>>1)-(a.A>>
1)+(a.V<<1),k=(a.g.height>>1)-(a.B>>1)+(a.X<<1),g=a.g.h,l=0;if(!a.K&&a.P){if(c>d){var p=d;d=c;c=p}f>b&&(p=b,b=f,f=p);-1===g&&(g=2);-1!==a.g.C&&(e+=Math.round((a.A-a.ta)/2),k+=Math.round((a.B-a.sa)/2));for(p=f;p<=b;p+=1)for(f=c;f<=d;f+=1){var n=a.g.Pa(f+e,p+k,!1);!(a.g.l||a.g.A||a.g.i||a.g.o)&&2<g&&0<n&&(n=g-n);l|=a.la(f+e,p+k,g-n-1,!1)}(a.g.F||a.g.l)&&l&&this.g.Za();a.g.lb=!0;a.g.Qb();a.T("invert cells in selection")}};ea.prototype.mx=function(a){a.K||(a.qa?a.sC(a):a.vC(a))};ea.prototype.dr=function(a){a.g.Fb=
a.g.Fb?!1:!0;a.Ah(a.Hb);var b=a.g.bb;a.g.Fb&&(b=!b);a.D.notification.notify("Playback "+(b?"Reverse":"Forward"),15,40,15,!0)};ea.prototype.MG=function(a){a.lb(!0,!0,G.Cf);a.Hb||(a.ec=!0)};ea.prototype.Uz=function(a){if(a.g.o&&2===a.g.h){var b=a.g.Vm();a.xe(a,b)}};ea.prototype.oA=function(a){var b=a.W;a.g.o&&(b=Xa.FD(b),""===b&&(b=a.U.Za));a.xe(a,b)};ea.prototype.UB=function(a){if(0!==a.s||0!==a.$)a.s=0,a.hd.current=a.ff([0!==a.s],!0,a),a.$=0;0===a.g.s?(a.D.notification.notify("No live cells to Identify",
15,120,15,!1),a.gb=!1,a.Rb=!1):(a.gb?(a.gb=!1,a.D.notification.notify("Identify cancelled",15,120,15,!1)):(a.gb=!0,a.Rb=!1,a.g.fb=0,a.D.notification.notify("Identifying...",15,216E3,15,!1)),a.T(""));a.g.Xf(a.gb);a.s=0;a.Pj(a);a.Pj(a);a.D.i=!0;a.h.locked=!1;a.Dd.current=a.hg(0,!0,a)};ea.prototype.bC=function(a){a.Zd=1};ea.prototype.YB=function(a){a.Zd=2};ea.prototype.VB=function(a){a.Zd=3};ea.prototype.ax=function(a){var b=window.prompt("Enter generation",String(a.g.counter)),c=!1;a.Yf=-1;if(null!==
b){"b"===b.substring(b.length-1).toLowerCase()&&(b=b.substring(0,b.length-1),c=!0);if("+"===b.charAt(0)){var d=a.g.counter;d+=parseInt(b.substring(1),10)}else"-"===b.charAt(0)?(d=a.g.counter,d-=parseInt(b.substring(1),10)):d=parseInt(b,10);0<=d&&d<=G.zz?d!==a.g.counter&&(a.wf()?a.D.notification.notify("No live cells",15,360,15,!1):(a.Fb=d,a.da.current=a.gf([!1],!0,a),a.D.i=!0,a.dd&&a.D.notification.notify("Going to generation "+d,15,1E4,15,!1),a.D.notification.clear(!0,!1),d<a.g.counter&&(a.g.hg(a,
!1),a.Zm(a.g.counter)),c&&(a.Yf=performance.now()),a.Dl=d-a.g.counter)):a.D.notification.notify("Invalid generation specified",15,240,15,!0)}};ea.prototype.ol=function(a){a.UB(a)};ea.prototype.Dj=function(a,b,c){b&&(c.g.Ba=a[0]);return[c.g.Ba]};ea.prototype.jx=function(a,b,c){b&&(c.nd=a[0]);return[c.nd]};ea.prototype.lx=function(a,b,c){b&&(c.ej=a[0]);return[c.ej]};ea.prototype.Dr=function(a,b,c){b&&(c.Fd=a[0]);return[c.Fd]};ea.prototype.Jr=function(a,b,c){b&&(c.Df=a[0]);return[c.Df]};ea.prototype.gf=
function(a,b,c){b&&(0===c.s&&0===c.$||!a[0]||(c.s=0,c.hd.current=c.ff([0!==c.s],!0,c),c.$=0),!a[0]&&0<c.Tb.length&&(c.$=1),a[0]||c.Pj(c),a[0]&&(c.D.notification.clear(!1,!1),c.D.notification.clear(!0,!1)));return a};ea.prototype.Fr=function(a,b,c){b&&(c.Bh=a[0]);return[c.Bh]};ea.prototype.Hr=function(a,b,c){b&&(c.Xf=a[0]);return[c.Xf]};ea.prototype.hg=function(a,b,c){b&&(c.Gd=a);return c.Gd};ea.prototype.je=function(a,b,c){b&&(c.Vd=a[0],c.Vd?c.Yg?c.D.notification.notify("Replace: Now click on a cell",
15,180,15,!0):c.D.notification.notify("Pick: Now click on a cell",15,180,15,!0):(c.Ur||c.D.notification.clear(!0,!1),c.Ur=!1,c.Yg=!1));return[c.Vd]};ea.prototype.hx=function(a,b,c){b&&(c.fa=a[0],c.fa&&!c.Hb&&c.lb(!0,!0,G.Cf));return[c.fa]};ea.prototype.lD=function(a,b,c){b&&-1!==c.Lb&&(c.wa=!a[0],c.Aa?(c.eb=c.wa,c.D.notification.notify("Loop and Waypoints "+(c.wa?"Off":"On"),15,40,15,!0)):c.cb?(c.Kb=c.wa,c.D.notification.notify("Loop and Track "+(c.wa?"Off":"On"),15,40,15,!0),c.cz(c.Kb)):c.D.notification.notify("Loop "+
(c.wa?"Off":"On"),15,40,15,!0));return[c.wa]};ea.prototype.fD=function(a,b,c){b&&c.Mb&&(c.hc=!a[0]);return[c.hc]};ea.prototype.pD=function(a,b,c){b&&-1!==c.jc&&(c.Gb=!a[0]);return[c.Gb]};ea.prototype.Lr=function(a,b,c){b&&(c.cb?(c.Kb=!a[0],c.cz(c.Kb),-1!==c.Lb&&(c.wa=c.Kb)):c.Aa&&(c.eb=!a[0],c.eb?(c.D.notification.clear(!1,!1),c.Ge=""):(c.ec=!0,c.elapsedTime=c.m.va(c.g.counter),c.m.O(c,c.elapsedTime,c.g.counter,!1),c.m.O(c,c.elapsedTime,c.g.counter,!1)),-1!==c.Lb&&(c.wa=c.eb)));return c.cb?[c.Kb]:
[c.eb]};ea.prototype.ff=function(a,b,c){b&&(c.s=a[0]?1:0,c.s?(c.da.current[0]&&(c.da.current=c.gf([!1],!0,c)),c.D.notification.clear(!1,!1),c.D.notification.clear(!0,!1)):(c.Cc(G.tg,c),c.s=0));c.er(c.ra.current);return[0!==c.s]};ea.prototype.hC=function(a){a.Gw(a)};ea.prototype.CB=function(a){a.by(a)};ea.prototype.EC=function(a){a.aB(a)};ea.prototype.bB=function(a){var b=a.oa.current[0];b=45*Math.floor((b+22.5)/45);360<=b&&(b=0);a.oa.current=a.kg([b,b],!0,a)};ea.prototype.LC=function(){xa.FA()};ea.prototype.OC=
function(a){xa.Xv(a)};ea.prototype.qB=function(){xa.tA()};ea.prototype.AG=function(a){a.Ko(a,!1,!1)};ea.prototype.Xx=function(a,b,c){b&&(c.Ce=a[0]);return[c.Ce]};ea.prototype.Tx=function(a,b,c){b&&(c.g.Ec=a[0],c.g.Zh());return[c.g.Ec]};ea.prototype.Fn=function(a,b,c){b&&(c.dg=a[0]);c.D.Le(!0);return[c.dg]};ea.prototype.Pm=function(a,b){1<a.$&&(a.$-=b,1>a.$&&(a.$=1))};ea.prototype.Nm=function(a,b){a.$<a.Tb.length-a.Ba+1&&(a.$+=b,a.$>a.Tb.length-a.Ba+1&&(a.$=a.Tb.length-a.Ba+1))};ea.prototype.Tm=function(a,
b){1<a.s&&(a.s-=b,1>a.s&&(a.s=1))};ea.prototype.Rm=function(a,b){a.s<a.oi-a.Ba&&(a.s+=b,a.s>a.oi-a.Ba&&(a.s=a.oi-a.Ba))};ea.prototype.fF=function(a){for(var b=a.v.length-1,c=!1;0<=b&&!c;)a.s<=a.v[b][0]?--b:c=!0;c&&(a.s=a.v[b][0])};ea.prototype.iB=function(a){for(var b=0,c=!1;b<a.v.length&&!c;)a.s>=a.v[b][0]?b+=1:c=!0;c&&(a.s=a.v[b][0])};ea.prototype.SB=function(a){for(this.g.i&&this.g.counter<a&&(1===(this.g.counter&1)?this.g.m.aa.fill(0):this.g.Y.aa.fill(0));this.g.counter<a;)this.g.pf(!1),this.g.xe(),
this.g.Yg(),this.g.wf(this),this.Ao();this.elapsedTime=this.Be[a];this.ia=a*this.rc};ea.prototype.Vo=function(a){var b=this.na+(0<this.g.h?this.g.h:0);!this.hb&&this.D.Va&&(this.D.Va=!1,0>a&&(a=0),this.elapsedTime=this.Be[a],this.ia=a*this.rc,-1!==this.vb&&a>this.vb+b?this.g.counter=a:this.g.ql(a,this),this.elapsedTime=this.Be[a],this.ia=a*this.rc,this.m.Za(this.elapsedTime),this.ec=!0,a!==this.g.counter&&(this.mh=!0,this.du=a,this.g.hg(this,!1),this.D.notification.notify("Computing previous generations",
15,1E4,15,!0),this.Ut=!0))};ea.prototype.gx=function(a){a.style.width="2em";a.style.height="2em";a.style.padding=0;a.style.border="none";a.style.outline="none";a.style.boxShadow="none";a.style.background="transparent";a.style.position="fixed";a.style.left="-100px";a.style.top="0px"};ea.prototype.xe=function(a,b){var c=document.getElementById("ViewerCopy"),d=null;xa.jy=b;if(window.ClipboardItem)try{d=new ClipboardItem({"text/plain":xc().then(()=>new Promise(async f=>{f(new Blob([b],{type:"text/plain"}))}))})}catch(f){}d?
navigator.clipboard.write([d]):navigator.clipboard.writeText(b);a.D.notification.notify("Copied to external clipboard",15,180,15,!0);c&&(c.innerHTML=b)};ea.prototype.xd=function(a){var b=eb.Qe,c=Object.keys(b),d=a.h,f=a.l;a=a.i;for(var e="",k=!1,g=null,l=0;l<c.length&&!k;)g=b[c[l]],g[1]===d&&g[2]===f&&g[3]===a?(k=!0,l=c.length):l+=1;k?e=g[0]:e=d+" "+f+" "+a;return e};ea.prototype.Fi=function(a,b){return a.h===b.h&&a.l===b.l&&a.i===b.i};ea.prototype.Cm=function(a,b){var c="#C "+C.yk+" ",d=String(-(a.g.width/
2-a.g.fa-a.g.ua|0)),f=String(-(a.g.height/2-a.g.ca-a.g.oa|0)),e=a.g.zoom,k=String(a.g.angle|0),g=String(a.g.Jb|0),l=a.g.la[a.g.pb];0!==a.g.counter&&(c+=C.up+" "+a.g.counter+" ");c+=C.Ne+" "+d+" "+C.Pe+" "+f+" ";c+=C.fe+" "+(e===(e|0)?String(e):String(e.toFixed(2)))+" ";c+=C.lk+" "+k+" ";0!==a.g.Jb&&(c+=C.Bk+" "+g+" ");c+=C.bm+"\n";if(b){c+="#C "+C.yk+" ";if(a.ua){if(2<a.g.h){if(c+=C.nb+" "+C.to+" "+a.xd(l.C),c+=" "+C.nb+" "+C.so+" "+a.xd(l.v),a.Fi(l.l.i,l.C)||(c+=" "+C.nb+" "+C.wo+" "+a.xd(l.l.i)),
a.Fi(l.l.h,l.l.i)||(c+=" "+C.nb+" "+C.vo+" "+a.xd(l.l.h)),l.F||(c+=" "+C.nb+" "+C.yp+" "+a.xd(l.m.i)),l.F||!a.Fi(l.m.h,l.m.i))c+=" "+C.nb+" "+C.xp+" "+a.xd(l.m.h)}else c+=C.nb+" "+C.to+" "+a.xd(l.u),c+=" "+C.nb+" "+C.so+" "+a.xd(l.i.h),a.Fi(l.i.h,l.i.i)||(c+=" "+C.nb+" "+C.wp+" "+a.xd(l.i.i)),a.Fi(l.h.i,l.u)||(c+=" "+C.nb+" "+C.wo+" "+a.xd(l.h.i)),a.Fi(l.h.h,l.h.i)||(c+=" "+C.nb+" "+C.vo+" "+a.xd(l.h.h));c+=" "+C.bm+"\n#C "+C.yk+" "}c+=C.Cj+" "+l.name+" ";a.na!==a.ni&&(c+=C.Ln+" "+a.na+" ");a.zg!==
a.Hx&&(c+=C.Oo+" "+a.zg+" ");c+=C.Eo+" "+a.displayWidth+" ";c+=C.Kn+" "+a.displayHeight+" ";c+=C.bm+"\n"}a.xe(a,c)};ea.prototype.kz=function(a){a.element.innerHTML=a.g.ph(a,a.g,!0,a.g.h,a.g.h,[],!1);a.element.value=a.element.innerHTML};ea.prototype.KC=function(a,b){if(a.Pd.locked||a.lj||window.confirm("Open clipboard?"))a.element.innerHTML=b,a.element.value=a.element.innerHTML,ub(a.element)};ea.prototype.Zj=function(a){Ca.kb?a.xe(a,xa.se[a.Na].pattern):a.xe(a,Bb(a.element))};ea.prototype.ym=function(a,
b){a.xe(a,a.g.ph(a,a.g,b,a.g.h,a.g.h,[],!1))};ea.prototype.vx=function(a,b){var c=b.charCode||b.keyCode;if(a.mh?Mb.wF(a,c,b):a.gb?Mb.xF(a,c,b):-1!==a.Fb?Mb.vF(a,c,b):xa.Tl?Mb.yF(a,c,b):Mb.uF(a,c,b))a.D.Le(!0),b.preventDefault(),b.stopPropagation()};ea.prototype.tF=function(){this.g.F||this.g.l?(this.Ef.setPosition(da.sb,-85,-130),this.uf.setPosition(da.sb,-130,-130),this.g.F?(this.oc.setPosition(da.sb,-175,-130),this.oc.R="random fill [Shift 5]",this.Wd.setPosition(da.sb,-280,-130)):(this.oc.setPosition(da.sb,
-220,-130),this.oc.R="random multi-state fill [Shift 5]",this.yh.setPosition(da.sb,-175,-130),this.Wd.setPosition(da.sb,-325,-130))):2>=this.g.h?(this.Ef.setPosition(da.sb,-40,-130),this.uf.setPosition(da.sb,-85,-130),this.oc.setPosition(da.sb,-130,-130),this.oc.R="random fill [Shift 5]",this.Wd.setPosition(da.sb,-235,-130)):(this.Ef.setPosition(da.sb,-40,-130),this.uf.setPosition(da.sb,-85,-130),this.g.i?(this.oc.setPosition(da.sb,-130,-130),this.oc.R="random multi-state fill [Shift 5]",this.Wd.setPosition(da.sb,
-235,-130)):(this.oc.setPosition(da.sb,-175,-130),this.oc.R="random multi-state fill [Shift 5]",this.yh.setPosition(da.sb,-130,-130),this.Wd.setPosition(da.sb,-280,-130)))};ea.prototype.sx=function(){var a=!(this.g.da||this.g.l||this.g.A||this.g.o);if(this.displayHeight<G.vk){var b=50;this.ik.setPosition(da.Zc,10,b);this.jk.setPosition(da.Sa,0,b);this.hk.setPosition(da.lc,-160,b);b+=50;a?(this.Kj.setPosition(da.Zc,10,b),this.Yh.setPosition(da.Sa,0,b),this.Wh.setPosition(da.lc,-160,b),0<this.m.A()?
(this.Hg.setPosition(da.Zc,10,150),this.Xh.setPosition(da.lc,-160,150)):this.Hg.setPosition(da.Sa,0,150)):(this.Yh.setPosition(da.Zc,10,b),this.Wh.setPosition(da.Sa,0,b),this.Hg.setPosition(da.lc,-160,b),0<this.m.A()&&this.Xh.setPosition(da.Sa,0,b+50))}else b=0<this.m.A()?-175:-150,this.ik.setPosition(da.Xa,0,b),b+=50,this.jk.setPosition(da.Xa,0,b),b+=50,this.hk.setPosition(da.Xa,0,b),b+=50,a&&(this.Kj.setPosition(da.Xa,0,b),b+=50),this.Yh.setPosition(da.Xa,0,b),b+=50,this.Wh.setPosition(da.Xa,0,
b),b+=50,this.Hg.setPosition(da.Xa,0,b),this.Xh.setPosition(da.Xa,0,b+50)};ea.prototype.SA=function(){var a="white",b="black",c="rgb(0,240,32)",d="blue",f="grey",e="white";var k=this.pa[G.Rp];-1!==k?(a="rgb("+(k>>16)+","+(k>>8&255)+","+(k&255)+")",this.l.o=!0):(this.l.o=!0,k=16777215);this.l.O=this.g.tc?-16777216|(k&255)<<16|(k>>8&255)<<8|k>>16:k>>16<<24|(k>>8&255)<<16|(k&255)<<8|255;k=this.pa[G.Op];-1!==k?this.l.o=!0:(this.l.o=!0,k=7368816);this.l.K=this.g.tc?-16777216|(k&255)<<16|(k>>8&255)<<8|
k>>16:k>>16<<24|(k>>8&255)<<16|(k&255)<<8|255;k=this.pa[G.Pp];-1!==k?b="rgb("+(k>>16)+","+(k>>8&255)+","+(k&255)+")":k=0;this.rm=k;this.l.P=this.g.tc?-16777216|(k&255)<<16|(k>>8&255)<<8|k>>16:k>>16<<24|(k>>8&255)<<16|(k&255)<<8|255;k=this.pa[G.Sp];-1!==k&&(c="rgb("+(k>>16)+","+(k>>8&255)+","+(k&255)+")");k=this.pa[G.Up];-1!==k&&(d="rgb("+(k>>16)+","+(k>>8&255)+","+(k&255)+")");k=this.pa[G.Tp];-1!==k?f="rgb("+(k>>16)+","+(k>>8&255)+","+(k&255)+")":k=8421504;this.l.M=this.g.tc?-16777216|(k&255)<<16|
(k>>8&255)<<8|k>>16:k>>16<<24|(k>>8&255)<<16|(k&255)<<8|255;k=this.pa[G.Qp];-1!==k&&(e="rgb("+(k>>16)+","+(k>>8&255)+","+(k&255)+")");this.D.Qb(a,b,c,d,f,e,this.Kh);this.qh.mc="red"};ea.prototype.WC=function(){var a,b=0;this.h=this.D.hb(this.DG,this.Uq,this);this.h.O=this.rB;this.h.ka=this.LB;this.D.ma=this.DB;this.Ee=this.h.l(da.Sa,0,52,480,48,"Banner");this.Ee.Pb("32px Arial");this.mk=this.h.l(da.Sa,-160,140,160,32,"Cells");this.Ar=this.h.l(da.Sa,-160,180,160,32,"Bounding Box");this.Er=this.h.l(da.Sa,
-160,240,160,32,"Direction");this.Ir=this.h.l(da.Sa,-160,280,160,32,"Period");this.Kr=this.h.l(da.Sa,-160,320,160,32,"Slope");this.Mr=this.h.l(da.Sa,-160,360,160,32,"Speed");this.Gr=this.h.l(da.Sa,-160,400,160,32,"Heat");this.Qr=this.h.l(da.Sa,-160,440,160,32,"Volatility");this.ci=this.h.l(da.Sa,-160,460,160,32,"Mod");this.yr=this.h.l(da.Sa,-160,500,160,32,"Active Cells");this.Or=this.h.l(da.Sa,-160,540,160,32,"Temperature");this.bi=this.h.l(da.Sa,80,140,320,32,"");this.sn=this.h.l(da.Sa,80,180,320,
32,"");this.xn=this.h.l(da.Sa,80,220,320,32,"");this.En=this.h.l(da.Sa,80,260,320,32,"");this.Gn=this.h.l(da.Sa,80,300,320,32,"");this.sl=this.h.l(da.Sa,80,340,320,32,"");this.pk=this.h.l(da.Sa,80,380,320,32,"");this.In=this.h.l(da.Sa,80,420,320,32,"");this.di=this.h.l(da.Sa,80,460,320,32,"");this.kk=this.h.l(da.Sa,80,500,320,32,"");this.xl=this.h.l(da.Sa,80,540,320,32,"");this.Cl=this.h.l(da.Zc,0,40,16,20,"X");this.Cl.Pb(G.rg);this.Cl.V=da.qe;this.El=this.h.l(da.Zc,70,40,16,20,"Y");this.El.Pb(G.rg);
this.El.V=da.qe;this.zl=this.h.l(da.Zc,140,40,16,20,"A");this.zl.Pb(G.rg);this.zl.V=da.qe;this.Ng=this.h.l(da.Zc,16,40,54,20,"");this.Ng.Pb(G.rg);this.Ng.i=da.right;this.Ng.R="camera X position";this.Og=this.h.l(da.Zc,86,40,54,20,"");this.Og.Pb(G.rg);this.Og.i=da.right;this.Og.R="camera Y position";this.Ig=this.h.l(da.Zc,156,40,40,20,"");this.Ig.Pb(G.rg);this.Ig.i=da.right;this.Ig.R="camera angle";this.Sr=this.h.l(da.Zc,196,40,4,20,"");this.Jn=this.h.l(da.lc,-280,40,20,20,"E");this.Jn.Pb(G.rg);this.Nn=
this.h.l(da.lc,-210,40,20,20,"S");this.Nn.Pb(G.rg);this.Pn=this.h.l(da.lc,-140,40,20,20,"W");this.Pn.Pb(G.rg);this.Mn=this.h.l(da.lc,-70,40,20,20,"N");this.Mn.Pb(G.rg);this.Jg=this.h.l(da.lc,-260,40,50,20,"");this.Jg.Pb(G.rg);this.Jg.i=da.right;this.Jg.R="bounding box east edge velocity";this.Lg=this.h.l(da.lc,-190,40,50,20,"");this.Lg.Pb(G.rg);this.Lg.i=da.right;this.Lg.R="bounding box south edge velocity";this.Mg=this.h.l(da.lc,-120,40,50,20,"");this.Mg.Pb(G.rg);this.Mg.i=da.right;this.Mg.R="bounding box west edge velocity";
this.Kg=this.h.l(da.lc,-50,40,50,20,"");this.Kg.Pb(G.rg);this.Kg.i=da.right;this.Kg.R="bounding box north edge velocity";this.kh=this.h.m(this.fD,da.lc,-210,0,38,20,["START"],[!1],da.kb);this.kh.Pb(G.Mq);this.kh.R=["autostart ["+this.C+" O]"];this.eg=this.h.m(this.pD,da.lc,-210,20,38,20,["STOP"],[!1],da.kb);this.eg.Pb(G.Mq);this.eg.R=["stop ["+this.C+" P]"];this.Fc=this.h.m(this.Lr,da.lc,-172,0,38,20,["WAYPT"],[!1],da.kb);this.Fc.Pb(G.Mq);this.Fc.R=["toggle waypoint mode [W]"];this.xf=this.h.m(this.lD,
da.lc,-172,20,38,20,["LOOP"],[!1],da.kb);this.xf.Pb(G.Mq);this.xf.R=["toggle loop mode [Shift P]"];this.ra=this.h.m(this.le,da.Zc,90,0,120,40,["","",""],G.Ph,da.Aj);this.ra.h=[this.l.h("draw"),this.l.h("select"),this.l.h("pan")];this.ra.R=["draw [F2]","select [F4]","pan [F5]"];this.gd=this.h.m(this.vB,da.lc,-80,100,80,60,["1","2"],0,da.Aj);this.gd.orientation=da.vertical;this.gd.R=["",""];this.gd.Pb("14px Arial");this.hr=this.h.i(this.vE,da.lc,-110,40,60,40,"OK");this.hr.R="confirm setting disabled and hide warning";
this.hd=this.h.m(this.ff,da.lc,-40,0,40,40,["Help"],[!1],da.kb);this.hd.R=["toggle help display [H]"];this.hd.Pb("16px Arial");this.rn=this.h.i(this.DD,da.lc,-40,50,40,40,"^");this.rn.R="show help topics [Backspace]";this.Vm=this.h.i(this.nC,da.lc,-40,100,40,40,"<");this.Vm.R="show help sections [Ins]";this.ik=this.h.i(this.BC,da.Sa,0,50,150,40,"Keys");this.ik.R="show keyboard shortcuts [K]";this.jk=this.h.i(this.kC,da.Sa,0,100,150,40,"Scripts");this.jk.R="show script commands [S]";this.hk=this.h.i(this.mC,
da.Sa,0,150,150,40,"Info");this.hk.R="show pattern and engine information [I]";this.Kj=this.h.i(this.YC,da.Sa,0,200,150,40,"Themes");this.Kj.R="show colour Themes [T]";this.Yh=this.h.i(this.EB,da.Sa,0,250,150,40,"Colours");this.Yh.R="show colour names [C]";this.Wh=this.h.i(this.GE,da.Sa,0,300,150,40,"Aliases");this.Wh.R="show rule aliases [A]";this.Hg=this.h.i(this.NC,da.Sa,0,350,150,40,"Memory");this.Hg.R="show memory usage [Y]";this.Xh=this.h.i(this.RE,da.Sa,0,350,150,40,"Annotations");this.Xh.R=
"show annotations [N]";this.de=this.h.m(this.hx,da.Zc,0,0,40,40,["Auto"],[!1],da.kb);this.de.h=[this.l.h("autofit")];this.de.R=["toggle autofit [Shift F]"];this.de.Pb("16px Arial");this.pf=this.h.i(this.MG,da.Zc,45,0,40,40,"");this.pf.h=this.l.h("fit");this.pf.R="fit pattern to display [F]";this.fd=this.h.m(this.Dj,da.lc,-85,0,40,40,["Grid"],[!1],da.kb);this.fd.h=[this.l.h("grid")];this.fd.R=["toggle gridlines [X]"];this.fd.Pb("16px Arial");this.qg=this.h.Ba(da.Cg);this.qg.locked=!0;this.qf=this.h.l(da.Cg,
0,-130,42,30,"Gen");this.qf.i=da.left;this.qf.Pb(G.sg);this.qf.R="generation";this.ed=this.h.l(da.Cg,42,-130,98,30,"");this.ed.i=da.right;this.ed.Pb(G.sg);this.ed.R="generation";this.Bj=this.h.l(da.Cg,0,-100,70,30,"Time");this.Bj.i=da.left;this.Bj.Pb(G.sg);this.Bj.R="elapsed time";this.mf=this.h.l(da.Cg,70,-100,70,30,"");this.mf.i=da.right;this.mf.Pb(G.sg);this.mf.R="elapsed time";this.We=this.h.l(da.Cg,210,-70,130,30,"");this.We.i=da.left;this.We.Pb(G.sg);this.We.R="selection size";this.ib=this.h.l(da.Cg,
0,-70,210,30,"");this.ib.i=da.left;this.ib.Pb(G.sg);this.ib.R="cell state at cursor position";this.fb=this.h.m(this.Fn,da.Cg,0,-40,100,40,["T 0"],[this.dg],da.kb);this.fb.R=["toggle generation statistics [G]\ngeneration "+(this.g.counter+this.Ga)];this.pc=this.h.l(da.Cg,0,-40,this.displayWidth-40,40,"");this.pc.i=da.left;this.pc.G=!0;this.Se=this.h.l(da.sb,-70,-130,70,30,"Alive");this.Se.i=da.left;this.Se.Pb(G.sg);this.Se.R="current population";this.Hd=this.h.l(da.sb,-140,-130,70,30,"");this.Hd.i=
da.right;this.Hd.Pb(G.sg);this.Hd.R="alive";this.Kc=this.h.l(da.sb,-70,-100,70,30,"Births");this.Kc.i=da.left;this.Kc.Pb(G.sg);this.Kc.R="cells born this generation";this.cd=this.h.l(da.sb,-140,-100,70,30,"");this.cd.i=da.right;this.cd.Pb(G.sg);this.cd.R="births";this.ze=this.h.l(da.sb,-70,-70,70,30,"Deaths");this.ze.i=da.left;this.ze.Pb(G.sg);this.ze.R="cells died this generation";this.Ae=this.h.l(da.sb,-140,-70,70,30,"");this.Ae.i=da.right;this.Ae.Pb(G.sg);this.Ae.R="deaths";this.Yd=this.h.l(da.Cg,
0,-160,140,30,this.W);this.Yd.Pb(G.sg);this.dc=this.h.F(this.Rd,da.Sa,0,0,G.Ep,40,0,1,.1,"Zoom ","",1);this.dc.R="camera zoom [[ / ]]";this.ab=this.h.F(this.hm,da.Yp,-84,0,40,292,G.hq,G.pq,1,"Layers ","",0);this.ab.R="number of layers [Q / A]";this.Fa=this.h.F(this.hf,da.Yp,-40,0,40,292,1,0,.1,"Depth ","",2);this.Fa.R="depth between layers [P / L]";this.Wa=this.h.F(this.Fj,da.Hw,0,0,40,292,0,1,.5,"Tilt ","",1);this.Wa.R="camera tilt [' / /]";this.oa=this.h.F(this.kg,da.Sa,0,50,390,40,0,359,0,"Angle ",
"\u00b0",0);this.oa.R="camera angle [< / >]";this.df=this.h.i(this.CC,da.sb,-40,-90,40,40,"");this.df.h=this.l.h("shrink");this.df.R="shrink to thumbnail [N]";this.nn=this.h.l(da.Sa,0,100,120,40,"");this.Cd=this.h.m(this.Xr,da.Xa,-100,-100,180,40,["Use Rectangles"],[this.g.ta],da.kb);this.Cd.R=["toggle hexagonal cells [?]"];this.Mi=this.h.m(this.Cx,da.Xa,100,-100,180,40,["Cell Borders"],[this.g.Ta],da.kb);this.Mi.R=["toggle cell borders ["+this.C+" B]"];this.ld=this.h.m(this.Rx,da.Xa,-100,-50,180,
40,["Major GridLines"],[this.g.pc],da.kb);this.ld.R=["toggle major gridlines [Shift X]"];this.rj=this.h.m(this.Rw,da.Xa,100,-50,180,40,["Starfield"],[this.Dc],da.kb);this.rj.R=["toggle starfield display [S]"];this.vf=this.h.m(this.Px,da.Xa,-100,0,180,40,["Annotations"],[this.$d],da.kb);this.vf.R=["toggle annotations ["+this.C+" L]"];this.xh=this.h.m(this.fs,da.Xa,100,0,180,40,["Rainbow"],[this.g.Xb],da.kb);this.xh.R=["toggle rainbow mode ["+this.C+" W]"];this.Gi=this.h.m(this.yx,da.Xa,-100,50,180,
40,["Auto GridLines"],[this.bd],da.kb);this.Gi.R=["automatically turn on gridlines for Draw and Select and off for Pan ["+this.u+" G]"];this.ce=this.h.m(this.wx,da.Xa,100,50,180,40,["Alt GridLines"],[this.g.dd],da.kb);this.ce.R=["toggle alternating gridlines ["+this.C+" D]"];this.Qn=this.h.i(this.pC,da.Xa,-100,100,180,40,"Integer Zoom");this.Qn.R="set zoom to nearest integer [Shift 1]";this.Zk=this.h.m(this.Tx,da.Xa,100,100,180,40,["Render Quality"],[this.g.Ec],da.kb);this.Zk.R=["toggle anti-aliased cell display ["+
this.u+" Q]"];this.mn=this.h.i(this.ax,da.Xa,-100,-75,180,40,"Go To Gen");this.mn.R="go to specified generation [Shift N]";this.$h=this.h.m(this.Kx,da.Xa,100,-75,180,40,["AutoFit History"],[this.kd],da.kb);this.$h.R=["toggle AutoFit History [Shift H]"];this.gg=this.h.m(this.Jr,da.Xa,-100,-25,180,40,["Throttle"],[this.Df],da.kb);this.gg.R=["toggle playback throttling ["+this.C+" T]"];this.Wf=this.h.m(this.Dr,da.Xa,100,-25,180,40,["Perf. Warning"],[this.Fd],da.kb);this.Wf.R=["toggle performance warning display [Shift W]"];
this.ve=this.h.m(this.zB,da.Xa,-100,25,180,40,["Kill Gliders"],[this.g.fd],da.kb);this.ve.R=["toggle kill escaping gliders ["+this.u+" L]"];this.Hi=this.h.m(this.Ax,da.Xa,100,25,180,40,["AutoHide UI"],[this.jd],da.kb);this.Hi.R=["toggle hide UI on playback ["+this.C+" U]"];this.Wi=this.h.m(this.Vr,da.Xa,100,75,180,40,["Use Saved"],[this.Ad],da.kb);this.Wi.R=["toggle use saved default playback speed [Shift E]"];this.Jw=this.h.i(this.nz,da.Xa,-100,75,180,40,"Save Speed");this.Jw.R="save default playback speed ["+
this.u+" E]";this.Bw=this.h.i(this.OB,da.Xa,-100,-100,180,40,"Change Rule");this.Bw.R="change rule ["+this.C+" R]";this.Bs=this.h.i(this.QC,da.Xa,100,-100,180,40,"New Pattern");this.Bs.R="new pattern ["+this.C+" N]";this.vs=this.h.i(this.HC,da.Xa,-100,-50,180,40,"Load Pattern");this.vs.R="load last saved pattern ["+this.u+" O]";this.pl=this.h.i(this.Iz,da.Xa,100,-50,180,40,"Save Pattern");this.pl.R="save pattern ["+this.u+" S]";this.el=this.h.i(this.IG,da.Xa,-100,0,180,40,"Rand All");this.el.R="randomize pattern and rule ["+
this.C+" Z]";this.fl=this.h.i(this.CG,da.Xa,100,0,180,40,"Rand Pattern");this.fl.R="randomize pattern and keep rule ["+this.u+" "+this.C+" Z]";this.ai=this.h.i(this.ol,da.Xa,-100,50,180,40,"Identify");this.ai.R="identify oscillator or spaceship period [F6]";this.om=this.h.i(this.EC,da.Xa,100,50,180,40,"Last Identify");this.om.R="show last identify results [Shift F6]";this.Nw=this.h.i(this.bC,da.Xa,-100,100,180,40,"Save Image");this.Nw.R="save image [O]";this.Lw=this.h.i(this.YB,da.Xa,100,100,180,
40,"Save Graph");this.Lw.R="save population graph image [Shift O]";this.ct=this.h.i(this.Qx,da.Xa,-100,-100,180,40,"Open Clipboard");this.ct.R="open clipboard as pattern ["+this.u+" Shift O]";this.fv=this.h.i(this.rC,da.Xa,100,-100,180,40,"Copy Original");this.fv.R="copy original pattern ["+this.u+" Shift C]";this.Em=this.h.i(this.oA,da.Xa,-100,-50,180,40,"Copy Rule");this.Em.R="copy rule definition ["+this.u+" J]";this.Xj=this.h.i(this.Uz,da.Xa,100,-50,180,40,"Copy as MAP");this.Xj.R="copy rule definition as MAP ["+
this.C+" M]";this.Am=this.h.i(this.oC,da.Xa,-100,0,180,40,"Copy Nhood");this.Am.R="copy CoordCA neighbourhood definition ["+this.u+" B]";this.Gm=this.h.i(this.MC,da.Xa,100,0,180,40,"Copy All");this.Gm.R="copy current pattern with comments ["+this.u+" "+this.C+" C]";this.vv=this.h.i(this.xC,da.Xa,-100,50,180,40,"Copy Position");this.vv.R="copy camera position [K]";this.Jv=this.h.i(this.GC,da.Xa,100,50,180,40,"Copy View");this.Jv.R="copy camera position and view [Shift K]";this.Co=this.h.i(this.wE,
da.Xa,-100,100,180,40,"Paste To Seln");this.Co.R="paste to selection ["+this.u+" Shift V]";this.$j=this.h.m(this.Tr,da.Xa,100,100,180,40,["External Sync"],[this.Wb],da.kb);this.$j.R=["sync cut and copy with external clipboard ["+this.C+" S]"];this.Yk=this.h.i(this.ZE,da.zk,-135,-150,120,40,"Prev");this.Yk.R="go to previous pattern [Page Up]";this.Hk=this.h.i(this.XC,da.zk,135,-150,120,40,"Next");this.Hk.R="go to next pattern [Page Down]";this.oo=this.h.i(this.Jx,da.zk,0,-150,120,40,"Patterns");this.oo.R=
"show all patterns [Home]";this.qh=this.h.i(this.HG,da.sb,-40,-85,40,40,"X");this.qh.R="close window";this.qh.Pb("24px Arial");this.qh.mc="red";this.zt=this.h.i(this.wB,da.sb,-40,-85,40,40,"X");this.zt.R="close errors [Esc]";this.Xk=this.h.i(this.Ux,da.Hw,10,0,40,40,"<");this.Xk.R="go to previous POI [Shift J]";this.Gk=this.h.i(this.Ox,da.Yp,-50,0,40,40,">");this.Gk.R="go to next POI [J]";this.pi=this.h.F(this.yn,da.Sa,0,45,172,40,0,1,this.Va,"Opacity ","%",0);this.pi.R="graph opacity [7 / 9]";this.un=
this.h.i(this.Cr,da.lc,-40,45,40,40,"X");this.un.R="close results [Esc]";this.Dd=this.h.m(this.hg,da.lc,-40,45,40,120,["Res","Tbl","Map"],this.Gd,da.Aj);this.Dd.R=["show Identify results [Shift F6]","toggle cell period table [E]","toggle cell period map [D]"];this.Dd.Pb("15px Arial");this.Dd.V=da.qe;this.ql=this.h.i(this.dC,da.lc,-40,45,40,40,"");this.ql.R="download cell period map [Shift D]";this.ql.h=this.l.h("download");this.fi=this.h.i(this.kx,da.lc,-40,45,40,40,"");this.fi.h=this.l.h("nudgeup");
this.fi.R="scroll table up [PgUp]";this.ei=this.h.i(this.ix,da.lc,-40,45,40,40,"");this.ei.h=this.l.h("nudgedown");this.ei.R="scroll table down [PgDown]";this.wr=this.h.i(this.JB,da.lc,-40,45,40,40,"X");this.wr.R="close graph [Y]";this.mi=this.h.m(this.jx,da.lc,-85,45,40,40,[""],[!1],da.kb);this.mi.h=[this.l.h("lines")];this.mi.R=["toggle graph lines/points [Shift Y]"];this.Xb=this.h.m(this.dm,da.lc,-210,45,120,40,["Pop","Bth","Dth"],[this.vh,this.th,this.uh],da.kb);this.Xb.R=["toggle population [Shift F3]",
"toggle births [Shift F4]","toggle deaths [Shift F5]"];this.Xb.Pb("15px Arial");this.Uc=this.h.m(this.je,da.Zc,0,45,40,40,[""],[this.Vd],da.kb);this.Uc.h=[this.l.h("pick")];this.Uc.R=["pick state [F3]"];this.sj=this.h.m(this.Hr,da.Zc,45,45,40,40,[""],[this.Xf],da.kb);this.sj.h=[this.l.h("states")];this.sj.R=["toggle states display ["+this.u+" D]"];this.Rk=this.h.m(this.lx,da.Zc,90,45,40,40,[""],[this.ej],da.kb);this.Rk.h=[this.l.h("drawpause")];this.Rk.R=["toggle pause playback while drawing ["+this.u+
" P]"];this.qj=this.h.m(this.Fr,da.Zc,135,45,40,40,[""],[this.Bh],da.kb);this.qj.h=[this.l.h("smart")];this.qj.R=["toggle smart drawing [Shift F2]"];this.da=this.h.m(this.gf,da.sb,-40,-40,40,40,[""],[!1],da.kb);this.da.h=[this.l.h("menu")];this.da.R=["toggle settings menu [M]"];this.Pk=this.h.i(this.AE,da.Xa,-100,-75,150,40,"Pattern");this.Pk.R="pattern actions";this.um=this.h.i(this.sB,da.Xa,100,-75,150,40,"Clipboard");this.um.R="clipboard actions";this.pd=this.h.i(this.jB,da.Xa,-100,75,150,40,"Theme");
this.pd.R="choose colour theme";this.De=this.h.m(this.vn,da.Xa,100,75,150,40,["Graph"],[this.Da],da.kb);this.De.R=["toggle population graph display [Y]"];this.ck=this.h.i(this.XD,da.Xa,-100,-25,150,40,"Display");this.ck.R="display settings";this.Ho=this.h.i(this.IE,da.Xa,100,-25,150,40,"Playback");this.Ho.R="playback settings and actions";this.Yo=this.h.i(this.tD,da.Xa,-100,25,150,40,"General");this.Yo.R="general actions";this.hn=this.h.i(this.SG,da.Xa,-100,-100,180,40,"Fit Selection");this.hn.R=
"fit selection to display ["+this.u+" F]";this.Go=this.h.i(this.wG,da.Xa,100,-100,180,40,"Center Pattern");this.Go.R="center pattern ["+this.u+" M]";this.sm=this.h.i(this.AG,da.Xa,-100,-50,180,40,"Clear Drawing");this.sm.R="clear drawing state cells ["+this.u+" "+this.C+" K]";this.yl=this.h.i(this.bB,da.Xa,100,-50,180,40,"Snap Angle");this.yl.R="snap angle to nearest 45 degrees ["+this.C+" /]";this.Lm=this.h.i(this.hC,da.Xa,-100,0,180,40,"Save View");this.Lm.R="save current view [Shift V]";this.Fm=
this.h.i(this.CB,da.Xa,100,0,180,40,"Restore View");this.Fm.R="restore saved view [V]";this.cn=this.h.i(this.LC,da.Xa,-100,50,180,40,"Stop All");this.cn.R="stop all Viewers [Shift Z]";this.en=this.h.i(this.OC,da.Xa,100,50,180,40,"Stop Others");this.en.R="stop other Viewers [Z]";this.Dm=this.h.i(this.qB,da.Xa,-100,100,180,40,"Reset All");this.Dm.R="reset all Viewers [Shift R]";this.Hl=this.h.i(this.jC,da.Xa,100,25,150,40,"Advanced");this.Hl.R="advanced settings and actions";this.Uh=this.h.m(this.ng,
da.Xa,-100,-75,180,40,["Frame Times"],[this.D.B],da.kb);this.Uh.R=["toggle timing display [T]"];this.Vl=this.h.m(this.Ts,da.Xa,100,-75,180,40,["Timing Details"],[this.D.F],da.kb);this.Vl.R=["toggle timing details [Shift T]"];this.nj=this.h.m(this.Xx,da.Xa,-100,-25,180,40,["Relative Gen"],[this.Ce],da.kb);this.nj.R=["toggle absolute/relative generation display [Shift G]"];this.Hj=this.h.m(this.ey,da.Xa,100,-25,180,40,["Y Direction"],[this.me],da.kb);this.Hj.R=["toggle y coordinate direction [F9]"];
this.gi=this.h.m(this.Nx,da.Xa,-100,25,180,40,["Info Bar"],[this.Ia],da.kb);this.gi.R=["toggle Information Bar [Shift I]"];this.rh=this.h.m(this.Ix,da.Xa,100,25,180,40,["Fast Lookup"],[this.g.cc],da.kb);this.rh.R=["toggle fast lookup [F7]"];this.Fl=this.h.m(this.$x,da.Xa,-100,75,180,40,["State Number"],[this.cg],da.kb);this.Fl.R=["toggle state number display [F8]"];this.yd=this.h.i(this.Pj,da.zk,0,-100,120,40,"Back");this.yd.R="back to previous menu [Backspace]";this.Pi=this.h.i(this.zF,da.zk,0,-100,
120,40,"Cancel");this.Pi.R="cancel operation [Esc]";this.Pi.K=!0;var c=-1;for(a=0;a<=this.g.ib;a+=1){var d=G.zp[a];var f=G.vG[a];f!==c?(b=120,c=f):b+=60;this.Dh[a]=this.h.m(this.wD,da.Sa,140*f-210,b,120,40,[this.jn(d)],[!1],da.kb);this.Dh[a].R=["select "+this.jn(d)+" theme"];this.Dh[a].Pb("20px Arial")}this.bx=this.Dh[0].id;this.Yw=this.h.l(da.Sa,-210,60,120,40,"Default");this.Tw=this.h.l(da.Sa,-70,60,120,40,"Classic");this.$w=this.h.l(da.Sa,70,60,120,40,"Program");this.Ww=this.h.l(da.Sa,210,60,120,
40,"Basic");this.Al=this.h.i(this.IC,da.sb,-405,-40,40,40,"1x");this.Al.R="set 1x playback speed [0]";this.cc=this.h.F(this.vc,da.sb,-360,-40,105,40,0,2,1,"","",-1);this.cc.R="playback speed [+ / -]";this.vj=this.h.l(da.sb,-284,-30,27,20,"0");this.vj.Pb(G.sg);this.vj.G=!0;this.Pd=this.h.i(this.ZD,da.sb,-495,-40,40,40,"");this.Pd.h=this.l.h("undo");this.Pd.R="undo ["+this.u+" Z]";this.zh=this.h.i(this.YG,da.sb,-450,-40,40,40,"");this.zh.h=this.l.h("redo");this.zh.R="redo ["+this.u+" Y]";this.sf=this.h.m(this.Zr,
da.lc,-130,0,40,40,["Icon"],[this.rd],da.kb);this.sf.R=["toggle icons ["+this.C+" I]"];this.sf.Pb("15px Arial");this.$b=this.h.m(this.vd,da.sb,-205,-40,160,40,["","","",""],G.ne,da.Aj);this.$b.h=[this.l.h("tostart"),this.l.h("stepback"),this.l.h("stepforward"),this.l.h("play")];this.$b.R=["reset [R]","previous generation [Shift Tab]","next generation [Tab]","play [Enter]"];this.Qa=this.h.m(this.ws,da.lc,-280,45,280,20,"0123456".split(""),this.Re,da.Aj);this.Qa.R="dead;alive;history;mark 1;mark off;mark 2;kill".split(";");
this.Qa.Pb("14px Arial");this.ma=this.h.m(this.HB,da.lc,-280,65,280,20,"      ".split(" "),[!1,!1,!1,!1,!1,!1,!1],da.kb);this.ma.R="dead;alive;history;mark 1;mark off;mark 2;kill".split(";");this.ma.u=1;this.ma.xa(this.bH);this.Ml=this.h.i(null,da.Zc,175,45,5,40,"");this.Ml.u=0;this.Ml.locked=!0;this.Ml.border=0;this.Il=this.h.F(this.Cs,da.Zc,180,45,130,40,0,1,0,"","",-1);this.Il.R="select drawing states range";this.rl=this.h.i(this.iA,da.Zc,0,45,40,40,"All");this.rl.h=this.l.h("select");this.rl.R=
"select all cells ["+this.u+" A]";this.rl.Pb("16px Arial");this.jh=this.h.m(this.Rr,da.Zc,45,45,40,40,["Auto"],[this.Sd],da.kb);this.jh.h=[this.l.h("autoshrink")];this.jh.R=["toggle auto shrink selection ["+this.C+" A]"];this.jh.Pb("16px Arial");this.Nj=this.h.i(this.FC,da.Zc,90,45,40,40,"");this.Nj.h=this.l.h("shrink");this.Nj.R="shrink selection [Shift A]";this.He=this.h.m(null,da.Zc,135,45,40,40,[""],[!1],da.kb);this.He.h=[this.l.h("selectlibrary")];this.He.R=["toggle clipboard library [Shift B]"];
this.Vj=this.h.m(this.Ex,da.Sa,0,90,400,40,"0123456789".split(""),this.mb,da.Aj);this.ak();this.Ed=this.h.m(this.bs,da.lc,-160,45,160,40,["AND","CPY","OR","XOR"],G.zw[this.Pf],da.Aj);this.Ed.R=["paste mode [Shift M]","paste mode [Shift M]","paste mode [Shift M]","paste mode [Shift M]"];this.Ed.Pb("16px Arial");this.bk=this.h.i(this.jD,da.Zc,180,45,40,40,"");this.bk.h=this.l.h("cut");this.bk.R="cut ["+this.u+" X]";this.Yj=this.h.i(this.AC,da.Zc,225,45,40,40,"");this.Yj.h=this.l.h("copy");this.Yj.R=
"copy ["+this.u+" C]";this.ri=this.h.i(this.Sx,da.Zc,270,45,40,40,"");this.ri.h=this.l.h("paste");this.ri.R="paste ["+this.u+" V]";this.Qj=this.h.i(this.QF,da.sb,-40,-220,40,40,"");this.Qj.h=this.l.h("cancelsel");this.Qj.R="cancel selection ["+this.u+" K]";this.Jk=this.h.i(this.kD,da.sb,-265,-175,40,40,"");this.Jk.h=this.l.h("nudgeleft");this.Jk.R="nudge left ["+this.C+" Left]";this.Kk=this.h.i(this.vD,da.sb,-220,-175,40,40,"");this.Kk.h=this.l.h("nudgeright");this.Kk.R="nudge right ["+this.C+" Right]";
this.Lk=this.h.i(this.CD,da.sb,-175,-175,40,40,"");this.Lk.h=this.l.h("nudgeup");this.Lk.R="nudge up ["+this.C+" Up]";this.Ik=this.h.i(this.eD,da.sb,-130,-175,40,40,"");this.Ik.h=this.l.h("nudgedown");this.Ik.R="nudge down ["+this.C+" Down]";this.Di=this.h.i(this.yE,da.sb,-85,-175,40,40,"+Sel");this.Di.h=this.l.h("advanceselection");this.Di.R="advance selection ["+this.u+" Space]";this.Di.Pb("15px Arial");this.Ai=this.h.i(this.uE,da.sb,-40,-175,40,40,"+Out");this.Ai.h=this.l.h("advanceoutside");this.Ai.R=
"advance outside [Shift Space]";this.Ai.Pb("15px Arial");this.ek=this.h.i(this.Sw,da.sb,-265,-85,40,40,"");this.ek.h=this.l.h("flipx");this.ek.R="flip horizontally ["+this.C+" X]";this.fk=this.h.i(this.Vw,da.sb,-220,-85,40,40,"");this.fk.h=this.l.h("flipy");this.fk.R="flip vertically ["+this.C+" Y]";this.ml=this.h.i(this.My,da.sb,-175,-85,40,40,"");this.ml.h=this.l.h("rotatecw");this.ml.R="rotate clockwise [>]";this.il=this.h.i(this.Jy,da.sb,-130,-85,40,40,"");this.il.h=this.l.h("rotateccw");this.il.R=
"rotate counter-clockwise [<]";this.Uj=this.h.i(this.oB,da.sb,-85,-85,40,40,"");this.Uj.h=this.l.h("inside");this.Uj.R="clear cells in selection [Del]";this.Tj=this.h.i(this.KG,da.sb,-40,-85,40,40,"");this.Tj.h=this.l.h("outside");this.Tj.R="clear cells outside selection [Shift Del]";this.Ff=this.h.i(this.$G,da.sb,-40,-130,40,40,"R");this.Ff.h=this.l.h("select");this.Ff.R="clear History cells ["+this.u+" Del]";this.Ff.Pb("16px Arial");this.Ef=this.h.i(this.ez,da.sb,-40,-130,40,40,"");this.Ef.h=this.l.h("changestate");
this.Ef.R="change cells to drawing state ["+this.C+" K]";this.uf=this.h.i(this.mx,da.sb,-85,-130,40,40,"");this.uf.h=this.l.h("invertselection");this.uf.R="invert cells in selection ["+this.u+" I]";this.oc=this.h.i(this.lG,da.sb,-130,-130,40,40,"");this.oc.h=this.l.h("random");this.oc.R="random fill [Shift 5]";this.yh=this.h.i(this.BF,da.sb,-175,-130,40,40,"2");this.yh.h=this.l.h("random");this.yh.R="random 2-state fill ["+this.u+" Shift 5]";this.Wd=this.h.F(this.Vx,da.sb,-275,-130,100,40,1,100,this.Ab,
"","%",0);this.Wd.R="random fill density";this.Xg=this.h.F(this.$q,da.lc,-265,45,100,40,0,G.Tz-1,this.ic,"","",-1);this.Xg.R="paste location [Shift L]";this.Xg.Pb("16px Arial");this.Yi=this.h.i(this.dr,da.sb,-250,-40,40,40,"");this.Yi.h=this.l.h("uturn");this.Yi.R="reverse playback direction [U]";this.He.ea([this.Vj]);this.da.ea([this.nn,this.ab,this.Fa,this.oa,this.Wa,this.yd,this.pd,this.Pk,this.um,this.Hl,this.ck,this.Ho,this.gg,this.Wf,this.df,this.qh,this.Hi,this.Gi,this.ce,this.Qn,this.Go,this.Cd,
this.Mi,this.vf,this.ve,this.De,this.Uh,this.sm,this.Vl,this.gi,this.rj,this.Dm,this.cn,this.en,this.yl,this.$h,this.ld,this.Yk,this.Hk,this.oo,this.Yo,this.Lm,this.Fm,this.om]);this.fb.ea([this.Se,this.Hd,this.Kc,this.cd,this.ze,this.Ae,this.qf,this.ed,this.Bj,this.mf,this.Yd]);this.hd.ea([this.gd,this.rn,this.Vm])};ea.prototype.kF=function(a){var b=this,c=0,d=0;this.Ea=a;this.Ea.getContext&&(c=this.Ea.width,d=this.Ea.height,c!==this.Ic&&Ca.ep&&(c=this.Ic),c<G.Yc&&(c=G.Yc),d<G.gh&&(d=G.gh),c&=-8,
this.Ea.width!==c&&(this.Ea.width=c),this.Ea.height!==d&&(this.Ea.height=d),this.ja=this.Ea.getContext("2d",{alpha:!1,willReadFrequently:!0}),this.ja.globalAlpha=1,this.ja.fillStyle="black",this.ja.imageSmoothingEnabled=!1,this.ja.imageSmoothingQuality="high",this.ja.fillRect(0,0,this.Ea.width,this.Ea.height),this.ja.textAlign="left",this.ja.textBaseline="middle",this.displayWidth=this.Ea.width,this.displayHeight=this.Ea.height,this.g=new pa(this.ja,this.displayWidth,this.displayHeight,512,256,this.U,
this),this.g.Qm(this.ja,this.displayWidth,this.displayHeight),this.Be=this.g.S.h(ra.$c,G.Sz,"View.elapsedTimes"),this.Md=new Pb(G.vq,this.g.S),this.hB(this.ja),this.D=new Ja(this.Ea,this.ja,"24px Arial",this.l,this,this.FB),this.D.B=!1,this.g.Yk(),this.WC(),Ia(this.Ea,"wheel",function(f){b.PB(b,f)},!1),this.D.notification.T=!0,this.D.fa(this.h),this.td?(Ia(xa.jo.l,"keydown",function(f){b.vx(b,f)},!1),xa.jo.D=this.D):Ia(this.Ea,"keydown",function(f){b.vx(b,f)},!1))};ea.prototype.jn=function(a){var b=
this.g.la,c="";a|=0;a<b.length&&(c=b[a].name);return c};ea.prototype.RC=function(a){var b=!1,c=this.g.la,d=0;for(a=a.toLowerCase();d<c.length-1&&!b;)c[d].name.toLowerCase()===a?b=!0:d+=1;b||(d=-1);return d};ea.prototype.zG=function(a){var b=this.m.C();b.jf||(b.x=this.g.width/2-this.g.fa);b.Oe||(b.y=this.g.height/2-this.g.ca);b.ee||(b.zoom=this.g.zoom);b.ug||(b.angle=this.g.angle);b.Dg||(b.Jb=this.g.Jb);b.fh||(b.za=this.g.za);b.$g||(b.depth=this.g.Wb);b.Ve||(b.Rc=this.Z);b.te||(b.step=this.M);b.ue||
(b.Gc=this.g.pb);this.m.Pa(a,this)};ea.prototype.XG=function(a){var b=a,c=this.ja,d=a.length;c.font=(18*this.h.C|0)+"px "+G.Ew;var f=c.measureText(a).width;if(500<f){--d;for(f=c.measureText(a.substring(0,d)+"...").width;500<f;)--d,f=c.measureText(a.substring(0,d)+"...").width;b=b.substring(0,d)+"..."}return b};ea.prototype.NG=function(a,b){Lb.oF(this,a,b)};ea.prototype.yB=function(){this.rd=this.ir=this.an=!1;this.Kw=this.g.Xb=!1;this.Fb=-1;this.ap=this.dn=!1;this.g.T=1<<G.nD;this.ph=this.ln=-1;this.Ja=
!1;this.dl=this.Fk=this.Rv=this.wi=this.Ss=this.yo=this.D.ba=!1;this.g.ua=0;this.g.oa=0;this.g.Ga=1;this.Ia=this.zo=this.fa=this.Mj=!1;this.Pc=this.Qc=this.O=null;this.Jh=G.Jh;this.ye=null;this.Kh=G.Kh;this.g.jd=this.g.Em;this.g.hd=this.g.Cm;this.g.gd=this.g.Am;this.g.kd=this.g.Gm;this.g.ld=this.g.Im;this.hc=this.Mb=this.on=!1;this.jc=-1;this.Gb=!1;this.Lb=-1;this.dg=this.Kb=this.Hh=this.cb=this.Eh=this.Aa=this.eb=this.wa=!1;this.na=this.ni=2<this.g.h?63<256-this.g.h?63:256-this.g.h:63;this.zg=this.Hx;
this.Za=!1;this.g.fd=!1;this.g.bg=0};ea.prototype.pr=function(){this.xi?(Cb(this.element),this.D.o=!1):(this.displayWidth=this.zj,this.displayHeight=this.tr,this.fa?(this.ha=!1,this.lb(!0,!1,G.Cf)):this.g.zoom=this.xr,this.dc&&(this.dc.current=this.Rd([this.g.zoom,this.g.zoom],!1,this)),this.s=this.vr,this.ha=!1,this.D.W=!1,this.h.G=!1,this.D.u||this.D.notification.notify("Shrink with hotkey N",15,100,15,!0),this.resize())};ea.prototype.FB=function(a){a.ha?(a.pr(),a.zr&&!a.Hb&&(a.$b.current=a.vd(G.Li,
!0,a))):a.Ja&&(a.wi||a.Zj(a))};ea.prototype.resize=function(){this.Jo&&(xa.jo.B=this.Zq-this.displayWidth,this.Zq=this.displayWidth,this.Jo=!1);this.Ea.width=this.displayWidth;this.Ea.height=this.displayHeight;this.ja.textBaseline="middle";this.g.ek(this.displayWidth,this.displayHeight);"Empty"!==this.qb&&"none"!==this.qb&&""!==this.qb&&null!==this.g.Ka&&this.g.rj(this.Ee,this);this.fa&&this.lb(!0,!1,G.Cf)};ea.prototype.rr=function(){this.zj=this.displayWidth;this.tr=this.displayHeight;this.xr=this.g.zoom;
this.vr=this.s;this.displayWidth=this.displayWidth/this.Vb|0;this.displayHeight=this.displayHeight/this.Vb|0;this.g.zoom/=this.Vb;this.displayWidth&=-8;this.h.G=!0;this.D.W=!0;this.D.eb=this.Vb;this.D.o=!1;this.ha=!0;this.resize()};ea.prototype.Cw=function(){var a=this.g.h,b;a>this.Zb&&(a=this.Zb);this.Qa.lower=[];this.Qa.R=[];this.Qa.kf(40*a);this.ma.lower=[];this.ma.R=[];this.ma.current=[];this.ma.kf(40*a);this.ma.u=1;for(b=0;b<a;b+=1){var c=b+this.Ub;this.Qa.lower[b]=String(c);var d=this.sh(c);
10>c&&(d+=" ["+this.u+" "+c+"]");this.Qa.R[b]=d;this.ma.lower[b]="";this.ma.R[b]=d;this.ma.current[b]=!1}c=this.Re;0<c&&(this.g.da||this.g.i||this.g.o||this.g.l||this.g.A||(c=this.g.h-c));this.Qa.current=c-this.Ub};ea.prototype.zA=function(){var a=this.g.h,b=this.h.s;this.Re=1;this.Ub=0;this.sj.current=[this.Hr([!0],!0,this)];this.Zb=7+((this.displayWidth/b-G.Yc)/(40*b)|0);this.Zb>a&&(this.Zb=a);this.g.F?(this.Qa.lower="0123456".split(""),this.Qa.kf(280),this.Qa.R=["dead ["+this.u+" 0]","alive ["+
this.u+" 1]","history ["+this.u+" 2]","mark 1 ["+this.u+" 3]","mark off ["+this.u+" 4]","mark 2 ["+this.u+" 5]","kill ["+this.u+" 6]"],this.Qa.current=this.Re,this.ma.lower="      ".split(" "),this.ma.kf(280),this.ma.R=["dead ["+this.u+" 0]","alive ["+this.u+" 1]","history ["+this.u+" 2]","mark 1 ["+this.u+" 3]","mark off ["+this.u+" 4]","mark 2 ["+this.u+" 5]","kill ["+this.u+" 6]"],this.ma.u=1,this.ma.current=[!1,!1,!1,!1,!1,!1,!1]):2>=a?(this.Qa.lower=["0","1"],this.Qa.kf(80),this.Qa.R=["dead ["+
this.u+" 0]","alive ["+this.u+" 1]"],this.Qa.current=this.Re,this.ma.lower=["",""],this.ma.kf(80),this.ma.R=["dead ["+this.u+" 0]","alive ["+this.u+" 1]"],this.ma.u=1,this.ma.current=[!1,!1]):(this.Re=this.g.da||this.g.i||this.g.o||this.g.l||this.g.A?1:a-1,this.Cw(),this.Qa.kf(40*this.Zb),this.ma.kf(40*this.Zb),this.Il.current=this.Cs([0,0],!0,this));this.Qa.setPosition(da.lc,-this.Qa.M,45);this.ma.setPosition(da.lc,-this.ma.M,65)};ea.prototype.qC=function(a){var b=this.g.ib;-1===a&&(a=this.ua?b:
this.g.F?10:2<this.g.h&&!(this.g.l||this.g.A||this.g.i||this.g.o)?11:this.g.Z?17:this.g.i||this.g.o?18:1);this.Vf(a,1,this)};ea.prototype.Vz=function(){var a=window.innerWidth,b=window.innerHeight,c=this.displayWidth,d=this.displayHeight+80;this.vi=window.devicePixelRatio?window.devicePixelRatio:1;c*=this.vi;d*=this.vi;var f=this.vi;this.we=1;if(c>a||d>b)if(f=c/a,d/b>f&&(f=d/b),c/=f,d=this.displayHeight*this.vi/f,f=c/this.displayWidth,d/this.displayHeight<f&&(f=d/this.displayHeight),c<G.Yc||d<G.gh)f=
c/G.Yc,d/G.gh<f&&(f=d/G.gh),c/=f,d/=f,this.we=f,f=1;this.displayWidth=c&-8;this.displayHeight=d|0;this.D.Ga=this.we;xa.jo.o=this.we;this.h.Ka(f);this.l.T(f);this.gk=18*f|0;this.Zh=this.gk+"px "+G.Py;this.rf=this.gk+"px "+G.Ew;this.wt();this.displayWidth!==this.Zq&&(this.Jo=!0)};ea.prototype.WG=function(){this.Dk=!1;this.Ga=0;this.fc=!1;this.nc=this.ac=0;this.Qk=this.bj=this.Tf=this.xa=this.W="";this.Fo=this.dj=this.B=this.A=0;this.Ek="(none)";this.g.da=!1;this.g.Z=!1;this.g.i=!1;this.g.F=!1;this.g.l=
!1;this.g.A=!1;this.g.ga=!1;this.g.jh=this.U.na;this.g.W=!1;this.g.mh=this.U.da;this.g.bd=!1;this.g.Kd=-1;this.g.Qg=!1;this.g.h=-1;this.g.C=-1;this.$a=this.La=this.g.Ca=!1;this.g.o=!1;this.g.Ue=null;this.g.We=null;this.g.Ac=null;this.g.Hc=null;this.g.sd=[];this.g.Yb=null;this.g.rd=0;this.g.Sc=0;this.g.kh=0};ea.prototype.CA=function(a){a<G.og&&(a=G.og);a>G.Nc?(this.Z=G.Nc,this.M=a/G.Nc|0,this.M>G.lg&&(this.M=G.lg)):(this.Z=a,this.M=1);this.Wm=this.Z;this.Ym=this.M};ea.prototype.oh=function(a,b){this.me=
this.Bx(G.cB);this.Ad=this.Bx(G.Gy);this.Wi.current=[this.Ad];this.Z=G.Nc;this.M=1;this.Wm=this.Z;this.Ym=this.M;if(this.Ad){var c=this.Dx(G.Qs);this.CA(c)}this.cc.current=1===this.M&&this.Z===G.Nc?this.vc([1,1],!0,this):this.vc([this.ef(),1],!0,this);this.ib.G=!0;this.We.G=!0;this.U.C=!1;this.lm=this.g.Te=!1;this.g.V.l=1;this.Mf=this.displayWidth;this.Lf=this.displayHeight;a=this.U.create("",a,this.g.S,this.Qi,this.MB,[b],this);this.xx=this.U.N;if(this.U.Na){a=this.U.fa;c=this.U.ea;var d=this.U.create("",
"x=1,y=1,rule=Life\n!",this.g.S,this.Qi,this.Qi,[b],this);this.Qi(d,[b],this);this.U.fa=a;this.U.ea=c;this.displayWidth=this.Mf;this.displayHeight=this.Lf;this.D.notification.clear(!1,!0);this.D.notification.notify("Loading rule...",15,1E4,15,!0)}else this.Qi(a,[b],this)};ea.prototype.MB=function(a,b,c){b[b.length]=a.title;b[b.length]=a.A;c.U.N=c.xx;c.U.$a=!0;c.Qi(null,b,c)};ea.prototype.jz=function(){var a,b=0,c=!1;if(navigator.userAgentData){var d=navigator.userAgentData;if("Windows"===d.platform&&
d.brands)for(a=0;a<d.brands.length;a+=1)if("Google Chrome"===d.brands[a].brand||"Brave Browser"===d.brands[a].brand)c=!0,b=Number(d.brands[a].version)}c&&103<=b&&107>b&&(a=localStorage.getItem(G.Ky),"y"!==a?(this.D.notification.notify("If there are no cells displayed click on Help",15,300,15,!1),this.Io=!0):this.Io=!1)};ea.prototype.Qi=function(a,b,c){var d=0,f,e,k=!1;var g=f=0;var l=b[0],p=!1;var n="";c.g.s=0;c.Md&&(c.Md.h=new S(255,255,255));c.g.V.V=!1;c.Xb.current=c.dm([!0,!0,!0],!0,c);c.g.Ec=
!1;c.vb=-1;c.gg.current=c.Jr([!0],!0,c);c.he=!1;c.$e=!1;c.Ze=!1;c.Xe=!1;c.cf=!1;c.ge=!1;c.Ye=!1;c.g.pb=-1;c.D.Ab();c.Wb=!0;c.Sd=!1;c.P=!1;c.Sc=!1;c.Ua=[];for(e=0;e<G.Ni;e+=1)c.Ua[e]=null;c.Ua[G.Ni]=null;c.mb=0;c.Bo=!1;c.ba=null;c.qa=!1;c.Bc=0;c.Jc=0;c.wd=!1;c.Ed.current=c.bs(2,!0,c);c.hj=!1;c.Xd=[];c.mj=[];c.Tb=[];c.Ld=[];c.Ob=[];c.nh=[];c.Ka=0;c.ka=0;c.Vg=0;c.g.lb=!1;c.Tc=[];c.Pa=G.co;c.Je=0;c.Ok=-1;c.si=[];c.Ud=0;c.km=!1;c.et=0;c.tt=0;c.Td=-1;c.Rn=!1;c.Of=G.ti;c.Rf=-G.ti;c.Nf=G.ti;c.Sf=-G.ti;c.D.notification.clear(!0,
!0);c.D.notification.clear(!1,!0);c.g.bb=!1;c.g.Fb=!1;c.Ws=!1;c.g.Hc=null;!a||null===a.ha&&-1===a.la||(null===a.ha?a.fb>=a.la&&(c.U.N="Illegal state in pattern for @TREE",a=null):a.fb>=a.ta&&(c.U.N="Illegal state in pattern for @TABLE",a=null));a&&c.U.C&&a&&(-1===a.l||-1!==a.l&&(0===a.M||0===a.ba))&&(c.U.N=null===a.ha?"@TREE B0 only valid with finite grid":"@TABLE B0 only valid with finite grid",a=null);if(a){c.Dk=c.U.lb;c.Ga=c.U.Fb;c.fc=c.U.Ga;c.ac=c.U.Va;c.nc=c.U.Wa;c.ta=c.U.fa;c.sa=c.U.ea;c.A=
a.width;c.B=a.height;-999999===c.ta&&(c.ta=c.A);-999999===c.sa&&(c.sa=c.B);c.bj=a.name;c.Qk=a.vb;c.Ek=a.Za;""===c.Ek&&(c.Ek="(none)");c.dj=a.A;c.Fo=a.Ma;c.W=a.h;c.xa=a.P;c.Tf=a.Qa;c.g.yh=a.s;c.g.xh=a.ra;c.$a=c.U.$a;c.g.F=a.F;c.g.l=a.B;c.g.A=a.O;c.Ff.R="clear History cells ["+this.u+" Del]";c.g.l&&(c.Ff.R="clear Super cells ["+this.u+" Del]");c.g.h=a.i;!c.$a&&2<a.A&&(c.g.h=a.A);c.g.Yb=null;c.g.sd=null;c.Me=[];c.g.o=!1;c.g.Te=!1;-1!==a.la&&(c.g.wd=a.eb,c.g.Ah=a.la,c.g.h=a.la,c.g.cj=a.hb,c.g.Mf=a.cb,
c.g.Ue=a.ab,c.g.We=a.bb,c.g.Ac=a.Da,c.g.Hc=a.ma,c.Me=a.Wa,c.g.Te=c.U.C,c.g.o=!0);null!==a.ha&&(c.g.sd=a.Ia,c.g.Yb=a.ha,c.g.rd=a.Ga,c.g.Sc=a.Pa,c.g.kh=a.gb,c.g.h=a.ta,c.g.Ac=a.Da,c.g.Hc=a.ma,c.Me=a.Wa,c.g.Te=c.U.C,c.g.o=!0);if(c.g.Ca=a.Ca)c.g.V.B=a.C,c.g.V.v=a.V,c.g.V.X=a.i,c.g.V.V=a.mb,c.g.V.ha=a.Na,c.g.V.ia=a.Va,c.g.V.Y=a.Ua,c.g.V.mb(a.m,a.u,a.ia,a.oa,a.o,a.Ab,a.Bb,a.wa,a.xa),c.U.$?(c.g.V.ba=a.Ja,c.g.V.ca=a.Ka,c.g.V.ja=!0):c.g.V.ja=!1,c.Ws=a.Y;c.g.da=a.fa;c.g.Z=a.ea;c.g.dd=c.g.Z;c.g.i=a.ja;c.g.ta=
!1;c.g.ga=a.ga;c.g.Qg=a.ga;c.g.jh=a.sa;c.g.W=a.o;c.g.mh=a.X;c.g.bd=a.ka;c.g.Kd=a.pa;a.ja?(c.g.vj(a),c.g.Hc=a.ma):a.ma?c.g.fo(a.ma):c.g.Dd=!1;c.g.C=a.l;c.g.M=a.M;c.g.K=a.ba;c.g.Md=a.Aa;c.g.Nd=a.Ba;c.g.Nf=a.Gb;c.g.rh=a.Mb;c.g.Of=a.Kb;d=-1===c.g.h?2:c.g.h;c.g.F&&(d=7);c.cj=new Uint32Array(d);for(e=0;e<d;e+=1)c.cj[e]=c.U.Z[e]}else c.WG();c.g.cc=c.g.vf()?!0:!1;c.g.jn();c.$d=!0;c.Da=!1;c.nd=!0;c.Va=G.Fy;c.Yb=a?!1:!0;c.dd=!0;c.Ce=!1;c.N=c.U.N;c.g.Ie=G.Ey;c.V=0;c.X=0;c.Ac=-1;c.Ec=-1;c.mh=!1;c.h.locked=!1;
c.kd=!1;c.ad=!1;c.g.Ml();c.g.Pl();c.g.F&&c.g.Zk();c.g.F&&c.g.Fk();c.sd="";c.Dc=!1;eb.re();c.g.vb=G.jt;c.g.zc=G.it;c.g.La=10;c.g.gl=10;c.g.pc=!0;c.Um=-1;c.Sm=-1;c.Ad||(c.Z=G.Nc,c.M=1);c.g.za=1;c.g.Wb=.1;c.g.angle=0;c.g.Jb=0;c.g.zoom=6;c.g.Rm();c.g.wh();c.g.fa=c.g.width/2;c.g.ca=c.g.height/2;c.ar=!1;c.Mw=!1;c.Ow=!1;c.va=0;c.pb=0;c.Ma=-1;c.bb=-1;c.bc=-1;c.od=-1;c.pa.fill(-1);c.gw=G.lz;c.Qv=G.Hp;c.Aw=G.lA;c.ha&&(c.lj?(c.displayHeight=c.zj,c.displayWidth=c.zj,c.g.zoom=this.xr,c.s=this.vr):c.pr());c.ie=
!1;c.D.W=!1;c.Vb=G.Hy;c.xi=!1;c.D.ta=!1;c.pn=!1;c.La=a?!1:!0;c.K=!1;c.g.Ba=!1;c.g.Ta=!1;c.$b.G=!1;c.ra.G=!1;c.fb.G=!1;c.cc.G=!1;c.da.G=!1;c.ab.G=!1;c.Fa.G=!1;c.pd.G=!1;c.gg.G=!1;c.Wf.G=!1;c.h.G=!1;c.qg.G=!1;c.Pd.G=!1;c.zh.G=!1;c.Pk.G=!1;c.Hl.G=!1;c.Ho.G=!1;c.ck.G=!1;c.yd.G=!1;c.Yi.G=!1;c.Al.G=!1;c.da.current=[!1];c.fb.current=[!1];c.s=0;c.$=0;c.He.current=[!1];c.jh.current=c.Rr([c.Sd],!0,c);c.$j.current=c.Tr([c.Wb],!0,c);c.gn=!1;c.ra.current=c.le(G.Ph,!0,c);c.Wd.current=c.Vx([50,50],!0,c);c.Xg.current=
c.$q([G.yq,G.yq],!0,c);c.hd.current=c.ff([0!==c.s],!0,c);c.zd=[96,96,96];c.g.xd=c.g.tc?4284506208:1616929023;c.g.qh="rgb("+c.zd[0]+","+c.zd[1]+","+c.zd[2]+")";c.Gf=[128,128,128];c.g.ie=c.g.tc?4286611584:2155905279;c.Jf=[0,255,0];c.g.ii="rgb(0,255,0)";c.If=[255,0,0];c.g.bi="rgb(255,0,0)";c.lf=[255,128,0];c.g.ji="rgb(255,128,0)";c.m.reset();c.Aa=!1;c.m.ha();c.jd=!1;c.hb=!1;c.Fd=!0;c.ua=!1;c.Hf=!1;c.g.yc=!1;c.cl=G.Fq;c.$k=G.Fq;c.jj=50;c.bl=!1;c.xm=!1;c.zm=!1;c.Te=-1;c.Ue=-1;c.Uf=-1;c.Vc=[];c.Kd=[];c.Hm=
!1;c.zr=!1;c.gB=!0;c.eB=!0;c.Ge="";a?a.title&&(n=a.title):(1<b.length&&(n=b[1]),c.SA());c.g.F?(c.Qe=[0,65280,128,14221272,16711680,16776960,6316128],c.wm="[R]History"):(c.Qe=eb.Os,c.wm="(default)");c.yB();c.kj=Date.now().toString();!c.td&&Ca.fullScreen&&(c.displayWidth=(document.body.clientWidth&-8)-8,c.displayHeight=window.innerHeight-130,c.displayWidth<G.Yc&&(c.displayWidth=G.Yc),c.displayHeight<G.gh&&(c.displayHeight=G.gh),k=!0);""!==n&&(a?d=-1===a.i?a.A:a.i:d=b[2],c.g.F&&(d=7),c.g.i&&(d=16),c.g.l&&
(d=26),c.g.A&&(d=21),c.NG(n,d),c.Tb.length&&(c.$=1),c.ha&&l&&(c.ha=!1),-1<c.Ma&&(c.Ma&=-8,c.Ma!==c.displayWidth&&(c.displayWidth=c.Ma,k=!0)),-1<c.bb&&c.bb!==c.displayHeight&&(c.displayHeight=c.bb,k=!0),c.td&&(-1<c.bc?(c.bc&=-8,c.bc!==c.displayWidth&&(c.displayWidth=c.bc,k=!0)):c.displayWidth<G.Yc&&(c.displayWidth=G.Yc),-1<c.od&&c.od!==c.displayHeight&&(c.displayHeight=c.od,k=!0)));c.g.Xb&&(2<c.g.h||c.g.Ca||c.g.i||c.g.F||c.g.l||c.g.A||c.g.o)&&(c.g.Xb=!1);if(!c.$a||c.g.o||c.g.l||c.g.A)c.na=0;c.F.re(c.kj);
c.g.Ca&&c.g.V.lb(c.kj);c.td&&(c.Mf=c.displayWidth,c.Lf=c.displayHeight,c.Vz());a&&a.ua&&0===c.Tc.length&&(c.$a=!1);c.zA();c.SA();c.sx();c.tF();c.g.Ao();c.g.u=c.na;c.g.ih=c.zg;c.xi&&!c.Da&&(c.Yb=!0,c.Da=!1);c.g.El(!c.Yb);d=c.Vh();a&&(a.width>c.g.T-d-2*Math.abs(c.V+c.ac)||a.height>c.g.T-d-2*Math.abs(c.V-c.ac))&&(c.N=a.width>c.g.T-d||a.height>c.g.T-d?"Pattern too big":"Pattern too big at specified location",a.ua=!0,c.$a=!1);a&&-1!==a.l&&(d=c.Vh(),a.M>c.g.T-d||a.ba>c.g.T-d)&&(c.N="Bounded grid too big",
c.$a=!1,c.g.C=-1);c.$a||(c.g.cc=!1,c.g.hb=-1);c.g.yn(c);c.g.vf()&&c.g.cc&&c.hD();c.Rn&&(c.g.Fh(),c.nF());c.Hn=!1;a&&(-1!==c.g.C?(f=c.g.M,g=c.g.K,0===f&&(f=a.width),0===g&&(g=a.height)):(f=a.width,g=a.height,0<c.Tc.length&&(f=c.TB(f),g=c.QB(g))));d=c.Vh();c.fc&&(c.V+=c.ac,c.X+=c.nc);e=c.g.width<c.g.T&&f+d+2*Math.abs(c.V)>=c.g.width;for(n=c.g.height<c.g.T&&g+d+2*Math.abs(c.X)>=c.g.height;e||n;){p=!0;l=b=0;e&&(b=c.g.width>>1,c.g.width*=2,c.va+=c.g.width>>2);n&&(l=c.g.height>>1,c.g.height*=2,c.pb+=c.g.height>>
2);e&&(c.ya+=c.g.width>>2);n&&(c.Bb+=c.g.height>>2);c.g.ga&&n&&(c.va-=c.g.height>>3,c.ya-=c.g.height>>3);c.g.fa+=b;c.g.ca+=l;c.g.ga&&(c.g.fa-=l/2|0);c.g.v.H+=b;c.g.v.J+=b;c.g.v.L+=l;c.g.v.I+=l;c.g.na.H+=b;c.g.na.J+=b;c.g.na.L+=l;c.g.na.I+=l;c.g.cb.H+=b;c.g.cb.J+=b;c.g.cb.L+=l;c.g.cb.I+=l;c.g.Na.H+=b;c.g.Na.J+=b;c.g.Na.L+=l;c.g.Na.I+=l;if(0<c.g.ic)for(e=0;e<c.g.ic;e+=1){var q=c.g.ac[(e<<1)+1];n=(q>>16)+b;q=(q&65535)+l;c.g.ac[(e<<1)+1]=n<<16|q}e=c.g.width<c.g.T&&f+d+2*Math.abs(c.V)>=c.g.width;n=c.g.height<
c.g.T&&g+d+2*Math.abs(c.X)>=c.g.height}p&&c.g.lf(!1,!1,!1);a&&a.Ca&&c.g.V.resize(c.g.width,c.g.height);a&&c.WB(c.A,c.B,c.ta,c.sa);c.D.notification.m=c.Qc?"rgb("+c.Qc[0]+","+c.Qc[1]+","+c.Qc[2]+")":c.D.notification.A;if(null===c.O)for(e=0;e<c.Qe.length;e+=1)c.Qm[e]=c.U.Z[e]?G.EA:G.DA;c.g.Da?(c.g.vi(c.Qe,c.O),c.g.yc=!0):c.g.yc=!1;a&&!a.ua&&c.uC(a);c.Yd.wb=""!==c.xa?c.xa:c.W;c.Yd.R=c.W;""!==c.xa&&(c.Yd.R+=" alias "+c.xa);c.Yd.R+="\n"+c.sr();c.Rb=!1;c.$r="none";c.qb="none";c.ki="none";c.nm="none";c.li=
"none";c.mm="none";c.fo="none";c.hi="none";c.pm="none";c.ii="none";c.Tg="none";c.Sg="none";c.ji="none";c.gb=!1;c.ai.current=[c.gb];c.g.Xf(c.gb);c.Wf.current=c.Dr([c.Fd],!0,c);(c.g.o||c.g.da)&&-1!==c.pa[G.fj]&&(null===c.O?(c.O=c.g.S.h(ra.Id,256,"View.customColours"),c.O.fill(-1),c.O[0]=c.pa[G.fj],c.pa[G.fj]=-1,c.pa[G.An]=-1):-1===c.O[0]&&(c.O[0]=c.pa[G.fj]));c.g.Fh();c.qC(c.ln);c.g.ec=c.O;c.g.da||!c.$a&&2<c.g.h?c.g.sj(c.Qe,c.O):c.g.Hh();c.g.ab(1);c.g.cn();c.Mi.current=[c.g.Ta];c.qj.current=c.Fr([c.Bh],
!0,c);c.pi.current=c.yn([c.Va,c.Va],!1,c);c.mi.current=[c.nd];c.de.current=[c.fa];c.fd.current=[c.g.Ba];c.xh.current=[c.g.Xb];c.g.counter=0;c.g.Kb=0;c.g.ge=0;c.ia=0;c.elapsedTime=0;c.ra.m=[!1,!1,!1];if(c.La){if(a&&(c.g.hi(c.ad),c.O))for(e=0;e<c.O.length;e+=1)c.Qe[e]=c.O[e];c.AB=c.Qe.length;c.g.sj(c.Qe,c.O);c.g.Fc.reset();c.Yb=!0;c.Da=!1}else{c.g.hi(c.ad);c.g.Vg();2>=c.g.h&&c.g.uf(c.g.xa);c.Ao();0<c.Tc.length&&(c.g.hi(c.ad),c.g.Vg(),2>=c.g.h&&c.g.uf(c.g.xa));c.g.F&&c.U.Z[2]&&c.g.Pk(a,c.ea,c.Y);c.g.Tm(c.g.xa,
c.g.m);f=0;g=c.g.h;c.g.F?g=7:-1===g&&(g=2);for(e=1;e<g;e+=1)f+=c.cj[e];a&&0===c.g.s&&!c.km&&0===f&&(c.g.da||(a.ua?c.D.notification.notify("Pattern too big!",15,G.Ys,15,!1):""===c.N&&c.D.notification.notify("New pattern",15,300,15,!1)));""!==c.N&&c.D.notification.notify("Invalid pattern!",15,300,15,!1);-1!==c.g.C&&c.g.zg();c.g.an(c.hb,c);c.g.hg(c,c.hb)}c.Wf.current=[c.Fd];c.gg.current=[c.Df];c.ve.current=[c.g.fd];c.Hi.current=[c.jd];c.Gi.current=[c.bd];c.ce.current=[c.g.dd];c.ce.locked=!c.g.Z;c.g.W?
(c.Cd.current=[c.g.ta],c.Cd.R=["toggle triangular cells [?]"]):(c.Cd.R=["toggle hexagonal cells [?]"],c.Cd.current=c.g.ga?[c.g.ta]:[!0]);c.Yi.locked=(c.g.Z||c.g.i)&&null!==c.g.eb?!1:!0;0===c.m.A()?(c.vf.locked=!0,c.$d=!1):(c.vf.locked=!1,c.$d=!0);c.vf.current=[c.$d];c.gi.current=[c.Ia];c.g.o||(c.g.cc=!1);c.rh.current=[c.g.cc];c.nj.current=[c.Ce];c.Zk.current=[c.g.Ec];c.rj.current=[c.Dc];c.$h.current=[c.kd];c.m.i.length?(c.Xk.G=!1,c.Gk.G=!1):(c.Xk.G=!0,c.Gk.G=!0);if(c.g.ga||c.g.W)c.g.pc=!1;0===c.g.La?
(c.ld.current=[!1],c.ld.locked=!0):(c.ld.current=[c.g.pc],c.ld.locked=!1);c.Yb||c.g.Wg();d=c.g.zoom;f=c.g.fa;g=c.g.ca;e=c.ha;c.ha=!1;c.lb(!0,!1,G.Cf);c.ha=e;c.ar?c.g.zoom=d:!c.fa&&c.g.zoom>G.sz&&(c.g.zoom=G.sz);c.Mw&&(c.g.fa=f);c.Ow&&(c.g.ca=g);c.Aa&&c.zG(c.Tb);c.ha&&c.pn&&(c.g.zoom=c.Br);c.ZA=c.g.zoom;c.dc.current=c.Rd([c.g.zoom,c.g.zoom],!1,c);c.va=c.g.fa;c.pb=c.g.ca;c.Ti=c.g.angle;c.oa.current=[c.Ti,c.Ti];c.Xi=c.g.Jb;c.Wa.current=[c.Wj(c.Xi),c.Xi];c.$m=c.g.pb;c.Vf(c.$m,c.g.me,c);c.Wm=c.Z;c.Ym=
c.M;c.cc.current=1===c.M&&c.Z===G.Nc?c.vc([1,1],!0,c):c.vc([c.ef(),1],!0,c);c.Ui=c.g.za;c.ab.current=[c.Ui,c.Ui];c.Iw=c.g.Wb;d=Math.sqrt(c.Iw);c.Fa.current=c.hf([d,d],!0,c);c.Mb&&!c.hc?(c.Hb=!0,c.$b.current=G.Li):(c.Hb=!1,c.$b.current=G.ne);c.Mj&&c.ol(c);c.Ah(c.Hb);c.displayWidth>G.Yc&&!c.td?(e=c.displayWidth-G.Yc+G.Ep,e>G.Yq&&(e=G.Yq),c.dc.kf(e)):c.dc.kf(G.Ep);if(k||c.ha)c.ha?c.rr():c.resize();a||(c.U.Ia?c.D.notification.notify("Pattern too big!",15,G.Ys,15,!1):c.D.notification.notify("Invalid pattern!",
15,G.Ys,15,!1));c.Tb.length?c.s=0:c.$=0;c.$a||(c.K=!0,c.g.yc=!1,c.g.da=!0,c.g.F=!1,c.g.l=!1,c.g.A=!1,c.sx());if(c.K||c.g.da)c.ra.m[G.wk]=!0,c.ra.m[G.xk]=!0;c.K?(c.$b.G=!0,c.qg.G=!0,c.cc.G=!0,c.Pd.G=!0,c.zh.G=!0,c.Yi.G=!0,c.Al.G=!0,c.La&&(c.ab.G=!0,c.Fa.G=!0,c.pd.G=!0,c.g.za=1),c.pc.G=!1,""===c.N?(c.pc.wb=" "+C.Dp,c.pc.A=c.D.A,c.pc.setPosition(da.Cg,c.fb.M,-40),c.ha?c.pc.kf(c.zj-(40+c.fb.M)):c.pc.kf(c.displayWidth-(40+c.fb.M)),c.fb.G=!1):(c.pc.wb=c.N,c.pc.A=c.Jh,c.pc.setPosition(da.Cg,0,-40),c.ha?
c.pc.kf(c.zj-40):c.pc.kf(c.displayWidth-40),c.fb.G=!0)):c.pc.G=!0;540>c.displayHeight?c.yd.setPosition(da.zk,0,-85):c.yd.setPosition(da.zk,0,-100);c.px();c.ec=!1;c.Gw(c);c.fn()?(c.Kc.wb="Density",c.Kc.R="cell density"):(c.Kc.wb="Births",c.Kc.R="cells born this generation");c.D.i=!0;c.D.Le(!0);c.td&&c.fw&&(c.fw.nodeValue=""===c.sd?G.So:c.XG(c.sd));Ca.kb?(k=c.bj,""===k&&(k="Universe "+(c.Na+1)),xa.Tl||c.D.notification.notify(k,15,120,15,!0),c.Yk.G=!1,c.Hk.G=!1,c.oo.G=!1):(c.Yk.G=!0,c.Hk.G=!0,c.oo.G=
!0);c.T("");c.tq&&lc(c);!c.ir&&(8===c.g.zoom||.125===c.g.zoom)&&0<c.Wg&&0===(c.Wg&3)&&1===(c.Ld.length&5)?(c.Zi=!0,c.g.Lj()):c.Zi=!1;c.g.Zh();(c.g.Z||c.g.i)&&null!==c.g.eb&&c.Hm&&(c.g.Fb=!0,c.Ah(c.Hb));c.Fk&&""===c.N&&(c.lj||(c.lj=!0,c.al(c,!0)),c.lj=!1);-1!==c.Fb&&(c.dd&&(0===c.g.s?(c.D.notification.notify("No live cells",15,360,15,!1),c.Fb=-1):c.D.notification.notify("Going to generation "+c.Fb,15,1E4,15,!1)),c.D.notification.clear(!0,!1));a||(a=c.g.da,c.g.da=!1,c.g.Ad=1,c.g.Hh(),c.g.da=a);c.Dd.current=
c.hg(0,!0,c);c.g.da&&(c.Yb=!0,c.Da=!1);c.De.locked=c.Yb;c.De.current=[c.Da];c.Hj.current=[c.me];c.sf.current=c.Zr([c.rd],!0,c);c.jz()};Ia(window,"load",function(){requestAnimationFrame(xa.Ty)},!1);Ia(window,"resize",function(){if(Ca.fullScreen){var a=xa.Oc[0][1];a.displayWidth=(document.body.clientWidth&-8)-8;a.displayHeight=window.innerHeight-130;a.displayWidth<G.Yc&&(a.displayWidth=G.Yc);a.displayHeight<G.tv&&(a.displayHeight=G.tv);if(a.displayWidth>G.Yc&&!a.td){var b=a.displayWidth-G.Yc+G.Ep;b>
G.Yq&&(b=G.Yq);a.dc.kf(b)}else a.dc.kf(G.Ep);b=a.Re;a.zA();a.Re=b;a.Cw();a.resize();a.D.Le(!0)}},!1);window.updateViewer=Cb;window.updateMe=ub;var Ya={Qh:0,jl:"",Hs:!1,sG:function(a){a=I.Zn[a];var b=a.substring(a.length-1);10<a.length&&(a=a.replace(/marked/,"mkd"),a=a.replace(/trail/,"trl"),10<a.length&&(a="1"<=b&&"9">=b?a.substring(0,9)+b:a.substring(0,10)));return a},yD:function(a){a=I.Yn[a];10<a.length&&(a=a.replace(/killer/,"klr"),a=a.replace(/births/,"bth"),10<a.length&&(a=a.substring(0,10)));
return a},IF:function(a,b,c,d,f,e,k,g,l,p){var n=g,q=a.h.s,m=this.Qh*q,r=this.Qh*a.h.s,u=!1,t=a.o;e&&(e.fillStyle===a.D.Ka&&(u=!0),t>=p&&t<=p+a.Ba&&(e.font=a.Zh,u||(e.fillStyle=1<(a.s|0)?a.Kh:a.D.$),e.fillText(b,k+m,g+r),u||(e.fillStyle=a.Kh),e.fillText(c,k+m+e.measureText(b).width,g+r),u||(e.fillStyle=(a.s|0)<a.oi-a.Ba?a.Kh:a.D.$),e.fillText(d,k+m+e.measureText(b+c).width,g+r),u||(e.fillStyle=a.Kh),e.font=a.rf,e.fillText(f,k+m+a.i[0]*q,g+r),n+=l));a.o+=1;return n},ts:function(a){a/=1048576;return 10>
a?String(a.toFixed(1)):String(a.toFixed(0))},JF:function(a,b,c,d,f,e,k,g){var l=a.o;d&&(k-=6,l>=g&&l<=g+a.Ba&&(g=d.fillStyle,0===this.Qh?(d.save(),d.imageSmoothingEnabled=!0,d.translate(f,e-(k>>1)-1),d.scale(k/c,k/c),d.drawImage(a.g.zd,0,c*b,c,c,0,0,c,c),d.restore()):d.fillRect(f+2,e-(k>>1)-1+2,k,k),d.fillStyle=g))},Oa:function(a,b,c,d,f,e,k,g,l){var p=a.o;f&&(g-=6,p>=l&&p<=l+a.Ba&&(a=f.fillStyle,0===this.Qh?(f.fillStyle="rgb("+b+","+c+","+d+")",f.fillRect(e,k-(g>>1)-1,g,g)):f.fillRect(e+2,k-(g>>
1)-1+2,g,g),f.fillStyle=a))},measureText:function(a,b,c,d){var f=d?a.qm:a.qn;f[a.o]?b=f[a.o]:(b.font=0===d?a.Zh:a.rf,b=b.measureText(c).width,f[a.o]=b);return b},j:function(a,b,c,d,f,e,k,g){var l=e,p=String(c).indexOf("\t"),n=0,q=a.h.s,m=this.Qh*q,r=this.Qh*a.h.C,u=a.o>=g&&a.o<=g+a.Ba;Ya.Hs&&0===Ya.Qh&&(""===b?Ya.jl+=c+"\n":"H / Esc"!==b&&(Ya.jl+=b+"\t"+c+"\n"));if(b.length){u&&(d.font=a.Zh,d.fillText(b,f+m,e+r));b=this.measureText(a,d,b,0);b>a.i[n]*q&&""!==c&&(u&&(e+=k,l+=k),a.o+=1,u=a.o>=g&&a.o<=
g+a.Ba);u&&(d.font=a.rf);for(;-1!==p;)u&&d.fillText(c.substring(0,p),f+m+a.i[n]*q,e+r),n+=1,c=c.substring(p+1),p=c.indexOf("\t");p=!1;if(a.xc&&(b=this.measureText(a,d,c,1),f+a.i[n]*q+b>d.canvas.width)){var t=c.toLowerCase();b=t.indexOf("|");-1===b&&("r"===t[0]?b=t.indexOf("b"):"m"!==t[0]&&(b=t.indexOf("s")),-1===b&&(b=t.indexOf("/"),-1!==b&&"m"!==t[0]?b+=1:(b=c.length>>1,t=t.indexOf(",",b),-1!==t&&(b=t+1))));-1!==b&&(u&&(d.fillText(c.substring(0,b),f+m+a.i[n]*q,e+r),e+=k,l+=k),a.o+=1,(u=a.o>=g&&a.o<=
g+a.Ba)&&d.fillText("  "+c.substring(b),f+m+a.i[n]*q,e+r),p=!0)}p||u&&d.fillText(c,f+m+a.i[n]*q,e+r)}else d.font=a.rf,u&&d.fillText(c,f+m,e+r);u&&(l+=k);a.o+=1;return l},xb:function(a,b,c){var d=eb.Qe,f=Object.keys(d),e,k=!1,g=0;for(e="    "+a+"\t"+b+"\t"+c+("\t#"+(16777216|a<<16|b<<8|c).toString(16).slice(-6).toUpperCase());g<f.length&&!k;){var l=d[f[g]];l[1]===a&&l[2]===b&&l[3]===c?(e+="\t"+l[0],k=!0,g=f.length):g+=1}return e},be:function(a){return this.xb(a.h,a.l,a.i)},ZC:function(a){var b=0,c=
0;0<a.g.s&&(b=a.g.v.J-a.g.v.H+1,c=a.g.v.L-a.g.v.I+1);-1!==a.g.C&&(0!==a.g.M&&(b=a.g.M),0!==a.g.K&&(c=a.g.K));return b+" x "+c},bD:function(a){var b="AutoFit";a.kd&&(b+=" History");a.ad&&(b+=" State 1");return b},Wz:function(a,b){b-=a.length;for(var c="";0<b;)c+=" ",--b;return c+a},Es:function(a){var b=a.indexOf(","),c=a.lastIndexOf(",");return[parseInt(a.substring(4,b),10),parseInt(a.substring(b+1,c),10),parseInt(a.substring(c+1,a.length-1),10)]},sA:function(a,b,c,d,f,e){var k=d;switch(a.Bd){case G.tg:this.PF(a,
b,c,d,f,e);break;case G.Bt:this.LF(a,b,c,d,f,e);break;case G.Lv:this.NF(a,b,c,d,f,e);break;case G.eq:this.KF(a,b,c,d,f,e);break;case G.$v:this.OF(a,b,c,d,f,e);break;case G.Gs:this.GF(a,b,c,d,f,e);break;case G.ds:this.EF(a,b,c,d,f,e);break;case G.bu:this.MF(a,b,c,d,f,e);break;case G.hs:this.FF(a,b,c,d,f,e)}a.oi=a.o-1;a.o=1;a.i[0]=120;d=k+f*(a.Ba+2);a.Bd!==G.tg?d=this.IF(a,"Up"," / ","Down","scroll help",b,c,d,f,0):d+=f;a.td?this.j(a,"H","close help",b,c,d,f,0):this.j(a,"H / Esc","close help",b,c,d,
f,0)},PF:function(a,b,c,d,f,e){var k=G.nG;a.o=1;a.xc=!1;a.v=[];a.i[0]=108;a.v[0]=[a.o,"Top"];a.uv&&(k=G.uv);d=this.j(a,"",G.So+" "+k+" build "+G.Tq+" by "+G.VA,b,c,d,f,e);a.Io&&(d=this.j(a,"","",b,c,d,f,e),d=this.j(a,"","If there are no cells displayed please go to chrome://flags",b,c,d,f,e),this.j(a,"","and set Out-of-process 2D canvas rasterization to Disabled. ",b,c,d,f,e))},FF:function(a,b,c,d,f,e){var k,g=0,l=a.h.s;a.o=1;a.xc=!1;a.v=[];a.v[g]=[a.o,"Top"];g+=1;a.i[0]=128;a.i[1]=208;a.i[2]=288;
a.i[3]=368;d=this.j(a,"","Annotations",b,c,d,f,e);d=this.j(a,"","",b,c,d,f,e);a.v[g]=[a.o,"Labels"];g+=1;d=this.j(a,"","Labels:",b,c,d,f,e);d=this.j(a,"Number",a.m.m.length,b,c,d,f,e);for(k=0;k<a.m.m.length;k+=1){var p="Label "+String(k+1);d=this.j(a,p,a.m.wa(k),b,c,d,f,e);d=this.j(a," ",a.m.xa(k),b,c,d,f,e);d=this.j(a," ",a.m.ya(k),b,c,d,f,e);p=this.Es(a.m.Aa(k));this.Oa(a,p[0],p[1],p[2],b,c+a.i[0]*l,d,f,e);d=this.j(a,"Colour",this.xb(p[0],p[1],p[2]),b,c,d,f,e)}d=this.j(a,"","",b,c,d,f,e);a.v[g]=
[a.o,"Arrows"];g+=1;d=this.j(a,"","Arrows:",b,c,d,f,e);d=this.j(a,"Number",a.m.o.length,b,c,d,f,e);for(k=0;k<a.m.o.length;k+=1)p="Arrow "+String(k+1),d=this.j(a,p,a.m.da(k),b,c,d,f,e),d=this.j(a," ",a.m.ea(k),b,c,d,f,e),d=this.j(a," ",a.m.fa(k),b,c,d,f,e),p=this.Es(a.m.Hp(k)),this.Oa(a,p[0],p[1],p[2],b,c+a.i[0]*l,d,f,e),d=this.j(a,"Colour",this.xb(p[0],p[1],p[2]),b,c,d,f,e);d=this.j(a,"","",b,c,d,f,e);a.v[g]=[a.o,"Polygons"];d=this.j(a,"","Polygons:",b,c,d,f,e);d=this.j(a,"Number",a.m.s.length,b,
c,d,f,e);for(k=0;k<a.m.s.length;k+=1)p="Polygon "+String(k+1),d=this.j(a,p,a.m.Ka(k),b,c,d,f,e),d=this.j(a," ",a.m.La(k),b,c,d,f,e),d=this.j(a," ",a.m.Ma(k),b,c,d,f,e),p=this.Es(a.m.Na(k)),this.Oa(a,p[0],p[1],p[2],b,c+a.i[0]*l,d,f,e),d=this.j(a,"Colour",this.xb(p[0],p[1],p[2]),b,c,d,f,e)},LF:function(a,b,c,d,f,e){var k,g=0;a.o=1;a.v=[];a.xc=!0;a.i[0]=124;a.v[g]=[a.o,"Top"];g+=1;d=this.j(a,"","Keyboard commands",b,c,d,f,e);d=this.j(a,"","",b,c,d,f,e);a.v[g]=[a.o,"Playback"];g+=1;d=this.j(a,"","Playback controls:",
b,c,d,f,e);if(a.La)d=this.j(a,"R","reset",b,c,d,f,e);else{d=this.j(a,"Enter","toggle play / pause",b,c,d,f,e);d=this.j(a,"Space","pause / next generation",b,c,d,f,e);d=this.j(a,"B","pause / previous generation",b,c,d,f,e);d=this.j(a,"Backspace","pause / previous generation",b,c,d,f,e);d=this.j(a,"Tab","pause / next step",b,c,d,f,e);d=this.j(a,"Shift Tab","pause / previous step",b,c,d,f,e);if(a.g.Z||a.g.i)d=this.j(a,"U","toggle playback direction",b,c,d,f,e);d=a.td?this.j(a,"Esc","close LifeViewer",
b,c,d,f,e):this.j(a,"Esc","pause if playing",b,c,d,f,e);d=this.j(a,"R","reset to generation 0",b,c,d,f,e);d=this.j(a,"Shift N","go to generation",b,c,d,f,e);d=this.j(a,"-","decrease playback speed",b,c,d,f,e);d=this.j(a,"+","increase playback speed",b,c,d,f,e);d=this.j(a,"Shift -","minimum playback speed",b,c,d,f,e);d=this.j(a,"Shift +","maximum playback speed",b,c,d,f,e);d=this.j(a,"0","reset step and speed",b,c,d,f,e);d=this.j(a,a.u+" P","toggle pause playback while drawing",b,c,d,f,e);a.g.vf()&&
(d=this.j(a,"F7","toggle fast lookup",b,c,d,f,e));d=this.j(a,a.C+" T","toggle throttling",b,c,d,f,e);a.Aa?-1!==a.Lb?(d=this.j(a,"W","toggle waypoint playback and loop",b,c,d,f,e),d=this.j(a,"Shift P","toggle just loop",b,c,d,f,e)):d=this.j(a,"W","toggle waypoint playback",b,c,d,f,e):-1!==a.Lb&&(d=this.j(a,"W","toggle loop",b,c,d,f,e));a.Mb&&(d=this.j(a,a.C+" O","toggle autostart",b,c,d,f,e));-1!==a.jc&&(d=this.j(a,a.C+" P","toggle stop",b,c,d,f,e))}d=this.j(a,"","",b,c,d,f,e);a.v[g]=[a.o,"Multi"];
g+=1;d=this.j(a,"","Multi-Viewer controls:",b,c,d,f,e);Ca.kb&&(d=this.j(a,"Page Up","previous universe",b,c,d,f,e),d=this.j(a,"Page Down","next universe",b,c,d,f,e),d=this.j(a,"Home","first universe",b,c,d,f,e),d=this.j(a,"End","last universe",b,c,d,f,e));d=this.j(a,"Shift R","reset all LifeViewers to generation 0",b,c,d,f,e);d=this.j(a,"Z","stop playback in all other LifeViewers",b,c,d,f,e);d=this.j(a,"Shift Z","stop playback in all LifeViewers",b,c,d,f,e);d=this.j(a,"","",b,c,d,f,e);a.v[g]=[a.o,
"Camera"];g+=1;d=this.j(a,"","Camera controls:",b,c,d,f,e);if(a.displayHeight>=G.vk||(a.ha&&a.tr)>=G.vk)d=this.j(a,"M","toggle settings menu",b,c,d,f,e);d=this.j(a,"V","restore saved camera position",b,c,d,f,e);d=this.j(a,"Shift V","save current camera position",b,c,d,f,e);var l=a.m.i.length;if(0<l&&(d=this.j(a,"J","jump to next point of interest",b,c,d,f,e),d=this.j(a,"Shift J","jump to previous point of interest",b,c,d,f,e),9<l&&(l=9),!a.Za&&!a.uc))for(k=1;k<=l;k+=1)d=this.j(a,a.C+" "+String(k),
"jump to POI #"+String(k),b,c,d,f,e);d=this.j(a,"F","fit pattern to display",b,c,d,f,e);d=this.j(a,"Shift F","toggle autofit",b,c,d,f,e);d=this.j(a,"Shift H","toggle autofit history mode",b,c,d,f,e);d=this.j(a,a.u+" F","fit selection to display",b,c,d,f,e);d=this.j(a,a.u+" M","center pattern on display",b,c,d,f,e);a.g.F&&(d=this.j(a,"Shift S","toggle autofit state 1 mode",b,c,d,f,e));d=this.j(a,"[","zoom out",b,c,d,f,e);d=this.j(a,"]","zoom in",b,c,d,f,e);d=this.j(a,"Shift [","halve zoom",b,c,d,f,
e);d=this.j(a,"Shift ]","double zoom",b,c,d,f,e);d=this.j(a,"1","1x zoom",b,c,d,f,e);d=this.j(a,"2","2x zoom",b,c,d,f,e);d=this.j(a,"4","4x zoom",b,c,d,f,e);d=this.j(a,"8","8x zoom",b,c,d,f,e);d=this.j(a,"6","16x zoom",b,c,d,f,e);d=this.j(a,"3","32x zoom",b,c,d,f,e);d=this.j(a,"Shift 1","integer zoom",b,c,d,f,e);d=this.j(a,"Shift 2","-2x zoom",b,c,d,f,e);d=this.j(a,"Shift 4","-4x zoom",b,c,d,f,e);d=this.j(a,"Shift 8","-8x zoom",b,c,d,f,e);d=this.j(a,"Shift 6","-16x zoom",b,c,d,f,e);d=this.j(a,"Shift 3",
"-32x zoom",b,c,d,f,e);d=this.j(a,"Left","pan left",b,c,d,f,e);d=this.j(a,"Right","pan right",b,c,d,f,e);d=this.j(a,"Up","pan up",b,c,d,f,e);d=this.j(a,"Down","pan down",b,c,d,f,e);d=this.j(a,"Shift Left","pan north west",b,c,d,f,e);d=this.j(a,"Shift Right","pan south east",b,c,d,f,e);d=this.j(a,"Shift Up","pan north east",b,c,d,f,e);d=this.j(a,"Shift Down","pan south west",b,c,d,f,e);d=this.j(a,"<","rotate left",b,c,d,f,e);d=this.j(a,">","rotate right",b,c,d,f,e);d=this.j(a,"Shift <","rotate left 90 degrees",
b,c,d,f,e);d=this.j(a,"Shift >","rotate right 90 degrees",b,c,d,f,e);d=this.j(a,a.C+" <","rotate left 45 degrees",b,c,d,f,e);d=this.j(a,a.C+" >","rotate right 45 degrees",b,c,d,f,e);d=this.j(a,"5","reset angle",b,c,d,f,e);d=this.j(a,a.C+" /","snap angle to nearest 45 degrees",b,c,d,f,e);d=this.j(a,"'","tilt down",b,c,d,f,e);d=this.j(a,"/","tilt up",b,c,d,f,e);d=this.j(a,"@","reset tilt",b,c,d,f,e);d=this.j(a,"","",b,c,d,f,e);a.La||(a.v[g]=[a.o,"View"],g+=1,d=this.j(a,"","View controls:",b,c,d,f,e),
d=this.j(a,"Q","increase number of layers",b,c,d,f,e),d=this.j(a,"A","decrease number of layers",b,c,d,f,e),d=this.j(a,"P","increase layer depth",b,c,d,f,e),d=this.j(a,"L","decrease layer depth",b,c,d,f,e),d=this.j(a,"C","next colour theme",b,c,d,f,e),d=this.j(a,"Shift C","previous colour theme",b,c,d,f,e),d=this.j(a,a.C+" C","default theme",b,c,d,f,e),d=this.j(a,"","",b,c,d,f,e));a.v[g]=[a.o,"Display"];g+=1;d=this.j(a,"","Display controls:",b,c,d,f,e);a.La||(d=this.j(a,"G","toggle generation statistics",
b,c,d,f,e),d=this.j(a,"Shift G","toggle generation display mode",b,c,d,f,e),a.Yb||(d=this.j(a,"Y","toggle population graph",b,c,d,f,e),d=this.j(a,"Shift Y","toggle graph lines",b,c,d,f,e),d=this.j(a,"7","decrease graph opacity",b,c,d,f,e),d=this.j(a,"9","increase graph opacity",b,c,d,f,e),d=this.j(a,"Shift F3","toggle population plot",b,c,d,f,e),d=this.j(a,"Shift F4","toggle births plot",b,c,d,f,e),d=this.j(a,"Shift F5","toggle deaths plot",b,c,d,f,e)),d=this.j(a,"Shift W","toggle performance warning",
b,c,d,f,e));a.g.ga?d=this.j(a,"?","toggle hexagons for hexagonal grid",b,c,d,f,e):a.g.W&&(d=this.j(a,"?","toggle triangles for triangular grid",b,c,d,f,e));d=this.j(a,"T","toggle timing information",b,c,d,f,e);d=this.j(a,"Shift T","toggle extended timing information",b,c,d,f,e);d=this.j(a,"I","toggle pattern and engine information",b,c,d,f,e);d=this.j(a,"Shift I","toggle information bar",b,c,d,f,e);d=this.j(a,a.C+" I","toggle icons",b,c,d,f,e);d=this.j(a,a.u+" Q","toggle cell anti-aliasing",b,c,d,
f,e);d=this.j(a,a.C+" B","toggle cell borders",b,c,d,f,e);d=this.j(a,"X","toggle gridlines",b,c,d,f,e);0<a.g.La&&(d=this.j(a,"Shift X","toggle major gridlines",b,c,d,f,e));d=this.j(a,a.u+" G","toggle auto gridlines",b,c,d,f,e);a.g.Z&&(d=this.j(a,a.C+" D","toggle alternating gridlines",b,c,d,f,e));if(a.g.F||a.g.l||-1===a.g.h)d=this.j(a,a.C+" G","convert pattern to [R]Super",b,c,d,f,e),d=this.j(a,a.C+" H","convert pattern to [R]History",b,c,d,f,e),d=this.j(a,a.C+" J","convert pattern to [R]Standard",
b,c,d,f,e);0<a.m.A()&&(d=this.j(a,a.C+" L","toggle annotation display",b,c,d,f,e));d=this.j(a,a.u+" L","toggle kill escaping gliders",b,c,d,f,e);a.ie&&(d=this.j(a,"N","toggle thumbnail view",b,c,d,f,e));d=this.j(a,"S","toggle stars",b,c,d,f,e);d=this.j(a,"O","save screenshot",b,c,d,f,e);d=this.j(a,"Shift O","save population graph screenshot",b,c,d,f,e);d=this.j(a,";","save black and white screenshot",b,c,d,f,e);d=this.j(a,"Shift U","toggle UI",b,c,d,f,e);d=this.j(a,a.C+" U","toggle autohide UI during playback",
b,c,d,f,e);-1===a.g.h&&(d=this.j(a,a.C+" W","toggle rainbow mode",b,c,d,f,e));d=this.j(a,"D","toggle cell period map",b,c,d,f,e);d=this.j(a,"Shift D","download cell period map",b,c,d,f,e);d=this.j(a,"E","toggle cell period table",b,c,d,f,e);d=this.j(a,"F8","toggle cell state display",b,c,d,f,e);d=this.j(a,"F9","toggle y coordinate direction",b,c,d,f,e);d=this.j(a,"Shift E","toggle use saved default playback speed",b,c,d,f,e);d=this.j(a,a.u+" E","save default playback speed",b,c,d,f,e);d=this.j(a,
"","",b,c,d,f,e);a.v[g]=[a.o,"Pattern"];g+=1;d=this.j(a,"","Pattern controls:",b,c,d,f,e);d=this.j(a,a.C+" N","new pattern",b,c,d,f,e);d=this.j(a,a.C+" R","change rule",b,c,d,f,e);d=this.j(a,a.u+" O","open original or last saved pattern",b,c,d,f,e);d=this.j(a,a.u+"+Shift O","open clipboard as pattern",b,c,d,f,e);d=this.j(a,a.u+" S","save pattern",b,c,d,f,e);d=this.j(a,a.C+" Z","randomize pattern and rule",b,c,d,f,e);d=this.j(a,a.u+"+"+a.C+" Z","randomize pattern only",b,c,d,f,e);d=this.j(a,"F6","toggle pattern identification",
b,c,d,f,e);d=this.j(a,"Shift F6","display last identification result",b,c,d,f,e);d=this.j(a,"","",b,c,d,f,e);a.v[g]=[a.o,"Clipboard"];g+=1;d=this.j(a,"","External clipboard controls:",b,c,d,f,e);d=this.j(a,a.C+" S","toggle sync cut and copy with external clipboard",b,c,d,f,e);d=this.j(a,a.u+"+Shift C","copy original pattern",b,c,d,f,e);d=this.j(a,a.u+" C","copy current selection",b,c,d,f,e);d=this.j(a,a.u+"+"+a.C+" C","copy current selection with comments",b,c,d,f,e);d=this.j(a,a.u+"+Shift X","cut original pattern",
b,c,d,f,e);d=this.j(a,a.u+" X","cut current selection",b,c,d,f,e);d=this.j(a,a.u+"+"+a.C+" X","cut current selection with comments",b,c,d,f,e);d=this.j(a,a.u+" J","copy rule definition",b,c,d,f,e);a.g.o&&2===a.g.h&&(d=this.j(a,a.C+" M","copy rule definition as MAP",b,c,d,f,e));d=this.j(a,"K","copy camera position",b,c,d,f,e);d=this.j(a,"Shift K","copy camera position and view",b,c,d,f,e);d=this.j(a,"","",b,c,d,f,e);a.v[g]=[a.o,"Edit"];g+=1;d=this.j(a,"","Edit controls:",b,c,d,f,e);d=this.j(a,"F1",
"toggle draw/pan mode",b,c,d,f,e);d=this.j(a,"F2","draw mode",b,c,d,f,e);d=this.j(a,"Shift F2","toggle smart drawing",b,c,d,f,e);d=this.j(a,"F3","pick mode",b,c,d,f,e);d=this.j(a,"F4","select mode",b,c,d,f,e);d=this.j(a,"F5","pan mode",b,c,d,f,e);d=this.j(a,a.u+" A","select all",b,c,d,f,e);d=this.j(a,"Shift A","shrink selection",b,c,d,f,e);d=this.j(a,a.C+" A","toggle auto-shrink selection",b,c,d,f,e);d=this.j(a,a.u+" C","copy",b,c,d,f,e);d=this.j(a,a.u+" D","toggle states display",b,c,d,f,e);d=this.j(a,
a.u+" I","invert selection",b,c,d,f,e);d=this.j(a,a.u+" K","remove selection",b,c,d,f,e);d=this.j(a,a.u+" V","paste",b,c,d,f,e);d=this.j(a,a.u+"+Shift V","paste to selection",b,c,d,f,e);d=this.j(a,a.u+" X","cut",b,c,d,f,e);d=this.j(a,a.u+" Y","redo edit",b,c,d,f,e);d=this.j(a,a.u+" Z","undo edit",b,c,d,f,e);d=this.j(a,a.u+"+Shift Z","redo edit",b,c,d,f,e);d=this.j(a,a.u+" Space","advance selection",b,c,d,f,e);d=this.j(a,"Shift Space","advance outside",b,c,d,f,e);d=this.j(a,"Shift L","cycle paste location",
b,c,d,f,e);d=this.j(a,"Shift M","cycle paste mode",b,c,d,f,e);2<a.g.h?(d=this.j(a,"Shift 5","multi-state random fill",b,c,d,f,e),a.g.i||(d=this.j(a,a.u+"+Shift 5","2-state random fill",b,c,d,f,e))):d=this.j(a,"Shift 5","random fill",b,c,d,f,e);d=this.j(a,a.C+" K","pick cell state to replace with drawing state",b,c,d,f,e);d=this.j(a,a.u+"+"+a.C+" K","clear current drawing state cells",b,c,d,f,e);d=this.j(a,"Del","clear cells in selection",b,c,d,f,e);d=this.j(a,"Shift Del","clear outside selection",
b,c,d,f,e);a.g.F&&(d=this.j(a,a.u+" Del","clear [R]History cells",b,c,d,f,e),d=this.j(a,a.C+" Del","clear [R]History marked cells",b,c,d,f,e));d=this.j(a,">","rotate selection clockwise",b,c,d,f,e);d=this.j(a,"<","rotate selection counter-clockwise",b,c,d,f,e);d=this.j(a,a.C+" X","flip selection horizontally",b,c,d,f,e);d=this.j(a,a.C+" Y","flip selection vertically",b,c,d,f,e);d=this.j(a,a.C+" Left","nudge selection 1 cell left",b,c,d,f,e);d=this.j(a,a.C+" Right","nudge selection 1 cell right",b,
c,d,f,e);d=this.j(a,a.C+" Up","nudge selection 1 cell up",b,c,d,f,e);d=this.j(a,a.C+" Down","nudge selection 1 cell down",b,c,d,f,e);d=this.j(a,"Esc","hide paste",b,c,d,f,e);d=this.j(a,"Enter","perform paste",b,c,d,f,e);a.g.F?l=7:(l=-1===a.g.h?2:a.g.h,10<l&&(l=10));for(k=0;k<l;k+=1)d=this.j(a,a.u+" "+k,"select state "+k+" for drawing",b,c,d,f,e);d=this.j(a,"Shift B","toggle clipboard library",b,c,d,f,e);for(k=0;10>k;k+=1)d=this.j(a,a.C+" "+k,"make clipboard "+k+" active",b,c,d,f,e);d=this.j(a,"",
"",b,c,d,f,e);a.v[g]=[a.o,"Help"];d=this.j(a,"","Help controls:",b,c,d,f,e);d=this.j(a,"Up","scroll up one line",b,c,d,f,e);d=this.j(a,"Down","scroll down one line",b,c,d,f,e);d=this.j(a,"Page Up","scroll up one page",b,c,d,f,e);d=this.j(a,"Page Down","scroll down one page",b,c,d,f,e);d=this.j(a,"Shift Page Up","scroll up one section",b,c,d,f,e);d=this.j(a,"Shift Page Down","scroll down one section",b,c,d,f,e);d=this.j(a,"Home","go to first help page",b,c,d,f,e);d=this.j(a,"End","go to last help page",
b,c,d,f,e);this.j(a,"Ins","show help sections",b,c,d,f,e)},NF:function(a,b,c,d,f,e){var k=0,g;a.o=1;a.xc=!1;a.v=[];a.i[0]=252;a.v[k]=[a.o,"Top"];k+=1;d=this.j(a,"","Scripts",b,c,d,f,e);d=this.j(a,"","",b,c,d,f,e);d=this.j(a,"","Scripts must be embedded in pattern comments",b,c,d,f,e);d=this.j(a,"","Commands must be surrounded by whitespace",b,c,d,f,e);d=this.j(a,"","",b,c,d,f,e);a.v[k]=[a.o,"Params"];k+=1;d=this.j(a,"","Parameter conventions:",b,c,d,f,e);d=this.j(a,"A|B","either A or B",b,c,d,f,e);
d=this.j(a,"(A)","A is optional",b,c,d,f,e);d=this.j(a,"A*","zero or more A",b,c,d,f,e);d=this.j(a,"A+","one or more A",b,c,d,f,e);d=this.j(a,"<1..3>","integer range",b,c,d,f,e);d=this.j(a,"<1.0..3.0>","decimal range",b,c,d,f,e);d=this.j(a,'"<string>"',"text string",b,c,d,f,e);d=this.j(a," "+C.Qd+"B","program build number",b,c,d,f,e);d=this.j(a," "+C.Qd+"N","pattern name",b,c,d,f,e);d=this.j(a," "+C.Qd+"O","pattern originator",b,c,d,f,e);d=this.j(a," "+C.Qd+"R","rule name",b,c,d,f,e);d=this.j(a," "+
C.Qd+"A","rule alias",b,c,d,f,e);d=this.j(a," "+C.Qd+"D","rule neighbourhood",b,c,d,f,e);d=this.j(a," "+C.Qd+"T","program title",b,c,d,f,e);d=this.j(a," "+C.Qd+"S","random seed",b,c,d,f,e);d=this.j(a," "+C.Qd+"G","current generation (Labels)",b,c,d,f,e);d=this.j(a," "+C.Qd+"H","reversible generation (Labels)",b,c,d,f,e);d=this.j(a," "+C.Qd+"I","current generation relative (Labels)",b,c,d,f,e);d=this.j(a," "+C.Qd+"J","reversible generation relative (Labels)",b,c,d,f,e);d=this.j(a," "+C.Qd+"P","current population (Labels)",
b,c,d,f,e);d=this.j(a," "+C.Qd+"0..9","saved timing as average fps",b,c,d,f,e);d=this.j(a," "+C.Qd+C.Qd,C.Qd+" symbol",b,c,d,f,e);d=this.j(a,"","",b,c,d,f,e);a.v[k]=[a.o,"General"];k+=1;d=this.j(a,"","General:",b,c,d,f,e);d=this.j(a,C.yk,"start script section",b,c,d,f,e);d=this.j(a,C.bm,"end script section",b,c,d,f,e);d=this.j(a,C.Yv,"suppress overwrite warning",b,c,d,f,e);d=this.j(a,"","",b,c,d,f,e);a.v[k]=[a.o,"Playback"];k+=1;d=this.j(a,"","Playback:",b,c,d,f,e);d=this.j(a,C.Kp+" ("+C.Sb+")","start play automatically",
b,c,d,f,e);d=this.j(a,C.Mh+" <1..>|"+C.Sb,"loop at generation",b,c,d,f,e);d=this.j(a,C.Sh+" <1..>|"+C.Sb,"stop at generation",b,c,d,f,e);d=this.j(a,C.Qq+" <1..>","play to generation on load",b,c,d,f,e);d=this.j(a,C.ul+" <"+G.og+".."+G.LE+">","set steps per second",b,c,d,f,e);d=this.j(a,C.em+" <"+G.yg+".."+G.lg+">","set generations per step",b,c,d,f,e);(a.g.Z||a.g.i)&&a.g.eb&&(d=this.j(a,C.Iv,"set initial playback to Reverse",b,c,d,f,e));d=this.j(a,C.kt,"always use hard reset",b,c,d,f,e);d=this.j(a,
C.Jp,"identify pattern automatically",b,c,d,f,e);d=this.j(a,C.Dp,"disable playback",b,c,d,f,e);d=this.j(a,C.ou,"disable step back",b,c,d,f,e);d=this.j(a,C.qu,"disable stop messages",b,c,d,f,e);d=this.j(a,C.pu,"disable performance warning",b,c,d,f,e);d=this.j(a,C.su,"disable playback throttling",b,c,d,f,e);d=this.j(a,C.Zs,"starting playback pauses others",b,c,d,f,e);d=this.j(a,C.vt,"ignore other pause requests",b,c,d,f,e);d=this.j(a,C.hv,"show playback duration",b,c,d,f,e);d=this.j(a,"","",b,c,d,f,
e);a.v[k]=[a.o,"Camera"];k+=1;d=this.j(a,"","Camera:",b,c,d,f,e);d=this.j(a,C.lk+" <0..359>","set camera angle",b,c,d,f,e);d=this.j(a,C.Bk+" <0.0..5.0>","set camera tilt",b,c,d,f,e);d=this.j(a,C.Ne+" <-"+(a.g.T>>1)+".."+(a.g.T>>1)+">","set camera x position",b,c,d,f,e);d=this.j(a,C.Pe+" <-"+(a.g.T>>1)+".."+(a.g.T>>1)+">","set camera y position",b,c,d,f,e);d=this.j(a,C.fe+" <"+Number(-1/G.ob).toFixed(1)+".."+G.Ib.toFixed(1)+">","set camera zoom",b,c,d,f,e);d=this.j(a,C.es,"same as "+C.fe,b,c,d,f,e);
d=this.j(a,C.Ip+" ("+C.Sb+")","fit pattern to display",b,c,d,f,e);d=this.j(a,C.rt+" ("+C.Sb+")","autofit uses pattern history",b,c,d,f,e);d=this.j(a,C.Tv+" ("+C.Sb+")","autofit only uses state 1",b,c,d,f,e);d=this.j(a,C.Bp+" X Y","camera tracking",b,c,d,f,e);d=this.j(a," X ","horizontal speed cells/gen",b,c,d,f,e);d=this.j(a," Y ","vertical speed cells/gen",b,c,d,f,e);d=this.j(a,C.im+" E S W N","camera box tracking",b,c,d,f,e);d=this.j(a," E ","east edge speed cells/gen",b,c,d,f,e);d=this.j(a," S ",
"south edge speed cells/gen",b,c,d,f,e);d=this.j(a," W ","west edge speed cells/gen",b,c,d,f,e);d=this.j(a," N ","north edge speed cells/gen",b,c,d,f,e);d=this.j(a,C.Ap+" P X Y","camera tracking with loop",b,c,d,f,e);d=this.j(a," P ","period",b,c,d,f,e);d=this.j(a," X ","horizontal speed cells/gen",b,c,d,f,e);d=this.j(a," Y ","vertical speed cells/gen",b,c,d,f,e);d=this.j(a,"","",b,c,d,f,e);a.v[k]=[a.o,"Waypoints"];k+=1;d=this.j(a,"","Waypoints:",b,c,d,f,e);d=this.j(a,C.up+" <0..>","waypoint at generation",
b,c,d,f,e);d=this.j(a,C.ev+" <0.0..>","pause for time",b,c,d,f,e);d=this.j(a,C.xg+" "+C.Bf+"|"+C.Ne+"|"+C.Pe+"|"+C.fe,"linear motion",b,c,d,f,e);d=this.j(a,C.Gh+" "+C.Bf+"|"+C.Ne+"|"+C.Pe+"|"+C.fe,"bezier motion (default)",b,c,d,f,e);d=this.j(a,C.HA,"save timing at waypoint start",b,c,d,f,e);d=this.j(a,"","",b,c,d,f,e);a.v[k]=[a.o,"POIs"];k+=1;d=this.j(a,"","Points of interest:",b,c,d,f,e);d=this.j(a,C.Bq,"define point of interest",b,c,d,f,e);d=this.j(a,C.Aq+" <0..>","start POI at generation",b,c,
d,f,e);d=this.j(a,C.np,"reset generation at POI",b,c,d,f,e);d=this.j(a,C.ho,"start playback at POI",b,c,d,f,e);d=this.j(a,C.io,"stop playback at POI",b,c,d,f,e);d=this.j(a,C.op+" <"+Ta.kA+".."+Ta.jA+">","set POI transition speed",b,c,d,f,e);d=this.j(a,"<command>|ALL "+C.sc,"use initial value for POI",b,c,d,f,e);d=this.j(a,C.ud+"<string>"+C.ud,"define message",b,c,d,f,e);d=this.j(a,C.jv,"add Labels as POIs",b,c,d,f,e);d=this.j(a,"","",b,c,d,f,e);a.v[k]=[a.o,"Annotations"];k+=1;d=this.j(a,"","Annotations:",
b,c,d,f,e);d=this.j(a,C.cp+" X Y ZOOM","define label at position",b,c,d,f,e);d=this.j(a," ("+C.Jd+") "+C.ud+"<string>"+C.ud,"... fix position, label text ",b,c,d,f,e);d=this.j(a,C.Pt+" <"+G.Dz+".."+G.xz+">","define label font size",b,c,d,f,e);d=this.j(a," ("+C.Jd+")","... optionally fix size",b,c,d,f,e);d=this.j(a,C.Kt+" <0.0..1.0>","define label font alpha",b,c,d,f,e);d=this.j(a,C.Qt+" <0..> <0..> <0..>","generation range / fade",b,c,d,f,e);d=this.j(a,C.Lt+" <0..359>","label angle",b,c,d,f,e);d=
this.j(a," ("+C.Jd+")","... optionally fix angle",b,c,d,f,e);d=this.j(a,C.St+" D|"+C.Sb,"label view distance",b,c,d,f,e);d=this.j(a,C.Tt+" MINZOOM MAXZOOM|"+C.Sb,"label zoom visibility",b,c,d,f,e);d=this.j(a,C.Rt+" DX DY|"+C.Jd,"label move per generation",b,c,d,f,e);d=this.j(a,C.Ot+" ("+C.Sb+")","turn label shadow on or off",b,c,d,f,e);d=this.j(a,C.Jt+" "+C.Gt+"|"+C.Ht+"|"+C.It,"set label text alignment",b,c,d,f,e);d=this.j(a,C.Po+" X1 Y1 X2 Y2 ZOOM","define arrow at position",b,c,d,f,e);d=this.j(a,
" ("+C.Jd+")","... fix position",b,c,d,f,e);d=this.j(a,C.os+" <"+G.qq+".."+G.iq+"> <0.0..1.0>","line width and head multiple",b,c,d,f,e);d=this.j(a,C.ls+" <0.0..1.0>","define arrow alpha",b,c,d,f,e);d=this.j(a,C.ps+" <0..> <0..> <0..>","generation range / fade",b,c,d,f,e);d=this.j(a,C.ms+" <0..359>","arrow angle",b,c,d,f,e);d=this.j(a," ("+C.Jd+")","... optionally fix angle",b,c,d,f,e);d=this.j(a,C.rs+" D|"+C.Sb,"arrow view distance",b,c,d,f,e);d=this.j(a,C.ss+" MINZOOM MAXZOOM|"+C.Sb,"arrow zoom visibility",
b,c,d,f,e);d=this.j(a,C.qs+" DX DY|"+C.Jd,"arrow move per generation",b,c,d,f,e);d=this.j(a,C.ns+" ("+C.Sb+")","turn arrow shadow on or off",b,c,d,f,e);d=this.j(a,C.mv+" X1 Y1 X2 Y2 .. ZOOM","define outline polygon",b,c,d,f,e);d=this.j(a," ("+C.Jd+")","... fix position",b,c,d,f,e);d=this.j(a,C.Cq+" X1 Y1 X2 Y2 .. ZOOM","define filled polygon",b,c,d,f,e);d=this.j(a," ("+C.Jd+")","... fix position",b,c,d,f,e);d=this.j(a,C.ov+" <"+G.qq+".."+G.iq+">","line width",b,c,d,f,e);d=this.j(a,C.kv+" <0.0..1.0>",
"define polygon alpha",b,c,d,f,e);d=this.j(a,C.pv+" <0..> <0..> <0..>","generation range / fade",b,c,d,f,e);d=this.j(a,C.lv+" <0..359>","polygon angle",b,c,d,f,e);d=this.j(a," ("+C.Jd+")","... optionally fix angle",b,c,d,f,e);d=this.j(a,C.rv+" D|"+C.Sb,"polygon view distance",b,c,d,f,e);d=this.j(a,C.sv+" MINZOOM MAXZOOM|"+C.Sb,"polygon zoom visilibility",b,c,d,f,e);d=this.j(a,C.qv+" DX DY|"+C.Jd,"polygon move per generation",b,c,d,f,e);d=this.j(a,C.nv+" ("+C.Sb+")","turn polygon shadow on or off",
b,c,d,f,e);d=this.j(a,"","",b,c,d,f,e);a.v[k]=[a.o,"Display"];k+=1;d=this.j(a,"","Display:",b,c,d,f,e);d=this.j(a,C.Eo+" <"+G.Yc+".."+a.Ic+">","set LifeViewer width",b,c,d,f,e);d=this.j(a,C.Kn+" <"+G.gh+".."+G.gp+">","set LifeViewer height",b,c,d,f,e);d=this.j(a,C.qp+" <"+G.Yc+".."+a.Ic+">","set popup width",b,c,d,f,e);d=this.j(a,C.pp+" <"+G.gh+".."+G.gp+">","set popup height",b,c,d,f,e);d=this.j(a,C.xo+" "+C.ud+"<string>"+C.ud,"set popup window title",b,c,d,f,e);d=this.j(a,C.Gl+" <"+G.pq+".."+G.hq+
">","set number of layers",b,c,d,f,e);d=this.j(a,C.ll+" <"+G.oq.toFixed(1)+".."+G.vz.toFixed(1)+">","set layer depth",b,c,d,f,e);d=this.j(a,C.$o+" ("+C.Sb+")","display gridlines",b,c,d,f,e);d=this.j(a,C.Zo+" <0..16>","set major grid line interval",b,c,d,f,e);d=this.j(a,C.Oo+" <0.."+(2<a.g.h?1:63)+">","number of age states to draw",b,c,d,f,e);d=this.j(a,C.Ln+" <0.."+(2<a.g.h?1:63)+">","number of history states to draw",b,c,d,f,e);d=this.j(a,C.sp+" ("+C.Sb+")","display stars",b,c,d,f,e);a.g.ga?(d=this.j(a,
C.mt,"hexagonal cells for grid",b,c,d,f,e),d=this.j(a,C.Nq,"offset square cells for grid",b,c,d,f,e)):a.g.W&&(d=this.j(a,C.xw,"triangular cells for grid",b,c,d,f,e),d=this.j(a,C.Nq,"rectangular cells for grid",b,c,d,f,e));d=this.j(a,C.xs,"display cell borders",b,c,d,f,e);d=this.j(a,C.Dw,"display cells as icons",b,c,d,f,e);d=this.j(a,C.nu,"disable menus and hotkeys",b,c,d,f,e);d=this.j(a,C.pt,"hide menus during playback",b,c,d,f,e);d=this.j(a,C.Pv,"show timing information",b,c,d,f,e);d=this.j(a,C.$s,
"extended timing information",b,c,d,f,e);d=this.j(a,C.Nv,"show generation statistics",b,c,d,f,e);d=this.j(a,C.Ov,"show information bar",b,c,d,f,e);d=this.j(a,C.qA,"use rainbow colours",b,c,d,f,e);d=this.j(a,C.xv,"use high quality rendering",b,c,d,f,e);d=this.j(a,"","",b,c,d,f,e);a.v[k]=[a.o,"Thumb"];k+=1;d=this.j(a,"","Thumbnails:",b,c,d,f,e);d=this.j(a,C.ew+" ("+C.Sb+")","start at 1/"+a.Vb+" size",b,c,d,f,e);d=this.j(a,C.bw+" <"+G.Gz+".."+G.Az+">","set thumbnail divisor",b,c,d,f,e);d=this.j(a,C.aw+
" ("+C.Sb+")","thumbnail launches viewer",b,c,d,f,e);d=this.j(a,C.dw+" <"+Number(-1/G.ob).toFixed(1)+".."+G.Ib.toFixed(1)+">","set thumbnail zoom",b,c,d,f,e);d=this.j(a,C.cw,"start playback on thumbnail expand",b,c,d,f,e);d=this.j(a,"","",b,c,d,f,e);a.v[k]=[a.o,"Graph"];k+=1;d=this.j(a,"","Population Graph:",b,c,d,f,e);d=this.j(a,C.$p,"display population graph",b,c,d,f,e);d=this.j(a,C.gt+" <0.0..1.0>","population graph opacity",b,c,d,f,e);d=this.j(a,C.ht,"population graph use points",b,c,d,f,e);d=
this.j(a,C.uq,"disable population graph",b,c,d,f,e);d=this.j(a,"","",b,c,d,f,e);a.v[k]=[a.o,"Colours"];k+=1;d=this.j(a,"","Colours:",b,c,d,f,e);a.g.l||a.g.A||a.g.o||a.g.da?d=this.j(a,C.nb+" "+C.to+" R G B","set background color",b,c,d,f,e):(d=this.j(a,C.Cj+" <0.."+(a.g.ib-1)+">|name","set theme",b,c,d,f,e),d=this.j(a," name = "+C.uo,"set custom theme",b,c,d,f,e),d=this.j(a,C.nb+" "+C.to+" R G B","set theme background",b,c,d,f,e),a.g.i||(d=this.j(a,C.nb+" "+C.so+" R G B","set theme alive color",b,
c,d,f,e),2>=a.g.h&&(d=this.j(a,C.nb+" "+C.wp+" R G B","set theme alive ramp",b,c,d,f,e))),d=this.j(a,C.nb+" "+C.wo+" R G B","set theme dead color",b,c,d,f,e),d=this.j(a,C.nb+" "+C.vo+" R G B","set theme dead ramp",b,c,d,f,e),!a.g.i&&2<a.g.h&&(d=this.j(a,C.nb+" "+C.yp+" R G B","set theme dying color",b,c,d,f,e),d=this.j(a,C.nb+" "+C.xp+" R G B","set theme dying ramp",b,c,d,f,e)));d=this.j(a,C.nb+" "+C.gy+" R G B","set boundary color",b,c,d,f,e);d=this.j(a,C.nb+" <0.."+(-1===a.g.h?a.g.F?"6":"1":String(a.g.h-
1))+"> R G B","set state color",b,c,d,f,e);a.g.F&&(d=this.j(a,C.nb+" "+C.vu+" R G B","set [R]History state color "+G.iF,b,c,d,f,e),d=this.j(a,C.nb+" "+C.xu+" R G B","set [R]History state color "+G.jF,b,c,d,f,e),d=this.j(a,C.nb+" "+C.qt+" R G B","set [R]History state color "+G.eE,b,c,d,f,e),d=this.j(a,C.nb+" "+C.Wt+" R G B","set [R]History state color "+G.pz,b,c,d,f,e),d=this.j(a,C.nb+" "+C.Yt+" R G B","set [R]History state color "+G.rz,b,c,d,f,e),d=this.j(a,C.nb+" "+C.Xt+" R G B","set [R]History state color "+
G.qz,b,c,d,f,e),d=this.j(a,C.nb+" "+C.Ct+" R G B","set [R]History state color "+G.iz,b,c,d,f,e));a.g.i&&(d=this.j(a,C.nb+" N*E*S*W* R G B","set PCA state color",b,c,d,f,e));if(a.g.o)for(g=0;g<a.Me.length;g+=1)if(void 0!==a.Me[g]){var l=a.Me[g];var p=a.Zw(l);if(0<=a.ur(l)||a.qx(l)||a.yC(l)||a.tx(l)||a.ox(l))l='"'+l+'"';d=this.j(a,C.nb+" "+l+" R G B","set state "+p+" color ",b,c,d,f,e)}d=this.j(a,C.nb+" "+C.ys+" R G B","set bounded color",b,c,d,f,e);d=this.j(a,C.nb+" "+C.xA+" R G B","set select color",
b,c,d,f,e);d=this.j(a,C.nb+" "+C.Oi+" R G B","set paste color",b,c,d,f,e);d=this.j(a,C.nb+" "+C.yA+" R G B","set selected cells color",b,c,d,f,e);d=this.j(a,C.nb+" "+C.$o+" R G B","set grid color",b,c,d,f,e);d=this.j(a,C.nb+" "+C.Zo+" R G B","set grid major color",b,c,d,f,e);d=this.j(a,C.nb+" "+C.sp+" R G B","set star color",b,c,d,f,e);d=this.j(a,C.nb+" "+C.Zv+" R G B","set waypoint message color",b,c,d,f,e);d=this.j(a,C.nb+" "+C.Xs+" R G B","set error message color",b,c,d,f,e);d=this.j(a,C.nb+" "+
C.lt+" R G B","set help message color",b,c,d,f,e);d=this.j(a,C.nb+" "+C.Yy+" R G B","set graph background color",b,c,d,f,e);d=this.j(a,C.nb+" "+C.Xy+" R G B","set graph axis color",b,c,d,f,e);d=this.j(a,C.nb+" "+C.Wy+" R G B","set graph alive color",b,c,d,f,e);d=this.j(a,C.nb+" "+C.Zy+" R G B","set graph birth color",b,c,d,f,e);d=this.j(a,C.nb+" "+C.$y+" R G B","set graph death color",b,c,d,f,e);d=this.j(a,C.nb+" "+C.cp+" R G B","set label text color",b,c,d,f,e);d=this.j(a,C.nb+" "+C.Po+" R G B",
"set arrow line color",b,c,d,f,e);d=this.j(a,C.nb+" "+C.nA+" R G B","set polygon color",b,c,d,f,e);d=this.j(a,C.nb+" "+C.NA+" R G B","set UI foreground color",b,c,d,f,e);d=this.j(a,C.nb+" "+C.LA+" R G B","set UI background color",b,c,d,f,e);d=this.j(a,C.nb+" "+C.OA+" R G B","set UI highlight text color",b,c,d,f,e);d=this.j(a,C.nb+" "+C.QA+" R G B","set UI selected color",b,c,d,f,e);d=this.j(a,C.nb+" "+C.PA+" R G B","set UI locked color",b,c,d,f,e);d=this.j(a,C.nb+" "+C.MA+" R G B","set UI border color",
b,c,d,f,e);d=this.j(a,C.Fs,"same as "+C.nb,b,c,d,f,e);d=this.j(a,"","",b,c,d,f,e);a.v[k]=[a.o,"Pattern"];k+=1;d=this.j(a,"","Pattern:",b,c,d,f,e);d=this.j(a,C.Vq+" <-"+(a.g.T>>1)+".."+(a.g.T>>1)+">","set pattern x offset",b,c,d,f,e);d=this.j(a,C.Wq+" <-"+(a.g.T>>1)+".."+(a.g.T>>1)+">","set pattern y offset",b,c,d,f,e);d=this.j(a,C.Rs+" <"+G.Bz+".."+G.uz+">","set boundary delete range",b,c,d,f,e);d=this.j(a,C.mu,"disable pattern source copy",b,c,d,f,e);d=this.j(a,C.ru,"hide pattern source",b,c,d,f,
e);d=this.j(a,C.$t+" <"+G.Cz+".."+G.wz+">","set maximum grid size 2^n",b,c,d,f,e);d=this.j(a,C.lo+" name X Y (<1..>)+","create a named recipe",b,c,d,f,e);d=this.j(a,C.am+" name rle|"+C.lh+" W H","create a named set of cells",b,c,d,f,e);d=this.j(a," (X Y) (TRANS)","... X Y and transformation",b,c,d,f,e);d=this.j(a," "+C.sw,"identity",b,c,d,f,e);d=this.j(a," "+C.pw,"flip",b,c,d,f,e);d=this.j(a," "+C.qw,"flip X",b,c,d,f,e);d=this.j(a," "+C.rw,"flip Y",b,c,d,f,e);d=this.j(a," "+C.vw,"swap X and Y",b,
c,d,f,e);d=this.j(a," "+C.ww,"swap X and Y and flip",b,c,d,f,e);d=this.j(a," "+C.uw,"rotate clockwise",b,c,d,f,e);d=this.j(a," "+C.tw,"rotate counter-clockwise",b,c,d,f,e);d=this.j(a,C.Oi+" name|rle|"+C.lh+" W H (X Y)","paste cells at optional X Y",b,c,d,f,e);d=this.j(a," (TRANS)","... optional transformation",b,c,d,f,e);d=this.j(a," (XT|YT dp1 dt1 dp2 dt2 ... dpn dtn)","... optional slow salvo definition",b,c,d,f,e);d=this.j(a,C.lp+" <0..>","set paste generation",b,c,d,f,e);d=this.j(a," (recipe|<1..>+)*",
"... optional delta list",b,c,d,f,e);d=this.j(a,C.lp+" "+C.Ro+" <1..>","set paste interval",b,c,d,f,e);d=this.j(a," (<0..> (<1..>))","... optional start and end",b,c,d,f,e);d=this.j(a,C.yu+" X Y","set position delta for "+C.lp+" "+C.Ro,b,c,d,f,e);d=this.j(a,C.Uu+" <0..15>|mode","set paste mode",b,c,d,f,e);d=this.j(a," 0   0000  "+C.cv,"",b,c,d,f,e);d=this.j(a," 1   0001  "+C.Hu,"",b,c,d,f,e);d=this.j(a," 2   0010  "+C.Au,"",b,c,d,f,e);d=this.j(a," 3   0011  "+C.Yu+"|"+C.Iu,"",b,c,d,f,e);d=this.j(a,
" 4   0100  "+C.Cu,"",b,c,d,f,e);d=this.j(a," 5   0101  "+C.av,"",b,c,d,f,e);d=this.j(a," 6   0110  "+C.Zu,"",b,c,d,f,e);d=this.j(a," 7   0111  "+C.Tu,"",b,c,d,f,e);d=this.j(a," 8   1000  "+C.Mu,"",b,c,d,f,e);d=this.j(a," 9   1001  "+C.Xu,"",b,c,d,f,e);d=this.j(a," 10  1010  "+C.Qu,"",b,c,d,f,e);d=this.j(a," 11  1011  "+C.Eu,"",b,c,d,f,e);d=this.j(a," 12  1100  "+C.Ou,"",b,c,d,f,e);d=this.j(a," 13  1101  "+C.Gu,"",b,c,d,f,e);d=this.j(a," 14  1110  "+C.Ku,"",b,c,d,f,e);d=this.j(a," 15  1111  "+C.Su,
"",b,c,d,f,e);d=this.j(a,C.Dt,"suppress escaping gliders",b,c,d,f,e);d=this.j(a,"","",b,c,d,f,e);a.v[k]=[a.o,"Randomize"];d=this.j(a,"","Randomize:",b,c,d,f,e);d=this.j(a,C.Gv,"create random pattern",b,c,d,f,e);d=this.j(a,C.Fv,"create 2-state random pattern",b,c,d,f,e);d=this.j(a,C.Cv+" <string>","set random seed",b,c,d,f,e);d=this.j(a,C.Ev+" <"+G.ip+".."+G.mq+">","set random pattern width",b,c,d,f,e);d=this.j(a,C.Av+" <"+G.cu+".."+G.lq+">","set random pattern height",b,c,d,f,e);d=this.j(a,C.zv+" <"+
G.rq+".."+G.kq+">","set random pattern fill percentage",b,c,d,f,e);d=this.j(a,C.Eq+" "+C.Jd,"keep rule fixed",b,c,d,f,e);a.g.Z||a.g.i?(d=this.j(a,C.Bv,"only generate reversible rules",b,c,d,f,e),this.j(a,C.Dv,"only generate fixed population rules",b,c,d,f,e)):a.g.Ca||-1!==a.g.Kd||(d=this.j(a,C.Eq+" <item> <0..100>","set percentage chance for <item>",b,c,d,f,e),d=this.j(a," "+C.Bf,"all conditions",b,c,d,f,e),d=this.j(a," "+C.Dq,"all birth conditions",b,c,d,f,e),d=this.j(a," "+C.Gq,"all survival conditions",
b,c,d,f,e),d=this.j(a," "+C.Dq+"<0..n>","specified birth condition",b,c,d,f,e),this.j(a," "+C.Gq+"<0..n>","specified survival condition",b,c,d,f,e))},KF:function(a,b,c,d,f,e){var k,g,l=0,p=0,n=xa.Oc.length,q=a.g.la[a.g.pb],m=0,r=a.h.s;a.o=1;a.xc=!1;a.v=[];a.i[0]=128;a.i[1]=210;a.i[2]=270;a.i[3]=330;a.i[4]=430;a.v[m]=[a.o,"Top"];m+=1;d=this.j(a,"","Information",b,c,d,f,e);d=this.j(a,"","",b,c,d,f,e);a.v[m]=[a.o,"Display"];m+=1;d=this.j(a,"","Display:",b,c,d,f,e);d=this.j(a,"Size",a.displayWidth+" x "+
a.displayHeight,b,c,d,f,e);d=this.j(a,"Scale",a.h.s.toFixed(2),b,c,d,f,e);d=this.j(a,"Pixel Ratio",a.vi.toFixed(2),b,c,d,f,e);d=this.j(a,"Window Zoom",a.we.toFixed(2),b,c,d,f,e);d=this.j(a,"Refresh",xa.rc+"Hz ("+xa.dt.toFixed(1)+"ms)",b,c,d,f,e);Ca.ep&&(d=this.j(a,"Limit Width",a.Ic,b,c,d,f,e));var u=a.g.P;1>u&&(u=-1/u);d=this.j(a,"View","X "+-(a.g.width/2-(a.g.fa+a.g.ua)|0)+"  Y "+-(a.g.height/2-(a.g.ca+a.g.oa)|0)+"  Z "+u.toFixed(2)+"  ANGLE "+a.g.angle.toFixed(0),b,c,d,f,e);u=a.oj;1>u&&(u=1/u);
d=this.j(a,"Saved View","X "+-(a.g.width/2-a.ya|0)+"  Y "+-(a.g.height/2-a.Bb|0)+"  Z "+u.toFixed(2)+"  ANGLE "+a.Pw.toFixed(0),b,c,d,f,e);d=this.j(a,"Origin","X "+a.g.ua.toFixed(2)+"  Y "+a.g.oa.toFixed(2)+"  Z "+a.g.Ga.toFixed(3),b,c,d,f,e);var t=a.K?a.La?"Multi-State Viewer":"Viewer":a.g.F?"History Player":"Player";t=a.td?t+" (PopUp)":t+" (InLine)";d=this.j(a,"Type",t,b,c,d,f,e);t=a.g.ga?"Hexagonal":a.g.W?"Triangular":"Square";d=this.j(a,"Mode",t,b,c,d,f,e);t="Rectangular";a.g.ga&&!a.g.ta?t="Hexagonal":
a.g.W&&!a.g.ta&&(t="Triangular");d=this.j(a,"Cells",t,b,c,d,f,e);d=this.j(a,"Quality",a.g.Ec?"High":"Standard",b,c,d,f,e);a.ie&&(d=this.j(a,"Thumbnail","1/"+a.Vb,b,c,d,f,e));d=this.j(a,"","",b,c,d,f,e);a.v[m]=[a.o,"Pattern"];m+=1;d=this.j(a,"","Pattern:",b,c,d,f,e);""!==a.bj&&(d=this.j(a,"Name",a.bj,b,c,d,f,e));""!==a.Qk&&(d=this.j(a,"Originator",a.Qk,b,c,d,f,e));d=this.j(a,"Actual Size",a.A+" x "+a.B,b,c,d,f,e);-999999!==a.ta&&-999999!==a.sa&&(d=this.j(a,"Specified",a.ta+" x "+a.sa,b,c,d,f,e));0<
a.Tc.length&&(d=this.j(a,"Pastes",a.Tc.length,b,c,d,f,e),d=this.j(a,"Paste Size",a.Rf-a.Of+1+" x "+(a.Sf-a.Nf+1)+" from ("+a.Of+", "+a.Nf+") to ("+a.Rf+", "+a.Sf+")",b,c,d,f,e),d=this.j(a,"Paste Max T",a.Td+(a.km?" + "+C.Ro:""),b,c,d,f,e));0<a.Ld.length&&(d=this.j(a,"RLEs",a.Ld.length,b,c,d,f,e));0<a.Xd.length&&(d=this.j(a,"Recipes",a.Xd.length,b,c,d,f,e));d=this.j(a,"Offset","X "+a.V+"  Y "+a.X,b,c,d,f,e);a.Dk&&(d=this.j(a,"CXRLE Gen",a.Ga,b,c,d,f,e));a.fc&&(d=this.j(a,"CXRLE Pos","X "+a.ac+"  Y "+
a.nc,b,c,d,f,e));a.Hn&&(d=this.j(a,"Clipped",(0===a.g.M?"Inf":a.g.M)+" x "+(0===a.g.K?"Inf":a.g.K)+" "+a.U.Vb(a.g.C),b,c,d,f,e));a.$a?t=a.W:(t=a.W,""===t&&(t="(none)"));if("MAP"===t.substring(0,3)&&89===t.length)for(d=this.j(a,"Rule","MAP",b,c,d,f,e),u=3;89>u;)d=this.j(a,"  "+(u-3),t.substring(u,u+16),b,c,d,f,e),u+=16;else a.xc=!0,d=this.j(a,"Rule",t,b,c,d,f,e),a.xc=!1;""!==a.xa&&(d=this.j(a,"Alias",a.xa,b,c,d,f,e));a.g.o&&(t=null===a.g.Yb?"@TREE ["+a.g.cj+"]":"@TABLE ["+a.g.rd+(0<a.g.kh?" / "+a.g.kh:
"")+"]",t=null===a.g.Fa&&null===a.g.Je||!a.g.cc||-1!==a.g.hb?t+" using standard lookup":t+" using fast lookup",d=this.j(a,"Type",t,b,c,d,f,e),a.g.vf()&&a.$a&&(t="",-1===a.g.hb?(u=null===a.g.Je?a.g.Fa.length:4*a.g.Je.length,t=(1048576<=u?t+((u>>20)+"Mb"):1024<=u?t+((u>>10)+"Kb"):t+(u+" bytes"))+(" fast lookup created in "+(a.g.gf/1E3).toFixed(1)+" seconds")):(u=a.g.h,t+="Creating fast lookup ("+(100*a.g.hb/(u*u*u*u*u)|0)+"%)"),d=this.j(a,"Lookup",t,b,c,d,f,e)));d=this.j(a,"N'hood",a.sr(),b,c,d,f,e);
if(a.g.Ca)switch(a.g.V.type){case 15:u=2*a.g.V.l+1;for(k=0;k<u;k+=1)t=a.g.V.K.length>u*u?" "+a.g.V.K.substring(k*u*2,(k+1)*u*2):" "+a.g.V.K.substring(k*u,(k+1)*u),d=this.j(a,t,"",b,c,d,f,e);break;case 10:for(u=2*a.g.V.l+1,k=0;k<u;k+=1){t=" ";for(g=0;g<u;g+=1)t=k===u>>1&&g===u>>1?t+"0":t+(a.g.V.Nl[u-1-k][u-1-g]?"1":"0");d=this.j(a,t,"",b,c,d,f,e)}}t=String(a.dj);2<a.dj&&a.Fo!==a.dj&&(t=a.Fo+" of "+t);d=this.j(a,"States",t,b,c,d,f,e);if(a.cj)for(k=1;k<a.dj;k+=1)a.cj[k]&&(d=this.j(a,"State "+k,a.cj[k]+
"\t"+a.sh(k),b,c,d,f,e));if(a.g.Hc)if(a.i[1]=200,a.i[2]=280,a.i[3]=360,a.i[4]=440,a.g.Hc[0].Lp!==Ba.Jq)d=this.j(a,"Icons",Ba.$F[a.g.Hc[0].Lp],b,c,d,f,e);else{d=this.j(a,"Icons","Size\tNumber\tColours\tGrayScale",b,c,d,f,e);for(g=0;g<a.g.Hc.length;g+=1)l=a.g.Hc[g].width,p=a.g.Hc[g].height,t=l+"x"+l+"\t"+p/l+"\t"+a.g.Hc[g].uu+"\t"+(a.g.Hc[g].aq?"Yes":"No"),d=this.j(a," ",t,b,c,d,f,e);for(g=0;g<p/l;g+=1)this.JF(a,g,a.g.zd.width,b,c+a.i[0]*r,d,f,e),t=a.sh(g+1),d=this.j(a,"Icon "+String(g+1),"      "+
t,b,c,d,f,e)}d=this.j(a,"Decoder",a.Ek,b,c,d,f,e);-1!==a.Wn&&(d=this.j(a,"Last Bench","gens: "+a.Yr+"  time: "+a.Wn.toFixed(1)+"s  gps: "+(a.Yr/a.Wn).toFixed(1),b,c,d,f,e));d=this.j(a,"","",b,c,d,f,e);if("none"!==a.qb&&"Empty"!==a.qb){a.v[m]=[a.o,"Identify"];m+=1;d=this.j(a,"","Identify:",b,c,d,f,e);d=this.j(a,"Type",a.qb,b,c,d,f,e);d=this.j(a,"Cells",a.hi,b,c,d,f,e);""!==a.g.Ng&&(d=this.j(a,"  T Min/Max",a.g.Ng,b,c,d,f,e));"Oscillator"===a.qb&&(d=this.j(a,"Active",a.$n,b,c,d,f,e));d=this.j(a,"Bounding",
a.mm,b,c,d,f,e);""!==a.g.Mg&&(d=this.j(a,"  T Min/Max",a.g.Mg,b,c,d,f,e));"Oscillator"===a.qb?(d=this.j(a,"Period",a.ki,b,c,d,f,e),d=this.j(a,"Mod",a.ji,b,c,d,f,e)):"Still Life"!==a.qb&&(d=this.j(a,"Direction",a.nm,b,c,d,f,e),d=this.j(a,"Period",a.ki,b,c,d,f,e),d=this.j(a,"Mod",a.ji,b,c,d,f,e),d=this.j(a,"Slope",a.pm,b,c,d,f,e),d=this.j(a,"Speed",a.li,b,c,d,f,e));"Still Life"!==a.qb&&-1===a.g.C&&(d=this.j(a,"Heat",a.ii,b,c,d,f,e));if("Oscillator"===a.qb)if(-1===a.g.C&&(d=this.j(a,"Temperature",a.ko,
b,c,d,f,e)),""===a.Sg)d=this.j(a,"Volatility",a.Tg+" | N/A",b,c,d,f,e);else{d=this.j(a,"Volatility",a.Tg+" | "+a.Sg,b,c,d,f,e);a.i[1]=215;a.i[2]=300;a.i[3]=385;a.i[4]=425;a.i[5]=465;a.i[6]=505;a.i[7]=600;d=this.j(a,"  Period","    Count\t% Total\t% Rotor\tColour",b,c,d,f,e);for(k=a.g.Ka.length-1;0<k;--k)u=a.g.Ka[k],0<u&&(this.Oa(a,a.g.Mc[k]>>16,a.g.Mc[k]>>8&255,a.g.Mc[k]&255,b,c+a.i[0]*r,d,f,e),g=this.xb(a.g.Mc[k]>>16,a.g.Mc[k]>>8&255,a.g.Mc[k]&255).trim(),d=1<k?this.j(a,"  "+k,"    "+u+"\t"+(Math.floor(1E4*
u/a.g.gg)/100).toFixed(2)+"%\t"+(Math.floor(1E4*u/a.g.ci)/100).toFixed(2)+"%\t"+g,b,c,d,f,e):this.j(a,"  "+k,"    "+u+"\t"+(Math.floor(1E4*u/a.g.gg)/100).toFixed(2)+"%\t\t"+g,b,c,d,f,e));a.g.fc&&(this.Oa(a,96,96,96,b,c+a.i[0]*r,d,f,e),d=a.g.A?this.j(a,"  State3","    "+a.g.fc+"\t\t\t"+this.xb(96,96,96).trim(),b,c,d,f,e):this.j(a,"  State6","    "+a.g.fc+"\t\t\t"+this.xb(96,96,96).trim(),b,c,d,f,e));this.Oa(a,0,0,0,b,c+a.i[0]*r,d,f,e);a.g.Hj||(d=this.j(a,"  Back","\t\t\t"+this.xb(0,0,0).trim(),b,c,
d,f,e));-1!==a.g.C&&(this.Oa(a,128,128,128,b,c+a.i[0]*r,d,f,e),d=this.j(a,"  Bounded","\t\t\t"+this.xb(128,128,128).trim(),b,c,d,f,e));this.Oa(a,80,80,80,b,c+a.i[0]*r,d,f,e);d=this.j(a,"  Grid","\t\t\t"+this.xb(80,80,80).trim(),b,c,d,f,e)}"Still Life"===a.qb&&(d=this.j(a,"Density",a.bo,b,c,d,f,e));d=this.j(a,"Generation",a.fo,b,c,d,f,e);d=this.j(a,"Time","Period: "+a.g.Dk.toFixed(1)+" seconds   Total: "+a.g.Ek.toFixed(1)+" seconds",b,c,d,f,e);d=this.j(a,"","",b,c,d,f,e)}a.v[m]=[a.o,"Grid"];m+=1;d=
this.j(a,"","Grid:",b,c,d,f,e);d=this.j(a,"Size",a.g.width+" x "+a.g.height,b,c,d,f,e);d=this.j(a,"Maximum",a.g.T+" x "+a.g.T,b,c,d,f,e);d=this.j(a,"Area",this.ZC(a),b,c,d,f,e);d=a.g.o||a.g.A?0!==(a.g.counter&1)?this.j(a,"Tiles",a.g.pd(a.g.X)+" / "+a.g.pd(a.g.B),b,c,d,f,e):this.j(a,"Tiles",a.g.pd(a.g.O)+" / "+a.g.pd(a.g.B),b,c,d,f,e):0!==(a.g.counter&1)?this.j(a,"Tiles",a.g.pd(a.g.X)+" / "+a.g.pd(a.g.ra)+" / "+a.g.pd(a.g.B),b,c,d,f,e):this.j(a,"Tiles",a.g.pd(a.g.O)+" / "+a.g.pd(a.g.ra)+" / "+a.g.pd(a.g.B),
b,c,d,f,e);a.g.Uc&&(d=this.j(a,"State6",a.g.pd(a.g.Uc),b,c,d,f,e));d=this.j(a,"Tile Size","16 x 16",b,c,d,f,e);d=this.j(a,"Generation",a.g.counter,b,c,d,f,e);0!==a.Ga&&(d=this.j(a,"AbsoluteGen",a.g.counter+a.Ga,b,c,d,f,e));a.g.Z&&(d=this.j(a,"MargolusGen",a.g.Kb+a.Ga,b,c,d,f,e));a.g.i&&(d=this.j(a,"PCAGen",a.g.Kb+a.Ga,b,c,d,f,e));(a.g.Z||a.g.i)&&a.g.eb&&(u=a.g.bb,a.g.Fb&&(u=!u),d=this.j(a,"Direction",u?"Reverse":"Forward",b,c,d,f,e));d=this.j(a,"DeleteRange",a.g.Ie,b,c,d,f,e);a.g.fd&&(d=this.j(a,
"KillGliders",a.g.bg,b,c,d,f,e));d=this.j(a,"","",b,c,d,f,e);-1!==a.g.C&&(a.v[m]=[a.o,"Bounded"],m+=1,d=this.j(a,"","Bounded grid:",b,c,d,f,e),d=this.j(a,"Type",a.U.Vb(a.g.C),b,c,d,f,e),d=0===a.g.M?this.j(a,"Width","Infinite",b,c,d,f,e):this.j(a,"Width",a.g.M,b,c,d,f,e),4!==a.g.C?(d=0===a.g.K?this.j(a,"Height","Infinite",b,c,d,f,e):this.j(a,"Height",a.g.K,b,c,d,f,e),2===a.g.C&&(d=a.g.Nf?this.j(a,"Twist","Horizontal",b,c,d,f,e):this.j(a,"Twist","Vertical",b,c,d,f,e)),0!==a.g.Md&&(d=this.j(a,"H'Shift",
a.g.Md,b,c,d,f,e)),0!==a.g.Nd&&(d=this.j(a,"V'Shift",a.g.Nd,b,c,d,f,e))):d=a.g.Of?this.j(a,"Axis","Top Left",b,c,d,f,e):this.j(a,"Axis","Top Right",b,c,d,f,e),d=this.j(a,"","",b,c,d,f,e));a.v[m]=[a.o,"AutoFit"];m+=1;d=this.j(a,"","AutoFit:",b,c,d,f,e);d=this.j(a,"Enabled",a.fa?"On":"Off",b,c,d,f,e);d=this.j(a,"Mode",this.bD(a),b,c,d,f,e);d=this.j(a,"","",b,c,d,f,e);a.v[m]=[a.o,"Track"];m+=1;d=this.j(a,"","Track:",b,c,d,f,e);d=this.j(a,"Enabled",a.cb&&!a.Kb?"On":"Off",b,c,d,f,e);a.cb&&(a.Eh?(d=this.j(a,
"Mode","Track Box",b,c,d,f,e),d=this.j(a,"Definition","E "+a.ig.toFixed(3)+"  S "+a.jg.toFixed(3)+"  W "+a.Fh.toFixed(3)+"  N "+a.wh.toFixed(3),b,c,d,f,e)):(d=this.j(a,"Mode","Track",b,c,d,f,e),d=this.j(a,"Definition","X "+a.ig.toFixed(3)+"  Y "+a.jg.toFixed(3),b,c,d,f,e)));d=this.j(a,"Current","E "+a.Im.toFixed(3)+"  S "+a.Mm.toFixed(3)+"  W "+a.Om.toFixed(3)+"  N "+a.Km.toFixed(3),b,c,d,f,e);d=this.j(a,"","",b,c,d,f,e);a.v[m]=[a.o,"Undo/Redo"];m+=1;d=this.j(a,"","Undo/Redo:",b,c,d,f,e);d=this.j(a,
"Enabled",a.hb?"Off":"On",b,c,d,f,e);if(!a.hb)for(d=this.j(a,"Snapshots",a.g.Fc.Z()+"/"+a.g.Fc.l.length,b,c,d,f,e),d=this.j(a,"Buffer",(a.g.Fc.V()>>10)+"K",b,c,d,f,e),d=this.j(a,"Next Gen",a.g.ff,b,c,d,f,e),d=this.j(a,"Undo",a.ka,b,c,d,f,e),d=this.j(a,"Redo",a.Vg-a.ka,b,c,d,f,e),k=0;k<G.Ni;k+=1)null!==a.Ua[k]&&(d=this.j(a,"Clip "+k+(k===a.mb?"*":""),a.Ua[k].width+" x "+a.Ua[k].height,b,c,d,f,e));d=this.j(a,"","",b,c,d,f,e);a.v[m]=[a.o,"Engine"];m+=1;d=this.j(a,"","Engine:",b,c,d,f,e);d=this.j(a,"Name",
G.So,b,c,d,f,e);d=this.j(a,"Build",G.Tq,b,c,d,f,e);d=this.j(a,"Author",G.VA,b,c,d,f,e);d=this.j(a,"Decoders","RLE, Life 1.06, Life 1.05, Cells",b,c,d,f,e);d=this.j(a,"N'hoods","Moore, Hexagonal, von Neumann, Triangular, 1D,",b,c,d,f,e);d=this.j(a," ","Circular, Cross, L2, Saltire, Star, Checkerboard,",b,c,d,f,e);d=this.j(a," ","Aligned Checkerboard, Hash, Tripod, Asterisk,",b,c,d,f,e);d=this.j(a," ","Far Corners/Edges, Custom (CoordCA),",b,c,d,f,e);d=this.j(a," ","Gaussian and Weighted",b,c,d,f,e);
d=this.j(a,"Rules","Wolfram, Totalistic, Generations, Margolus,",b,c,d,f,e);d=this.j(a," ","Isotropic Non-Totalistic (Hensel, Callahan),",b,c,d,f,e);d=this.j(a," ","Alternating, MAP, Larger than Life (LtL),",b,c,d,f,e);d=this.j(a," ","Higher-range outer-totalistic (HROT),",b,c,d,f,e);d=this.j(a," ","Partitioned cellular automata (PCA),",b,c,d,f,e);d=this.j(a," ","[R]History, [R]Super, [R]Investigator",b,c,d,f,e);d=this.j(a," ","and Non-Deterministic",b,c,d,f,e);d=this.j(a,"Repository","RuleTable (@TABLE, @TREE, @COLORS,",
b,c,d,f,e);d=this.j(a," ","@ICONS and @NAMES)",b,c,d,f,e);d=this.j(a,"BoundedGrid","Plane, Torus, Klein, Cross-surface and Sphere",b,c,d,f,e);d=this.j(a,"Viewers",n,b,c,d,f,e);d=this.j(a,"Playing",xa.FG(),b,c,d,f,e);if(Ca.kb){u=xa.se.length;d=this.j(a,"Universe","Multi ("+(a.Na+1)+" of "+u+")",b,c,d,f,e);a.xc=!0;for(k=0;k<u;k+=1)d=this.j(a,String(k+1)+(k===a.Na?"*":""),xa.se[k].name,b,c,d,f,e),d=this.j(a," ",xa.se[k].UF,b,c,d,f,e),d=this.j(a," ",xa.se[k].width+" x "+xa.se[k].height,b,c,d,f,e);a.xc=
!1}else d=this.j(a,"Universe","Single",b,c,d,f,e);d=this.j(a,"Exclusive",a.dn?"Yes":"No",b,c,d,f,e);d=this.j(a,"IgnorePause",a.ap?"Yes":"No",b,c,d,f,e);d=this.j(a,"Endian",Ka.tc?"Little":"Big",b,c,d,f,e);d=this.j(a,"ArrayFill",Ka.js?"Yes":"No",b,c,d,f,e);d=this.j(a,"ArraySlice",Ka.ks?"Yes":"No",b,c,d,f,e);d=this.j(a,"CopyWithin",Ka.copyWithin?"Yes":"No",b,c,d,f,e);d=this.j(a,"","",b,c,d,f,e);a.i[1]=300;a.i[2]=380;a.i[3]=460;a.v[m]=[a.o,"Rule Cache"];m+=1;d=this.j(a,"","Rule Cache:",b,c,d,f,e);d=this.j(a,
"Entries",Xa.rules.length,b,c,d,f,e);if(0<Xa.rules.length)for(d=this.j(a,"Entry","Name\tSize Kb\tFetch\tDecode",b,c,d,f,e),k=0;k<Xa.rules.length;k+=1)t=Xa.rules[k].name,17<t.length&&(t=t.substring(0,17)+"*"),d=this.j(a,String(k),t+"\t"+(Xa.nq[k].size>>10)+"\t"+Xa.nq[k].fetch+"ms\t"+Xa.nq[k].decode+"ms",b,c,d,f,e);d=this.j(a,"","",b,c,d,f,e);a.i[1]=210;a.i[2]=270;a.i[3]=330;a.g.o||a.g.A||a.g.l||a.g.da||(a.v[m]=[a.o,"Theme"],m+=1,d=this.j(a,"","Theme:",b,c,d,f,e),d=this.j(a,"Name",a.g.la[a.g.pb].name,
b,c,d,f,e),d=this.j(a,"History",a.na,b,c,d,f,e),2>=a.g.h&&(d=this.j(a,"Age",a.zg,b,c,d,f,e)),d=this.j(a,"","",b,c,d,f,e));a.v[m]=[a.o,"Cells"];m+=1;d=this.j(a,"","Cells:",b,c,d,f,e);this.Oa(a,a.g.ka[0],a.g.ja[0],a.g.ia[0],b,c+a.i[0]*r,d,f,e);d=this.j(a,"Background",this.xb(a.g.ka[0],a.g.ja[0],a.g.ia[0]),b,c,d,f,e);if(a.g.da||a.g.o)for(k=1;k<a.g.h;k+=1)this.Oa(a,a.g.ka[k],a.g.ja[k],a.g.ia[k],b,c+a.i[0]*r,d,f,e),d=this.j(a,"State "+k,this.xb(a.g.ka[k],a.g.ja[k],a.g.ia[k]),b,c,d,f,e);else if(a.g.i){for(k=
1;16>k;k+=1)g=k+a.na,this.Oa(a,a.g.ka[g],a.g.ja[g],a.g.ia[g],b,c+a.i[0]*r,d,f,e),t="",k&1&&(t+="N"),k&2&&(t+="E"),k&4&&(t+="S"),k&8&&(t+="W"),d=this.j(a,t,this.xb(a.g.ka[g],a.g.ja[g],a.g.ia[g]),b,c,d,f,e);0<a.na&&(g=a.na,this.Oa(a,a.g.ka[g],a.g.ja[g],a.g.ia[g],b,c+a.i[0]*r,d,f,e),d=this.j(a,"Dead",this.xb(a.g.ka[g],a.g.ja[g],a.g.ia[g]),b,c,d,f,e),1<a.na&&(g=1,q.h.h.h!==q.h.i.h||q.h.h.l!==q.h.i.l||q.h.h.i!==q.h.i.i?(this.Oa(a,a.g.ka[g],a.g.ja[g],a.g.ia[g],b,c+a.i[0]*r,d,f,e),d=this.j(a,"DeadRamp",
this.xb(a.g.ka[g],a.g.ja[g],a.g.ia[g]),b,c,d,f,e)):d=this.j(a,"DeadRamp","    (none)",b,c,d,f,e)))}else if(2<a.g.h)if(a.g.l||a.g.A)for(k=1;k<a.g.h;k+=1)this.Oa(a,a.g.ka[k],a.g.ja[k],a.g.ia[k],b,c+a.i[0]*r,d,f,e),d=a.g.l?this.j(a,this.sG(k),this.xb(a.g.ka[k],a.g.ja[k],a.g.ia[k]),b,c,d,f,e):this.j(a,this.yD(k),this.xb(a.g.ka[k],a.g.ja[k],a.g.ia[k]),b,c,d,f,e);else{g=a.g.h+a.na-1;this.Oa(a,a.g.ka[g],a.g.ja[g],a.g.ia[g],b,c+a.i[0]*r,d,f,e);d=this.j(a,"Alive",this.xb(a.g.ka[g],a.g.ja[g],a.g.ia[g]),b,c,
d,f,e);for(k=1;k<a.g.h-1;k+=1)g=a.g.h-k+a.na-1,this.Oa(a,a.g.ka[g],a.g.ja[g],a.g.ia[g],b,c+a.i[0]*r,d,f,e),d=this.j(a,"Dying "+k,this.xb(a.g.ka[g],a.g.ja[g],a.g.ia[g]),b,c,d,f,e);0<a.na&&(g=a.na,this.Oa(a,a.g.ka[g],a.g.ja[g],a.g.ia[g],b,c+a.i[0]*r,d,f,e),d=this.j(a,"Dead",this.xb(a.g.ka[g],a.g.ja[g],a.g.ia[g]),b,c,d,f,e),1<a.na&&(g=1,q.h.h.h!==q.h.i.h||q.h.h.l!==q.h.i.l||q.h.h.i!==q.h.i.i?(this.Oa(a,a.g.ka[g],a.g.ja[g],a.g.ia[g],b,c+a.i[0]*r,d,f,e),d=this.j(a,"DeadRamp",this.xb(a.g.ka[g],a.g.ja[g],
a.g.ia[g]),b,c,d,f,e)):d=this.j(a,"DeadRamp","    (none)",b,c,d,f,e)))}else 12===a.g.pb&&a.g.Ca?(q=a.g.la[11],this.Oa(a,q.i.h.h,q.i.h.l,q.i.h.i,b,c+a.i[0]*r,d,f,e),d=this.j(a,"Alive",this.be(q.i.h),b,c,d,f,e),q=a.g.la[a.g.pb]):(this.Oa(a,q.i.h.h,q.i.h.l,q.i.h.i,b,c+a.i[0]*r,d,f,e),d=this.j(a,"Alive",this.be(q.i.h),b,c,d,f,e),q.i.h.h!==q.i.i.h||q.i.h.l!==q.i.i.l||q.i.h.i!==q.i.i.i?(this.Oa(a,q.i.i.h,q.i.i.l,q.i.i.i,b,c+a.i[0]*r,d,f,e),d=this.j(a,"AliveRamp",this.be(q.i.i),b,c,d,f,e)):d=this.j(a,"AliveRamp",
"    (none)",b,c,d,f,e)),0<a.na&&(this.Oa(a,q.h.i.h,q.h.i.l,q.h.i.i,b,c+a.i[0]*r,d,f,e),d=this.j(a,"Dead",this.be(q.h.i),b,c,d,f,e),1<a.na&&(q.h.h.h!==q.h.i.h||q.h.h.l!==q.h.i.l||q.h.h.i!==q.h.i.i?(this.Oa(a,q.h.h.h,q.h.h.l,q.h.h.i,b,c+a.i[0]*r,d,f,e),d=this.j(a,"DeadRamp",this.be(q.h.h),b,c,d,f,e)):d=this.j(a,"DeadRamp","    (none)",b,c,d,f,e)));if(a.g.F)for(k=3;6>=k;k+=1)u=128+G.zb[k],g=this.xb(a.g.ka[u],a.g.ja[u],a.g.ia[u]),t=G.Me[k],this.Oa(a,a.g.ka[u],a.g.ja[u],a.g.ia[u],b,c+a.i[0]*r,d,f,e),
d=this.j(a,t,g,b,c,d,f,e);-1!==a.g.C&&(256>a.g.h+a.g.u?(this.Oa(a,a.Gf[0],a.Gf[1],a.Gf[2],b,c+a.i[0]*r,d,f,e),d=this.j(a,"Bounded",this.xb(a.Gf[0],a.Gf[1],a.Gf[2]),b,c,d,f,e)):(this.Oa(a,a.g.ka[2],a.g.ja[2],a.g.ia[2],b,c+a.i[0]*r,d,f,e),d=this.j(a,"Bounded*",this.xb(a.g.ka[2],a.g.ja[2],a.g.ia[2]),b,c,d,f,e)));this.Oa(a,a.zd[0],a.zd[1],a.zd[2],b,c+a.i[0]*r,d,f,e);d=this.j(a,"Boundary",this.xb(a.zd[0],a.zd[1],a.zd[2]),b,c,d,f,e);d=this.j(a,"Borders",a.g.Ta?"On":"Off",b,c,d,f,e);d=this.j(a,"","",b,c,
d,f,e);a.v[m]=[a.o,"Gridlines"];m+=1;d=this.j(a,"","Gridlines:",b,c,d,f,e);t=a.g.Ba?"On":"Off";a.g.Ba&&!a.g.Pd()&&(t+=" (Hidden)");d=this.j(a,"Enabled",t,b,c,d,f,e);1!==a.g.La&&(this.Oa(a,a.g.vb>>16,a.g.vb>>8&255,a.g.vb&255,b,c+a.i[0]*r,d,f,e),d=this.j(a,"Line Color",this.xb(a.g.vb>>16,a.g.vb>>8&255,a.g.vb&255),b,c,d,f,e));0<a.g.La&&(this.Oa(a,a.g.zc>>16,a.g.zc>>8&255,a.g.zc&255,b,c+a.i[0]*r,d,f,e),d=this.j(a,"Major Color",this.xb(a.g.zc>>16,a.g.zc>>8&255,a.g.zc&255),b,c,d,f,e));t=0<a.g.La&&a.g.pc?
String(a.g.La):"Off";d=this.j(a,"Interval",t,b,c,d,f,e);d=this.j(a,"","",b,c,d,f,e);a.v[m]=[a.o,"UI"];d=this.j(a,"","UI:",b,c,d,f,e);m+=1;u=a.pa[G.Rp];-1===u&&(u=16777215);this.Oa(a,u>>16,u>>8&255,u&255,b,c+a.i[0]*r,d,f,e);d=this.j(a,"Foreground",this.xb(u>>16,u>>8&255,u&255),b,c,d,f,e);u=a.pa[G.Pp];-1===u&&(u=0);this.Oa(a,u>>16,u>>8&255,u&255,b,c+a.i[0]*r,d,f,e);d=this.j(a,"Background",this.xb(u>>16,u>>8&255,u&255),b,c,d,f,e);u=a.pa[G.Sp];-1===u&&(u=61472);this.Oa(a,u>>16,u>>8&255,u&255,b,c+a.i[0]*
r,d,f,e);d=this.j(a,"Highlight",this.xb(u>>16,u>>8&255,u&255),b,c,d,f,e);u=a.pa[G.Up];-1===u&&(u=255);this.Oa(a,u>>16,u>>8&255,u&255,b,c+a.i[0]*r,d,f,e);d=this.j(a,"Selected",this.xb(u>>16,u>>8&255,u&255),b,c,d,f,e);u=a.pa[G.Tp];-1===u&&(u=8421504);this.Oa(a,u>>16,u>>8&255,u&255,b,c+a.i[0]*r,d,f,e);d=this.j(a,"Locked",this.xb(u>>16,u>>8&255,u&255),b,c,d,f,e);u=a.pa[G.Qp];-1===u&&(u=16777215);this.Oa(a,u>>16,u>>8&255,u&255,b,c+a.i[0]*r,d,f,e);d=this.j(a,"Border",this.xb(u>>16,u>>8&255,u&255),b,c,d,
f,e);a.Qc?(this.Oa(a,a.Qc[0],a.Qc[1],a.Qc[2],b,c+a.i[0]*r,d,f,e),d=this.j(a,"Text*",this.xb(a.Qc[0],a.Qc[1],a.Qc[2]),b,c,d,f,e)):(this.Oa(a,255,255,255,b,c+a.i[0]*r,d,f,e),d=this.j(a,"Text",this.xb(255,255,255),b,c,d,f,e));a.Pc?(this.Oa(a,a.Pc[0],a.Pc[1],a.Pc[2],b,c+a.i[0]*r,d,f,e),d=this.j(a,"Error*",this.xb(a.Pc[0],a.Pc[1],a.Pc[2]),b,c,d,f,e)):(this.Oa(a,255,48,48,b,c+a.i[0]*r,d,f,e),d=this.j(a,"Error",this.xb(255,96,96),b,c,d,f,e));a.ye?(this.Oa(a,a.ye[0],a.ye[1],a.ye[2],b,c+a.i[0]*r,d,f,e),d=
this.j(a,"Help*",this.xb(a.ye[0],a.ye[1],a.ye[2]),b,c,d,f,e)):(this.Oa(a,32,255,255,b,c+a.i[0]*r,d,f,e),d=this.j(a,"Help",this.xb(32,255,255),b,c,d,f,e));d=this.j(a,"","",b,c,d,f,e);a.v[m]=[a.o,"Selection"];m+=1;d=this.j(a,"","Selection Boxes:",b,c,d,f,e);this.Oa(a,a.Jf[0],a.Jf[1],a.Jf[2],b,c+a.i[0]*r,d,f,e);d=this.j(a,"Selection",this.xb(a.Jf[0],a.Jf[1],a.Jf[2]),b,c,d,f,e);this.Oa(a,a.If[0],a.If[1],a.If[2],b,c+a.i[0]*r,d,f,e);d=this.j(a,"Paste Box",this.xb(a.If[0],a.If[1],a.If[2]),b,c,d,f,e);this.Oa(a,
a.lf[0],a.lf[1],a.lf[2],b,c+a.i[0]*r,d,f,e);d=this.j(a,"Paste Cell",this.xb(a.lf[0],a.lf[1],a.lf[2]),b,c,d,f,e);d=this.j(a,"","",b,c,d,f,e);a.v[m]=[a.o,"Graph"];m+=1;d=this.j(a,"","Population Graph:",b,c,d,f,e);d=this.j(a,"Enabled",a.Da?"On":"Off",b,c,d,f,e);d=this.j(a,"Disabled",a.Yb?"On":"Off",b,c,d,f,e);d=this.j(a,"Mode",a.nd?"Lines":"Points",b,c,d,f,e);-1===a.g.C?(n="",a.vh&&(n="Population"),a.th&&(n=""===n?"Births":n+", Births"),a.uh&&(n=""===n?"Deaths":n+", Deaths"),""===n&&(n="<none>")):n=
"Population";d=this.j(a,"Data",n,b,c,d,f,e);d=this.j(a,"Opacity",a.Va.toFixed(2),b,c,d,f,e);this.Oa(a,a.g.jd[0],a.g.jd[1],a.g.jd[2],b,c+a.i[0]*r,d,f,e);d=this.j(a,"Bg Color",this.xb(a.g.jd[0],a.g.jd[1],a.g.jd[2]),b,c,d,f,e);this.Oa(a,a.g.hd[0],a.g.hd[1],a.g.hd[2],b,c+a.i[0]*r,d,f,e);d=this.j(a,"Axis Color",this.xb(a.g.hd[0],a.g.hd[1],a.g.hd[2]),b,c,d,f,e);this.Oa(a,a.g.gd[0],a.g.gd[1],a.g.gd[2],b,c+a.i[0]*r,d,f,e);d=this.j(a,"Alive Color",this.xb(a.g.gd[0],a.g.gd[1],a.g.gd[2]),b,c,d,f,e);this.Oa(a,
a.g.kd[0],a.g.kd[1],a.g.kd[2],b,c+a.i[0]*r,d,f,e);d=this.j(a,"Birth Color",this.xb(a.g.kd[0],a.g.kd[1],a.g.kd[2]),b,c,d,f,e);this.Oa(a,a.g.ld[0],a.g.ld[1],a.g.ld[2],b,c+a.i[0]*r,d,f,e);d=this.j(a,"Death Color",this.xb(a.g.ld[0],a.g.ld[1],a.g.ld[2]),b,c,d,f,e);d=this.j(a,"","",b,c,d,f,e);a.v[m]=[a.o,"Stars"];m+=1;d=this.j(a,"","Stars:",b,c,d,f,e);d=this.j(a,"Enabled",a.Dc?"On":"Off",b,c,d,f,e);this.Oa(a,a.Md.h.h,a.Md.h.l,a.Md.h.i,b,c+a.i[0]*r,d,f,e);d=this.j(a,"Color",this.be(a.Md.h),b,c,d,f,e);d=
this.j(a,"","",b,c,d,f,e);a.v[m]=[a.o,"Randomize"];m+=1;d=this.j(a,"","Randomize:",b,c,d,f,e);d=this.j(a,"Pattern",a.Fk?"On":"Off",b,c,d,f,e);d=this.j(a,"States",a.dl?"2":"All",b,c,d,f,e);d=this.j(a,"Custom Seed",a.Rv?"On":"Off",b,c,d,f,e);d=this.j(a,"Seed",a.kj,b,c,d,f,e);d=this.j(a,"Width",a.cl,b,c,d,f,e);d=this.j(a,"Height",a.$k,b,c,d,f,e);d=this.j(a,"Fill",a.jj+"%",b,c,d,f,e);d=this.j(a,"Rule Fixed",a.bl?"Yes":"No",b,c,d,f,e);if(!a.bl)if(a.g.Z||a.g.i)d=this.j(a,"Reversible",a.xm?"Only":"Any",
b,c,d,f,e),d=this.j(a,"FixedPop",a.zm?"Yes":"No",b,c,d,f,e);else if(!a.g.Ca&&-1===a.g.Kd){if(-1===a.Ue&&-1===a.Uf){d=this.j(a,"Chance ALL"+(-1===a.Te?"*":""),-1===a.Te?"50%":a.Te+"%",b,c,d,f,e);u=!1;for(k=0;k<a.Vc.length;k+=2)0===a.Vc[k]&&(u=!0);u||(d=this.j(a,"Chance B0*","25%",b,c,d,f,e))}else d=this.j(a,"Chance B"+(-1===a.Ue?"*":""),-1===a.Ue?"50%":a.Ue+"%",b,c,d,f,e),d=this.j(a,"Chance S"+(-1===a.Uf?"*":""),-1===a.Uf?"50%":a.Uf+"%",b,c,d,f,e);for(k=0;k<a.Vc.length;k+=2)d=this.j(a,"Chance B"+a.Vc[k],
a.Vc[k+1]+"%",b,c,d,f,e);for(k=0;k<a.Kd.length;k+=2)d=this.j(a,"Chance S"+a.Kd[k],a.Kd[k+1]+"%",b,c,d,f,e)}d=this.j(a,"","",b,c,d,f,e);a.v[m]=[a.o,"Script"];m+=1;d=this.j(a,"","Script:",b,c,d,f,e);d=this.j(a,"Commands",a.Wg,b,c,d,f,e);d=this.j(a,"Errors",a.Vs,b,c,d,f,e);if(a.Aa)for(d=this.j(a,"","",b,c,d,f,e),a.v[m]=[a.o,"Waypoints"],m+=1,d=this.j(a,"","Waypoints:",b,c,d,f,e),d=this.j(a,"Enabled",a.eb?"Off":"On",b,c,d,f,e),d=this.j(a,"Number",a.m.h.length,b,c,d,f,e),k=0;k<a.m.h.length;k+=1)t=String(k),
k===a.m.u&&(t=a.m.V(a.elapsedTime)?t+">":t+"*"),d=this.j(a,t,a.m.ab(k,C.ud),b,c,d,f,e);if(a.m.i.length)for(d=this.j(a,"","",b,c,d,f,e),a.v[m]=[a.o,"POIs"],d=this.j(a,"","Points of interest:",b,c,d,f,e),d=this.j(a,"Number",a.m.i.length,b,c,d,f,e),k=0;k<a.m.i.length;k+=1)t=String(k+1),k===a.Ac&&(t+="*"),k===a.ph&&(t+=" INITIAL"),u=!1,n=a.m.Ea(k),""!==n&&(d=this.j(a,u?" ":t,(u?"  ":"")+n,b,c,d,f,e),u=!0),n=a.m.Ja(k),""!==n&&(d=this.j(a,u?" ":t,(u?"  ":"")+n,b,c,d,f,e),u=!0),n=a.m.Fa(k),""!==n&&(d=this.j(a,
u?" ":t,(u?"  ":"")+n,b,c,d,f,e),u=!0),n=a.m.Da(k),""!==n&&(d=this.j(a,u?" ":t,(u?"  ":"")+n,b,c,d,f,e),u=!0),n=a.m.Ia(k),""!==n&&(d=this.j(a,u?" ":t,(u?"  ":"")+n,b,c,d,f,e),u=!0),n=a.m.Ga(k,C.ud),""!==n&&(d=this.j(a,u?" ":t,(u?"  ":"")+n,b,c,d,f,e))},OF:function(a,b,c,d,f,e){var k,g,l=0,p=a.h.s;a.o=1;a.xc=!1;a.v=[];a.i[0]=130;a.i[1]=200;a.i[2]=250;a.i[3]=300;a.i[4]=390;a.v[l]=[a.o,"Top"];l+=1;d=this.j(a,"","Themes",b,c,d,f,e);d=this.j(a,"","",b,c,d,f,e);d=this.j(a,"","Themes are used to provide a visual representation of",
b,c,d,f,e);d=this.j(a,"","cell history and longevity and also define grid colours",b,c,d,f,e);d=this.j(a,"","",b,c,d,f,e);d=this.j(a,"","Grid:",b,c,d,f,e);d=this.j(a,"GRID","grid line colour",b,c,d,f,e);d=this.j(a,"GRIDMAJOR","major grid line colour and interval",b,c,d,f,e);d=this.j(a,"","",b,c,d,f,e);if(2>=a.g.h)for(d=this.j(a,"","Two-state Themes:",b,c,d,f,e),d=this.j(a,"BACKGROUND","cell never occupied",b,c,d,f,e),d=this.j(a,"ALIVE","cell just born",b,c,d,f,e),d=this.j(a,"ALIVERAMP","cell alive for several generations",
b,c,d,f,e),d=this.j(a,"DEAD","cell just died",b,c,d,f,e),d=this.j(a,"DEADRAMP","cell dead for several generations",b,c,d,f,e),d=this.j(a,"","",b,c,d,f,e),d=this.j(a,"",a.zg+" ("+C.Oo+") states from ALIVE to ALIVERAMP",b,c,d,f,e),d=this.j(a,"",a.na+" ("+C.Ln+") states from DEAD to DEADRAMP",b,c,d,f,e),k=0;k<a.g.la.length-1;k+=1){d=this.j(a,"","",b,c,d,f,e);var n=a.g.la[k];a.v[l]=[a.o,n.name];l+=1;d=this.j(a,"Name"+(k===a.g.pb&&2>=a.g.h?"*":""),n.name,b,c,d,f,e);this.Oa(a,n.u.h,n.u.l,n.u.i,b,c+a.i[0]*
p,d,f,e);d=this.j(a,"BACKGROUND",this.be(n.u),b,c,d,f,e);if(12===k&&a.g.Ca)n=a.g.la[11],this.Oa(a,n.i.h.h,n.i.h.l,n.i.h.i,b,c+a.i[0]*p,d,f,e),d=this.j(a,"ALIVE",this.be(n.i.h),b,c,d,f,e),n=a.g.la[k];else if(this.Oa(a,n.i.h.h,n.i.h.l,n.i.h.i,b,c+a.i[0]*p,d,f,e),d=this.j(a,"ALIVE",this.be(n.i.h),b,c,d,f,e),n.i.h.h!==n.i.i.h||n.i.h.l!==n.i.i.l||n.i.h.i!==n.i.i.i)this.Oa(a,n.i.i.h,n.i.i.l,n.i.i.i,b,c+a.i[0]*p,d,f,e),d=this.j(a,"ALIVERAMP",this.be(n.i.i),b,c,d,f,e);this.Oa(a,n.h.i.h,n.h.i.l,n.h.i.i,b,
c+a.i[0]*p,d,f,e);d=this.j(a,"DEAD",this.be(n.h.i),b,c,d,f,e);if(n.h.h.h!==n.h.i.h||n.h.h.l!==n.h.i.l||n.h.h.i!==n.h.i.i)this.Oa(a,n.h.h.h,n.h.h.l,n.h.h.i,b,c+a.i[0]*p,d,f,e),d=this.j(a,"DEADRAMP",this.be(n.h.h),b,c,d,f,e);this.Oa(a,n.o>>16,n.o>>8&255,n.o&255,b,c+a.i[0]*p,d,f,e);d=this.j(a,"GRID",this.xb(n.o>>16,n.o>>8&255,n.o&255),b,c,d,f,e);0<n.A&&(this.Oa(a,n.s>>16,n.s>>8&255,n.s&255,b,c+a.i[0]*p,d,f,e),d=this.j(a,"GRIDMAJOR",this.xb(n.s>>16,n.s>>8&255,n.s&255),b,c,d,f,e));d=a.g.Z&&0<n.A?this.j(a,
"GRIDMAJOR",2,b,c,d,f,e):this.j(a,"GRIDMAJOR",n.A,b,c,d,f,e)}else if(a.g.i)for(d=this.j(a,"","PCA Themes:",b,c,d,f,e),d=this.j(a,"BACKGROUND","cell never occupied",b,c,d,f,e),d=this.j(a,"DEAD","cell just died",b,c,d,f,e),d=this.j(a,"DEADRAMP","cell dead for several generations",b,c,d,f,e),d=this.j(a,"","",b,c,d,f,e),d=this.j(a,"",a.na+" ("+C.Ln+") states from DEAD to DEADRAMP",b,c,d,f,e),k=0;k<a.g.la.length-1;k+=1){d=this.j(a,"","",b,c,d,f,e);n=a.g.la[k];a.v[l]=[a.o,n.name];l+=1;d=this.j(a,"Name"+
(k===a.g.pb?"*":""),n.name,b,c,d,f,e);this.Oa(a,n.u.h,n.u.l,n.u.i,b,c+a.i[0]*p,d,f,e);d=this.j(a,"BACKGROUND",this.be(n.u),b,c,d,f,e);for(g=1;16>g;g+=1){this.Oa(a,n.B[g-1].h,n.B[g-1].l,n.B[g-1].i,b,c+a.i[0]*p,d,f,e);var q="";g&1&&(q+="N");g&2&&(q+="E");g&4&&(q+="S");g&8&&(q+="W");d=this.j(a,q,this.xb(n.B[g-1].h,n.B[g-1].l,n.B[g-1].i),b,c,d,f,e)}this.Oa(a,n.l.i.h,n.l.i.l,n.l.i.i,b,c+a.i[0]*p,d,f,e);d=this.j(a,"DEAD",this.be(n.l.i),b,c,d,f,e);if(n.l.h.h!==n.l.i.h||n.l.h.l!==n.l.i.l||n.l.h.i!==n.l.i.i)this.Oa(a,
n.l.h.h,n.l.h.l,n.l.h.i,b,c+a.i[0]*p,d,f,e),d=this.j(a,"DEADRAMP",this.be(n.l.h),b,c,d,f,e);this.Oa(a,n.o>>16,n.o>>8&255,n.o&255,b,c+a.i[0]*p,d,f,e);d=this.j(a,"GRID",this.xb(n.o>>16,n.o>>8&255,n.o&255),b,c,d,f,e);0<n.A&&(this.Oa(a,n.s>>16,n.s>>8&255,n.s&255,b,c+a.i[0]*p,d,f,e),d=this.j(a,"GRIDMAJOR",this.xb(n.s>>16,n.s>>8&255,n.s&255),b,c,d,f,e));d=this.j(a,"GRIDMAJOR",n.A,b,c,d,f,e)}else for(d=this.j(a,"","Multi-state Themes:",b,c,d,f,e),d=this.j(a,"BACKGROUND","cell never occupied",b,c,d,f,e),
d=this.j(a,"ALIVE","cell alive",b,c,d,f,e),d=this.j(a,"DYING","cell just starting dying",b,c,d,f,e),d=this.j(a,"DYINGRAMP","cell about to die",b,c,d,f,e),d=this.j(a,"DEAD","cell just died",b,c,d,f,e),d=this.j(a,"DEADRAMP","cell dead for several generations",b,c,d,f,e),d=this.j(a,"","",b,c,d,f,e),d=this.j(a,"","Rule defines "+(2>a.g.h?"":String(a.g.h-1)+" ")+"states from DYING to DYINGRAMP",b,c,d,f,e),d=this.j(a,"",a.na+" (HISTORYSTATES) states from DEAD to DEADRAMP",b,c,d,f,e),k=0;k<a.g.la.length-
1;k+=1)d=this.j(a,"","",b,c,d,f,e),n=a.g.la[k],a.v[l]=[a.o,n.name],l+=1,d=this.j(a,"Name"+(k===a.g.pb&&2<a.g.h?"*":""),n.name,b,c,d,f,e),this.Oa(a,n.C.h,n.C.l,n.C.i,b,c+a.i[0]*p,d,f,e),d=this.j(a,"BACKGROUND",this.be(n.C),b,c,d,f,e),12===k&&a.g.Ca&&(n=a.g.la[11]),this.Oa(a,n.v.h,n.v.l,n.v.i,b,c+a.i[0]*p,d,f,e),d=this.j(a,"ALIVE",this.be(n.v),b,c,d,f,e),3===a.g.h?(this.Oa(a,n.m.h.h,n.m.h.l,n.m.h.i,b,c+a.i[0]*p,d,f,e),d=this.j(a,"DYING",this.be(n.m.h),b,c,d,f,e)):(this.Oa(a,n.m.i.h,n.m.i.l,n.m.i.i,
b,c+a.i[0]*p,d,f,e),d=this.j(a,"DYING",this.be(n.m.i),b,c,d,f,e),3<a.g.h&&(n.m.h.h!==n.m.i.h||n.m.h.l!==n.m.i.l||n.m.h.i!==n.m.i.i)&&(this.Oa(a,n.m.h.h,n.m.h.l,n.m.h.i,b,c+a.i[0]*p,d,f,e),d=this.j(a,"DYINGRAMP",this.be(n.m.h),b,c,d,f,e))),12===k&&a.g.Ca&&(n=a.g.la[12]),255>a.g.h&&(this.Oa(a,n.l.i.h,n.l.i.l,n.l.i.i,b,c+a.i[0]*p,d,f,e),d=this.j(a,"DEAD",this.be(n.l.i),b,c,d,f,e)),256>a.g.h&&(n.l.h.h!==n.l.i.h||n.l.h.l!==n.l.i.l||n.l.h.i!==n.l.i.i)&&(this.Oa(a,n.l.h.h,n.l.h.l,n.l.h.i,b,c+a.i[0]*p,d,
f,e),d=this.j(a,"DEADRAMP",this.be(n.l.h),b,c,d,f,e)),this.Oa(a,n.o>>16,n.o>>8&255,n.o&255,b,c+a.i[0]*p,d,f,e),d=this.j(a,"GRID",this.xb(n.o>>16,n.o>>8&255,n.o&255),b,c,d,f,e),0<n.A&&(this.Oa(a,n.s>>16,n.s>>8&255,n.s&255,b,c+a.i[0]*p,d,f,e),d=this.j(a,"GRIDMAJOR",this.xb(n.s>>16,n.s>>8&255,n.s&255),b,c,d,f,e)),d=this.j(a,"GRIDMAJOR",n.A,b,c,d,f,e);this.j(a,"","",b,c,d,f,e)},GF:function(a,b,c,d,f,e){var k,g=eb.Qe,l=Object.keys(g),p=a.h.s;a.o=1;a.xc=!1;a.v=[];a.i[0]=260;a.i[1]=330;a.i[2]=380;a.i[3]=
430;a.i[4]=a.displayWidth;a.v[0]=[a.o,"Top"];d=this.j(a,"","Colours",b,c,d,f,e);d=this.j(a,"","",b,c,d,f,e);d=this.j(a,"","The following names can be used in place of R G B or hex specification",b,c,d,f,e);d=this.j(a,"","for example [[ COLOUR ALIVE Green ]]",b,c,d,f,e);d=this.j(a,"","",b,c,d,f,e);for(k=0;k<l.length;k+=1){var n=g[l[k]];this.Oa(a,n[1],n[2],n[3],b,c+a.i[0]*p,d,f,e);d=this.j(a,n[0],this.xb(n[1],n[2],n[3]),b,c,d,f,e)}},EF:function(a,b,c,d,f,e){var k,g=0,l=bb.Wc,p=bb.Mv;a.o=1;a.xc=!1;a.v=
[];a.i[0]=260;a.v[g]=[a.o,"Top"];g+=1;d=this.j(a,"","Aliases",b,c,d,f,e);d=this.j(a,"","",b,c,d,f,e);d=this.j(a,"","Alias names can be used as rule names in RLE",b,c,d,f,e);d=this.j(a,"","for example 'rule = HighLife'",b,c,d,f,e);d=this.j(a,"","",b,c,d,f,e);d=this.j(a,"","* denotes duplicate definition",b,c,d,f,e);d=this.j(a,"","+ denotes duplicate alias name",b,c,d,f,e);a.xc=!0;for(k=0;k<l.length;k+=1)""===l[k][1]?(d=this.j(a,"","",b,c,d,f,e),a.v[g]=[a.o,p[g-1]],g+=1,d=this.j(a,"",l[k][0]+" Aliases:",
b,c,d,f,e)):""!==l[k][0]&&(d=this.j(a,l[k][0]+" "+(l[k][2]?"*":"")+(l[k][3]?"+":""),l[k][1],b,c,d,f,e))},MF:function(a,b,c,d,f,e){var k,g=0,l=xa.Oc.length,p=0,n=0,q=0,m=0,r;a.o=1;a.xc=!1;a.v=[];a.i[0]=128;a.i[1]=200;a.i[2]=290;a.i[3]=530;a.v[g]=[a.o,"Top"];g+=1;d=this.j(a,"","Memory usage",b,c,d,f,e);d=this.j(a,"","",b,c,d,f,e);if(1<l){a.v[g]=[a.o,"All"];g+=1;d=this.j(a,"","Memory (all "+l+" LifeViewers):",b,c,d,f,e);for(k=0;k<l;k+=1)if(r=xa.GD(k))p+=r.g.S.o,q+=r.g.S.l>>10,n+=r.g.S.s,m+=r.g.S.m>>
10;d=this.j(a,"In Use",p-n+"\t"+((q>>10)-(m>>10))+"M",b,c,d,f,e);d=this.j(a,"Allocations",p+"\t"+(q>>10)+"M",b,c,d,f,e);d=this.j(a,"Frees",n+"\t"+(m>>10)+"M",b,c,d,f,e);d=this.j(a,"","",b,c,d,f,e)}a.v[g]=[a.o,"Current"];d=this.j(a,"","Memory (this LifeViewer):",b,c,d,f,e);d=this.j(a,"In Use",a.g.S.o-a.g.S.s+"\t"+this.ts(a.g.S.l-a.g.S.m)+"M\t"+(a.g.S.l-a.g.S.m),b,c,d,f,e);d=this.j(a,"Allocations",a.g.S.o+"\t"+this.ts(a.g.S.l)+"M\t"+a.g.S.l,b,c,d,f,e);d=this.j(a,"Frees",a.g.S.s+"\t"+this.ts(a.g.S.m)+
"M\t"+a.g.S.m,b,c,d,f,e);d=this.j(a,this.Wz("Bytes",10),"Type\tElements\tName\tCount",b,c,d,f,e);for(k=0;k<a.g.S.i.length;k+=1)d=this.j(a,this.Wz(String(a.g.S.i[k].size),10),a.g.S.B(k),b,c,d,f,e);this.j(a,"","",b,c,d,f,e)},Ly:function(a){var b=a.ja,c=a.h.s,d=a.h.C,f=19*d;a.Ba=(a.displayHeight/f|0)-6;b.fillStyle=a.D.mc;b.globalAlpha=.7;b.fillRect(0,0,b.canvas.width,b.canvas.height);b.globalAlpha=1;b.fillStyle=a.D.mc;this.Qh=2;Ya.sA(a,b,6*c,14*d,f,a.s|0);b.fillStyle=a.Kh;this.Qh=0;Ya.sA(a,b,6*c,14*
d,f,a.s|0)},HF:function(a,b,c,d,f,e,k,g,l,p){var n=g,q=a.h.s,m=this.Qh*q,r=this.Qh*a.h.s,u=0,t=!1,v=a.o;e.fillStyle===a.D.Ka&&(t=!0);v>=p&&v<=p+a.Ba&&(e.font=a.Zh,t||(e.fillStyle=1<(a.$|0)?a.Jh:a.D.$),e.fillText(b,k+m,g+r),t||(e.fillStyle=a.Jh),e.fillText(c,k+m+e.measureText(b).width,g+r),t||(e.fillStyle=(a.$|0)<a.Tb.length-a.Ba+1?a.Jh:a.D.$),e.fillText(d,k+m+e.measureText(b+c).width,g+r),a.i[0]&&(u=a.i[0]*q),t||(e.fillStyle=a.Jh),e.font=a.rf,e.fillText(f,k+m+u,g+r),n+=l);return n},Hq:function(a,
b,c,d,f,e,k,g){var l=e,p=a.h.s,n=0,q=a.o;q>=g&&q<=g+a.Ba&&(b.length&&(d.font=a.Zh,d.fillText(b,f,e),n=d.measureText(b+" ").width),a.i[0]&&(n=a.i[0]*p),d.font=a.rf,d.fillText(c,f+n,e),l+=k);a.o+=1;return l},rA:function(a,b,c,d,f,e){var k,g=a.Tb,l=d;a.o=1;a.i[0]=0;b.font=a.rf;d=this.Hq(a,"",G.cG,b,c,d,f,e);for(k=0;k<g.length;k+=1)d=this.Hq(a,g[k][0],g[k][1],b,c,d,f,e);a.ha||(a.i[0]=120,a.o=1,d=l+f*(a.Ba+2),d=this.HF(a,"Up"," / ","Down","scroll errors",b,c,d,f,0),d=this.Hq(a,"Esc","clear messages",b,
c,d,f,0),this.Hq(a,"H  ","help",b,c,d,f,0))},qD:function(a){var b=a.ja,c=a.h.s,d=a.h.C,f=19*d,e=7;a.ha&&(e=1);a.Ba=(a.displayHeight/f|0)-e;b.fillStyle=a.D.mc;b.globalAlpha=.7;b.fillRect(0,0,b.canvas.width,b.canvas.height);b.globalAlpha=1;b.fillStyle=a.D.mc;this.rA(a,b,6*c,14*d,f,a.$|0);b.fillStyle=a.Jh;this.rA(a,b,4*c,12*d,f,a.$|0)}},C={ud:'"',yk:"[[",bm:"]]",Rz:"NOSNOW",xv:"QUALITY",HA:"TIME",hv:"PLAYTIME",Yv:"SUPPRESS",Aq:"POIT",sc:"INITIAL",Sb:"OFF",Tv:"STATE1FIT",np:"POIRESET",ho:"POIPLAY",io:"POISTOP",
op:"POITRANS",jv:"POIADDLABELS",kt:"HARDRESET",Bp:"TRACK",im:"TRACKBOX",Ap:"TRACKLOOP",qu:"NOREPORT",$p:"GRAPH",uq:"NOGRAPH",gt:"GRAPHOPACITY",ht:"GRAPHPOINTS",pu:"NOPERFWARNING",pt:"AUTOHIDEGUI",Bf:"ALL",xg:"LINEAR",Gh:"BEZIER",xw:"TRIANGULARCELLS",mt:"HEXCELLS",Nq:"SQUARECELLS",Dw:"ICONS",xs:"CELLBORDERS",lh:"RANDCELLS",Gv:"RANDOMIZE",Fv:"RANDOMIZE2",Cv:"RANDSEED",Ev:"RANDWIDTH",Av:"RANDHEIGHT",zv:"RANDFILL",Bv:"RANDREVERSIBLE",Dv:"RANDFIXEDPOP",Eq:"RANDCHANCE",Dq:"B",Gq:"S",Rs:"DELETERANGE",Pv:"SHOWTIMING",
$s:"EXTENDEDTIMING",Nv:"SHOWGENSTATS",Ov:"SHOWINFOBAR",ru:"NOSOURCE",Bq:"POI",xo:"TITLE",nA:"POLY",nv:"POLYSHADOW",Cq:"POLYFILL",mv:"POLYLINE",kv:"POLYALPHA",ov:"POLYSIZE",pv:"POLYT",lv:"POLYANGLE",sv:"POLYZOOMRANGE",qv:"POLYTRACK",rv:"POLYVIEWDIST",Po:"ARROW",ns:"ARROWSHADOW",ls:"ARROWALPHA",os:"ARROWSIZE",ps:"ARROWT",ms:"ARROWANGLE",ss:"ARROWZOOMRANGE",qs:"ARROWTRACK",rs:"ARROWVIEWDIST",cp:"LABEL",Ot:"LABELSHADOW",Kt:"LABELALPHA",Pt:"LABELSIZE",Qt:"LABELT",Lt:"LABELANGLE",Tt:"LABELZOOMRANGE",Rt:"LABELTRACK",
St:"LABELVIEWDIST",Jt:"LABELALIGN",Ht:"LEFT",It:"RIGHT",Gt:"CENTER",Jd:"FIXED",$t:"MAXGRIDSIZE",sp:"STARS",uo:"CUSTOM",Vq:"XOFFSET",Wq:"YOFFSET",to:"BACKGROUND",so:"ALIVE",wp:"ALIVERAMP",wo:"DEAD",vo:"DEADRAMP",yp:"DYING",xp:"DYINGRAMP",NA:"UIFOREGROUND",oH:"UIFOREGROUNDA",LA:"UIBACKGROUND",mH:"UIBACKGROUNDA",OA:"UIHIGHLIGHT",pH:"UIHIGHTLIGHTA",QA:"UISELECT",rH:"UISELECTA",PA:"UILOCKED",qH:"UILOCKEDA",MA:"UIBORDER",nH:"UIBORDERA",gy:"BOUNDARY",ys:"BOUNDED",xA:"SELECT",yA:"SELECTED",Ip:"AUTOFIT",rt:"HISTORYFIT",
Ln:"HISTORYSTATES",Oo:"AGESTATES",em:"STEP",ou:"NOSTEPBACK",up:"T",ev:"PAUSE",$o:"GRID",Zo:"GRIDMAJOR",Zv:"TEXT",Xs:"ERROR",lt:"HELP",vu:"OFF",xu:"ON",qt:"HISTORY",Wt:"MARK1",Yt:"MARKOFF",Xt:"MARK2",Ct:"KILL",Yy:"GRAPHBG",Xy:"GRAPHAXIS",Wy:"GRAPHALIVE",Zy:"GRAPHBIRTH",$y:"GRAPHDEATH",nb:"COLOR",Fs:"COLOUR",Bk:"TILT",Dp:"VIEWONLY",nu:"NOGUI",mu:"NOCOPY",ew:"THUMBNAIL",bw:"THUMBSIZE",aw:"THUMBLAUNCH",cw:"THUMBSTART",Zs:"EXCLUSIVEPLAY",vt:"IGNOREEXCLUSIVE",Cj:"THEME",qA:"RAINBOW",Qq:"STARTFROM",Kp:"AUTOSTART",
Jp:"AUTOIDENTIFY",Mh:"LOOP",Sh:"STOP",lk:"ANGLE",Gl:"LAYERS",ll:"DEPTH",ul:"GPS",fe:"ZOOM",es:"Z",Ne:"X",Pe:"Y",Eo:"WIDTH",Kn:"HEIGHT",qp:"POPUPWIDTH",pp:"POPUPHEIGHT",dw:"THUMBZOOM",su:"NOTHROTTLE",Iv:"REVERSESTART",Dt:"KILLGLIDERS",Ny:"FASTLOOKUP",lo:"RECIPE",am:"RLE",Oi:"PASTE",lp:"PASTET",yu:"PASTEDELTA",Ro:"EVERY",Uu:"PASTEMODE",cv:"ZERO",Hu:"AND",Au:"0010",Yu:"X",Cu:"DIFF",av:"Y",Zu:"XOR",Tu:"OR",Mu:"NOR",Xu:"XNOR",Qu:"NOTY",Eu:"1011",Ou:"NOTX",Gu:"1101",Ku:"NAND",Su:"ONE",Iu:"COPY",sw:"IDENTITY",
pw:"FLIP",qw:"FLIPX",rw:"FLIPY",vw:"SWAPXY",ww:"SWAPXYFLIP",uw:"RCW",tw:"RCCW",dv:"XT",eA:"YT",Qd:"#"},Mb={yF:function(a,b,c){var d=!0,f=c.altKey,e=c.metaKey;if(c.ctrlKey||e||f)b=-1;switch(b){case 84:a.ng([!a.D.B],!0,a);break;case 27:xa.Tl=!1;a.D.fa(a.h);break;default:d=!1}return d},vF:function(a,b,c){var d=!0,f=c.altKey,e=c.metaKey;if(c.ctrlKey||e||f)b=-1;switch(b){case 84:a.ng([!a.D.B],!0,a);break;case 27:a.Pl(a,!0,!1);break;default:d=!1}return d},xF:function(a,b,c){var d=!0,f=c.metaKey,e=c.altKey;
if(c.ctrlKey||f||e)b=-1;switch(b){case 84:a.ng([!a.D.B],!0,a);break;case 27:case 117:a.ol(a);break;default:d=!1}return d},Ck:function(a,b){a.Bd===G.tg?a.Cc(b,a):a.Bd===b&&a.Cc(G.tg,a)},wF:function(a,b,c){var d=!0,f=c.metaKey,e=c.altKey;if(c.ctrlKey||f||e)b=-1;switch(b){case 84:a.ng([!a.D.B],!0,a);break;default:d=!1}return d},uF:function(a,b,c){var d=!0,f=c.shiftKey,e=c.ctrlKey,k=c.altKey;c.metaKey&&(e=!0);if(a.Ja)!a.yo&&85===b&&f&&(a.Ja=!a.Ja,a.h.G=a.Ja,a.D.ba=a.Ja);else{e&&!k&&37<=b&&40>=b&&(37===
b?b=33:38===b?b=36:39===b?b=34:40===b&&(b=35));if(k&&!e){if(48<=b&&57>=b)b-=48,a.uc||0===a.m.i.length?a.mb===b?a.qa?a.Ft(a,b):a.Sx(a):a.Vj.current=a.Ex(b,!0,a):(--b,0<=b&&b<a.m.i.length&&(a.Ac=b,a.br(a,a.Ac)));else switch(b){case 37:a.Qf(a,-1,0);break;case 38:a.Qf(a,0,-1);break;case 39:a.Qf(a,1,0);break;case 40:a.Qf(a,0,1);break;case 46:if(a.g.F||a.g.l)a.Ko(a,!0,!0),a.g.F?a.D.notification.notify("Cleared [R]History marked cells",15,120,15,!0):a.D.notification.notify("Cleared [R]Super marked cells",
15,120,15,!0);break;case 65:a.jh.current=a.Rr([!a.Sd],!0,a);a.D.notification.notify("Auto-Shrink Selection "+(a.Sd?"On":"Off"),15,40,15,!0);break;case 66:a.Mi.current=a.Cx([!a.g.Ta],!0,a);a.D.notification.notify("Cell Borders "+(a.g.Ta?"On":"Off"),15,40,15,!0);break;case 67:a.La||!a.pd||a.pd.locked||(a.Vf(a.$m,a.g.me,a),a.g.da||a.he||a.D.notification.notify(a.jn(a.g.pb)+" Theme",15,40,15,!0));break;case 68:a.g.Z&&2===a.g.La&&(a.ce.current=a.wx([!a.g.dd],!0,a),a.D.notification.notify("Alternating Gridlines "+
(a.g.dd?"On":"Off"),15,40,15,!0));break;case 71:a.g.F||-1===a.g.h?a.fC(a):a.g.l?a.D.notification.notify("Rule is already [R]Super",15,120,15,!0):a.D.notification.notify("Unsupported rule for [R]Super",15,120,15,!0);break;case 72:-1===a.g.h&&!a.g.F||a.g.l?a.$B(a):a.g.F?a.D.notification.notify("Rule is already [R]History",15,120,15,!0):a.D.notification.notify("Unsupported rule for [R]History",15,120,15,!0);break;case 73:a.sf.locked||(a.sf.current=a.Zr([!a.rd],!0,a),a.D.notification.notify("Icons "+
(a.rd?"On":"Off"),15,40,15,!0));break;case 74:a.g.F||a.g.l?a.cC(a):-1===a.g.h?a.D.notification.notify("Rule is already [R]Standard",15,120,15,!0):a.D.notification.notify("Unsupported rule for [R]Standard",15,120,15,!0);break;case 75:a.ez(a);break;case 76:0<a.m.A()&&(a.vf.current=a.Px([!a.$d],!0,a),a.D.notification.notify("Annotations "+(a.$d?"On":"Off"),15,40,15,!0));break;case 77:a.Xj.locked||a.Uz(a);break;case 78:a.Mx(a);break;case 79:a.Mb&&(a.hc=!a.hc,a.kh.current=[a.hc],a.D.notification.notify("AutoStart "+
(a.hc?"Off":"On"),15,40,15,!0));break;case 80:-1!==a.jc&&(a.Gb=!a.Gb,a.eg.current=[a.Gb],a.D.notification.notify("Stop "+(a.Gb?"Off":"On"),15,40,15,!0));break;case 82:a.gz(a);break;case 83:a.$j.current=a.Tr([!a.Wb],!0,a);a.D.notification.notify("Sync Clipboard "+(a.Wb?"On":"Off"),15,40,15,!0);break;case 84:a.gg.current=a.Jr([!a.Df],!0,a);a.D.notification.notify("Throttling "+(a.Df?"On":"Off"),15,40,15,!0);break;case 85:a.Hi.current=a.Ax([!a.jd],!0,a);a.D.notification.notify("AutoHide UI "+(a.jd?"On":
"Off"),15,80,15,!0);break;case 87:2<a.g.h||a.g.Ca||a.g.i||a.g.F||a.g.l||a.g.A||a.g.o||(a.xh.current=a.fs([!a.g.Xb],!0,a));break;case 88:a.Sw(a);break;case 89:a.Vw(a);break;case 90:a.el.locked||a.al(a,!1);break;case 188:b=a.oa.current[0];b-=45;0>b&&(b+=360);a.oa.current=a.kg([b,b],!0,a);break;case 190:b=a.oa.current[0];b+=45;360<=b&&(b-=360);a.oa.current=a.kg([b,b],!0,a);break;case 191:a.bB(a)}b=-2}switch(b){case 191:f?a.g.ga?(a.Cd.current=a.Xr([!a.g.ta],!0,a),a.D.notification.notify("Hexagonal display uses "+
(a.g.ta?"Rectangles":"Hexagons"),15,120,15,!0)):a.g.W&&(a.Cd.current=a.Xr([!a.g.ta],!0,a),a.D.notification.notify("Triangular display uses "+(a.g.ta?"Rectangles":"Triangles"),15,120,15,!0)):a.Wa.locked||(b=a.Wa.current[0],.47<b&&.53>b?b=.46:(b-=.02,0>b&&(b=0)),a.Wa.current=a.Fj([b,b],!0,a));break;case 192:f?a.Wa.locked||(a.Wa.current=a.Fj([.5,0],!0,a)):a.Wa.locked||(b=a.Wa.current[0],.47<b&&.53>b?b=.54:(b+=.02,1<b&&(b=1)),a.Wa.current=a.Fj([b,b],!0,a));break;case 8:0!==a.s?a.Bd!==G.tg?a.Cc(G.tg,a):
(a.s=0,a.hd.current=a.ff([0!==a.s],!0,a),a.D.i=!0):a.da.current[0]?(a.Pj(a),a.D.i=!0):a.K||a.$b.m[1]||(b=a.M,a.M=1,a.$b.current=a.vd(G.Xn,!0,a),a.M=b);break;case 66:e?a.hA(a):f?(a.He.current=[!a.He.current[0]],a.D.i=!0):a.K||a.$b.m[1]||(b=a.M,a.M=1,a.$b.current=a.vd(G.Xn,!0,a),a.M=b);break;case 13:a.qa?a.jE(a):a.K||(a.$b.current===G.Li?a.$b.current=a.vd(G.Li,!0,a):a.Za&&a.D.ea||(a.$b.current=a.vd(G.Li,!0,a)));break;case 9:a.K||(a.Hb?a.$b.current=a.vd(G.ne,!0,a):f?(a.g.Z||a.g.i)&&null!==a.g.eb?a.$b.current=
a.vd(G.Xn,!0,a):0<a.g.counter&&(a.Vo(a.g.counter-a.M),a.Zm(a.g.counter-a.M+1)):(a.md=!0,a.T("")));break;case 32:a.K||(a.Hb?a.$b.current=a.vd(G.ne,!0,a):e||f?a.nr(a,f):(a.md=!0,a.gr=!0,a.T("")));break;case 87:f?(a.Wf.current=a.Dr([!a.Fd],!0,a),a.D.notification.notify("Performance Warning "+(a.Fd?"On":"Off"),15,40,15,!0)):a.cb?(a.Fc.current=a.Lr([a.Kb],!0,a),-1!==a.Lb?a.D.notification.notify("Track and Loop "+(a.Kb?"Off":"On"),15,40,15,!0):a.D.notification.notify("Track "+(a.Kb?"Off":"On"),15,40,15,
!0)):a.Aa&&(a.Fc.current=a.Lr([a.eb],!0,a),-1!==a.Lb?a.D.notification.notify("Waypoints and Loop "+(a.eb?"Off":"On"),15,40,15,!0):a.D.notification.notify("Waypoints "+(a.eb?"Off":"On"),15,40,15,!0));break;case 68:e?(a.sj.current=a.Hr([!a.Xf],!0,a),a.D.notification.notify("States Display "+(a.Xf?"On":"Off"),15,80,15,!0)):f?a.dB(a):"Oscillator"===a.qb&&null!==a.g.ke&&(a.Dd.current=2===a.Gd?a.hg(0,!0,a):a.hg(2,!0,a));break;case 69:f?(a.Wi.current=a.Vr([!a.Ad],!0,a),a.D.notification.notify("Using "+(a.Ad?
"saved":"standard")+" default speed",15,80,15,!0)):e?(a.nz(a),a.D.notification.notify("Default speed saved as "+a.Z*a.M+"gps",15,120,15,!0)):"Oscillator"===a.qb&&null!==a.g.ke&&(a.Dd.current=1===a.Gd?a.hg(0,!0,a):a.hg(1,!0,a));break;case 90:e?(k&&(a.fl.locked||a.al(a,!0)),f?a.hw(a):a.Pd.locked||a.nx(a)):f?(b=xa.FA(),0===b?a.D.notification.notify("No LifeViewers playing",15,100,15,!0):1<b&&a.D.notification.notify("Paused all LifeViewers",15,100,15,!0)):(b=xa.Xv(a),0<b&&(1<b?a.D.notification.notify("Paused "+
b+" other LifeViewers",15,100,15,!0):a.D.notification.notify("Paused "+b+" other LifeViewer",15,100,15,!0)));break;case 88:e?a.Wx(a,f,k):f?a.ld.locked||(a.ld.current=a.Rx([!a.g.pc],!0,a),0<a.g.La&&(a.D.notification.notify("Major Grid Lines "+(a.g.pc?"On":"Off"),15,40,15,!0),a.wt())):(a.g.Ba=!a.g.Ba,a.fd.current=a.Dj([a.g.Ba],!0,a),a.D.notification.notify("Grid Lines "+(a.g.Ba?"On":"Off"),15,40,15,!0));break;case 89:0!==a.s?this.Ck(a,G.bu):e?a.hw(a):a.Yb?a.D.notification.notify("Graph Disabled",15,
40,15,!0):f?(a.nd=!a.nd,a.mi.current=a.jx([a.nd],!0,a),a.D.notification.notify("Graph "+(a.nd?"Lines":"Points"),15,40,15,!0)):(a.Da=!a.Da,a.De.current=a.vn([a.Da],!0,a),a.D.notification.notify("Population Graph "+(a.Da?"On":"Off"),15,40,15,!0));break;case 75:0!==a.s?this.Ck(a,G.Bt):e?k?(a.Ko(a,!1,!1),b=a.Re,2<a.g.h&&!(a.g.da||a.g.i||a.g.o||a.g.l||a.g.A)&&0<b&&(b=a.g.h-b),a.g.o?a.D.notification.notify("Cleared state "+b+" cells",15,120,15,!0):a.D.notification.notify("Cleared "+a.sh(b)+" cells",15,
120,15,!0)):a.gl(a):f?(a.Cm(a,!0),a.D.notification.notify("Copied view to clipboard",15,180,15,!0)):(a.Cm(a,!1),a.D.notification.notify("Copied position to clipboard",15,180,15,!0));break;case 80:e?(a.Rk.current=a.lx([!a.ej],!0,a),a.D.notification.notify("Pause while drawing "+(a.ej?"On":"Off"),15,80,15,!0)):f?-1!==a.Lb&&(a.wa=!a.wa,a.xf.current=[a.wa],a.D.notification.notify("Loop "+(a.wa?"Off":"On"),15,40,15,!0)):a.La||a.Fa.locked||(a.Fa.current=.99>=a.Fa.current[0]?a.hf([a.Fa.current[0]+.01,a.Fa.current[1]],
!0,a):a.hf([1,a.Fa.current[1]],!0,a));break;case 76:e?a.ve.locked||(a.g.fd=!a.g.fd,a.D.notification.notify("Kill Gliders "+(a.g.fd?"On":"Off"),15,40,15,!0)):f?a.uD(a):a.La||a.Fa.locked||(a.Fa.current=.01<=a.Fa.current[0]?a.hf([a.Fa.current[0]-.01,a.Fa.current[1]],!0,a):a.hf([0,a.Fa.current[1]],!0,a));break;case 81:e?(a.Zk.current=a.Tx([!a.g.Ec],!0,a),a.D.notification.notify((a.g.Ec?"High":"Standard")+" Quality Rendering",15,80,15,!0)):!a.La&&!a.ab.locked&&a.ab.current[0]<G.hq&&(a.ab.current=a.hm([a.g.za+
1,a.ab.current[1]],!0,a));break;case 65:0!==a.s?this.Ck(a,G.ds):f?a.P&&a.Oj(a):e?a.ra.m[G.xk]||a.iA(a):!a.La&&!a.ab.locked&&a.ab.current[0]>G.pq&&(a.ab.current=a.hm([a.g.za-1,a.ab.current[1]],!0,a));break;case 82:f?xa.tA():a.$b.current=a.vd(G.ju,!0,a);break;case 83:0!==a.s?this.Ck(a,G.Lv):e?a.pl.locked||a.Iz(a):f?a.g.F&&(a.ad=!a.ad,a.D.notification.notify("AutoFit State 1 Mode "+(a.ad?"On":"Off"),15,40,15,!0)):(a.rj.current=a.Rw([!a.Dc],!0,a),a.D.notification.notify("Stars "+(a.Dc?"On":"Off"),15,
40,15,!0));break;case 78:0!==a.s?0<a.m.A()&&this.Ck(a,G.hs):f?a.K||a.ax(a):a.ie&&(a.ha?a.pr():(a.rr(),a.s&&(a.s=0)));break;case 86:e?a.ri.locked||a.tm(a,f,!1):f?(a.Gw(a),a.D.notification.notify("Saved camera position",15,100,15,!0)):a.Ta||a.dc.locked||(a.by(a),a.D.notification.notify("Restored camera position",15,100,15,!0),a.Hb||(a.ec=!0));break;case 221:a.Ta||a.dc.locked||(f?a.Lj(a.dc.current[0],Math.log(a.g.zoom*a.g.Ga*2/G.ob)/Math.log(G.Ib/G.ob)-a.dc.current[0]):a.Lj(a.dc.current[0],.01));break;
case 219:a.Ta||a.dc.locked||(f?a.Lj(a.dc.current[0],Math.log(a.g.zoom*a.g.Ga/2/G.ob)/Math.log(G.Ib/G.ob)-a.dc.current[0]):a.Lj(a.dc.current[0],-.01));break;case 53:case 101:e?f?a.g.i||a.vm(a,!0):a.Nd(5):f?a.vm(a,!1):a.oa.locked||(a.g.angle=0,a.oa.current=[a.g.angle,a.g.angle]);break;case 49:case 97:e?a.Nd(1):a.dc.locked||(f?(a.Mc(a,a.g.zoom*a.g.Ga,!0),a.D.notification.notify("Integer Zoom",15,40,15,!0)):a.Mc(a,1,!1));break;case 50:case 98:e?a.Nd(2):a.dc.locked||(f?a.Mc(a,.5,!1):a.Mc(a,2,!1));break;
case 51:case 99:e?a.Nd(3):a.dc.locked||(f?a.Mc(a,.03125,!1):a.Mc(a,32,!1));break;case 52:case 100:e?a.Nd(4):a.dc.locked||(f?a.Mc(a,.25,!1):a.Mc(a,4,!1));break;case 54:case 102:e?a.Nd(6):a.dc.locked||(f?a.Mc(a,.0625,!1):a.Mc(a,16,!1));break;case 55:e?a.Nd(7):a.Yb?a.D.notification.notify("Graph Disabled",15,40,15,!0):(0<a.Va&&(a.Va-=.05,0>a.Va&&(a.Va=0)),a.pi.current=a.yn([a.Va,a.Va],!1,a));break;case 56:case 104:e?a.Nd(8):a.dc.locked||(f?a.Mc(a,.125,!1):a.Mc(a,8,!1));break;case 57:e?a.Nd(9):a.Yb?a.D.notification.notify("Graph Disabled",
15,40,15,!0):(1>a.Va&&(a.Va+=.05,1<a.Va&&(a.Va=1)),a.pi.current=a.yn([a.Va,a.Va],!1,a));break;case 48:case 96:e?a.Nd(0):a.cc.current=a.vc([1,1],!0,a);break;case 173:case 189:case 109:e&&189===b?d=!1:a.K||(a.M>G.yg?f?a.M=G.yg:(--a.M,a.M<G.yg&&(a.M=G.yg)):a.Z>G.og&&(f?a.Z=G.og:(--a.Z,a.Z<G.og&&(a.Z=G.og))),a.cc.current=a.vc([a.ef(),1],!0,a));break;case 186:a.VB(a);break;case 61:case 187:case 107:e&&187===b?d=!1:a.K||(a.Z<G.Nc?f?a.Z=G.Nc:(a.Z+=1,a.Z>G.Nc&&(a.Z=G.Nc)):a.M<G.lg&&(f?a.M=G.lg:(a.M+=1,a.M>
G.lg&&(a.M=G.lg))),a.cc.current=a.vc([a.ef(),1],!0,a));break;case 188:f&&(a.P||a.qa)?a.Jy(a):a.oa.locked||(b=a.oa.current[0],b=f?b-90:b-1,0>b&&(b+=360),a.oa.current=a.kg([b,b],!0,a));break;case 190:f&&(a.P||a.qa)?a.My(a):a.oa.locked||(b=a.oa.current[0],b=f?b+90:b+1,360<=b&&(b-=360),a.oa.current=a.kg([b,b],!0,a));break;case 46:a.P?f?a.Hz(a):(a.fr(a,e),e&&(a.g.F||a.g.l)&&(a.g.F?a.D.notification.notify("Cleared [R]History cells",15,120,15,!0):a.D.notification.notify("Cleared [R]Super cells",15,120,15,
!0))):e&&(b=a.Ko(a,e,!1))&&(a.g.F?a.D.notification.notify("Cleared [R]History cells",15,120,15,!0):a.D.notification.notify("Cleared [R]Super cells",15,120,15,!0));break;case 74:e&&!f?a.oA(a):e&&f?d=!1:a.m.i.length?a.Ta||(f?a.Ux(a):a.Ox(a)):a.D.notification.notify("No POIs defined",15,80,15,!0);break;case 84:0===a.s||a.g.da||a.g.l||a.g.A||a.g.o?f?a.D.F=!a.D.F:a.Uh.current=a.ng([!a.D.B],!0,a):this.Ck(a,G.$v);break;case 85:f?!a.yo&&(a.Ja=!a.Ja,a.h.G=a.Ja,a.D.ba=a.Ja)&&(a.s=0,a.$=0):(a.g.Z||a.g.i)&&a.g.eb&&
a.dr(a);break;case 71:e?(a.bd=!a.bd,a.Gi.current=a.yx([a.bd],!0,a),a.D.notification.notify("Auto Grid Lines "+(a.bd?"On":"Off"),15,40,15,!0)):f?a.Dk&&(a.nj.current=a.Xx([!a.Ce],!0,a),a.D.notification.notify("Generation display "+(a.Ce?"Relative":"Absolute"),15,40,15,!0)):(a.Fn([!a.dg],!0,a),a.fb&&(a.fb.current=[a.dg],a.D.i=!0));break;case 70:e?a.P&&(a.lb(!0,!0,G.Uo),a.D.notification.notify("Fit Selection",15,80,15,!0)):f?a.de.locked||(a.fa=!a.fa,a.de.current=a.hx([a.fa],!0,a),a.D.notification.notify("AutoFit "+
(a.fa?"On":"Off"),15,40,15,!0)):a.pf.locked||(a.lb(!0,!0,G.Cf),a.D.notification.notify("Fit Pattern",15,80,15,!0),a.Hb||(a.ec=!0));break;case 79:e?f?a.Qx(a):a.Fx(a):a.Zd=f?2:1;break;case 37:f?a.yf(a.g.zoom,a.g.zoom):a.yf(a.g.zoom,0);break;case 38:a.s?a.Tm(a,1):a.$?a.Pm(a,1):f?a.yf(-a.g.zoom,a.g.zoom):a.yf(0,a.g.zoom);break;case 39:f?a.yf(-a.g.zoom,-a.g.zoom):a.yf(-a.g.zoom,0);break;case 40:a.s?a.Rm(a,1):a.$?a.Nm(a,1):f?a.yf(a.g.zoom,-a.g.zoom):a.yf(0,-a.g.zoom);break;case 77:e?(a.lb(!0,!0,G.bt),a.D.notification.notify("Center Pattern",
15,80,15,!0)):f?a.BD(a):!a.da||a.da.G||a.da.locked||(a.da.current=a.gf([!a.da.current[0]],!0,a),a.D.i=!0);break;case 67:e?a.Lo(a,f,k):0!==a.s?this.Ck(a,G.Gs):a.La||!a.pd||a.pd.locked||(f?(b=a.g.pb-1,0>b&&(b=a.ua||a.Hf?a.g.ib:a.g.ib-1)):(b=a.g.pb+1,a.ua||a.Hf?b>=a.g.ib+1&&(b=0):b>=a.g.ib&&(b=0)),a.Vf(b,a.g.me,a),a.g.da||a.he||a.D.notification.notify(a.jn(a.g.pb)+" Theme",15,40,15,!0));break;case 72:f?(a.$h.current=a.Kx([!a.kd],!0,a),a.D.notification.notify("AutoFit History Mode "+(a.kd?"On":"Off"),
15,40,15,!0)):(a.Tb.length?a.s=a.s?0:1:a.s?a.s=0:a.ha||(a.s=1),a.hd.current=a.ff([0!==a.s],!0,a),a.D.i=!0);break;case 73:e&&f?d=!1:e?a.mx(a):f?a.gi.current=a.Nx([!a.Ia],!0,a):(a.s?this.Ck(a,G.eq):a.ha||a.Cc(G.eq,a),a.hd.current=a.ff([0!==a.s],!0,a),a.D.i=!0);break;case 27:a.td?a.Tb.length?(a.Tb=[],a.$=0):a.qa?a.Do(a):a.Vd?a.Uc.current=a.je([!1],!0,a):a.Rb?a.Cr(a):-1!==a.Fb?a.Pl(a,!0,!1):Sb():a.s?a.s=0:a.Tb.length?(a.Tb=[],a.$=0):a.qa?a.Do(a):a.Vd?a.Uc.current=a.je([!1],!0,a):a.Rb?a.Cr(a):-1!==a.Fb?
a.Pl(a,!0,!1):a.Hb&&(a.$b.current=a.vd(G.ne,!0,a));a.hd.current=a.ff([0!==a.s],!0,a);a.D.i=!0;break;case 33:a.s?f?a.fF(a):a.Tm(a,a.Ba):a.$?a.Pm(a,a.Ba):Ca.kb?(--a.Na,0>a.Na&&(a.Na=xa.se.length-1),a.oh(xa.se[a.Na].pattern,!1)):a.kx(a);break;case 34:a.s?f?a.iB(a):a.Rm(a,a.Ba):a.$?a.Nm(a,a.Ba):Ca.kb?(a.Na+=1,a.Na>=xa.se.length&&(a.Na=0),a.oh(xa.se[a.Na].pattern,!1)):a.ix(a);break;case 36:a.s?a.s=1:a.$?a.$=1:Ca.kb?a.Jx(a):a.aC(a);break;case 35:a.s?a.s=a.oi-a.Ba:a.$?a.$=a.Tb.length-a.Ba:Ca.kb||a.XB(a);
break;case 112:a.K||(a.Za=!a.Za,a.ra.current=a.le(a.Za?G.wk:G.Ph,!0,a),a.D.notification.notify((a.Za?"Draw":"Pan")+" Mode",15,40,15,!0));break;case 113:f?(a.qj.current=a.Fr([!a.Bh],!0,a),a.D.notification.notify("Smart Drawing "+(a.Bh?"On":"Off"),15,40,15,!0)):a.ra.current=a.le(G.wk,!0,a);break;case 114:f?a.Xb.current=a.dm([!a.Xb.current[0],a.Xb.current[1],a.Xb.current[2]],!0,a):a.K||(a.ra.current=a.le(G.wk,!0,a),a.Vd||(a.Uc.current=a.je([!0],!0,a)));break;case 115:f?a.Xb.current=a.dm([a.Xb.current[0],
!a.Xb.current[1],a.Xb.current[2]],!0,a):a.ra.m[G.xk]||(a.ra.current=a.le(G.xk,!0,a));break;case 116:f?a.Xb.current=a.dm([a.Xb.current[0],a.Xb.current[1],!a.Xb.current[2]],!0,a):a.ra.current=a.le(G.Ph,!0,a);break;case 117:a.ai.locked||(f?a.aB(a):a.ol(a));break;case 118:a.rh.locked||(a.rh.current=a.Ix([!a.g.cc],!0,a),a.D.notification.notify("Fast Lookup "+(a.g.cc?"On":"Off"),15,40,15,!0));break;case 119:a.Fl.locked||(a.Fl.current=a.$x([!a.cg],!0,a),a.D.notification.notify("State Numbers "+(a.cg?"On":
"Off"),15,40,15,!0));break;case 120:a.Hj.locked||(a.Hj.current=a.ey([!a.me],!0,a),a.D.notification.notify("Y Direction "+(a.me?"Up":"Down"),15,40,15,!0));break;case 45:a.pj=!0;break;case 122:d=!1;break;default:if(-1===b||116===b)d=!1}}return d}}}());
